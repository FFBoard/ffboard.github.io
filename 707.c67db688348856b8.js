(self.webpackChunkpages=self.webpackChunkpages||[]).push([[707],{7429:(ke,J,_)=>{"use strict";_.d(J,{d:()=>f});var y=_(5879),q=_(6223),A=_(1993),x=_(5661),e=_(336);let E=(()=>{var l;class s{constructor(){this.allowedProps={$ref:{validator:this.isString},anyOf:{validator:this.validateAnyOf},default:{validator:this.isNestedOfPrimitives},definitions:null,description:null,enum:{validator:this.validateEnum},items:{child:"allProps"},maximum:null,maxItems:null,maxLength:null,minimum:null,minItems:null,minLength:null,multipleOf:null,oneOf:{validator:this.validateOneOf},properties:null,required:{validator:this.validateRequired},title:null,type:{validator:this.isNestedOfPrimitives},uniqueItems:null,widget:{child:{formlyConfig:{child:{props:{child:{placeholder:{validator:this.isString},multiple:{validator:this.isBoolean},pattern:{validator:this.isString},type:{validator:function(t){return"hidden"===t}},minLength:{validator:this.isNumber},maxLength:{validator:this.isNumber},rows:{validator:this.isNumber},keepGroupsWithoutId:{validator:this.isBoolean},fieldsetTemplate:{validator:this.isBoolean},startDate:{child:{year:null,month:null,day:null}},endDate:{child:{year:null,month:null,day:null}},minDate:{child:{year:null,month:null,day:null}},maxDate:{child:{year:null,month:null,day:null}},selectDomain:{validator:this.isBoolean},resetButton:{validator:this.isBoolean}}},type:{validator:function(t){return"radio"===t}}}}}}},this.fieldListKeys=["properties","definitions"]}validateSchema(t){this.isObject(t)&&((!t.hasOwnProperty("type")||!t.hasOwnProperty("properties")||"object"!==t.type)&&(t.type="object",t.properties={}),this.validate(t))}validate(t,u){u||(u=this.allowedProps);for(const[c,g]of Object.entries(t)){var n,d;if(u.hasOwnProperty(c)){if(null!==(n=u[c])&&void 0!==n&&n.hasOwnProperty("validator"))u[c].validator.call(this,g)||delete t[c];else if(this.fieldListKeys.includes(c))for(const O of Object.keys(t[c]))this.validate(t[c][O]);else if(!this.isPrimitive(g)){if(null===(d=u[c])||void 0===d||!d.hasOwnProperty("child")||!this.isObject(g)){delete t[c];continue}this.validate(t[c],"allProps"===u[c].child?this.allowedProps:u[c].child)}}else delete t[c]}}isObject(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)}isPrimitive(t){return this.isString(t)||this.isNumber(t)||this.isBoolean(t)||null==t}isString(t){return"string"==typeof t}isBoolean(t){return"boolean"==typeof t}isNumber(t){return"number"==typeof t}validateRequired(t){if(!Array.isArray(t))return!1;for(const u of t)if(!this.isString(u))return!1;return!0}validateEnum(t){if(!Array.isArray(t))return!1;for(const u of t)if(!this.isString(u)&&!this.isNumber(u))return!1;return!0}validateOneOf(t){var u;if(Array.isArray(t)&&null!==(u=t[0])&&void 0!==u&&u.hasOwnProperty("const")){for(const n of t){if(!this.isObject(n))return!1;this.validate(n,{const:null,title:null})}return!0}return this.validateAnyOf(t)}validateAnyOf(t){if(!Array.isArray(t))return!1;for(const u of t){if(!this.isObject(u))return!1;this.validate(u)}return!0}isNestedOfPrimitives(t){if(this.isPrimitive(t))return!0;if(Array.isArray(t)||this.isObject(t)){for(const u of Object.values(t))if(!this.isNestedOfPrimitives(u))return!1;return!0}return!1}}return(l=s).\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),s})();var m=_(5545);const a=["app-custom-form",""],r=[[["","buttons",""]]],i=["[buttons]"];let f=(()=>{var l;class s{constructor(t,u,n,d){this.formlyJsonschema=t,this.customFormSchemaService=u,this.toastService=n,this.destroyRef=d,this.model={},this.validateSchema=!1,this.enableModelChangeEvent=!1,this.defaultModel={},this.showFieldValidationOnInit=!1,this.cancelEvent=new y.vpe,this.submitEvent=new y.vpe,this.validityChangeEvent=new y.vpe,this.modelChangeEvent=new y.vpe,this.form=new q.nJ({}),this.fields=[],this.options={},this.isFormCurrentlyValid=!0}ngAfterViewInit(){this.validityChangeEvent.emit(this.isFormCurrentlyValid=this.form.valid)}ngOnInit(){this.createFields(),this.form.statusChanges.pipe((0,A.sL)(this.destroyRef)).subscribe(t=>{this.form.valid!==this.isFormCurrentlyValid&&this.validityChangeEvent.emit(this.isFormCurrentlyValid=this.form.valid)})}ngOnChanges(t){t.schema&&!t.schema.firstChange&&this.createFields()}createFields(){this.customFormSchemaService.isObject(this.schema)||(this.schema={}),this.validateSchema&&this.customFormSchemaService.validateSchema(this.schema),this.fields=[this.formlyJsonschema.toFieldConfig(this.schema)],this.showFieldValidationOnInit&&this.showFieldValidation()}showFieldValidation(){this.cycleFields(this.fields)}showFieldValidationWithMessage(){this.showFieldValidation(),this.toastService.show({content:"Tutti i campi sono stati <strong>validati</strong>: quelli con errore sono evidenziati da un <strong>bordo rosso</strong>!"})}cycleFields(t){t.forEach(u=>{this.forceValidation(u),u.fieldGroup&&this.cycleFields(u.fieldGroup)})}forceValidation(t){t.validation||(t.validation={}),t.validation.show=!0}reset(){this.options.resetModel&&this.options.resetModel(this.defaultModel)}cancel(){this.cancelEvent.emit()}submit(){this.form.valid&&(this.log(),this.submitEvent.emit(this.model))}onModelChange(t){this.enableModelChangeEvent&&this.modelChangeEvent.emit(t||{})}log(){}}return(l=s).\u0275fac=function(t){return new(t||l)(y.Y36(e.c),y.Y36(E),y.Y36(x.k),y.Y36(y.ktI))},l.\u0275cmp=y.Xpm({type:l,selectors:[["","app-custom-form",""]],inputs:{schema:"schema",model:"model",validateSchema:"validateSchema",enableModelChangeEvent:"enableModelChangeEvent",defaultModel:"defaultModel",showFieldValidationOnInit:"showFieldValidationOnInit"},outputs:{cancelEvent:"cancelEvent",submitEvent:"submitEvent",validityChangeEvent:"validityChangeEvent",modelChangeEvent:"modelChangeEvent"},features:[y.TTD],attrs:a,ngContentSelectors:i,decls:3,vars:5,consts:[[3,"formGroup","ngSubmit"],[3,"model","fields","form","options","modelChange"]],template:function(t,u){1&t&&(y.F$t(r),y.TgZ(0,"form",0),y.NdJ("ngSubmit",function(){return u.submit()}),y.TgZ(1,"formly-form",1),y.NdJ("modelChange",function(d){return u.onModelChange(d)}),y.qZA(),y.Hsn(2),y.qZA()),2&t&&(y.Q6J("formGroup",u.form),y.xp6(1),y.Q6J("model",u.model)("fields",u.fields)("form",u.form)("options",u.options))},dependencies:[m.T7,q._Y,q.JL,q.sg]}),s})()},6908:(ke,J,_)=>{"use strict";_.d(J,{I:()=>Tn});var y=_(6814),q=_(7905),A=_(3912),x=_(5545),e=_(5879),E=_(8595);function m(b,Z){1&b&&e.GkF(0)}function a(b,Z){if(1&b&&(e.ynx(0),e._UZ(1,"div",13),e.TgZ(2,"div",14),e._uU(3," ("),e.YNc(4,m,1,0,"ng-container",15),e._uU(5,") "),e.qZA(),e.BQk()),2&b){const N=e.oxw(),S=e.MAs(15);e.xp6(1),e.Q6J("innerHTML",N.parsedTitle,e.oJD),e.xp6(3),e.Q6J("ngTemplateOutlet",S)}}function r(b,Z){1&b&&e.GkF(0)}function i(b,Z){if(1&b&&(e.TgZ(0,"div",16),e._uU(1," Lista di "),e.YNc(2,r,1,0,"ng-container",15),e.qZA()),2&b){e.oxw();const N=e.MAs(15);e.xp6(2),e.Q6J("ngTemplateOutlet",N)}}function f(b,Z){if(1&b&&e._UZ(0,"div",17),2&b){const N=e.oxw();e.Q6J("innerHTML",N.parsedDescription,e.oJD)}}const l=function(b){return{"mt-3":b}};function s(b,Z){if(1&b&&(e.TgZ(0,"div",18),e._UZ(1,"formly-validation-message",19),e.qZA()),2&b){const N=e.oxw();e.Q6J("ngClass",e.VKq(2,l,N.parsedDescription.length)),e.xp6(1),e.Q6J("field",N.field)}}function o(b,Z){if(1&b){const N=e.EpF();e.TgZ(0,"li")(1,"div",30),e.NdJ("click",function(){e.CHM(N);const L=e.oxw().index,U=e.oxw(2);return e.KtG(U.move(L,L-1))}),e._uU(2," arrow_circle_up "),e.qZA()()}2&b&&(e.xp6(1),e.Q6J("disableOnTouchDevice",!0))}const t=function(b){return{"ms-1":b}};function u(b,Z){if(1&b){const N=e.EpF();e.TgZ(0,"li",31)(1,"div",32),e.NdJ("click",function(){e.CHM(N);const L=e.oxw().index,U=e.oxw(2);return e.KtG(U.move(L,L+1))}),e._uU(2," arrow_circle_down "),e.qZA()()}if(2&b){const N=e.oxw().first;e.Q6J("ngClass",e.VKq(2,t,!N)),e.xp6(1),e.Q6J("disableOnTouchDevice",!0)}}function n(b,Z){if(1&b){const N=e.EpF();e.TgZ(0,"li",31)(1,"div",33),e.NdJ("click",function(){e.CHM(N);const L=e.oxw().index,U=e.oxw(2);return e.KtG(U.remove(L))}),e._uU(2," highlight_off "),e.qZA()()}if(2&b){const N=e.oxw();e.Q6J("ngClass",e.VKq(2,t,!(N.first&&N.last))),e.xp6(1),e.Q6J("disableOnTouchDevice",!0)}}const d=function(b){return{"mb-3":b}},c=function(b){return{"has-error":b}};function g(b,Z){if(1&b&&(e.TgZ(0,"li",22)(1,"fieldset",23)(2,"legend",24)(3,"div",25)(4,"div",26),e._uU(5),e.qZA(),e.TgZ(6,"ul",27),e.YNc(7,o,3,1,"li",28),e.YNc(8,u,3,4,"li",29),e.YNc(9,n,3,4,"li",29),e.qZA()()(),e._UZ(10,"formly-field",19),e.qZA()()),2&b){const N=Z.$implicit,S=Z.index,L=Z.first,U=Z.last;e.Q6J("ngClass",e.VKq(7,d,!U)),e.xp6(1),e.Q6J("ngClass",e.VKq(9,c,null==N.formControl?null:N.formControl.invalid)),e.xp6(4),e.hij("#",S+1,""),e.xp6(2),e.Q6J("ngIf",!L),e.xp6(1),e.Q6J("ngIf",!U),e.xp6(1),e.Q6J("ngIf",N.props&&!1!==N.props.removable),e.xp6(1),e.Q6J("field",N)}}function O(b,Z){if(1&b&&(e.TgZ(0,"ul",20),e.YNc(1,g,11,11,"li",21),e.qZA()),2&b){const N=e.oxw();e.xp6(1),e.Q6J("ngForOf",N.field.fieldGroup)}}const k=function(b){return{"d-none d-md-inline":b}};function v(b,Z){if(1&b&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e.TgZ(2,"span",31),e._uU(3),e.qZA()),2&b){const N=e.oxw();e.xp6(1),e.Oqu(N.field.fieldGroup?N.field.fieldGroup.length:0),e.xp6(1),e.Q6J("ngClass",e.VKq(3,k,N.props.label)),e.xp6(1),e.hij(" element",N.field.fieldGroup&&1===N.field.fieldGroup.length?"o":"i","")}}const p=function(){return[10,10]},h=function(b){return{placement:"top-end",offset:b}};let T=(()=>{var b;class Z extends x.hv{constructor(S){super(),this.customFormUtilsService=S,this.parsedTitle="",this.parsedDescription=""}ngOnInit(){this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):"",this.parsedTitle=this.props.label?this.customFormUtilsService.parseBBCode(this.props.label):""}get maxLengthExceeded(){return this.props.maxItems&&this.model&&this.model.length>=this.props.maxItems}move(S,L){const U=this.model[S];this.remove(S),this.add(L,U)}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(A.d6))},b.\u0275cmp=e.Xpm({type:b,selectors:[["formly-field-array"]],features:[e.qOj],decls:16,vars:14,consts:[[1,"rounded","px-3","pb-3","pt-2","mb-3","formly-fieldset",3,"ngClass"],[1,"legend-reset","pb-1","px-2","mb-0","mw-100"],[1,"d-flex","align-items-center","mw-100"],[4,"ngIf","ngIfElse"],["nolabel",""],["class","mb-2 text-justify",3,"innerHTML",4,"ngIf"],["class","alert alert-danger formly-field-array-error text-center","role","alert",3,"ngClass",4,"ngIf"],["class","list-unstyled mb-3",4,"ngIf"],[1,"d-flex","flex-row-reverse"],["appTippy","Hai aggiunto il numero massimo di elementi!",3,"disableInstance","tippyProps"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"disabled","click"],[1,"material-icons"],["itemscount",""],[1,"fs-lg","text-truncate","mw-100",3,"innerHTML"],[1,"ms-2","fs-reset","lh-1","fst-italic","list-counter","text-nowrap"],[4,"ngTemplateOutlet"],[1,"fs-xl","text-truncate","mw-10"],[1,"mb-2","text-justify",3,"innerHTML"],["role","alert",1,"alert","alert-danger","formly-field-array-error","text-center",3,"ngClass"],[3,"field"],[1,"list-unstyled","mb-3"],["class","item",3,"ngClass",4,"ngFor","ngForOf"],[1,"item",3,"ngClass"],[1,"rounded","formly-fieldset","dashed","show-success","px-3",3,"ngClass"],[1,"legend-reset","ms-auto","mb-0","px-2"],[1,"d-flex","align-items-center"],[1,"fs-xl","ms-1"],[1,"ms-2","mb-0","item-icons","list-unstyled","d-flex","align-items-center"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["appTippy","Sposta in alto",1,"d-block","material-icons","cursor-pointer",3,"disableOnTouchDevice","click"],[3,"ngClass"],["appTippy","Sposta in basso",1,"d-block","material-icons","cursor-pointer",3,"disableOnTouchDevice","click"],["appTippy","Rimuovi",1,"d-block","material-icons","cursor-pointer","text-danger",3,"disableOnTouchDevice","click"]],template:function(S,L){if(1&S&&(e.TgZ(0,"fieldset",0)(1,"legend",1)(2,"div",2),e.YNc(3,a,6,2,"ng-container",3),e.YNc(4,i,3,1,"ng-template",null,4,e.W1O),e.qZA()(),e.YNc(6,f,1,1,"div",5),e.YNc(7,s,2,4,"div",6),e.YNc(8,O,2,1,"ul",7),e.TgZ(9,"div",8)(10,"div",9)(11,"button",10),e.NdJ("click",function(){return!L.maxLengthExceeded&&L.add()}),e.TgZ(12,"span",11),e._uU(13,"add"),e.qZA()()()(),e.YNc(14,v,4,5,"ng-template",null,12,e.W1O),e.qZA()),2&S){const U=e.MAs(5);e.Q6J("ngClass",e.VKq(9,c,L.formControl.invalid)),e.xp6(3),e.Q6J("ngIf",L.parsedTitle)("ngIfElse",U),e.xp6(3),e.Q6J("ngIf",L.parsedDescription),e.xp6(1),e.Q6J("ngIf",L.showError&&L.formControl.errors),e.xp6(1),e.Q6J("ngIf",L.field.fieldGroup&&L.field.fieldGroup.length),e.xp6(2),e.Q6J("disableInstance",!L.maxLengthExceeded)("tippyProps",e.VKq(12,h,e.DdM(11,p))),e.xp6(1),e.Q6J("disabled",L.maxLengthExceeded)}},dependencies:[y.mk,y.sg,y.O5,y.tP,x.cw,x.M2,E.$],styles:["legend[_ngcontent-%COMP%]   .item-icons[_ngcontent-%COMP%]{padding-top:.1rem}"]}),Z})();var C=_(1413),F=_(4020),D=_(6223),V=_(91),W=_(2181),j=_(8180),I=_(5619);const w=["language","theme"],P=["editor"];let M=(()=>{class b{constructor(N,S){this.ngZone=N,this.monacoPathConfig=S,this.isMonacoLoaded$=new I.X(!1),this._monacoPath="assets/monaco-editor/min/vs",window.monacoEditorAlreadyInitialized?N.run(()=>this.isMonacoLoaded$.next(!0)):(window.monacoEditorAlreadyInitialized=!0,this.monacoPathConfig&&(this.monacoPath=this.monacoPathConfig),this.loadMonaco())}set monacoPath(N){N&&(this._monacoPath=N)}loadMonaco(){const N=()=>{let K=this._monacoPath;window.amdRequire=window.require;const ne=!!this.nodeRequire,oe=K.includes("http");ne&&(window.require=this.nodeRequire,oe||(K=window.require("path").resolve(window.__dirname,this._monacoPath))),window.amdRequire.config({paths:{vs:K}}),window.amdRequire(["vs/editor/editor.main"],()=>{this.ngZone.run(()=>this.isMonacoLoaded$.next(!0))},ae=>console.error("Error loading monaco-editor: ",ae))};if(window.amdRequire)return N();window.require&&(this.addElectronFixScripts(),this.nodeRequire=window.require);const U=document.createElement("script");U.type="text/javascript",U.src=`${this._monacoPath}/loader.js`,U.addEventListener("load",N),document.body.appendChild(U)}addElectronFixScripts(){const N=document.createElement("script"),S=document.createTextNode("self.module = undefined;"),L=document.createTextNode("self.process.browser = true;");N.appendChild(S),N.appendChild(L),document.body.appendChild(N)}}return b.\u0275fac=function(N){return new(N||b)(e.LFG(e.R0b),e.LFG("MONACO_PATH",8))},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})(),Q=(()=>{class b{constructor(N){this.monacoLoader=N,this.init=new e.vpe,this.onTouched=()=>{},this.onErrorStatusChange=()=>{},this.propagateChange=()=>{}}get model(){return this.editor&&this.editor.getModel()}get modelMarkers(){return this.model&&monaco.editor.getModelMarkers({resource:this.model.uri})}ngOnInit(){this.monacoLoader.isMonacoLoaded$.pipe((0,W.h)(N=>N),(0,j.q)(1)).subscribe(()=>{this.initEditor()})}ngOnChanges(N){if(this.editor&&N.options&&!N.options.firstChange){const S=N.options.currentValue,{language:L,theme:U}=S,K=(0,V.Z)(S,w),{language:ne,theme:oe}=N.options.previousValue;ne!==L&&monaco.editor.setModelLanguage(this.editor.getModel(),this.options&&this.options.language?this.options.language:"text"),oe!==U&&monaco.editor.setTheme(U),this.editor.updateOptions(K)}if(this.editor&&N.uri){const S=N.uri.currentValue,L=N.uri.previousValue;if(L&&!S||!L&&S||S&&L&&S.path!==L.path){const U=this.editor.getValue();let K;this.modelUriInstance&&this.modelUriInstance.dispose(),S&&(K=monaco.editor.getModels().find(ne=>ne.uri.path===S.path)),this.modelUriInstance=K||monaco.editor.createModel(U,this.options.language||"text",this.uri),this.editor.setModel(this.modelUriInstance)}}}writeValue(N){this.value=N,this.editor&&N?this.editor.setValue(N):this.editor&&this.editor.setValue("")}registerOnChange(N){this.propagateChange=N}registerOnTouched(N){this.onTouched=N}validate(){return this.parsedError?{monaco:{value:this.parsedError.split("|")}}:null}registerOnValidatorChange(N){this.onErrorStatusChange=N}initEditor(){const N={value:[this.value].join("\n"),language:"text",automaticLayout:!0,scrollBeyondLastLine:!1,theme:"vc"};this.editor=monaco.editor.create(this.editorContent.nativeElement,this.options?(0,C.Z)((0,C.Z)({},N),this.options):N),this.registerEditorListeners(),this.init.emit(this.editor)}registerEditorListeners(){this.editor.onDidChangeModelContent(()=>{this.propagateChange(this.editor.getValue())}),this.editor.onDidChangeModelDecorations(()=>{const N=this.modelMarkers.map(({message:L})=>L).join("|");this.parsedError!==N&&(this.parsedError=N,this.onErrorStatusChange())}),this.editor.onDidBlurEditorText(()=>{this.onTouched()})}ngOnDestroy(){this.editor&&this.editor.dispose()}}return b.\u0275fac=function(N){return new(N||b)(e.Y36(M))},b.\u0275cmp=e.Xpm({type:b,selectors:[["ngx-monaco-editor"]],viewQuery:function(N,S){if(1&N&&e.Gf(P,7),2&N){let L;e.iGM(L=e.CRH())&&(S.editorContent=L.first)}},inputs:{options:"options",uri:"uri"},outputs:{init:"init"},features:[e._Bn([{provide:D.JU,useExisting:(0,e.Gpc)(()=>b),multi:!0},{provide:D.Cf,useExisting:(0,e.Gpc)(()=>b),multi:!0}]),e.TTD],decls:4,vars:0,consts:[["fxFlex","",1,"editor-container"],["container",""],[1,"monaco-editor"],["editor",""]],template:function(N,S){1&N&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2,3),e.qZA())},styles:[".monaco-editor[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.editor-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:table;width:100%;height:100%;min-width:0}"],changeDetection:0}),b})(),X=(()=>{class b{}return b.\u0275fac=function(N){return new(N||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[[]]}),b})();function ie(b,Z){if(1&b&&(e.ynx(0),e.TgZ(1,"textarea",2),e._uU(2,"            "),e.qZA(),e.BQk()),2&b){const N=e.oxw();e.xp6(1),e.ekj("is-invalid",N.showError),e.Q6J("formControl",N.formControl)("cols",1)("rows",10)("formlyAttributes",N.field)}}function le(b,Z){1&b&&(e.ynx(0),e.TgZ(1,"p",4),e._UZ(2,"span",5),e.qZA(),e.BQk())}function se(b,Z){if(1&b&&e._UZ(0,"ngx-monaco-editor",6),2&b){const N=e.oxw(2);e.Udp("height",N.editorHeight),e.Q6J("options",N.editorOptions)("formControl",N.formControl)}}function de(b,Z){if(1&b&&(e.YNc(0,le,3,0,"ng-container",0),e.YNc(1,se,1,4,"ng-template",null,3,e.W1O)),2&b){const N=e.MAs(2),S=e.oxw();e.Q6J("ngIf",S.loading)("ngIfElse",N)}}let he=(()=>{var b;class Z extends x.fS{constructor(){super(...arguments),this.touchDevice=F.eX,this.editorOptions={theme:"vs-dark",language:"json"},this.loading=!0,this.editorHeight="350px"}ngOnInit(){this.touchDevice||(this.field.props.editorOptions&&(this.field.props.editorOptions.height&&(this.editorHeight=this.field.props.editorOptions.height,delete this.field.props.editorOptions.height),this.editorOptions=(0,C.Z)((0,C.Z)({},this.editorOptions),this.field.props.editorOptions)),this.loading=!1)}}return(b=Z).\u0275fac=function(){let N;return function(L){return(N||(N=e.n5z(b)))(L||b)}}(),b.\u0275cmp=e.Xpm({type:b,selectors:[["formly-code-editor-type"]],features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notTouchDevice",""],[1,"form-control",3,"formControl","cols","rows","formlyAttributes"],["codeEditor",""],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],[1,"d-block","formly-code-editor",3,"options","formControl"]],template:function(S,L){if(1&S&&(e.YNc(0,ie,3,6,"ng-container",0),e.YNc(1,de,3,2,"ng-template",null,1,e.W1O)),2&S){const U=e.MAs(2);e.Q6J("ngIf",L.touchDevice)("ngIfElse",U)}},dependencies:[y.O5,x.JD,D.Fj,D.JJ,D.oH,Q],encapsulation:2}),Z})();var me=_(5861),ve=_(8784);function G(b,Z){if(1&b){const N=e.EpF();e.ynx(0),e.TgZ(1,"div",4),e.NdJ("click",function(){e.CHM(N);const L=e.oxw();return e.KtG(L.formControl.setValue(void 0))}),e._uU(2,"highlight_off"),e.qZA(),e.BQk()}}function $(b,Z){1&b&&(e.ynx(0),e.TgZ(1,"p",5),e._UZ(2,"span",6),e.qZA(),e.BQk())}function te(b,Z){if(1&b&&e._UZ(0,"option",10),2&b){const N=Z.$implicit;e.Q6J("ngValue",N.id||N.name)("innerText",N.name)}}function re(b,Z){if(1&b&&(e.ynx(0),e.TgZ(1,"select",8),e.YNc(2,te,1,2,"option",9),e.qZA(),e.BQk()),2&b){const N=e.oxw(2);e.xp6(1),e.ekj("is-invalid",N.showError),e.Q6J("formControl",N.formControl)("formlyAttributes",N.field),e.xp6(1),e.Q6J("ngForOf",N.groupsList)}}function ee(b,Z){if(1&b&&e._UZ(0,"option",10),2&b){const N=Z.$implicit;e.Q6J("ngValue",N.id||N.name)("innerText",N.name)}}function ue(b,Z){if(1&b&&(e.TgZ(0,"select",11),e.YNc(1,ee,1,2,"option",9),e.qZA()),2&b){const N=e.oxw(2);e.ekj("is-invalid",N.showError),e.Q6J("formControl",N.formControl)("formlyAttributes",N.field),e.xp6(1),e.Q6J("ngForOf",N.groupsList)}}function fe(b,Z){if(1&b&&(e.YNc(0,re,3,5,"ng-container",2),e.YNc(1,ue,2,5,"ng-template",null,7,e.W1O)),2&b){const N=e.MAs(2),S=e.oxw();e.Q6J("ngIf",S.field.props.multiple)("ngIfElse",N)}}const ce=function(b){return{"no-label":b}};let _e=(()=>{var b;class Z extends x.fS{constructor(S,L){super(),this.forumService=S,this.changeDetectorRef=L,this.loading=!0,this.groupsList=[]}ngOnInit(){var S=this;return(0,me.Z)(function*(){S.field.defaultValue=void 0,S.field.props.hasOwnProperty("multiple")||(S.field.props.multiple=!0),S.groupsList=(yield S.forumService.getGroups()).sort((L,U)=>L.name.localeCompare(U.name)),S.field.props.keepGroupsWithoutId||(S.groupsList=S.groupsList.filter(L=>L.id>0)),S.loading=!1,S.field.formControl.updateValueAndValidity(),S.changeDetectorRef.detectChanges()})()}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(ve._),e.Y36(e.sBO))},b.\u0275cmp=e.Xpm({type:b,selectors:[["formly-field-forum-groups"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"position-relative","wrapper",3,"ngClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["formSelect",""],[1,"reset-icon","position-absolute","cursor-pointer","d-block","material-icons","text-danger",3,"click"],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],["single",""],["multiple","",1,"form-select",3,"formControl","formlyAttributes"],[3,"ngValue","innerText",4,"ngFor","ngForOf"],[3,"ngValue","innerText"],[1,"form-select",3,"formControl","formlyAttributes"]],template:function(S,L){if(1&S&&(e.TgZ(0,"div",0),e.YNc(1,G,3,0,"ng-container",1),e.YNc(2,$,3,0,"ng-container",2),e.YNc(3,fe,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&S){const U=e.MAs(4);e.Q6J("ngClass",e.VKq(4,ce,!L.props.label)),e.xp6(1),e.Q6J("ngIf",!L.props.label||void 0!==L.formControl.value),e.xp6(1),e.Q6J("ngIf",L.loading)("ngIfElse",U)}},dependencies:[y.mk,y.sg,y.O5,x.JD,D.YN,D.Kr,D.EJ,D.K7,D.JJ,D.oH],styles:[".reset-icon[_ngcontent-%COMP%]{right:0}.wrapper[_ngcontent-%COMP%]:not(.no-label)   .reset-icon[_ngcontent-%COMP%]{top:calc(-24px - .45rem)}.no-label[_ngcontent-%COMP%]{padding-top:calc(24px + .45rem)}.no-label[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{top:0}"]}),Z})();var Oe=_(1410),pe=_(8645);const Fe=[{value:A.ig.FORUMFREE,placeholder:"ForumFree"},{value:A.ig.FORUMCOMMUNITY,placeholder:"ForumCommunity"},{value:A.ig.BLOGFREE,placeholder:"BlogFree"}];function ye(b,Z){if(1&b&&e._UZ(0,"option",2),2&b){const N=Z.$implicit;e.Q6J("ngValue",N.value)("innerText",N.placeholder)}}let Ee=(()=>{var b;class Z{constructor(){this.model=A.ig.FORUMFREE,this.modelChange=new e.vpe,this.options=Fe}}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-domain-select"]],inputs:{model:"model"},outputs:{modelChange:"modelChange"},decls:2,vars:2,consts:[[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue","innerText",4,"ngFor","ngForOf"],[3,"ngValue","innerText"]],template:function(S,L){1&S&&(e.TgZ(0,"select",0),e.NdJ("ngModelChange",function(K){return L.model=K})("ngModelChange",function(K){return L.modelChange.emit(K)}),e.YNc(1,ye,1,2,"option",1),e.qZA()),2&S&&(e.Q6J("ngModel",L.model),e.xp6(1),e.Q6J("ngForOf",L.options))},dependencies:[y.sg,D.YN,D.Kr,D.EJ,D.JJ,D.On],encapsulation:2}),Z})();var De=_(7827),ze=_(9473),Qe=_(7357);function Ye(b,Z){1&b&&(e.TgZ(0,"div",4),e._UZ(1,"app-loader",5),e.qZA())}function Ge(b,Z){1&b&&e._UZ(0,"div",8),2&b&&e.Q6J("innerText","Nessun elemento inserito!")}function Ke(b,Z){if(1&b){const N=e.EpF();e.TgZ(0,"li")(1,"a",11)(2,"div",12),e.NdJ("click",function(L){const K=e.CHM(N).index,ne=e.oxw(3);return e.KtG(ne.remove(K,L))}),e.TgZ(3,"div",13),e._uU(4," remove "),e.qZA()(),e._UZ(5,"img",14),e.ALo(6,"uploadsreplace"),e.qZA(),e._UZ(7,"a",15),e.qZA()}if(2&b){const N=Z.$implicit,S=e.oxw(3);e.Gre("d-flex flex-column align-items-center item-",N.type,""),e.xp6(1),e.Q6J("href",N.link,e.LSH),e.xp6(1),e.Q6J("disableOnTouchDevice",!0),e.xp6(3),e.s9C("alt",N.title),e.Q6J("src",S.lazyImagePlaceholder,e.LSH)("lazyLoad",e.lcZ(6,12,N.image))("offset",100)("errorImage",S.defaultImage),e.xp6(2),e.Q6J("innerHTML",N.title,e.oJD)("href",N.link,e.LSH)}}function $e(b,Z){if(1&b&&(e.TgZ(0,"ul",9),e.YNc(1,Ke,8,14,"li",10),e.qZA()),2&b){const N=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",N.list)}}function We(b,Z){if(1&b&&(e.YNc(0,Ge,1,1,"div",6),e.YNc(1,$e,2,1,"ng-template",null,7,e.W1O)),2&b){const N=e.MAs(2),S=e.oxw();e.Q6J("ngIf",0===S.list.length)("ngIfElse",N)}}const Xe=function(b){return{"empty-list":b}};let et=(()=>{var b;class Z{constructor(){this.list=[],this.defaultImage="/assets/default_avatar.png",this.loading=!0,this.removeEvent=new e.vpe,this.lazyImagePlaceholder=F.vX}remove(S,L){L.preventDefault(),L.stopPropagation();const U=this.list[S].id;this.list.splice(S,1),this.list=[...this.list],this.removeEvent.emit(U)}}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-formly-typeahead-content"]],inputs:{list:"list",listTitle:"listTitle",defaultImage:"defaultImage",loading:"loading"},outputs:{removeEvent:"removeEvent"},decls:5,vars:6,consts:[[1,"formly-list-container","rounded","px-3","pt-2","mt-2",3,"ngClass"],[1,"legend-reset","fs-reset","mb-0","px-2","pb-1",3,"innerText"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center"],["message","Recupero dei dati"],["class","text-center mb-0 px-1 pb-1 fst-italic",3,"innerText",4,"ngIf","ngIfElse"],["noEmpty",""],[1,"text-center","mb-0","px-1","pb-1","fst-italic",3,"innerText"],[1,"formly-list","list-unstyled","mb-0","d-grid","px-2"],[3,"class",4,"ngFor","ngForOf"],["target","_blank",1,"preview","rounded-circle","d-block","position-relative",3,"href"],["appTippy","Rimuovi",1,"remove-btn","alert","alert-danger","position-absolute","cursor-pointer","mb-0","py-0","px-1",3,"disableOnTouchDevice","click"],[1,"material-icons","d-block","fs-reset"],[1,"d-block","image-cover","rounded-circle",3,"src","lazyLoad","offset","errorImage","alt"],["target","_blank",1,"d-block","fw-bold","mt-1","item-title","text-truncate","mw-100",3,"innerHTML","href"]],template:function(S,L){if(1&S&&(e.TgZ(0,"fieldset",0),e._UZ(1,"legend",1),e.YNc(2,Ye,2,0,"div",2),e.YNc(3,We,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&S){const U=e.MAs(4);e.Q6J("ngClass",e.VKq(4,Xe,0===L.list.length)),e.xp6(1),e.Q6J("innerText",L.listTitle),e.xp6(1),e.Q6J("ngIf",L.loading)("ngIfElse",U)}},dependencies:[y.mk,y.sg,y.O5,De.z1,ze.R,E.$,Qe.g],styles:[".formly-list-container[_ngcontent-%COMP%]{border:1px dashed var(--bs-gray-500)}.formly-list-container[_ngcontent-%COMP%]:not(.empty-list){padding-bottom:.75rem}.formly-list-container.empty-list[_ngcontent-%COMP%]{padding-bottom:1rem}.formly-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:1rem}.formly-list[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{top:0;left:-8px}.formly-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px;border:2px solid}.formly-list[_ngcontent-%COMP%]   .item-ff[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#58a72e}.formly-list[_ngcontent-%COMP%]   .item-ff[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#58a72e!important}.formly-list[_ngcontent-%COMP%]   .item-fc[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#0082cd}.formly-list[_ngcontent-%COMP%]   .item-fc[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#0082cd!important}.formly-list[_ngcontent-%COMP%]   .item-bf[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#e67f22}.formly-list[_ngcontent-%COMP%]   .item-bf[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#e67f22!important}@media (min-width: 960px){.formly-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(75px,1fr));gap:1.5rem}.formly-list[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{top:4px}.formly-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:75px;height:75px}}"]}),Z})();var tt=_(1378),Me=_(3620),rt=_(3997),it=_(3019),je=_(9397),ot=_(4664),lt=_(2096),at=_(1993),st=_(5661),Ne=_(8726);function ut(b,Z){1&b&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function ft(b,Z){if(1&b&&(e.TgZ(0,"legend",5)(1,"label",6),e._uU(2),e.YNc(3,ut,2,0,"span",7),e.qZA()()),2&b){const N=e.oxw();e.xp6(1),e.Q6J("for",N.field.id),e.xp6(1),e.hij(" ",N.props.label," "),e.xp6(1),e.Q6J("ngIf",N.props.required)}}function ct(b,Z){1&b&&e.GkF(0)}function dt(b,Z){1&b&&e.GkF(0)}function ht(b,Z){if(1&b&&e._UZ(0,"div",9),2&b){const N=e.oxw();e.Q6J("innerHTML",N.parsedDescription,e.oJD)}}function pt(b,Z){1&b&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"Loading..."),e.qZA()())}function mt(b,Z){1&b&&e.GkF(0)}function vt(b,Z){if(1&b&&(e.ynx(0),e.TgZ(1,"div",18),e.YNc(2,mt,1,0,"ng-container",2),e.qZA(),e.BQk()),2&b){const N=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",N.additionalInputsTemplate)}}function yt(b,Z){if(1&b&&(e.TgZ(0,"div",19),e._UZ(1,"formly-validation-message",20),e.qZA()),2&b){const N=e.oxw(2);e.Udp("display","block"),e.xp6(1),e.Q6J("field",N.field)}}function gt(b,Z){if(1&b){const N=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"input",12),e.NdJ("ngModelChange",function(L){e.CHM(N);const U=e.oxw();return e.KtG(U.inputValue=L)})("selectItem",function(L){e.CHM(N);const U=e.oxw();return e.KtG(U.selectEntity(L))})("focus",function(L){e.CHM(N);const U=e.oxw();return e.KtG(U.focusSubject.next(L.target.value))}),e.qZA(),e.YNc(3,pt,3,0,"div",13),e.qZA(),e.YNc(4,vt,3,1,"ng-container",14),e.qZA(),e.YNc(5,yt,2,3,"div",15)}if(2&b){const N=e.oxw();e.xp6(2),e.ekj("is-invalid",N.showError),e.Q6J("ngModel",N.inputValue)("formlyAttributes",N.field)("ngbTypeahead",N.search)("editable",!1)("inputFormatter",N.inputFormatter)("resultFormatter",N.resultFormatter),e.xp6(1),e.Q6J("ngIf",N.searching),e.xp6(1),e.Q6J("ngIf",N.additionalInputsTemplate),e.xp6(1),e.Q6J("ngIf",N.showError)}}let bt=(()=>{var b;class Z{constructor(S,L,U,K){this.customFormUtilsService=S,this.changeDetectorRef=L,this.toastService=U,this.destroyRef=K,this.showError=!1,this.selectItemEvent=new e.vpe,this.populateListEvent=new e.vpe,this.inputValue="",this.inputFormatter=ne=>ne.name,this.focusSubject=new pe.x,this.searching=!1,this.formlyFieldValues=[],this.search=ne=>{const oe=ne.pipe((0,Me.b)(700),(0,rt.x)());return(0,it.T)(oe,this.focusSubject).pipe((0,je.b)(()=>this.setSearching(!0)),(0,ot.w)(ae=>ae.length<3?(0,lt.of)([]):this.searchFunction(ae)),(0,je.b)(()=>this.setSearching(!1)))}}ngOnInit(){this.formControl=this.field.formControl,this.props=this.field.props,this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):void 0,this.formlyFieldValues=Array.isArray(this.formControl.value)?this.formControl.value:Array.isArray(this.field.defaultValue)?this.field.defaultValue:[],this.populateListEvent.emit(this.formlyFieldValues),this.formControl.updateValueAndValidity(),this.removeItemObservable.pipe((0,at.sL)(this.destroyRef)).subscribe(S=>{const L=this.formlyFieldValues.indexOf(S);L>-1&&(this.formlyFieldValues.splice(L,1),this.formControl.setValue([...this.formlyFieldValues]))})}resultFormatter(S){return S.name.indexOf("&")>-1?function nt(b){const Z=document.createElement("TEXTAREA");return Z.innerHTML=b,Z.value}(S.name):S.name}setSearching(S){this.searching=S,this.changeDetectorRef.detectChanges()}selectEntity(S){const L=S.item;if(S.preventDefault(),this.formlyFieldValues.includes(L.id))return this.toastService.show({content:`L'elemento <strong>${L.name}</strong> \xe8 gi\xe0 stato aggiunto alla lista!`,level:tt.m.ERROR}),void(this.inputValue="");this.formlyFieldValues.push(L.id),this.selectItemEvent.emit(S.item),this.inputValue="",this.updateFieldValue()}updateFieldValue(){this.formControl.setValue([...this.formlyFieldValues])}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(A.d6),e.Y36(e.sBO),e.Y36(st.k),e.Y36(e.ktI))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-formly-typeahead"]],inputs:{field:"field",showError:"showError",removeItemObservable:"removeItemObservable",searchFunction:"searchFunction",resultsTemplate:"resultsTemplate",additionalInputsTemplate:"additionalInputsTemplate"},outputs:{selectItemEvent:"selectItemEvent",populateListEvent:"populateListEvent"},decls:7,vars:6,consts:[[1,"mb-3","rounded","px-3","pt-2","pb-3","formly-fieldset"],["class","legend-reset fs-reset mb-0 px-2 mw-100 lh-1 py-1",4,"ngIf"],[4,"ngTemplateOutlet"],["class","form-text text-muted",3,"innerHTML",4,"ngIf"],["typeaheadTemplate",""],[1,"legend-reset","fs-reset","mb-0","px-2","mw-100","lh-1","py-1"],[1,"form-label","mb-0","mw-100","text-truncate",3,"for"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[1,"form-text","text-muted",3,"innerHTML"],[1,"d-flex","flex-column","flex-sm-row"],[1,"position-relative","flex-grow-1"],["type","text","placeholder","Cerca...","container","body",1,"form-control",3,"ngModel","formlyAttributes","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelChange","selectItem","focus"],["class","spinner-border spinner-border-sm text-primary position-absolute","role","status",4,"ngIf"],[4,"ngIf"],["class","invalid-feedback",3,"display",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute"],[1,"visually-hidden"],[1,"ms-sm-3","mt-3","mt-sm-0"],[1,"invalid-feedback"],[3,"field"]],template:function(S,L){if(1&S&&(e.TgZ(0,"fieldset",0),e.YNc(1,ft,4,3,"legend",1),e.YNc(2,ct,1,0,"ng-container",2),e.YNc(3,dt,1,0,"ng-container",2),e.YNc(4,ht,1,1,"div",3),e.qZA(),e.YNc(5,gt,6,11,"ng-template",null,4,e.W1O)),2&S){const U=e.MAs(6);e.ekj("has-error",L.formControl.invalid),e.xp6(1),e.Q6J("ngIf",L.props.label),e.xp6(1),e.Q6J("ngTemplateOutlet",U),e.xp6(1),e.Q6J("ngTemplateOutlet",L.resultsTemplate),e.xp6(1),e.Q6J("ngIf",L.parsedDescription)}},dependencies:[y.O5,y.tP,x.JD,x.M2,D.Fj,D.JJ,D.On,Ne.dR],styles:[".spinner-border[_ngcontent-%COMP%]{top:calc(50% - 8px);right:10px}"],changeDetection:0}),Z})();function _t(b,Z){if(1&b){const N=e.EpF();e.TgZ(0,"app-formly-typeahead-content",3),e.NdJ("removeEvent",function(L){e.CHM(N);const U=e.oxw();return e.KtG(U.removeItemSubject.next(L))}),e.qZA()}if(2&b){const N=e.oxw();e.Q6J("listTitle",N.listTitle)("list",N.list)("loading",N.loading)("defaultImage",N.defaultThumb)}}function Ot(b,Z){if(1&b){const N=e.EpF();e.TgZ(0,"app-domain-select",4),e.NdJ("modelChange",function(L){e.CHM(N);const U=e.oxw();return e.KtG(U.selectedDomain=L)}),e.qZA()}if(2&b){const N=e.oxw();e.Q6J("model",N.selectedDomain)}}let Be=(()=>{var b;class Z{constructor(S,L){var K,U=this;this.globalsService=S,this.changeDetectorRef=L,this.showError=!1,this.listTitle="",this.defaultThumb="/assets/default_avatar.png",this.removeItemSubject=new pe.x,this.list=[],this.hasDomainSelect=!1,this.loading=!0,this.lastResults=[],this.search=function(){var ne=(0,me.Z)(function*(oe){return U.lastDomain===U.selectedDomain&&U.lastSearchedValueWithoutResult&&oe.startsWith(U.lastSearchedValueWithoutResult)?[]:(U.lastDomain=U.selectedDomain,U.lastResults=yield U.searchFunction(oe,(0,A.vV)(U.selectedDomain)),U.lastSearchedValueWithoutResult=U.lastResults.length?void 0:oe,U.lastResults.map(ge=>({id:ge.id,name:ge.title})))});return function(oe){return ne.apply(this,arguments)}}(),this.selectedDomain=this.lastDomain=(null===(K=this.globalsService.credentials)||void 0===K?void 0:K.site.domain)||A.ig.FORUMFREE}ngOnInit(){this.hasDomainSelect=!0===this.field.props.selectDomain}populateListEvent(S){var L=this;return(0,me.Z)(function*(){L.list=(yield L.populateFunction(S)).sort((U,K)=>U.title.localeCompare(K.title)),L.loading=!1,L.changeDetectorRef.detectChanges()})()}selectItemEvent(S){const L=this.lastResults.find(U=>U.id===S.id);L&&(this.list=[...this.list,this.createEntityFunction(L)])}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(Oe.d),e.Y36(e.sBO))},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-formly-forum-typeahead"]],inputs:{field:"field",showError:"showError",listTitle:"listTitle",defaultThumb:"defaultThumb",searchFunction:"searchFunction",populateFunction:"populateFunction",createEntityFunction:"createEntityFunction"},decls:5,vars:6,consts:[[3,"field","showError","removeItemObservable","searchFunction","resultsTemplate","additionalInputsTemplate","populateListEvent","selectItemEvent"],["contentList",""],["circuitSelect",""],[3,"listTitle","list","loading","defaultImage","removeEvent"],[3,"model","modelChange"]],template:function(S,L){if(1&S&&(e.TgZ(0,"app-formly-typeahead",0),e.NdJ("populateListEvent",function(K){return L.populateListEvent(K)})("selectItemEvent",function(K){return L.selectItemEvent(K)}),e.qZA(),e.YNc(1,_t,1,4,"ng-template",null,1,e.W1O),e.YNc(3,Ot,1,1,"ng-template",null,2,e.W1O)),2&S){const U=e.MAs(2),K=e.MAs(4);e.Q6J("field",L.field)("showError",L.showError)("removeItemObservable",L.removeItemSubject)("searchFunction",L.search)("resultsTemplate",U)("additionalInputsTemplate",L.hasDomainSelect?K:void 0)}},dependencies:[Ee,et,bt],encapsulation:2,changeDetection:0}),Z})(),Et=(()=>{var b;class Z extends x.fS{constructor(S){var L;super(),L=this,this.forumService=S,this.defaultThumb="/assets/default_forum.jpg",this.search=function(){var U=(0,me.Z)(function*(K,ne){const oe=(0,A.$t)(ne);return oe?(yield L.forumService.searchForumByName(K,ne)).map(ae=>({id:oe.shortdomain+ae.id,title:ae.domain,preview:ae.preview})):[]});return function(K,ne){return U.apply(this,arguments)}}(),this.populateList=function(){var U=(0,me.Z)(function*(K){const ne=yield L.forumService.getForumDetailsFromCids(K),oe=(0,A.tX)(K,ne.map(ae=>ae.cid));return[...ne.map(ae=>L.generateTypeaheadContentEntity(ae.cid,ae.domain,ae.preview)),...oe.map(ae=>L.generateTypeaheadContentEntity(ae,ae,L.defaultThumb,!0))]});return function(K){return U.apply(this,arguments)}}(),this.searchToTypeaheadContentEntity=U=>this.generateTypeaheadContentEntity(U.id,U.title,U.preview)}generateTypeaheadContentEntity(S,L,U,K=!1){const ne=(0,A.$t)(S);if(!ne)throw new Error(`Invalid cid ${S}!`);return{id:S,title:L,image:U,type:ne.shortdomain,link:"https://"+(K?`${ne.domain}/?cid=${ne.id}`:`${L}.${ne.domain}`)}}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(ve._))},b.\u0275cmp=e.Xpm({type:b,selectors:[["formly-field-forum-list"]],features:[e.qOj],decls:1,vars:6,consts:[["listTitle","Lista forum",3,"field","showError","defaultThumb","searchFunction","populateFunction","createEntityFunction"]],template:function(S,L){1&S&&e._UZ(0,"app-formly-forum-typeahead",0),2&S&&e.Q6J("field",L.field)("showError",L.showError)("defaultThumb",L.defaultThumb)("searchFunction",L.search)("populateFunction",L.populateList)("createEntityFunction",L.searchToTypeaheadContentEntity)},dependencies:[Be],encapsulation:2,changeDetection:0}),Z})();function Tt(b,Z){if(1&b){const N=e.EpF();e.ynx(0),e.TgZ(1,"div",4),e.NdJ("click",function(){e.CHM(N);const L=e.oxw();return e.KtG(L.formControl.setValue(void 0))}),e._uU(2,"highlight_off"),e.qZA(),e.BQk()}}function xt(b,Z){1&b&&(e.ynx(0),e.TgZ(1,"p",5),e._UZ(2,"span",6),e.qZA(),e.BQk())}function wt(b,Z){if(1&b&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&b){const N=Z.$implicit;e.xp6(1),e.Q6J("ngValue",N.id)("innerHTML"," - "+N.name,e.oJD)}}function At(b,Z){if(1&b&&(e.ynx(0),e.YNc(1,wt,2,2,"ng-container",9),e.BQk()),2&b){const N=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",N.subsections)}}function St(b,Z){if(1&b&&(e.ynx(0),e._UZ(1,"option",10),e.YNc(2,At,2,1,"ng-container",1),e.BQk()),2&b){const N=Z.$implicit;e.xp6(1),e.Q6J("ngValue",N.id)("innerHTML",N.name,e.oJD),e.xp6(1),e.Q6J("ngIf",N.subsections&&N.subsections.length)}}function kt(b,Z){if(1&b&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&b){const N=Z.$implicit;e.xp6(1),e.Q6J("ngValue",N)("innerHTML"," -- Sezione ristretta -- #"+N,e.oJD)}}function Nt(b,Z){if(1&b&&(e.ynx(0),e.YNc(1,kt,2,2,"ng-container",9),e.BQk()),2&b){const N=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",N.restrictedOrDeletedSections)}}function Ct(b,Z){if(1&b&&(e.ynx(0),e.TgZ(1,"select",8),e.YNc(2,St,3,3,"ng-container",9),e.YNc(3,Nt,2,1,"ng-container",1),e.qZA(),e.BQk()),2&b){const N=e.oxw(2);e.xp6(1),e.ekj("is-invalid",N.showError),e.Q6J("formControl",N.formControl)("formlyAttributes",N.field),e.xp6(1),e.Q6J("ngForOf",N.sectionsList),e.xp6(1),e.Q6J("ngIf",N.restrictedOrDeletedSections.length>0)}}function Ft(b,Z){if(1&b&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&b){const N=Z.$implicit;e.xp6(1),e.Q6J("ngValue",N.id)("innerHTML"," - "+N.name,e.oJD)}}function Mt(b,Z){if(1&b&&(e.ynx(0),e.YNc(1,Ft,2,2,"ng-container",9),e.BQk()),2&b){const N=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",N.subsections)}}function Lt(b,Z){if(1&b&&(e.ynx(0),e._UZ(1,"option",10),e.YNc(2,Mt,2,1,"ng-container",1),e.BQk()),2&b){const N=Z.$implicit;e.xp6(1),e.Q6J("ngValue",N.id)("innerHTML",N.name,e.oJD),e.xp6(1),e.Q6J("ngIf",N.subsections&&N.subsections.length)}}function Pt(b,Z){if(1&b&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&b){const N=Z.$implicit;e.xp6(1),e.Q6J("ngValue",N)("innerHTML"," -- Sezione ristretta -- #"+N,e.oJD)}}function qt(b,Z){if(1&b&&(e.ynx(0),e.YNc(1,Pt,2,2,"ng-container",9),e.BQk()),2&b){const N=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",N.restrictedOrDeletedSections)}}function It(b,Z){if(1&b&&(e.TgZ(0,"select",11),e.YNc(1,Lt,3,3,"ng-container",9),e.YNc(2,qt,2,1,"ng-container",1),e.qZA()),2&b){const N=e.oxw(2);e.ekj("is-invalid",N.showError),e.Q6J("formControl",N.formControl)("formlyAttributes",N.field),e.xp6(1),e.Q6J("ngForOf",N.sectionsList),e.xp6(1),e.Q6J("ngIf",N.restrictedOrDeletedSections.length>0)}}function Rt(b,Z){if(1&b&&(e.YNc(0,Ct,4,6,"ng-container",2),e.YNc(1,It,3,6,"ng-template",null,7,e.W1O)),2&b){const N=e.MAs(2),S=e.oxw();e.Q6J("ngIf",S.field.props.multiple)("ngIfElse",N)}}const Dt=function(b){return{"no-label":b}};let jt=(()=>{var b;class Z extends x.fS{constructor(S,L){super(),this.forumService=S,this.changeDetectorRef=L,this.loading=!0,this.sectionsList=[],this.restrictedOrDeletedSections=[]}ngOnInit(){var S=this;return(0,me.Z)(function*(){S.field.defaultValue=void 0,S.field.props.hasOwnProperty("multiple")||(S.field.props.multiple=!0),S.restrictedOrDeletedSections=Array.isArray(S.field.formControl.value)?[...S.field.formControl.value]:[];const L=yield S.forumService.getSections();S.sectionsList=L.map(U=>{const K=S.restrictedOrDeletedSections.indexOf(U.id);return K>-1&&S.restrictedOrDeletedSections.splice(K,1),(0,C.Z)((0,C.Z)({},U),{subsections:S.flattenSubsections(U)})}),S.loading=!1,S.field.formControl.updateValueAndValidity(),S.changeDetectorRef.detectChanges()})()}flattenSubsections(S){let L=[],U=-1;if(S.subsections&&S.subsections.length)for(const K of S.subsections)U=this.restrictedOrDeletedSections.indexOf(K.id),U>-1&&this.restrictedOrDeletedSections.splice(U,1),L.push(K),K.subsections&&(L=[...L,...this.flattenSubsections(K)]);return L}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(ve._),e.Y36(e.sBO))},b.\u0275cmp=e.Xpm({type:b,selectors:[["formly-field-forum-sections"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"position-relative","wrapper",3,"ngClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["formSelect",""],[1,"reset-icon","position-absolute","cursor-pointer","d-block","material-icons","text-danger",3,"click"],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],["single",""],["multiple","",1,"form-select",3,"formControl","formlyAttributes"],[4,"ngFor","ngForOf"],[3,"ngValue","innerHTML"],[1,"form-select",3,"formControl","formlyAttributes"]],template:function(S,L){if(1&S&&(e.TgZ(0,"div",0),e.YNc(1,Tt,3,0,"ng-container",1),e.YNc(2,xt,3,0,"ng-container",2),e.YNc(3,Rt,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&S){const U=e.MAs(4);e.Q6J("ngClass",e.VKq(4,Dt,!L.props.label)),e.xp6(1),e.Q6J("ngIf",!L.props.label||void 0!==L.formControl.value),e.xp6(1),e.Q6J("ngIf",L.loading)("ngIfElse",U)}},dependencies:[y.mk,y.sg,y.O5,x.JD,D.YN,D.Kr,D.EJ,D.K7,D.JJ,D.oH],styles:[".reset-icon[_ngcontent-%COMP%]{right:0}.wrapper[_ngcontent-%COMP%]:not(.no-label)   .reset-icon[_ngcontent-%COMP%]{top:calc(-24px - .45rem)}.no-label[_ngcontent-%COMP%]{padding-top:calc(24px + .45rem)}.no-label[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{top:0}"]}),Z})();var Bt=_(8418);let Zt=(()=>{var b;class Z extends x.fS{constructor(S){var L;super(),L=this,this.userService=S,this.defaultThumb="/assets/default_avatar.png",this.search=function(){var U=(0,me.Z)(function*(K,ne){return(yield L.userService.searchUserByName(K,ne)).map(oe=>({id:oe.uid,title:oe.nickname,preview:oe.avatar}))});return function(K,ne){return U.apply(this,arguments)}}(),this.populateList=function(){var U=(0,me.Z)(function*(K){const ne=yield L.userService.getDetailsFromUids(K),oe=(0,A.tX)(K,ne.map(ae=>ae.uid));return[...ne.map(ae=>L.generateTypeaheadContentEntity(ae.uid,ae.nickname,ae.avatar)),...oe.map(ae=>L.generateTypeaheadContentEntity(ae,ae,L.defaultThumb))]});return function(K){return U.apply(this,arguments)}}(),this.searchToTypeaheadContentEntity=U=>this.generateTypeaheadContentEntity(U.id,U.title,U.preview)}generateTypeaheadContentEntity(S,L,U){const K=S.substring(0,2),ne=(0,A.A)(K);if(!ne)throw new Error(`Invalid uid ${S}!`);return{id:S,title:L,image:U,type:K,link:`${ne}/?act=Profile&MID=${S.substring(2)}`}}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(Bt.K))},b.\u0275cmp=e.Xpm({type:b,selectors:[["formly-field-forum-users"]],features:[e.qOj],decls:1,vars:6,consts:[["listTitle","Lista utenti",3,"field","showError","defaultThumb","searchFunction","populateFunction","createEntityFunction"]],template:function(S,L){1&S&&e._UZ(0,"app-formly-forum-typeahead",0),2&S&&e.Q6J("field",L.field)("showError",L.showError)("defaultThumb",L.defaultThumb)("searchFunction",L.search)("populateFunction",L.populateList)("createEntityFunction",L.searchToTypeaheadContentEntity)},dependencies:[Be],encapsulation:2,changeDetection:0}),Z})(),Ut=(()=>{var b;class Z extends x.fS{constructor(){super(...arguments),this.defaultOptions={props:{label:""}}}}return(b=Z).\u0275fac=function(){let N;return function(L){return(N||(N=e.n5z(b)))(L||b)}}(),b.\u0275cmp=e.Xpm({type:b,selectors:[["formly-field-label"]],features:[e.qOj],decls:2,vars:1,template:function(S,L){1&S&&(e.TgZ(0,"h5"),e._uU(1),e.qZA()),2&S&&(e.xp6(1),e.Oqu(L.props.label))},encapsulation:2,changeDetection:0}),Z})();const Le={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},Pe=new e.OlP("config",{providedIn:"root",factory:()=>({modules:Le})});var qe=_(6593),Vt=_(4911),Ht=_(2664),Jt=_(4036),zt=_(7394),Ie=_(2438),Qt=_(7081),Ze=_(9769);function Yt(b,Z){1&b&&e._UZ(0,"pre",3)}function Gt(b,Z){if(1&b&&e.YNc(0,Yt,1,0,"pre",2),2&b){const N=e.oxw(),S=e.MAs(6);e.Q6J("ngIf",N.preserve)("ngIfElse",S)}}function Kt(b,Z){1&b&&e._UZ(0,"pre",3)}function $t(b,Z){if(1&b&&e.YNc(0,Kt,1,0,"pre",2),2&b){const N=e.oxw(),S=e.MAs(6);e.Q6J("ngIf",N.preserve)("ngIfElse",S)}}function Wt(b,Z){1&b&&e._UZ(0,"div",3)}const Xt=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],en=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function tn(b,Z){1&b&&e._UZ(0,"div",1)}function nn(b,Z){1&b&&e._UZ(0,"pre",1)}const Ae=(b,Z)=>b||Z||"html";let Re=(()=>{var b;class Z{constructor(S,L){var U=this;this.config=L,this.quill$=(0,Vt.P)((0,me.Z)(function*(){var K;if(!U.Quill){const ne=U.document.addEventListener;U.document.addEventListener=U.document.__zone_symbol__addEventListener||U.document.addEventListener;const oe=yield Promise.resolve().then(_.t.bind(_,7536,19));U.document.addEventListener=ne,U.Quill=oe.default?oe.default:oe}return null===(K=U.config.customOptions)||void 0===K||K.forEach(ne=>{const oe=U.Quill.import(ne.import);oe.whitelist=ne.whitelist,U.Quill.register(oe,!0,U.config.suppressGlobalRegisterWarning)}),yield U.registerCustomModules(U.Quill,U.config.customModules,U.config.suppressGlobalRegisterWarning)})).pipe((0,Qt.d)({bufferSize:1,refCount:!0})),this.document=S.get(y.K0),this.config||(this.config={modules:Le})}getQuill(){return this.quill$}registerCustomModules(S,L,U){return(0,me.Z)(function*(){if(Array.isArray(L))for(let{implementation:K,path:ne}of L)(0,Ht.b)(K)&&(K=yield(0,Jt.z)(K)),S.register(ne,K,U);return S})()}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.LFG(e.zs3),e.LFG(Pe,8))},b.\u0275prov=e.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),Z})(),rn=(()=>{var b;class Z{constructor(){this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onNativeFocus=new e.vpe,this.onNativeBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.elementRef=(0,e.f3M)(e.SBq),this.document=(0,e.f3M)(y.K0),this.cd=(0,e.f3M)(e.sBO),this.domSanitizer=(0,e.f3M)(qe.H7),this.platformId=(0,e.f3M)(e.Lbi),this.renderer=(0,e.f3M)(e.Qsj),this.zone=(0,e.f3M)(e.R0b),this.service=(0,e.f3M)(Re),this.valueGetter=(S,L)=>{let U=L.querySelector(".ql-editor").innerHTML;("<p><br></p>"===U||"<div><br></div>"===U)&&(U=this.defaultEmptyValue);let K=U;const ne=Ae(this.format,this.service.config.format);if("text"===ne)K=S.getText();else if("object"===ne)K=S.getContents();else if("json"===ne)try{K=JSON.stringify(S.getContents())}catch(oe){K=S.getText()}return K},this.valueSetter=(S,L)=>{const U=Ae(this.format,this.service.config.format);if("html"===U)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(L=this.domSanitizer.sanitize(e.q3G.HTML,L)),S.clipboard.convert(L);if("json"===U)try{return JSON.parse(L)}catch(K){return[{insert:L}]}return L},this.selectionChangeHandler=(S,L,U)=>{const K=this.trackChanges||this.service.config.trackChanges,ne=!S&&!!this.onModelTouched&&("user"===U||K&&"all"===K);!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!ne||this.zone.run(()=>{null===S?this.onBlur.emit({editor:this.quillEditor,source:U}):null===L&&this.onFocus.emit({editor:this.quillEditor,source:U}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:L,range:S,source:U}),ne&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(S,L,U)=>{const K=this.quillEditor.getText(),ne=this.quillEditor.getContents();let oe=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===oe||"<div><br></div>"===oe)&&(oe=this.defaultEmptyValue);const ae=this.trackChanges||this.service.config.trackChanges,ge=("user"===U||ae&&"all"===ae)&&!!this.onModelChange;!this.onContentChanged.observed&&!ge||this.zone.run(()=>{ge&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:ne,delta:S,editor:this.quillEditor,html:oe,oldDelta:L,source:U,text:K}),this.cd.markForCheck()})},this.editorChangeHandler=(S,L,U,K)=>{if(this.onEditorChanged.observed)if("text-change"===S){const ne=this.quillEditor.getText(),oe=this.quillEditor.getContents();let ae=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===ae||"<div><br></div>"===ae)&&(ae=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:oe,delta:L,editor:this.quillEditor,event:S,html:ae,oldDelta:U,source:K,text:ne}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:S,oldRange:U,range:L,source:K}),this.cd.markForCheck()})}}static normalizeClassNames(S){return S.trim().split(" ").reduce((U,K)=>{const ne=K.trim();return ne&&U.push(ne),U},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,y.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,Ze.z)(S=>{var L;const U=[this.service.registerCustomModules(S,this.customModules)],K=null!==(L=this.beforeRender)&&void 0!==L?L:this.service.config.beforeRender;return K&&U.push(K()),Promise.all(U).then(()=>S)})).subscribe(S=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const L=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),U=Object.assign({},this.modules||this.service.config.modules);L?U.toolbar=L:void 0===U.toolbar&&(U.toolbar=Le.toolbar);let K=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===K&&(K="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(be=>{this.renderer.setStyle(this.editorElem,be,this.styles[be])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(be=>{const xe=S.import(be.import);xe.whitelist=be.whitelist,S.register(xe,!0)});let ne=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;ne||(ne=this.service.config.bounds?this.service.config.bounds:this.document.body);let oe=this.debug;!oe&&!1!==oe&&this.service.config.debug&&(oe=this.service.config.debug);let ae=this.readOnly;!ae&&!1!==this.readOnly&&(ae=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let ge=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(ge=this.service.config.defaultEmptyValue);let we=this.scrollingContainer;!we&&null!==this.scrollingContainer&&(we=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let Te=this.formats;if(!Te&&void 0===Te&&(Te=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new S(this.editorElem,{bounds:ne,debug:oe,formats:Te,modules:U,placeholder:K,readOnly:ae,defaultEmptyValue:ge,scrollingContainer:we,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container.addEventListener("mousedown",Se=>Se.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder){var be,xe;const Se=null===(be=this.quillEditor)||void 0===be||null===(be=be.theme)||void 0===be?void 0:be.tooltip,Ce=null==Se||null===(xe=Se.root)||void 0===xe?void 0:xe.querySelector("input[data-link]");null!=Ce&&Ce.dataset&&(Ce.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===Ae(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const xe=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(xe,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var S;this.dispose(),null===(S=this.quillSubscription)||void 0===S||S.unsubscribe(),this.quillSubscription=null}ngOnChanges(S){if(this.quillEditor){if(S.readOnly&&this.quillEditor.enable(!S.readOnly.currentValue),S.placeholder&&(this.quillEditor.root.dataset.placeholder=S.placeholder.currentValue),S.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=S.defaultEmptyValue.currentValue),S.styles){const L=S.styles.currentValue,U=S.styles.previousValue;U&&Object.keys(U).forEach(K=>{this.renderer.removeStyle(this.editorElem,K)}),L&&Object.keys(L).forEach(K=>{this.renderer.setStyle(this.editorElem,K,this.styles[K])})}if(S.classes){const L=S.classes.currentValue,U=S.classes.previousValue;U&&this.removeClasses(U),L&&this.addClasses(L)}S.debounceTime&&this.addQuillEventListeners()}}addClasses(S){Z.normalizeClassNames(S).forEach(L=>{this.renderer.addClass(this.editorElem,L)})}removeClasses(S){Z.normalizeClassNames(S).forEach(L=>{this.renderer.removeClass(this.editorElem,L)})}writeValue(S){if(this.filterNull&&null===S||(this.content=S,!this.quillEditor))return;const L=Ae(this.format,this.service.config.format),U=this.valueSetter(this.quillEditor,S);if(this.compareValues){const K=this.quillEditor.getContents();if(JSON.stringify(K)===JSON.stringify(U))return}S?"text"===L?this.quillEditor.setText(S):this.quillEditor.setContents(U):this.quillEditor.setText("")}setDisabledState(S=this.disabled){this.disabled=S,this.quillEditor&&(S?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(S){this.onModelChange=S}registerOnTouched(S){this.onModelTouched=S}registerOnValidatorChange(S){this.onValidatorChanged=S}validate(){if(!this.quillEditor)return null;const S={};let L=!0;const U=this.quillEditor.getText(),K=this.trimOnValidation?U.trim().length:1===U.length&&0===U.trim().length?0:U.length-1,ne=this.quillEditor.getContents().ops,oe=ne&&1===ne.length&&["\n",""].includes(ne[0].insert);return this.minLength&&K&&K<this.minLength&&(S.minLengthError={given:K,minLength:this.minLength},L=!1),this.maxLength&&K>this.maxLength&&(S.maxLengthError={given:K,maxLength:this.maxLength},L=!1),this.required&&!K&&oe&&(S.requiredError={empty:!0},L=!1),L?null:S}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new zt.w0,this.subscription.add((0,Ie.R)(this.quillEditor,"selection-change").subscribe(([U,K,ne])=>{this.selectionChangeHandler(U,K,ne)}));let S=(0,Ie.R)(this.quillEditor,"text-change"),L=(0,Ie.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(S=S.pipe((0,Me.b)(this.debounceTime)),L=L.pipe((0,Me.b)(this.debounceTime))),this.subscription.add(S.subscribe(([U,K,ne])=>{this.textChangeHandler(U,K,ne)})),this.subscription.add(L.subscribe(([U,K,ne,oe])=>{this.editorChangeHandler(U,K,ne,oe)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275dir=e.lG2({type:b,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[e.TTD]}),Z})(),Ue=(()=>{var b;class Z extends rn{}return(b=Z).\u0275fac=function(){let N;return function(L){return(N||(N=e.n5z(b)))(L||b)}}(),b.\u0275cmp=e.Xpm({type:b,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:D.JU,useExisting:(0,e.Gpc)(()=>b)},{multi:!0,provide:D.Cf,useExisting:(0,e.Gpc)(()=>b)}]),e.qOj,e.jDz],ngContentSelectors:en,decls:7,vars:2,consts:[[3,"ngIf"],["noPreserveTpl",""],["quill-editor-element","",4,"ngIf","ngIfElse"],["quill-editor-element",""]],template:function(S,L){1&S&&(e.F$t(Xt),e.YNc(0,Gt,1,2,"ng-template",0),e.Hsn(1),e.Hsn(2,1),e.Hsn(3,2),e.YNc(4,$t,1,2,"ng-template",0),e.YNc(5,Wt,1,0,"ng-template",null,1,e.W1O)),2&S&&(e.Q6J("ngIf","top"!==L.toolbarPosition),e.xp6(4),e.Q6J("ngIf","top"===L.toolbarPosition))},dependencies:[y.ez,y.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),Z})(),on=(()=>{var b;class Z{constructor(S,L){this.sanitizer=S,this.service=L,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(S){if(S.theme?this.themeClass=`ql-${S.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),S.content){const L=S.content.currentValue,U=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=U?L:this.sanitizer.bypassSecurityTrustHtml(L)}}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(qe.H7),e.Y36(Re))},b.\u0275cmp=e.Xpm({type:b,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(S,L){1&S&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&S&&(e.Q6J("ngClass",L.themeClass),e.xp6(1),e.Q6J("innerHTML",L.innerHTML,e.oJD))},dependencies:[y.ez,y.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),Z})(),ln=(()=>{var b;class Z{constructor(S,L,U,K,ne,oe){this.elementRef=S,this.renderer=L,this.zone=U,this.service=K,this.domSanitizer=ne,this.platformId=oe,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new e.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(ae,ge)=>{const we=Ae(this.format,this.service.config.format);let Te=ge;if("text"===we)ae.setText(Te);else{if("html"===we)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(ge=this.domSanitizer.sanitize(e.q3G.HTML,ge)),Te=ae.clipboard.convert(ge);else if("json"===we)try{Te=JSON.parse(ge)}catch(be){Te=[{insert:ge}]}ae.setContents(Te)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(S){this.quillEditor&&S.content&&this.valueSetter(this.quillEditor,S.content.currentValue)}ngAfterViewInit(){(0,y.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,Ze.z)(S=>{var L;const U=[this.service.registerCustomModules(S,this.customModules)],K=null!==(L=this.beforeRender)&&void 0!==L?L:this.service.config.beforeRender;return K&&U.push(K()),Promise.all(U).then(()=>S)})).subscribe(S=>{const L=Object.assign({},this.modules||this.service.config.modules);L.toolbar=!1,this.customOptions.forEach(oe=>{const ae=S.import(oe.import);ae.whitelist=oe.whitelist,S.register(ae,!0)});let U=this.debug;!U&&!1!==U&&this.service.config.debug&&(U=this.service.config.debug);let K=this.formats;!K&&void 0===K&&(K=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const ne=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new S(this.editorElem,{debug:U,formats:K,modules:L,readOnly:!0,strict:this.strict,theme:ne})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var S;null===(S=this.quillSubscription)||void 0===S||S.unsubscribe(),this.quillSubscription=null}}return(b=Z).\u0275fac=function(S){return new(S||b)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Re),e.Y36(qe.H7),e.Y36(e.Lbi))},b.\u0275cmp=e.Xpm({type:b,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(S,L){1&S&&(e.YNc(0,tn,1,0,"div",0),e.YNc(1,nn,1,0,"pre",0)),2&S&&(e.Q6J("ngIf",!L.preserve),e.xp6(1),e.Q6J("ngIf",L.preserve))},dependencies:[y.ez,y.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),Z})(),an=(()=>{var b;class Z{static forRoot(S){return{ngModule:Z,providers:[{provide:Pe,useValue:S}]}}}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[Ue,ln,on]}),Z})();const Ve=["#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];function un(b,Z){const N=b.getSelection(!0);N&&(b.insertEmbed(N.index,"image",Z,"user"),b.setSelection(N.index+1,0))}function fn(b,Z){if(1&b&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&b){const N=Z.$implicit;e.uIk("value",N.const)("selected",void 0===N.const?"selected":void 0),e.xp6(1),e.Oqu(N.title||"")}}function cn(b,Z){if(1&b&&(e.TgZ(0,"select"),e.YNc(1,fn,2,3,"option",3),e.qZA()),2&b){const N=e.oxw().$implicit;e.Tol("ql-"+N.type),e.xp6(1),e.Q6J("ngForOf",N.values)}}function dn(b,Z){if(1&b&&e._UZ(0,"button"),2&b){const N=e.oxw().$implicit;e.Tol("ql-"+N.type),e.uIk("value",N.value)}}function hn(b,Z){if(1&b&&(e.ynx(0),e.YNc(1,cn,2,3,"select",4),e.YNc(2,dn,1,3,"ng-template",null,5,e.W1O),e.BQk()),2&b){const N=Z.$implicit,S=e.MAs(3);e.xp6(1),e.Q6J("ngIf",N.values)("ngIfElse",S)}}function pn(b,Z){if(1&b&&(e.TgZ(0,"span",1),e.YNc(1,hn,4,2,"ng-container",3),e.qZA()),2&b){const N=Z.$implicit;e.xp6(1),e.Q6J("ngForOf",N)}}_(7536);let mn=(()=>{var b;class Z{constructor(){this.itemGroups=function sn(){return[[{type:"bold"},{type:"italic"},{type:"underline"},{type:"strike"}],[{type:"blockquote"},{type:"code-block"}],[{type:"header",value:1},{type:"header",value:2}],[{type:"list",value:"ordered"},{type:"list",value:"bullet"}],[{type:"script",value:"sub"},{type:"script",value:"super"}],[{type:"header",values:[{const:1,title:"Titolo 1"},{const:2,title:"Titolo 2"},{const:3,title:"Titolo 3"},{const:4,title:"Titolo 4"},{const:5,title:"Titolo 5"},{const:6,title:"Titolo 6"},{const:void 0,title:"Normale"}]}],[{type:"color",values:[void 0,...Ve].map(b=>({const:b}))},{type:"background",values:[void 0,...Ve].map(b=>({const:b}))}],[{type:"align",values:[void 0,"center","right","justify"].map(b=>({const:b}))}],[{type:"clean"}]]}()}appendImages(S){for(const L of S)un(this.quill,L)}}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275cmp=e.Xpm({type:b,selectors:[["app-wysiwyg-toolbar"]],inputs:{quill:"quill"},decls:3,vars:1,consts:[["class","ql-formats",4,"ngFor","ngForOf"],[1,"ql-formats"],[1,"ql-link"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["btnTemplate",""]],template:function(S,L){1&S&&(e.YNc(0,pn,2,1,"span",0),e.TgZ(1,"span",1),e._UZ(2,"button",2),e.qZA()),2&S&&e.Q6J("ngForOf",L.itemGroups)},dependencies:[y.sg,y.O5,D.YN,D.Kr]}),Z})(),vn=(()=>{var b;class Z extends x.fS{}return(b=Z).\u0275fac=function(){let N;return function(L){return(N||(N=e.n5z(b)))(L||b)}}(),b.\u0275cmp=e.Xpm({type:b,selectors:[["formly-field-wysiwyg"]],features:[e.qOj],decls:3,vars:6,consts:[["linkPlaceholder","URL","bounds","self",1,"w-100",3,"formControl","formlyAttributes","placeholder","sanitize","debounceTime","onEditorCreated"],["quill-editor-toolbar",""],[3,"quill"]],template:function(S,L){1&S&&(e.TgZ(0,"quill-editor",0),e.NdJ("onEditorCreated",function(K){return L.quill=K}),e.TgZ(1,"div",1),e._UZ(2,"app-wysiwyg-toolbar",2),e.qZA()()),2&S&&(e.Q6J("formControl",L.formControl)("formlyAttributes",L.field)("placeholder",L.field.props.placeholder||"")("sanitize",!0)("debounceTime",300),e.xp6(2),e.Q6J("quill",L.quill))},dependencies:[x.JD,D.JJ,Ue,D.oH,mn]}),Z})(),yn=(()=>{var b;class Z{}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[y.ez,x.X0.forChild({types:[{name:"wysiwyg",component:vn,wrappers:["form-field"]}]}),D.u5,Ne.XC,an.forRoot(),D.UX]}),Z})(),gn=(()=>{var b;class Z{}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[y.ez,D.u5]}),Z})();var He=_(3038),Je=_(5063);let bn=(()=>{var b;class Z{}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[y.ez,De.mZ,q.q,He.G,Je.g]}),Z})(),_n=(()=>{var b;class Z{}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[y.ez,x.X0.forChild(),D.u5,Ne.ZS]}),Z})(),On=(()=>{var b;class Z{}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[y.ez,gn,x.X0.forChild(),D.u5,D.UX,bn,_n]}),Z})();var En=_(4295);let Tn=(()=>{var b;class Z{}return(b=Z).\u0275fac=function(S){return new(S||b)},b.\u0275mod=e.oAB({type:b}),b.\u0275inj=e.cJS({imports:[y.ez,q.Vy,q.d3,yn,On,x.X0.forChild({types:[{name:"array",component:T},{name:"code-editor",component:he,wrappers:["form-field"]},{name:"forum-groups",component:_e,wrappers:["form-field"]},{name:"forum-sections",component:jt,wrappers:["form-field"]},{name:"label",component:Ut},{name:"forum-users",component:Zt},{name:"forum-list",component:Et}]}),D.u5,En.$,q.q,X,Ne.ZS,He.G,Je.g]}),Z})()},7536:function(ke){typeof self<"u"&&self,ke.exports=function(J){var _={};function y(q){if(_[q])return _[q].exports;var A=_[q]={i:q,l:!1,exports:{}};return J[q].call(A.exports,A,A.exports,y),A.l=!0,A.exports}return y.m=J,y.c=_,y.d=function(q,A,x){y.o(q,A)||Object.defineProperty(q,A,{configurable:!1,enumerable:!0,get:x})},y.n=function(q){var A=q&&q.__esModule?function(){return q.default}:function(){return q};return y.d(A,"a",A),A},y.o=function(q,A){return Object.prototype.hasOwnProperty.call(q,A)},y.p="",y(y.s=109)}([function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=y(17),A=y(18),x=y(19),e=y(45),E=y(46),m=y(47),a=y(48),r=y(49),i=y(12),f=y(32),l=y(33),s=y(31),o=y(1);_.default={Scope:o.Scope,create:o.create,find:o.find,query:o.query,register:o.register,Container:q.default,Format:A.default,Leaf:x.default,Embed:a.default,Scroll:e.default,Block:m.default,Inline:E.default,Text:r.default,Attributor:{Attribute:i.default,Class:f.default,Style:l.default,Store:s.default}}},function(J,_,y){"use strict";var s,q=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var u in t)t.hasOwnProperty(u)&&(o[u]=t[u])},function(o,t){function u(){this.constructor=o}s(o,t),o.prototype=null===t?Object.create(t):(u.prototype=t.prototype,new u)});Object.defineProperty(_,"__esModule",{value:!0});var A=function(s){function o(t){var u=this;return(u=s.call(this,t="[Parchment] "+t)||this).message=t,u.name=u.constructor.name,u}return q(o,s),o}(Error);_.ParchmentError=A;var a,x={},e={},E={},m={};function f(s,o){var t;if(void 0===o&&(o=a.ANY),"string"==typeof s)t=m[s]||x[s];else if(s instanceof Text||s.nodeType===Node.TEXT_NODE)t=m.text;else if("number"==typeof s)s&a.LEVEL&a.BLOCK?t=m.block:s&a.LEVEL&a.INLINE&&(t=m.inline);else if(s instanceof HTMLElement){var u=(s.getAttribute("class")||"").split(/\s+/);for(var n in u)if(t=e[u[n]])break;t=t||E[s.tagName]}return null==t?null:o&a.LEVEL&t.scope&&o&a.TYPE&t.scope?t:null}_.DATA_KEY="__blot",function(s){s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY"}(a=_.Scope||(_.Scope={})),_.create=function r(s,o){var t=f(s);if(null==t)throw new A("Unable to create "+s+" blot");var u=t,n=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:u.create(o);return new u(n,o)},_.find=function i(s,o){return void 0===o&&(o=!1),null==s?null:null!=s[_.DATA_KEY]?s[_.DATA_KEY].blot:o?i(s.parentNode,o):null},_.query=f,_.register=function l(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(s.length>1)return s.map(function(n){return l(n)});var t=s[0];if("string"!=typeof t.blotName&&"string"!=typeof t.attrName)throw new A("Invalid definition");if("abstract"===t.blotName)throw new A("Cannot register abstract class");return m[t.blotName||t.attrName]=t,"string"==typeof t.keyName?x[t.keyName]=t:(null!=t.className&&(e[t.className]=t),null!=t.tagName&&(t.tagName=Array.isArray(t.tagName)?t.tagName.map(function(n){return n.toUpperCase()}):t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(function(n){(null==E[n]||null==t.className)&&(E[n]=t)}))),t}},function(J,_,y){var q=y(51),A=y(11),x=y(3),e=y(20),E=String.fromCharCode(0),m=function(a){this.ops=Array.isArray(a)?a:null!=a&&Array.isArray(a.ops)?a.ops:[]};m.prototype.insert=function(a,r){var i={};return 0===a.length?this:(i.insert=a,null!=r&&"object"==typeof r&&Object.keys(r).length>0&&(i.attributes=r),this.push(i))},m.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},m.prototype.retain=function(a,r){if(a<=0)return this;var i={retain:a};return null!=r&&"object"==typeof r&&Object.keys(r).length>0&&(i.attributes=r),this.push(i)},m.prototype.push=function(a){var r=this.ops.length,i=this.ops[r-1];if(a=x(!0,{},a),"object"==typeof i){if("number"==typeof a.delete&&"number"==typeof i.delete)return this.ops[r-1]={delete:i.delete+a.delete},this;if("number"==typeof i.delete&&null!=a.insert&&"object"!=typeof(i=this.ops[(r-=1)-1]))return this.ops.unshift(a),this;if(A(a.attributes,i.attributes)){if("string"==typeof a.insert&&"string"==typeof i.insert)return this.ops[r-1]={insert:i.insert+a.insert},"object"==typeof a.attributes&&(this.ops[r-1].attributes=a.attributes),this;if("number"==typeof a.retain&&"number"==typeof i.retain)return this.ops[r-1]={retain:i.retain+a.retain},"object"==typeof a.attributes&&(this.ops[r-1].attributes=a.attributes),this}}return r===this.ops.length?this.ops.push(a):this.ops.splice(r,0,a),this},m.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},m.prototype.filter=function(a){return this.ops.filter(a)},m.prototype.forEach=function(a){this.ops.forEach(a)},m.prototype.map=function(a){return this.ops.map(a)},m.prototype.partition=function(a){var r=[],i=[];return this.forEach(function(f){(a(f)?r:i).push(f)}),[r,i]},m.prototype.reduce=function(a,r){return this.ops.reduce(a,r)},m.prototype.changeLength=function(){return this.reduce(function(a,r){return r.insert?a+e.length(r):r.delete?a-r.delete:a},0)},m.prototype.length=function(){return this.reduce(function(a,r){return a+e.length(r)},0)},m.prototype.slice=function(a,r){a=a||0,"number"!=typeof r&&(r=1/0);for(var i=[],f=e.iterator(this.ops),l=0;l<r&&f.hasNext();){var s;l<a?s=f.next(a-l):(s=f.next(r-l),i.push(s)),l+=e.length(s)}return new m(i)},m.prototype.compose=function(a){var r=e.iterator(this.ops),i=e.iterator(a.ops),f=[],l=i.peek();if(null!=l&&"number"==typeof l.retain&&null==l.attributes){for(var s=l.retain;"insert"===r.peekType()&&r.peekLength()<=s;)s-=r.peekLength(),f.push(r.next());l.retain-s>0&&i.next(l.retain-s)}for(var o=new m(f);r.hasNext()||i.hasNext();)if("insert"===i.peekType())o.push(i.next());else if("delete"===r.peekType())o.push(r.next());else{var t=Math.min(r.peekLength(),i.peekLength()),u=r.next(t),n=i.next(t);if("number"==typeof n.retain){var d={};"number"==typeof u.retain?d.retain=t:d.insert=u.insert;var c=e.attributes.compose(u.attributes,n.attributes,"number"==typeof u.retain);if(c&&(d.attributes=c),o.push(d),!i.hasNext()&&A(o.ops[o.ops.length-1],d)){var g=new m(r.rest());return o.concat(g).chop()}}else"number"==typeof n.delete&&"number"==typeof u.retain&&o.push(n)}return o.chop()},m.prototype.concat=function(a){var r=new m(this.ops.slice());return a.ops.length>0&&(r.push(a.ops[0]),r.ops=r.ops.concat(a.ops.slice(1))),r},m.prototype.diff=function(a,r){if(this.ops===a.ops)return new m;var i=[this,a].map(function(t){return t.map(function(u){if(null!=u.insert)return"string"==typeof u.insert?u.insert:E;throw new Error("diff() called "+(t===a?"on":"with")+" non-document")}).join("")}),f=new m,l=q(i[0],i[1],r),s=e.iterator(this.ops),o=e.iterator(a.ops);return l.forEach(function(t){for(var u=t[1].length;u>0;){var n=0;switch(t[0]){case q.INSERT:n=Math.min(o.peekLength(),u),f.push(o.next(n));break;case q.DELETE:n=Math.min(u,s.peekLength()),s.next(n),f.delete(n);break;case q.EQUAL:n=Math.min(s.peekLength(),o.peekLength(),u);var d=s.next(n),c=o.next(n);A(d.insert,c.insert)?f.retain(n,e.attributes.diff(d.attributes,c.attributes)):f.push(c).delete(n)}u-=n}}),f.chop()},m.prototype.eachLine=function(a,r){r=r||"\n";for(var i=e.iterator(this.ops),f=new m,l=0;i.hasNext();){if("insert"!==i.peekType())return;var s=i.peek(),o=e.length(s)-i.peekLength(),t="string"==typeof s.insert?s.insert.indexOf(r,o)-o:-1;if(t<0)f.push(i.next());else if(t>0)f.push(i.next(t));else{if(!1===a(f,i.next(1).attributes||{},l))return;l+=1,f=new m}}f.length()>0&&a(f,{},l)},m.prototype.transform=function(a,r){if(r=!!r,"number"==typeof a)return this.transformPosition(a,r);for(var i=e.iterator(this.ops),f=e.iterator(a.ops),l=new m;i.hasNext()||f.hasNext();)if("insert"!==i.peekType()||!r&&"insert"===f.peekType())if("insert"===f.peekType())l.push(f.next());else{var s=Math.min(i.peekLength(),f.peekLength()),o=i.next(s),t=f.next(s);if(o.delete)continue;t.delete?l.push(t):l.retain(s,e.attributes.transform(o.attributes,t.attributes,r))}else l.retain(e.length(i.next()));return l.chop()},m.prototype.transformPosition=function(a,r){r=!!r;for(var i=e.iterator(this.ops),f=0;i.hasNext()&&f<=a;){var l=i.peekLength(),s=i.peekType();i.next(),"delete"!==s?("insert"===s&&(f<a||!r)&&(a+=l),f+=l):a-=Math.min(l,a-f)}return a},J.exports=m},function(J,_){"use strict";var y=Object.prototype.hasOwnProperty,q=Object.prototype.toString,A=Object.defineProperty,x=Object.getOwnPropertyDescriptor,e=function(i){return"function"==typeof Array.isArray?Array.isArray(i):"[object Array]"===q.call(i)},E=function(i){if(!i||"[object Object]"!==q.call(i))return!1;var s,f=y.call(i,"constructor"),l=i.constructor&&i.constructor.prototype&&y.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!f&&!l)return!1;for(s in i);return typeof s>"u"||y.call(i,s)},m=function(i,f){A&&"__proto__"===f.name?A(i,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):i[f.name]=f.newValue},a=function(i,f){if("__proto__"===f){if(!y.call(i,f))return;if(x)return x(i,f).value}return i[f]};J.exports=function r(){var i,f,l,s,o,t,u=arguments[0],n=1,d=arguments.length,c=!1;for("boolean"==typeof u&&(c=u,u=arguments[1]||{},n=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});n<d;++n)if(null!=(i=arguments[n]))for(f in i)l=a(u,f),u!==(s=a(i,f))&&(c&&s&&(E(s)||(o=e(s)))?(o?(o=!1,t=l&&e(l)?l:[]):t=l&&E(l)?l:{},m(u,{name:f,newValue:r(c,t,s)})):typeof s<"u"&&m(u,{name:f,newValue:s}));return u}},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BlockEmbed=_.bubbleFormats=void 0;var q=function(){function p(h,T){for(var C=0;C<T.length;C++){var F=T[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}return function(h,T,C){return T&&p(h.prototype,T),C&&p(h,C),h}}(),A=function p(h,T,C){null===h&&(h=Function.prototype);var F=Object.getOwnPropertyDescriptor(h,T);if(void 0===F){var D=Object.getPrototypeOf(h);return null===D?void 0:p(D,T,C)}if("value"in F)return F.value;var V=F.get;return void 0===V?void 0:V.call(C)},e=u(y(3)),m=u(y(2)),r=u(y(0)),f=u(y(16)),s=u(y(6)),t=u(y(7));function u(p){return p&&p.__esModule?p:{default:p}}function n(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function d(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?p:h}function c(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var O=function(p){function h(){return n(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return c(h,p),q(h,[{key:"attach",value:function(){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"attach",this).call(this),this.attributes=new r.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new m.default).insert(this.value(),(0,e.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(C,F){var D=r.default.query(C,r.default.Scope.BLOCK_ATTRIBUTE);null!=D&&this.attributes.attribute(D,F)}},{key:"formatAt",value:function(C,F,D,V){this.format(D,V)}},{key:"insertAt",value:function(C,F,D){if("string"==typeof F&&F.endsWith("\n")){var V=r.default.create(k.blotName);this.parent.insertBefore(V,0===C?this:this.next),V.insertAt(0,F.slice(0,-1))}else A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,C,F,D)}}]),h}(r.default.Embed);O.scope=r.default.Scope.BLOCK_BLOT;var k=function(p){function h(T){n(this,h);var C=d(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,T));return C.cache={},C}return c(h,p),q(h,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(r.default.Leaf).reduce(function(C,F){return 0===F.length()?C:C.insert(F.value(),v(F))},new m.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(C,F){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"deleteAt",this).call(this,C,F),this.cache={}}},{key:"formatAt",value:function(C,F,D,V){F<=0||(r.default.query(D,r.default.Scope.BLOCK)?C+F===this.length()&&this.format(D,V):A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,C,Math.min(F,this.length()-C-1),D,V),this.cache={})}},{key:"insertAt",value:function(C,F,D){if(null!=D)return A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,C,F,D);if(0!==F.length){var V=F.split("\n"),W=V.shift();W.length>0&&(C<this.length()-1||null==this.children.tail?A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,Math.min(C,this.length()-1),W):this.children.tail.insertAt(this.children.tail.length(),W),this.cache={});var j=this;V.reduce(function(I,w){return(j=j.split(I,!0)).insertAt(0,w),w.length},C+W.length)}}},{key:"insertBefore",value:function(C,F){var D=this.children.head;A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,C,F),D instanceof f.default&&D.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(C,F){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"moveChildren",this).call(this,C,F),this.cache={}}},{key:"optimize",value:function(C){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,C),this.cache={}}},{key:"path",value:function(C){return A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"path",this).call(this,C,!0)}},{key:"removeChild",value:function(C){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"removeChild",this).call(this,C),this.cache={}}},{key:"split",value:function(C){var F=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(F&&(0===C||C>=this.length()-1)){var D=this.clone();return 0===C?(this.parent.insertBefore(D,this),this):(this.parent.insertBefore(D,this.next),D)}var V=A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"split",this).call(this,C,F);return this.cache={},V}}]),h}(r.default.Block);function v(p){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==p||("function"==typeof p.formats&&(h=(0,e.default)(h,p.formats())),null==p.parent||"scroll"==p.parent.blotName||p.parent.statics.scope!==p.statics.scope)?h:v(p.parent,h)}k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[s.default,r.default.Embed,t.default],_.bubbleFormats=v,_.BlockEmbed=O,_.default=k},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.overload=_.expandConfig=void 0;var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},A=function(I,w){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function j(I,w){var P=[],R=!0,z=!1,H=void 0;try{for(var B,M=I[Symbol.iterator]();!(R=(B=M.next()).done)&&(P.push(B.value),!w||P.length!==w);R=!0);}catch(Q){z=!0,H=Q}finally{try{!R&&M.return&&M.return()}finally{if(z)throw H}}return P}(I,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=function(){function j(I,w){for(var P=0;P<w.length;P++){var R=w[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,w,P){return w&&j(I.prototype,w),P&&j(I,P),I}}();y(50);var E=v(y(2)),a=v(y(14)),i=v(y(8)),l=v(y(9)),o=v(y(0)),t=y(15),u=v(t),d=v(y(3)),g=v(y(10)),k=v(y(34));function v(j){return j&&j.__esModule?j:{default:j}}function p(j,I,w){return I in j?Object.defineProperty(j,I,{value:w,enumerable:!0,configurable:!0,writable:!0}):j[I]=w,j}var T=(0,g.default)("quill"),C=function(){function j(I){var w=this,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function h(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}(this,j),this.options=F(I,P),this.container=this.options.container,null==this.container)return T.error("Invalid Quill container",I);this.options.debug&&j.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new i.default,this.scroll=o.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new u.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(i.default.events.EDITOR_CHANGE,function(H){H===i.default.events.TEXT_CHANGE&&w.root.classList.toggle("ql-blank",w.editor.isBlank())}),this.emitter.on(i.default.events.SCROLL_UPDATE,function(H,M){var B=w.selection.lastRange,Q=B&&0===B.length?B.index:void 0;D.call(w,function(){return w.editor.update(null,M,Q)},H)});var z=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+R+"<p><br></p></div>");this.setContents(z),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return x(j,null,[{key:"debug",value:function(w){!0===w&&(w="log"),g.default.level(w)}},{key:"find",value:function(w){return w.__quill||o.default.find(w)}},{key:"import",value:function(w){return null==this.imports[w]&&T.error("Cannot import "+w+". Are you sure it was registered?"),this.imports[w]}},{key:"register",value:function(w,P){var R=this,z=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof w){var H=w.attrName||w.blotName;"string"==typeof H?this.register("formats/"+H,w,P):Object.keys(w).forEach(function(M){R.register(M,w[M],P)})}else null!=this.imports[w]&&!z&&T.warn("Overwriting "+w+" with",P),this.imports[w]=P,(w.startsWith("blots/")||w.startsWith("formats/"))&&"abstract"!==P.blotName?o.default.register(P):w.startsWith("modules")&&"function"==typeof P.register&&P.register()}}]),x(j,[{key:"addContainer",value:function(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof w){var R=w;(w=document.createElement("div")).classList.add(R)}return this.container.insertBefore(w,P),w}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(w,P,R){var z=this,H=V(w,P,R),M=A(H,4);return D.call(this,function(){return z.editor.deleteText(w,P)},R=M[3],w=M[0],-1*(P=M[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var w=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(w),this.container.classList.toggle("ql-disabled",!w)}},{key:"focus",value:function(){var w=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=w,this.scrollIntoView()}},{key:"format",value:function(w,P){var R=this;return D.call(this,function(){var H=R.getSelection(!0),M=new E.default;if(null==H)return M;if(o.default.query(w,o.default.Scope.BLOCK))M=R.editor.formatLine(H.index,H.length,p({},w,P));else{if(0===H.length)return R.selection.format(w,P),M;M=R.editor.formatText(H.index,H.length,p({},w,P))}return R.setSelection(H,i.default.sources.SILENT),M},arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.sources.API)}},{key:"formatLine",value:function(w,P,R,z,H){var B,M=this,Q=V(w,P,R,z,H),Y=A(Q,4);return P=Y[1],B=Y[2],D.call(this,function(){return M.editor.formatLine(w,P,B)},H=Y[3],w=Y[0],0)}},{key:"formatText",value:function(w,P,R,z,H){var B,M=this,Q=V(w,P,R,z,H),Y=A(Q,4);return P=Y[1],B=Y[2],D.call(this,function(){return M.editor.formatText(w,P,B)},H=Y[3],w=Y[0],0)}},{key:"getBounds",value:function(w){var R;R="number"==typeof w?this.selection.getBounds(w,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(w.index,w.length);var z=this.container.getBoundingClientRect();return{bottom:R.bottom-z.top,height:R.height,left:R.left-z.left,right:R.right-z.left,top:R.top-z.top,width:R.width}}},{key:"getContents",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-w,R=V(w,P),z=A(R,2);return this.editor.getContents(w=z[0],P=z[1])}},{key:"getFormat",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof w?this.editor.getFormat(w,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(w.index,w.length)}},{key:"getIndex",value:function(w){return w.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(w){return this.scroll.leaf(w)}},{key:"getLine",value:function(w){return this.scroll.line(w)}},{key:"getLines",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof w?this.scroll.lines(w.index,w.length):this.scroll.lines(w,P)}},{key:"getModule",value:function(w){return this.theme.modules[w]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-w,R=V(w,P),z=A(R,2);return this.editor.getText(w=z[0],P=z[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(w,P,R){var z=this;return D.call(this,function(){return z.editor.insertEmbed(w,P,R)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.sources.API,w)}},{key:"insertText",value:function(w,P,R,z,H){var B,M=this,Q=V(w,0,R,z,H),Y=A(Q,4);return B=Y[2],D.call(this,function(){return M.editor.insertText(w,P,B)},H=Y[3],w=Y[0],P.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(w,P,R){this.clipboard.dangerouslyPasteHTML(w,P,R)}},{key:"removeFormat",value:function(w,P,R){var z=this,H=V(w,P,R),M=A(H,4);return P=M[1],D.call(this,function(){return z.editor.removeFormat(w,P)},R=M[3],w=M[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(w){var P=this;return D.call(this,function(){w=new E.default(w);var z=P.getLength(),H=P.editor.deleteText(0,z),M=P.editor.applyDelta(w),B=M.ops[M.ops.length-1];return null!=B&&"string"==typeof B.insert&&"\n"===B.insert[B.insert.length-1]&&(P.editor.deleteText(P.getLength()-1,1),M.delete(1)),H.compose(M)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API)}},{key:"setSelection",value:function(w,P,R){if(null==w)this.selection.setRange(null,P||j.sources.API);else{var z=V(w,P,R),H=A(z,4);R=H[3],this.selection.setRange(new t.Range(w=H[0],P=H[1]),R),R!==i.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API,R=(new E.default).insert(w);return this.setContents(R,P)}},{key:"update",value:function(){var w=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.sources.USER,P=this.scroll.update(w);return this.selection.update(w),P}},{key:"updateContents",value:function(w){var P=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API;return D.call(this,function(){return w=new E.default(w),P.editor.applyDelta(w,R)},R,!0)}}]),j}();function F(j,I){if((I=(0,d.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},I)).theme&&I.theme!==C.DEFAULTS.theme){if(I.theme=C.import("themes/"+I.theme),null==I.theme)throw new Error("Invalid theme "+I.theme+". Did you register it?")}else I.theme=k.default;var w=(0,d.default)(!0,{},I.theme.DEFAULTS);[w,I].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(H){!0===z.modules[H]&&(z.modules[H]={})})});var R=Object.keys(w.modules).concat(Object.keys(I.modules)).reduce(function(z,H){var M=C.import("modules/"+H);return null==M?T.error("Cannot load "+H+" module. Are you sure you registered it?"):z[H]=M.DEFAULTS||{},z},{});return null!=I.modules&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,d.default)(!0,{},C.DEFAULTS,{modules:R},w,I),["bounds","container","scrollingContainer"].forEach(function(z){"string"==typeof I[z]&&(I[z]=document.querySelector(I[z]))}),I.modules=Object.keys(I.modules).reduce(function(z,H){return I.modules[H]&&(z[H]=I.modules[H]),z},{}),I}function D(j,I,w,P){if(this.options.strict&&!this.isEnabled()&&I===i.default.sources.USER)return new E.default;var R=null==w?null:this.getSelection(),z=this.editor.delta,H=j();if(null!=R&&(!0===w&&(w=R.index),null==P?R=W(R,H,I):0!==P&&(R=W(R,w,P,I)),this.setSelection(R,i.default.sources.SILENT)),H.length()>0){var M,Q,B=[i.default.events.TEXT_CHANGE,H,z,I];(M=this.emitter).emit.apply(M,[i.default.events.EDITOR_CHANGE].concat(B)),I!==i.default.sources.SILENT&&(Q=this.emitter).emit.apply(Q,B)}return H}function V(j,I,w,P,R){var z={};return"number"==typeof j.index&&"number"==typeof j.length?"number"!=typeof I?(R=P,P=w,w=I,I=j.length,j=j.index):(I=j.length,j=j.index):"number"!=typeof I&&(R=P,P=w,w=I,I=0),"object"===(typeof w>"u"?"undefined":q(w))?(z=w,R=P):"string"==typeof w&&(null!=P?z[w]=P:R=w),[j,I,z,R=R||i.default.sources.API]}function W(j,I,w,P){if(null==j)return null;var R=void 0,z=void 0;if(I instanceof E.default){var H=[j.index,j.index+j.length].map(function(Y){return I.transformPosition(Y,P!==i.default.sources.USER)}),M=A(H,2);R=M[0],z=M[1]}else{var B=[j.index,j.index+j.length].map(function(Y){return Y<I||Y===I&&P===i.default.sources.USER?Y:w>=0?Y+w:Math.max(I,Y+w)}),Q=A(B,2);R=Q[0],z=Q[1]}return new t.Range(R,z-R)}C.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},C.events=i.default.events,C.sources=i.default.sources,C.version="1.3.7",C.imports={delta:E.default,parchment:o.default,"core/module":l.default,"core/theme":k.default},_.expandConfig=F,_.overload=V,_.default=C},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),A=function s(o,t,u){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var d=Object.getPrototypeOf(o);return null===d?void 0:s(d,t,u)}if("value"in n)return n.value;var c=n.get;return void 0===c?void 0:c.call(u)},e=a(y(7)),m=a(y(0));function a(s){return s&&s.__esModule?s:{default:s}}var l=function(s){function o(){return function r(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function i(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?s:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function f(s,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}(o,s),q(o,[{key:"formatAt",value:function(u,n,d,c){if(o.compare(this.statics.blotName,d)<0&&m.default.query(d,m.default.Scope.BLOT)){var g=this.isolate(u,n);c&&g.wrap(d,c)}else A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"formatAt",this).call(this,u,n,d,c)}},{key:"optimize",value:function(u){if(A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"optimize",this).call(this,u),this.parent instanceof o&&o.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(u,n){var d=o.order.indexOf(u),c=o.order.indexOf(n);return d>=0||c>=0?d-c:u===n?0:u<n?-1:1}}]),o}(m.default.Inline);l.allowedChildren=[l,m.default.Embed,e.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],_.default=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(r){function i(){return function e(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),i}(function x(r){return r&&r.__esModule?r:{default:r}}(y(0)).default.Text);_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function t(u,n){for(var d=0;d<n.length;d++){var c=n[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,n,d){return n&&t(u.prototype,n),d&&t(u,d),u}}(),A=function t(u,n,d){null===u&&(u=Function.prototype);var c=Object.getOwnPropertyDescriptor(u,n);if(void 0===c){var g=Object.getPrototypeOf(u);return null===g?void 0:t(g,n,d)}if("value"in c)return c.value;var O=c.get;return void 0===O?void 0:O.call(d)},e=a(y(54));function a(t){return t&&t.__esModule?t:{default:t}}var l=(0,a(y(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var u=arguments.length,n=Array(u),d=0;d<u;d++)n[d]=arguments[d];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(c){var g;c.__quill&&c.__quill.emitter&&(g=c.__quill.emitter).handleDOM.apply(g,n)})})});var o=function(t){function u(){!function r(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var n=function i(t,u){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?t:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return n.listeners={},n.on("error",l.error),n}return function f(t,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}(u,t),q(u,[{key:"emit",value:function(){l.log.apply(l,arguments),A(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(d){for(var c=arguments.length,g=Array(c>1?c-1:0),O=1;O<c;O++)g[O-1]=arguments[O];(this.listeners[d.type]||[]).forEach(function(k){var v=k.node,p=k.handler;(d.target===v||v.contains(d.target))&&p.apply(void 0,[d].concat(g))})}},{key:"listenDOM",value:function(d,c,g){this.listeners[d]||(this.listeners[d]=[]),this.listeners[d].push({node:c,handler:g})}}]),u}(e.default);o.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},o.sources={API:"api",SILENT:"silent",USER:"user"},_.default=o},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=function x(e){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function q(x,e){if(!(x instanceof e))throw new TypeError("Cannot call a class as a function")})(this,x),this.quill=e,this.options=E};A.DEFAULTS={},_.default=A},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=["error","warn","log","info"],A="warn";function x(E){if(q.indexOf(E)<=q.indexOf(A)){for(var m,a=arguments.length,r=Array(a>1?a-1:0),i=1;i<a;i++)r[i-1]=arguments[i];(m=console)[E].apply(m,r)}}function e(E){return q.reduce(function(m,a){return m[a]=x.bind(console,a,E),m},{})}x.level=e.level=function(E){A=E},_.default=e},function(J,_,y){var q=Array.prototype.slice,A=y(52),x=y(53),e=J.exports=function(r,i,f){return f||(f={}),r===i||(r instanceof Date&&i instanceof Date?r.getTime()===i.getTime():!r||!i||"object"!=typeof r&&"object"!=typeof i?f.strict?r===i:r==i:function a(r,i,f){var l,s;if(E(r)||E(i)||r.prototype!==i.prototype)return!1;if(x(r))return!!x(i)&&(r=q.call(r),i=q.call(i),e(r,i,f));if(m(r)){if(!m(i)||r.length!==i.length)return!1;for(l=0;l<r.length;l++)if(r[l]!==i[l])return!1;return!0}try{var o=A(r),t=A(i)}catch(u){return!1}if(o.length!=t.length)return!1;for(o.sort(),t.sort(),l=o.length-1;l>=0;l--)if(o[l]!=t[l])return!1;for(l=o.length-1;l>=0;l--)if(!e(r[s=o[l]],i[s],f))return!1;return typeof r==typeof i}(r,i,f))};function E(r){return null==r}function m(r){return!(!r||"object"!=typeof r||"number"!=typeof r.length||"function"!=typeof r.copy||"function"!=typeof r.slice||r.length>0&&"number"!=typeof r[0])}},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=y(1),A=function(){function x(e,E,m){void 0===m&&(m={}),this.attrName=e,this.keyName=E,this.scope=null!=m.scope?m.scope&q.Scope.LEVEL|q.Scope.TYPE&q.Scope.ATTRIBUTE:q.Scope.ATTRIBUTE,null!=m.whitelist&&(this.whitelist=m.whitelist)}return x.keys=function(e){return[].map.call(e.attributes,function(E){return E.name})},x.prototype.add=function(e,E){return!!this.canAdd(e,E)&&(e.setAttribute(this.keyName,E),!0)},x.prototype.canAdd=function(e,E){return null!=q.query(e,q.Scope.BLOT&(this.scope|q.Scope.TYPE))&&(null==this.whitelist||("string"==typeof E?this.whitelist.indexOf(E.replace(/["']/g,""))>-1:this.whitelist.indexOf(E)>-1))},x.prototype.remove=function(e){e.removeAttribute(this.keyName)},x.prototype.value=function(e){var E=e.getAttribute(this.keyName);return this.canAdd(e,E)&&E?E:""},x}();_.default=A},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.Code=void 0;var q=function(k,v){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return function O(k,v){var p=[],h=!0,T=!1,C=void 0;try{for(var D,F=k[Symbol.iterator]();!(h=(D=F.next()).done)&&(p.push(D.value),!v||p.length!==v);h=!0);}catch(V){T=!0,C=V}finally{try{!h&&F.return&&F.return()}finally{if(T)throw C}}return p}(k,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function(){function O(k,v){for(var p=0;p<v.length;p++){var h=v[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}return function(k,v,p){return v&&O(k.prototype,v),p&&O(k,p),k}}(),x=function O(k,v,p){null===k&&(k=Function.prototype);var h=Object.getOwnPropertyDescriptor(k,v);if(void 0===h){var T=Object.getPrototypeOf(k);return null===T?void 0:O(T,v,p)}if("value"in h)return h.value;var C=h.get;return void 0===C?void 0:C.call(p)},E=t(y(2)),a=t(y(0)),i=t(y(4)),l=t(y(6)),o=t(y(7));function t(O){return O&&O.__esModule?O:{default:O}}function u(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function n(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?O:k}function d(O,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var c=function(O){function k(){return u(this,k),n(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return d(k,O),k}(l.default);c.blotName="code",c.tagName="CODE";var g=function(O){function k(){return u(this,k),n(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return d(k,O),A(k,[{key:"delta",value:function(){var p=this,h=this.domNode.textContent;return h.endsWith("\n")&&(h=h.slice(0,-1)),h.split("\n").reduce(function(T,C){return T.insert(C).insert("\n",p.formats())},new E.default)}},{key:"format",value:function(p,h){if(p!==this.statics.blotName||!h){var T=this.descendant(o.default,this.length()-1),F=q(T,1)[0];null!=F&&F.deleteAt(F.length()-1,1),x(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,p,h)}}},{key:"formatAt",value:function(p,h,T,C){if(0!==h&&null!=a.default.query(T,a.default.Scope.BLOCK)&&(T!==this.statics.blotName||C!==this.statics.formats(this.domNode))){var F=this.newlineIndex(p);if(!(F<0||F>=p+h)){var D=this.newlineIndex(p,!0)+1,V=F-D+1,W=this.isolate(D,V),j=W.next;W.format(T,C),j instanceof k&&j.formatAt(0,p-D+h-V,T,C)}}}},{key:"insertAt",value:function(p,h,T){if(null==T){var C=this.descendant(o.default,p),F=q(C,2);F[0].insertAt(F[1],h)}}},{key:"length",value:function(){var p=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?p:p+1}},{key:"newlineIndex",value:function(p){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,p).lastIndexOf("\n");var T=this.domNode.textContent.slice(p).indexOf("\n");return T>-1?p+T:-1}},{key:"optimize",value:function(p){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),x(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,p);var h=this.next;null!=h&&h.prev===this&&h.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===h.statics.formats(h.domNode)&&(h.optimize(p),h.moveChildren(this),h.remove())}},{key:"replace",value:function(p){x(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,p),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(h){var T=a.default.find(h);null==T?h.parentNode.removeChild(h):T instanceof a.default.Embed?T.remove():T.unwrap()})}}],[{key:"create",value:function(p){var h=x(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,p);return h.setAttribute("spellcheck",!1),h}},{key:"formats",value:function(){return!0}}]),k}(i.default);g.blotName="code-block",g.tagName="PRE",g.TAB="  ",_.Code=c,_.default=g},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},A=function(I,w){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function j(I,w){var P=[],R=!0,z=!1,H=void 0;try{for(var B,M=I[Symbol.iterator]();!(R=(B=M.next()).done)&&(P.push(B.value),!w||P.length!==w);R=!0);}catch(Q){z=!0,H=Q}finally{try{!R&&M.return&&M.return()}finally{if(z)throw H}}return P}(I,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=function(){function j(I,w){for(var P=0;P<w.length;P++){var R=w[P];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,w,P){return w&&j(I.prototype,w),P&&j(I,P),I}}(),E=h(y(2)),a=h(y(20)),i=h(y(0)),l=h(y(13)),o=h(y(24)),t=y(4),u=h(t),d=h(y(16)),g=h(y(21)),k=h(y(11)),p=h(y(3));function h(j){return j&&j.__esModule?j:{default:j}}var F=/^[ -~]*$/,D=function(){function j(I){(function C(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")})(this,j),this.scroll=I,this.delta=this.getDelta()}return x(j,[{key:"applyDelta",value:function(w){var P=this,R=!1;this.scroll.update();var z=this.scroll.length();return this.scroll.batchStart(),(w=function W(j){return j.reduce(function(I,w){if(1===w.insert){var P=(0,g.default)(w.attributes);return delete P.image,I.insert({image:w.attributes.image},P)}if(null!=w.attributes&&(!0===w.attributes.list||!0===w.attributes.bullet)&&((w=(0,g.default)(w)).attributes.list?w.attributes.list="ordered":(w.attributes.list="bullet",delete w.attributes.bullet)),"string"==typeof w.insert){var R=w.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return I.insert(R,w.attributes)}return I.push(w)},new E.default)}(w)).reduce(function(H,M){var B=M.retain||M.delete||M.insert.length||1,Q=M.attributes||{};if(null!=M.insert){if("string"==typeof M.insert){var Y=M.insert;Y.endsWith("\n")&&R&&(R=!1,Y=Y.slice(0,-1)),H>=z&&!Y.endsWith("\n")&&(R=!0),P.scroll.insertAt(H,Y);var X=P.scroll.line(H),ie=A(X,2),le=ie[0],se=ie[1],de=(0,p.default)({},(0,t.bubbleFormats)(le));if(le instanceof u.default){var he=le.descendant(i.default.Leaf,se),me=A(he,1);de=(0,p.default)(de,(0,t.bubbleFormats)(me[0]))}Q=a.default.attributes.diff(de,Q)||{}}else if("object"===q(M.insert)){var G=Object.keys(M.insert)[0];if(null==G)return H;P.scroll.insertAt(H,G,M.insert[G])}z+=B}return Object.keys(Q).forEach(function($){P.scroll.formatAt(H,B,$,Q[$])}),H+B},0),w.reduce(function(H,M){return"number"==typeof M.delete?(P.scroll.deleteAt(H,M.delete),H):H+(M.retain||M.insert.length||1)},0),this.scroll.batchEnd(),this.update(w)}},{key:"deleteText",value:function(w,P){return this.scroll.deleteAt(w,P),this.update((new E.default).retain(w).delete(P))}},{key:"formatLine",value:function(w,P){var R=this,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(z).forEach(function(H){if(null==R.scroll.whitelist||R.scroll.whitelist[H]){var M=R.scroll.lines(w,Math.max(P,1)),B=P;M.forEach(function(Q){var Y=Q.length();if(Q instanceof l.default){var X=w-Q.offset(R.scroll),ie=Q.newlineIndex(X+B)-X+1;Q.formatAt(X,ie,H,z[H])}else Q.format(H,z[H]);B-=Y})}}),this.scroll.optimize(),this.update((new E.default).retain(w).retain(P,(0,g.default)(z)))}},{key:"formatText",value:function(w,P){var R=this,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(z).forEach(function(H){R.scroll.formatAt(w,P,H,z[H])}),this.update((new E.default).retain(w).retain(P,(0,g.default)(z)))}},{key:"getContents",value:function(w,P){return this.delta.slice(w,w+P)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(w,P){return w.concat(P.delta())},new E.default)}},{key:"getFormat",value:function(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=[],z=[];0===P?this.scroll.path(w).forEach(function(M){var Q=A(M,1)[0];Q instanceof u.default?R.push(Q):Q instanceof i.default.Leaf&&z.push(Q)}):(R=this.scroll.lines(w,P),z=this.scroll.descendants(i.default.Leaf,w,P));var H=[R,z].map(function(M){if(0===M.length)return{};for(var B=(0,t.bubbleFormats)(M.shift());Object.keys(B).length>0;){var Q=M.shift();if(null==Q)return B;B=V((0,t.bubbleFormats)(Q),B)}return B});return p.default.apply(p.default,H)}},{key:"getText",value:function(w,P){return this.getContents(w,P).filter(function(R){return"string"==typeof R.insert}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(w,P,R){return this.scroll.insertAt(w,P,R),this.update((new E.default).retain(w).insert(function T(j,I,w){return I in j?Object.defineProperty(j,I,{value:w,enumerable:!0,configurable:!0,writable:!0}):j[I]=w,j}({},P,R)))}},{key:"insertText",value:function(w,P){var R=this,z=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return P=P.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(w,P),Object.keys(z).forEach(function(H){R.scroll.formatAt(w,P.length,H,z[H])}),this.update((new E.default).retain(w).insert(P,(0,g.default)(z)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var w=this.scroll.children.head;return!(w.statics.blotName!==u.default.blotName||w.children.length>1)&&w.children.head instanceof d.default}},{key:"removeFormat",value:function(w,P){var R=this.getText(w,P),z=this.scroll.line(w+P),H=A(z,2),M=H[0],B=H[1],Q=0,Y=new E.default;null!=M&&(Q=M instanceof l.default?M.newlineIndex(B)-B+1:M.length()-B,Y=M.delta().slice(B,B+Q-1).insert("\n"));var ie=this.getContents(w,P+Q).diff((new E.default).insert(R).concat(Y)),le=(new E.default).retain(w).concat(ie);return this.applyDelta(le)}},{key:"update",value:function(w){var P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,z=this.delta;if(1===P.length&&"characterData"===P[0].type&&P[0].target.data.match(F)&&i.default.find(P[0].target)){var H=i.default.find(P[0].target),M=(0,t.bubbleFormats)(H),B=H.offset(this.scroll),Q=P[0].oldValue.replace(o.default.CONTENTS,""),Y=(new E.default).insert(Q),X=(new E.default).insert(H.value());w=(new E.default).retain(B).concat(Y.diff(X,R)).reduce(function(le,se){return se.insert?le.insert(se.insert,M):le.push(se)},new E.default),this.delta=z.compose(w)}else this.delta=this.getDelta(),(!w||!(0,k.default)(z.compose(w),this.delta))&&(w=z.diff(this.delta,R));return w}}]),j}();function V(j,I){return Object.keys(I).reduce(function(w,P){return null==j[P]||(I[P]===j[P]?w[P]=I[P]:Array.isArray(I[P])?I[P].indexOf(j[P])<0&&(w[P]=I[P].concat([j[P]])):w[P]=[I[P],j[P]]),w},{})}_.default=D},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.Range=void 0;var q=function(k,v){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return function O(k,v){var p=[],h=!0,T=!1,C=void 0;try{for(var D,F=k[Symbol.iterator]();!(h=(D=F.next()).done)&&(p.push(D.value),!v||p.length!==v);h=!0);}catch(V){T=!0,C=V}finally{try{!h&&F.return&&F.return()}finally{if(T)throw C}}return p}(k,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function(){function O(k,v){for(var p=0;p<v.length;p++){var h=v[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}return function(k,v,p){return v&&O(k.prototype,v),p&&O(k,p),k}}(),e=o(y(0)),m=o(y(21)),r=o(y(11)),f=o(y(8));function o(O){return O&&O.__esModule?O:{default:O}}function t(O){if(Array.isArray(O)){for(var k=0,v=Array(O.length);k<O.length;k++)v[k]=O[k];return v}return Array.from(O)}function u(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}var n=(0,o(y(10)).default)("quill:selection"),d=function O(k){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,O),this.index=k,this.length=v},c=function(){function O(k,v){var p=this;u(this,O),this.emitter=v,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=e.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){p.mouseDown||setTimeout(p.update.bind(p,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(h,T){h===f.default.events.TEXT_CHANGE&&T.length()>0&&p.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(p.hasFocus()){var h=p.getNativeRange();null!=h&&h.start.node!==p.cursor.textNode&&p.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{p.setNativeRange(h.start.node,h.start.offset,h.end.node,h.end.offset)}catch(T){}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(h,T){if(T.range){var C=T.range;p.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)}}),this.update(f.default.sources.SILENT)}return A(O,[{key:"handleComposition",value:function(){var v=this;this.root.addEventListener("compositionstart",function(){v.composing=!0}),this.root.addEventListener("compositionend",function(){if(v.composing=!1,v.cursor.parent){var p=v.cursor.restore();if(!p)return;setTimeout(function(){v.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)},1)}})}},{key:"handleDragging",value:function(){var v=this;this.emitter.listenDOM("mousedown",document.body,function(){v.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){v.mouseDown=!1,v.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(v,p){if(null==this.scroll.whitelist||this.scroll.whitelist[v]){this.scroll.update();var h=this.getNativeRange();if(null!=h&&h.native.collapsed&&!e.default.query(v,e.default.Scope.BLOCK)){if(h.start.node!==this.cursor.textNode){var T=e.default.find(h.start.node,!1);if(null==T)return;if(T instanceof e.default.Leaf){var C=T.split(h.start.offset);T.parent.insertBefore(this.cursor,C)}else T.insertBefore(this.cursor,h.start.node);this.cursor.attach()}this.cursor.format(v,p),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(v){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=this.scroll.length();v=Math.min(v,h-1),p=Math.min(v+p,h-1)-v;var T=void 0,C=this.scroll.leaf(v),F=q(C,2),D=F[0],V=F[1];if(null==D)return null;var W=D.position(V,!0),j=q(W,2);T=j[0],V=j[1];var I=document.createRange();if(p>0){I.setStart(T,V);var w=this.scroll.leaf(v+p),P=q(w,2);if(null==(D=P[0]))return null;var R=D.position(V=P[1],!0),z=q(R,2);return I.setEnd(T=z[0],V=z[1]),I.getBoundingClientRect()}var H="left",M=void 0;return T instanceof Text?(V<T.data.length?(I.setStart(T,V),I.setEnd(T,V+1)):(I.setStart(T,V-1),I.setEnd(T,V),H="right"),M=I.getBoundingClientRect()):(M=D.domNode.getBoundingClientRect(),V>0&&(H="right")),{bottom:M.top+M.height,height:M.height,left:M[H],right:M[H],top:M.top,width:0}}},{key:"getNativeRange",value:function(){var v=document.getSelection();if(null==v||v.rangeCount<=0)return null;var p=v.getRangeAt(0);if(null==p)return null;var h=this.normalizeNative(p);return n.info("getNativeRange",h),h}},{key:"getRange",value:function(){var v=this.getNativeRange();return null==v?[null,null]:[this.normalizedToRange(v),v]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(v){var p=this,h=[[v.start.node,v.start.offset]];v.native.collapsed||h.push([v.end.node,v.end.offset]);var T=h.map(function(D){var V=q(D,2),W=V[0],j=V[1],I=e.default.find(W,!0),w=I.offset(p.scroll);return 0===j?w:I instanceof e.default.Container?w+I.length():w+I.index(W,j)}),C=Math.min(Math.max.apply(Math,t(T)),this.scroll.length()-1),F=Math.min.apply(Math,[C].concat(t(T)));return new d(F,C-F)}},{key:"normalizeNative",value:function(v){if(!g(this.root,v.startContainer)||!v.collapsed&&!g(this.root,v.endContainer))return null;var p={start:{node:v.startContainer,offset:v.startOffset},end:{node:v.endContainer,offset:v.endOffset},native:v};return[p.start,p.end].forEach(function(h){for(var T=h.node,C=h.offset;!(T instanceof Text)&&T.childNodes.length>0;)if(T.childNodes.length>C)T=T.childNodes[C],C=0;else{if(T.childNodes.length!==C)break;C=(T=T.lastChild)instanceof Text?T.data.length:T.childNodes.length+1}h.node=T,h.offset=C}),p}},{key:"rangeToNative",value:function(v){var p=this,h=v.collapsed?[v.index]:[v.index,v.index+v.length],T=[],C=this.scroll.length();return h.forEach(function(F,D){F=Math.min(C-1,F);var W=p.scroll.leaf(F),j=q(W,2),w=j[1],P=j[0].position(w,0!==D),R=q(P,2);T.push(R[0],w=R[1])}),T.length<2&&(T=T.concat(T)),T}},{key:"scrollIntoView",value:function(v){var p=this.lastRange;if(null!=p){var h=this.getBounds(p.index,p.length);if(null!=h){var T=this.scroll.length()-1,C=this.scroll.line(Math.min(p.index,T)),D=q(C,1)[0],V=D;if(p.length>0){var W=this.scroll.line(Math.min(p.index+p.length,T));V=q(W,1)[0]}if(null!=D&&null!=V){var I=v.getBoundingClientRect();h.top<I.top?v.scrollTop-=I.top-h.top:h.bottom>I.bottom&&(v.scrollTop+=h.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(v,p){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,C=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(n.info("setNativeRange",v,p,h,T),null==v||null!=this.root.parentNode&&null!=v.parentNode&&null!=h.parentNode){var F=document.getSelection();if(null!=F)if(null!=v){this.hasFocus()||this.root.focus();var D=(this.getNativeRange()||{}).native;if(null==D||C||v!==D.startContainer||p!==D.startOffset||h!==D.endContainer||T!==D.endOffset){"BR"==v.tagName&&(p=[].indexOf.call(v.parentNode.childNodes,v),v=v.parentNode),"BR"==h.tagName&&(T=[].indexOf.call(h.parentNode.childNodes,h),h=h.parentNode);var V=document.createRange();V.setStart(v,p),V.setEnd(h,T),F.removeAllRanges(),F.addRange(V)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(v){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;if("string"==typeof p&&(h=p,p=!1),n.info("setRange",v),null!=v){var T=this.rangeToNative(v);this.setNativeRange.apply(this,t(T).concat([p]))}else this.setNativeRange(null);this.update(h)}},{key:"update",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,p=this.lastRange,h=this.getRange(),T=q(h,2),F=T[1];if(this.lastRange=T[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,r.default)(p,this.lastRange)){var D;!this.composing&&null!=F&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var W,V=[f.default.events.SELECTION_CHANGE,(0,m.default)(this.lastRange),(0,m.default)(p),v];(D=this.emitter).emit.apply(D,[f.default.events.EDITOR_CHANGE].concat(V)),v!==f.default.sources.SILENT&&(W=this.emitter).emit.apply(W,V)}}}]),O}();function g(O,k){return k instanceof Text&&(k=k.parentNode),O.contains(k)}_.Range=d,_.default=c},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),A=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var i=function(f){function l(){return function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function r(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,[{key:"insertInto",value:function(o,t){0===o.children.length?A(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"insertInto",this).call(this,o,t):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(0)).default.Embed);i.blotName="break",i.tagName="BR",_.default=i},function(J,_,y){"use strict";var a,q=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var f in i)i.hasOwnProperty(f)&&(r[f]=i[f])},function(r,i){function f(){this.constructor=r}a(r,i),r.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(_,"__esModule",{value:!0});var A=y(44),x=y(30),e=y(1),E=function(a){function r(i){var f=a.call(this,i)||this;return f.build(),f}return q(r,a),r.prototype.appendChild=function(i){this.insertBefore(i)},r.prototype.attach=function(){a.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},r.prototype.build=function(){var i=this;this.children=new A.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var l=m(f);i.insertBefore(l,i.children.head||void 0)}catch(s){if(s instanceof e.ParchmentError)return;throw s}})},r.prototype.deleteAt=function(i,f){if(0===i&&f===this.length())return this.remove();this.children.forEachAt(i,f,function(l,s,o){l.deleteAt(s,o)})},r.prototype.descendant=function(i,f){var l=this.children.find(f),s=l[0],o=l[1];return null==i.blotName&&i(s)||null!=i.blotName&&s instanceof i?[s,o]:s instanceof r?s.descendant(i,o):[null,-1]},r.prototype.descendants=function(i,f,l){void 0===f&&(f=0),void 0===l&&(l=Number.MAX_VALUE);var s=[],o=l;return this.children.forEachAt(f,l,function(t,u,n){(null==i.blotName&&i(t)||null!=i.blotName&&t instanceof i)&&s.push(t),t instanceof r&&(s=s.concat(t.descendants(i,u,o))),o-=n}),s},r.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),a.prototype.detach.call(this)},r.prototype.formatAt=function(i,f,l,s){this.children.forEachAt(i,f,function(o,t,u){o.formatAt(t,u,l,s)})},r.prototype.insertAt=function(i,f,l){var s=this.children.find(i),o=s[0];if(o)o.insertAt(s[1],f,l);else{var u=null==l?e.create("text",f):e.create(f,l);this.appendChild(u)}},r.prototype.insertBefore=function(i,f){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(l){return i instanceof l}))throw new e.ParchmentError("Cannot insert "+i.statics.blotName+" into "+this.statics.blotName);i.insertInto(this,f)},r.prototype.length=function(){return this.children.reduce(function(i,f){return i+f.length()},0)},r.prototype.moveChildren=function(i,f){this.children.forEach(function(l){i.insertBefore(l,f)})},r.prototype.optimize=function(i){if(a.prototype.optimize.call(this,i),0===this.children.length)if(null!=this.statics.defaultChild){var f=e.create(this.statics.defaultChild);this.appendChild(f),f.optimize(i)}else this.remove()},r.prototype.path=function(i,f){void 0===f&&(f=!1);var l=this.children.find(i,f),s=l[0],o=l[1],t=[[this,i]];return s instanceof r?t.concat(s.path(o,f)):(null!=s&&t.push([s,o]),t)},r.prototype.removeChild=function(i){this.children.remove(i)},r.prototype.replace=function(i){i instanceof r&&i.moveChildren(this),a.prototype.replace.call(this,i)},r.prototype.split=function(i,f){if(void 0===f&&(f=!1),!f){if(0===i)return this;if(i===this.length())return this.next}var l=this.clone();return this.parent.insertBefore(l,this.next),this.children.forEachAt(i,this.length(),function(s,o,t){s=s.split(o,f),l.appendChild(s)}),l},r.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},r.prototype.update=function(i,f){var l=this,s=[],o=[];i.forEach(function(t){t.target===l.domNode&&"childList"===t.type&&(s.push.apply(s,t.addedNodes),o.push.apply(o,t.removedNodes))}),o.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var u=e.find(t);null!=u&&(null==u.domNode.parentNode||u.domNode.parentNode===l.domNode)&&u.detach()}}),s.filter(function(t){return t.parentNode==l.domNode}).sort(function(t,u){return t===u?0:t.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var u=null;null!=t.nextSibling&&(u=e.find(t.nextSibling));var n=m(t);(n.next!=u||null==n.next)&&(null!=n.parent&&n.parent.removeChild(l),l.insertBefore(n,u||void 0))})},r}(x.default);function m(a){var r=e.find(a);if(null==r)try{r=e.create(a)}catch(i){r=e.create(e.Scope.INLINE),[].slice.call(a.childNodes).forEach(function(f){r.domNode.appendChild(f)}),a.parentNode&&a.parentNode.replaceChild(r.domNode,a),r.attach()}return r}_.default=E},function(J,_,y){"use strict";var a,q=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var f in i)i.hasOwnProperty(f)&&(r[f]=i[f])},function(r,i){function f(){this.constructor=r}a(r,i),r.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(_,"__esModule",{value:!0});var A=y(12),x=y(31),e=y(17),E=y(1),m=function(a){function r(i){var f=a.call(this,i)||this;return f.attributes=new x.default(f.domNode),f}return q(r,a),r.formats=function(i){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?i.tagName.toLowerCase():void 0)},r.prototype.format=function(i,f){var l=E.query(i);l instanceof A.default?this.attributes.attribute(l,f):f&&null!=l&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f)},r.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode);return null!=f&&(i[this.statics.blotName]=f),i},r.prototype.replaceWith=function(i,f){var l=a.prototype.replaceWith.call(this,i,f);return this.attributes.copy(l),l},r.prototype.update=function(i,f){var l=this;a.prototype.update.call(this,i,f),i.some(function(s){return s.target===l.domNode&&"attributes"===s.type})&&this.attributes.build()},r.prototype.wrap=function(i,f){var l=a.prototype.wrap.call(this,i,f);return l instanceof r&&l.statics.scope===this.statics.scope&&this.attributes.move(l),l},r}(e.default);_.default=m},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var r in a)a.hasOwnProperty(r)&&(m[r]=a[r])},function(m,a){function r(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)});Object.defineProperty(_,"__esModule",{value:!0});var A=y(30),x=y(1),e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return q(m,E),m.value=function(a){return!0},m.prototype.index=function(a,r){return this.domNode===a||this.domNode.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(r,1):-1},m.prototype.position=function(a,r){var i=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return a>0&&(i+=1),[this.parent.domNode,i]},m.prototype.value=function(){var a;return(a={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,a},m.scope=x.Scope.INLINE_BLOT,m}(A.default);_.default=e},function(J,_,y){var q=y(11),A=y(3),x={attributes:{compose:function(E,m,a){"object"!=typeof E&&(E={}),"object"!=typeof m&&(m={});var r=A(!0,{},m);for(var i in a||(r=Object.keys(r).reduce(function(f,l){return null!=r[l]&&(f[l]=r[l]),f},{})),E)void 0!==E[i]&&void 0===m[i]&&(r[i]=E[i]);return Object.keys(r).length>0?r:void 0},diff:function(E,m){"object"!=typeof E&&(E={}),"object"!=typeof m&&(m={});var a=Object.keys(E).concat(Object.keys(m)).reduce(function(r,i){return q(E[i],m[i])||(r[i]=void 0===m[i]?null:m[i]),r},{});return Object.keys(a).length>0?a:void 0},transform:function(E,m,a){if("object"!=typeof E)return m;if("object"==typeof m){if(!a)return m;var r=Object.keys(m).reduce(function(i,f){return void 0===E[f]&&(i[f]=m[f]),i},{});return Object.keys(r).length>0?r:void 0}}},iterator:function(E){return new e(E)},length:function(E){return"number"==typeof E.delete?E.delete:"number"==typeof E.retain?E.retain:"string"==typeof E.insert?E.insert.length:1}};function e(E){this.ops=E,this.index=0,this.offset=0}e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(E){E||(E=1/0);var m=this.ops[this.index];if(m){var a=this.offset,r=x.length(m);if(E>=r-a?(E=r-a,this.index+=1,this.offset=0):this.offset+=E,"number"==typeof m.delete)return{delete:E};var i={};return m.attributes&&(i.attributes=m.attributes),"number"==typeof m.retain?i.retain=E:i.insert="string"==typeof m.insert?m.insert.substr(a,E):m.insert,i}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?x.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var E=this.offset,m=this.index,a=this.next(),r=this.ops.slice(this.index);return this.offset=E,this.index=m,[a].concat(r)}return[]},J.exports=x},function(J,_){var y=function(){"use strict";function q(l,s){return null!=s&&l instanceof s}var A,x,e;try{A=Map}catch(l){A=function(){}}try{x=Set}catch(l){x=function(){}}try{e=Promise}catch(l){e=function(){}}function E(l,s,o,t,u){"object"==typeof s&&(o=s.depth,t=s.prototype,u=s.includeNonEnumerable,s=s.circular);var n=[],d=[],c=typeof Buffer<"u";return typeof s>"u"&&(s=!0),typeof o>"u"&&(o=1/0),function g(O,k){if(null===O)return null;if(0===k)return O;var v,p;if("object"!=typeof O)return O;if(q(O,A))v=new A;else if(q(O,x))v=new x;else if(q(O,e))v=new e(function(I,w){O.then(function(P){I(g(P,k-1))},function(P){w(g(P,k-1))})});else if(E.__isArray(O))v=[];else if(E.__isRegExp(O))v=new RegExp(O.source,f(O)),O.lastIndex&&(v.lastIndex=O.lastIndex);else if(E.__isDate(O))v=new Date(O.getTime());else{if(c&&Buffer.isBuffer(O))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(O.length):new Buffer(O.length),O.copy(v),v;q(O,Error)?v=Object.create(O):typeof t>"u"?(p=Object.getPrototypeOf(O),v=Object.create(p)):(v=Object.create(t),p=t)}if(s){var h=n.indexOf(O);if(-1!=h)return d[h];n.push(O),d.push(v)}for(var T in q(O,A)&&O.forEach(function(I,w){var P=g(w,k-1),R=g(I,k-1);v.set(P,R)}),q(O,x)&&O.forEach(function(I){var w=g(I,k-1);v.add(w)}),O){var C;p&&(C=Object.getOwnPropertyDescriptor(p,T)),(!C||null!=C.set)&&(v[T]=g(O[T],k-1))}if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(O);for(T=0;T<F.length;T++){var D=F[T];(V=Object.getOwnPropertyDescriptor(O,D))&&!V.enumerable&&!u||(v[D]=g(O[D],k-1),V.enumerable||Object.defineProperty(v,D,{enumerable:!1}))}}if(u){var W=Object.getOwnPropertyNames(O);for(T=0;T<W.length;T++){var V,j=W[T];(V=Object.getOwnPropertyDescriptor(O,j))&&V.enumerable||(v[j]=g(O[j],k-1),Object.defineProperty(v,j,{enumerable:!1}))}}return v}(l,o)}function m(l){return Object.prototype.toString.call(l)}function f(l){var s="";return l.global&&(s+="g"),l.ignoreCase&&(s+="i"),l.multiline&&(s+="m"),s}return E.clonePrototype=function(s){if(null===s)return null;var o=function(){};return o.prototype=s,new o},E.__objToStr=m,E.__isDate=function a(l){return"object"==typeof l&&"[object Date]"===m(l)},E.__isArray=function r(l){return"object"==typeof l&&"[object Array]"===m(l)},E.__isRegExp=function i(l){return"object"==typeof l&&"[object RegExp]"===m(l)},E.__getRegExpFlags=f,E}();"object"==typeof J&&J.exports&&(J.exports=y)},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(p,h){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function v(p,h){var T=[],C=!0,F=!1,D=void 0;try{for(var W,V=p[Symbol.iterator]();!(C=(W=V.next()).done)&&(T.push(W.value),!h||T.length!==h);C=!0);}catch(j){F=!0,D=j}finally{try{!C&&V.return&&V.return()}finally{if(F)throw D}}return T}(p,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function(){function v(p,h){for(var T=0;T<h.length;T++){var C=h[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,h,T){return h&&v(p.prototype,h),T&&v(p,T),p}}(),x=function v(p,h,T){null===p&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,h);if(void 0===C){var F=Object.getPrototypeOf(p);return null===F?void 0:v(F,h,T)}if("value"in C)return C.value;var D=C.get;return void 0===D?void 0:D.call(T)},E=n(y(0)),a=n(y(8)),r=y(4),i=n(r),l=n(y(16)),o=n(y(13)),u=n(y(25));function n(v){return v&&v.__esModule?v:{default:v}}function O(v){return v instanceof i.default||v instanceof r.BlockEmbed}var k=function(v){function p(h,T){!function d(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,p);var C=function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?v:p}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h));return C.emitter=T.emitter,Array.isArray(T.whitelist)&&(C.whitelist=T.whitelist.reduce(function(F,D){return F[D]=!0,F},{})),C.domNode.addEventListener("DOMNodeInserted",function(){}),C.optimize(),C.enable(),C}return function g(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}(p,v),A(p,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,C){var F=this.line(T),D=q(F,2),V=D[0],W=D[1],j=this.line(T+C),w=q(j,1)[0];if(x(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"deleteAt",this).call(this,T,C),null!=w&&V!==w&&W>0){if(V instanceof r.BlockEmbed||w instanceof r.BlockEmbed)return void this.optimize();if(V instanceof o.default){var P=V.newlineIndex(V.length(),!0);if(P>-1&&(V=V.split(P+1))===w)return void this.optimize()}else if(w instanceof o.default){var R=w.newlineIndex(0);R>-1&&w.split(R+1)}V.moveChildren(w,w.children.head instanceof l.default?null:w.children.head),V.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(T,C,F,D){null!=this.whitelist&&!this.whitelist[F]||(x(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,T,C,F,D),this.optimize())}},{key:"insertAt",value:function(T,C,F){if(null==F||null==this.whitelist||this.whitelist[C]){if(T>=this.length())if(null==F||null==E.default.query(C,E.default.Scope.BLOCK)){var D=E.default.create(this.statics.defaultChild);this.appendChild(D),null==F&&C.endsWith("\n")&&(C=C.slice(0,-1)),D.insertAt(0,C,F)}else{var V=E.default.create(C,F);this.appendChild(V)}else x(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertAt",this).call(this,T,C,F);this.optimize()}}},{key:"insertBefore",value:function(T,C){if(T.statics.scope===E.default.Scope.INLINE_BLOT){var F=E.default.create(this.statics.defaultChild);F.appendChild(T),T=F}x(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,T,C)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(O,T)}},{key:"lines",value:function(){return function D(V,W,j){var I=[],w=j;return V.children.forEachAt(W,j,function(P,R,z){O(P)?I.push(P):P instanceof E.default.Container&&(I=I.concat(D(P,R,w))),w-=z}),I}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(x(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,T,C),T.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,T,C))}},{key:"path",value:function(T){return x(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(!0!==this.batch){var C=a.default.sources.USER;"string"==typeof T&&(C=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,C,T),x(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,C,T)}}}]),p}(E.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[i.default,r.BlockEmbed,u.default],_.default=k},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SHORTKEY=_.default=void 0;var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(M){return typeof M}:function(M){return M&&"function"==typeof Symbol&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},A=function(B,Q){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return function M(B,Q){var Y=[],X=!0,ie=!1,le=void 0;try{for(var de,se=B[Symbol.iterator]();!(X=(de=se.next()).done)&&(Y.push(de.value),!Q||Y.length!==Q);X=!0);}catch(he){ie=!0,le=he}finally{try{!X&&se.return&&se.return()}finally{if(ie)throw le}}return Y}(B,Q);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=function(){function M(B,Q){for(var Y=0;Y<Q.length;Y++){var X=Q[Y];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(B,X.key,X)}}return function(B,Q,Y){return Q&&M(B.prototype,Q),Y&&M(B,Y),B}}(),E=v(y(21)),a=v(y(11)),i=v(y(3)),l=v(y(2)),o=v(y(20)),u=v(y(0)),d=v(y(5)),g=v(y(10)),k=v(y(9));function v(M){return M&&M.__esModule?M:{default:M}}function p(M,B,Q){return B in M?Object.defineProperty(M,B,{value:Q,enumerable:!0,configurable:!0,writable:!0}):M[B]=Q,M}var F=(0,g.default)("quill:keyboard"),D=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",V=function(M){function B(Q,Y){!function h(M,B){if(!(M instanceof B))throw new TypeError("Cannot call a class as a function")}(this,B);var X=function T(M,B){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!B||"object"!=typeof B&&"function"!=typeof B?M:B}(this,(B.__proto__||Object.getPrototypeOf(B)).call(this,Q,Y));return X.bindings={},Object.keys(X.options.bindings).forEach(function(ie){"list autofill"===ie&&null!=Q.scroll.whitelist&&!Q.scroll.whitelist.list||X.options.bindings[ie]&&X.addBinding(X.options.bindings[ie])}),X.addBinding({key:B.keys.ENTER,shiftKey:null},P),X.addBinding({key:B.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(X.addBinding({key:B.keys.BACKSPACE},{collapsed:!0},j),X.addBinding({key:B.keys.DELETE},{collapsed:!0},I)):(X.addBinding({key:B.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),X.addBinding({key:B.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),X.addBinding({key:B.keys.BACKSPACE},{collapsed:!1},w),X.addBinding({key:B.keys.DELETE},{collapsed:!1},w),X.addBinding({key:B.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),X.listen(),X}return function C(M,B){if("function"!=typeof B&&null!==B)throw new TypeError("Super expression must either be null or a function, not "+typeof B);M.prototype=Object.create(B&&B.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(M,B):M.__proto__=B)}(B,M),x(B,null,[{key:"match",value:function(Y,X){return X=H(X),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(ie){return!!X[ie]!==Y[ie]&&null!==X[ie]})&&X.key===(Y.which||Y.keyCode)}}]),x(B,[{key:"addBinding",value:function(Y){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},ie=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},le=H(Y);if(null==le||null==le.key)return F.warn("Attempted to add invalid keyboard binding",le);"function"==typeof X&&(X={handler:X}),"function"==typeof ie&&(ie={handler:ie}),le=(0,i.default)(le,X,ie),this.bindings[le.key]=this.bindings[le.key]||[],this.bindings[le.key].push(le)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(X){if(!X.defaultPrevented){var le=(Y.bindings[X.which||X.keyCode]||[]).filter(function(ye){return B.match(X,ye)});if(0!==le.length){var se=Y.quill.getSelection();if(null!=se&&Y.quill.hasFocus()){var de=Y.quill.getLine(se.index),he=A(de,2),me=he[0],ve=he[1],G=Y.quill.getLeaf(se.index),$=A(G,2),te=$[0],re=$[1],ee=0===se.length?[te,re]:Y.quill.getLeaf(se.index+se.length),ue=A(ee,2),fe=ue[0],ce=ue[1],_e=te instanceof u.default.Text?te.value().slice(0,re):"",Oe=fe instanceof u.default.Text?fe.value().slice(ce):"",pe={collapsed:0===se.length,empty:0===se.length&&me.length()<=1,format:Y.quill.getFormat(se),offset:ve,prefix:_e,suffix:Oe};le.some(function(ye){if(null!=ye.collapsed&&ye.collapsed!==pe.collapsed||null!=ye.empty&&ye.empty!==pe.empty||null!=ye.offset&&ye.offset!==pe.offset)return!1;if(Array.isArray(ye.format)){if(ye.format.every(function(Ee){return null==pe.format[Ee]}))return!1}else if("object"===q(ye.format)&&!Object.keys(ye.format).every(function(Ee){return!0===ye.format[Ee]?null!=pe.format[Ee]:!1===ye.format[Ee]?null==pe.format[Ee]:(0,a.default)(ye.format[Ee],pe.format[Ee])}))return!1;return!(null!=ye.prefix&&!ye.prefix.test(pe.prefix)||null!=ye.suffix&&!ye.suffix.test(pe.suffix))&&!0!==ye.handler.call(Y,se,pe)})&&X.preventDefault()}}}})}}]),B}(k.default);function W(M,B){var Q;return p(Q={key:M,shiftKey:B,altKey:null},M===V.keys.LEFT?"prefix":"suffix",/^$/),p(Q,"handler",function(ie){var le=ie.index;M===V.keys.RIGHT&&(le+=ie.length+1);var se=this.quill.getLeaf(le);return!(A(se,1)[0]instanceof u.default.Embed&&(M===V.keys.LEFT?B?this.quill.setSelection(ie.index-1,ie.length+1,d.default.sources.USER):this.quill.setSelection(ie.index-1,d.default.sources.USER):B?this.quill.setSelection(ie.index,ie.length+1,d.default.sources.USER):this.quill.setSelection(ie.index+ie.length+1,d.default.sources.USER),1))}),Q}function j(M,B){if(!(0===M.index||this.quill.getLength()<=1)){var Q=this.quill.getLine(M.index),X=A(Q,1)[0],ie={};if(0===B.offset){var le=this.quill.getLine(M.index-1),de=A(le,1)[0];if(null!=de&&de.length()>1){var he=X.formats(),me=this.quill.getFormat(M.index-1,1);ie=o.default.attributes.diff(he,me)||{}}}var ve=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(B.prefix)?2:1;this.quill.deleteText(M.index-ve,ve,d.default.sources.USER),Object.keys(ie).length>0&&this.quill.formatLine(M.index-ve,ve,ie,d.default.sources.USER),this.quill.focus()}}function I(M,B){var Q=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(B.suffix)?2:1;if(!(M.index>=this.quill.getLength()-Q)){var Y={},X=0,ie=this.quill.getLine(M.index),se=A(ie,1)[0];if(B.offset>=se.length()-1){var de=this.quill.getLine(M.index+1),me=A(de,1)[0];if(me){var ve=se.formats(),G=this.quill.getFormat(M.index,1);Y=o.default.attributes.diff(ve,G)||{},X=me.length()}}this.quill.deleteText(M.index,Q,d.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(M.index+X-1,Q,Y,d.default.sources.USER)}}function w(M){var B=this.quill.getLines(M),Q={};if(B.length>1){var Y=B[0].formats(),X=B[B.length-1].formats();Q=o.default.attributes.diff(X,Y)||{}}this.quill.deleteText(M,d.default.sources.USER),Object.keys(Q).length>0&&this.quill.formatLine(M.index,1,Q,d.default.sources.USER),this.quill.setSelection(M.index,d.default.sources.SILENT),this.quill.focus()}function P(M,B){var Q=this;M.length>0&&this.quill.scroll.deleteAt(M.index,M.length);var Y=Object.keys(B.format).reduce(function(X,ie){return u.default.query(ie,u.default.Scope.BLOCK)&&!Array.isArray(B.format[ie])&&(X[ie]=B.format[ie]),X},{});this.quill.insertText(M.index,"\n",Y,d.default.sources.USER),this.quill.setSelection(M.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(B.format).forEach(function(X){null==Y[X]&&(Array.isArray(B.format[X])||"link"!==X&&Q.quill.format(X,B.format[X],d.default.sources.USER))})}function R(M){return{key:V.keys.TAB,shiftKey:!M,format:{"code-block":!0},handler:function(Q){var Y=u.default.query("code-block"),X=Q.index,ie=Q.length,le=this.quill.scroll.descendant(Y,X),se=A(le,2),de=se[0],he=se[1];if(null!=de){var me=this.quill.getIndex(de),ve=de.newlineIndex(he,!0)+1,G=de.newlineIndex(me+he+ie),$=de.domNode.textContent.slice(ve,G).split("\n");he=0,$.forEach(function(te,re){M?(de.insertAt(ve+he,Y.TAB),he+=Y.TAB.length,0===re?X+=Y.TAB.length:ie+=Y.TAB.length):te.startsWith(Y.TAB)&&(de.deleteAt(ve+he,Y.TAB.length),he-=Y.TAB.length,0===re?X-=Y.TAB.length:ie-=Y.TAB.length),he+=te.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(X,ie,d.default.sources.SILENT)}}}}function z(M){return{key:M[0].toUpperCase(),shortKey:!0,handler:function(Q,Y){this.quill.format(M,!Y.format[M],d.default.sources.USER)}}}function H(M){if("string"==typeof M||"number"==typeof M)return H({key:M});if("object"===(typeof M>"u"?"undefined":q(M))&&(M=(0,E.default)(M,!1)),"string"==typeof M.key)if(null!=V.keys[M.key.toUpperCase()])M.key=V.keys[M.key.toUpperCase()];else{if(1!==M.key.length)return null;M.key=M.key.toUpperCase().charCodeAt(0)}return M.shortKey&&(M[D]=M.shortKey,delete M.shortKey),M}V.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},V.DEFAULTS={bindings:{bold:z("bold"),italic:z("italic"),underline:z("underline"),indent:{key:V.keys.TAB,format:["blockquote","indent","list"],handler:function(B,Q){if(Q.collapsed&&0!==Q.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:V.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,Q){if(Q.collapsed&&0!==Q.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:V.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,Q){null!=Q.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=Q.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:V.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,d.default.sources.USER)}},tab:{key:V.keys.TAB,handler:function(B){this.quill.history.cutoff();var Q=(new l.default).retain(B.index).delete(B.length).insert("\t");this.quill.updateContents(Q,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,d.default.sources.SILENT)}},"list empty enter":{key:V.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,Q){this.quill.format("list",!1,d.default.sources.USER),Q.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:V.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var Q=this.quill.getLine(B.index),Y=A(Q,2),X=Y[0],ie=Y[1],le=(0,i.default)({},X.formats(),{list:"checked"}),se=(new l.default).retain(B.index).insert("\n",le).retain(X.length()-ie-1).retain(1,{list:"unchecked"});this.quill.updateContents(se,d.default.sources.USER),this.quill.setSelection(B.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:V.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,Q){var Y=this.quill.getLine(B.index),X=A(Y,2),ie=X[0],le=X[1],se=(new l.default).retain(B.index).insert("\n",Q.format).retain(ie.length()-le-1).retain(1,{header:null});this.quill.updateContents(se,d.default.sources.USER),this.quill.setSelection(B.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,Q){var Y=Q.prefix.length,X=this.quill.getLine(B.index),ie=A(X,2),le=ie[0],se=ie[1];if(se>Y)return!0;var de=void 0;switch(Q.prefix.trim()){case"[]":case"[ ]":de="unchecked";break;case"[x]":de="checked";break;case"-":case"*":de="bullet";break;default:de="ordered"}this.quill.insertText(B.index," ",d.default.sources.USER),this.quill.history.cutoff();var he=(new l.default).retain(B.index-se).delete(Y+1).retain(le.length()-2-se).retain(1,{list:de});this.quill.updateContents(he,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-Y,d.default.sources.SILENT)}},"code exit":{key:V.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var Q=this.quill.getLine(B.index),Y=A(Q,2),X=Y[0],ie=Y[1],le=(new l.default).retain(B.index+X.length()-ie-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(le,d.default.sources.USER)}},"embed left":W(V.keys.LEFT,!1),"embed left shift":W(V.keys.LEFT,!0),"embed right":W(V.keys.RIGHT,!1),"embed right shift":W(V.keys.RIGHT,!0)}},_.default=V,_.SHORTKEY=D},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(t,u){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function o(t,u){var n=[],d=!0,c=!1,g=void 0;try{for(var k,O=t[Symbol.iterator]();!(d=(k=O.next()).done)&&(n.push(k.value),!u||n.length!==u);d=!0);}catch(v){c=!0,g=v}finally{try{!d&&O.return&&O.return()}finally{if(c)throw g}}return n}(t,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function o(t,u,n){null===t&&(t=Function.prototype);var d=Object.getOwnPropertyDescriptor(t,u);if(void 0===d){var c=Object.getPrototypeOf(t);return null===c?void 0:o(c,u,n)}if("value"in d)return d.value;var g=d.get;return void 0===g?void 0:g.call(n)},x=function(){function o(t,u){for(var n=0;n<u.length;n++){var d=u[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,u,n){return u&&o(t.prototype,u),n&&o(t,n),t}}(),E=r(y(0)),a=r(y(7));function r(o){return o&&o.__esModule?o:{default:o}}var s=function(o){function t(u,n){!function i(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function f(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return d.selection=n,d.textNode=document.createTextNode(t.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return function l(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),x(t,null,[{key:"value",value:function(){}}]),x(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(n,d){if(0!==this._length)return A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,n,d);for(var c=this,g=0;null!=c&&c.statics.scope!==E.default.Scope.BLOCK_BLOT;)g+=c.offset(c.parent),c=c.parent;null!=c&&(this._length=t.CONTENTS.length,c.optimize(),c.formatAt(g,t.CONTENTS.length,n,d),this._length=0)}},{key:"index",value:function(n,d){return n===this.textNode?0:A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,n,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var n=this.textNode,d=this.selection.getNativeRange(),c=void 0,g=void 0,O=void 0;if(null!=d&&d.start.node===n&&d.end.node===n){var k=[n,d.start.offset,d.end.offset];c=k[0],g=k[1],O=k[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var v=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof a.default?(c=this.next.domNode,this.next.insertAt(0,v),this.textNode.data=t.CONTENTS):(this.textNode.data=v,this.parent.insertBefore(E.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=g){var p=[g,O].map(function(T){return Math.max(0,Math.min(c.data.length,T-1))}),h=q(p,2);return{startNode:c,startOffset:g=h[0],endNode:c,endOffset:O=h[1]}}}}},{key:"update",value:function(n,d){var c=this;if(n.some(function(O){return"characterData"===O.type&&O.target===c.textNode})){var g=this.restore();g&&(d.range=g)}}},{key:"value",value:function(){return""}}]),t}(E.default.Embed);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\ufeff",_.default=s},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=E(y(0)),x=y(4),e=E(x);function E(f){return f&&f.__esModule?f:{default:f}}var i=function(f){function l(){return function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function r(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),l}(A.default.Container);i.allowedChildren=[e.default,x.BlockEmbed,i],_.default=i},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.ColorStyle=_.ColorClass=_.ColorAttributor=void 0;var q=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),A=function s(o,t,u){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var d=Object.getPrototypeOf(o);return null===d?void 0:s(d,t,u)}if("value"in n)return n.value;var c=n.get;return void 0===c?void 0:c.call(u)},e=function E(s){return s&&s.__esModule?s:{default:s}}(y(0));var i=function(s){function o(){return function m(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function a(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?s:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function r(s,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}(o,s),q(o,[{key:"value",value:function(u){var n=A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"value",this).call(this,u);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(d){return("00"+parseInt(d).toString(16)).slice(-2)}).join(""):n}}]),o}(e.default.Attributor.Style),f=new e.default.Attributor.Class("color","ql-color",{scope:e.default.Scope.INLINE}),l=new i("color","color",{scope:e.default.Scope.INLINE});_.ColorAttributor=i,_.ColorClass=f,_.ColorStyle=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.sanitize=_.default=void 0;var q=function(){function l(s,o){for(var t=0;t<o.length;t++){var u=o[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}return function(s,o,t){return o&&l(s.prototype,o),t&&l(s,t),s}}(),A=function l(s,o,t){null===s&&(s=Function.prototype);var u=Object.getOwnPropertyDescriptor(s,o);if(void 0===u){var n=Object.getPrototypeOf(s);return null===n?void 0:l(n,o,t)}if("value"in u)return u.value;var d=u.get;return void 0===d?void 0:d.call(t)};var i=function(l){function s(){return function m(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function a(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?l:s}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function r(l,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(l,s):l.__proto__=s)}(s,l),q(s,[{key:"format",value:function(t,u){if(t!==this.statics.blotName||!u)return A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"format",this).call(this,t,u);u=this.constructor.sanitize(u),this.domNode.setAttribute("href",u)}}],[{key:"create",value:function(t){var u=A(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,t);return t=this.sanitize(t),u.setAttribute("href",t),u.setAttribute("rel","noopener noreferrer"),u.setAttribute("target","_blank"),u}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return f(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),s}(function E(l){return l&&l.__esModule?l:{default:l}}(y(6)).default);function f(l,s){var o=document.createElement("a");o.href=l;var t=o.href.slice(0,o.href.indexOf(":"));return s.indexOf(t)>-1}i.blotName="link",i.tagName="A",i.SANITIZED_URL="about:blank",i.PROTOCOL_WHITELIST=["http","https","mailto","tel"],_.default=i,_.sanitize=f},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},A=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),e=a(y(23)),m=a(y(107));function a(s){return s&&s.__esModule?s:{default:s}}var i=0;function f(s,o){s.setAttribute(o,"true"!==s.getAttribute(o))}var l=function(){function s(o){var t=this;(function r(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")})(this,s),this.select=o,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){t.togglePicker()}),this.label.addEventListener("keydown",function(u){switch(u.keyCode){case e.default.keys.ENTER:t.togglePicker();break;case e.default.keys.ESCAPE:t.escape(),u.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return A(s,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var u=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){u.selectItem(n,!0)}),n.addEventListener("keydown",function(d){switch(d.keyCode){case e.default.keys.ENTER:u.selectItem(n,!0),d.preventDefault();break;case e.default.keys.ESCAPE:u.escape(),d.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=m.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,u=document.createElement("span");u.classList.add("ql-picker-options"),u.setAttribute("aria-hidden","true"),u.tabIndex="-1",u.id="ql-picker-options-"+i,i+=1,this.label.setAttribute("aria-controls",u.id),this.options=u,[].slice.call(this.select.options).forEach(function(n){var d=t.buildItem(n);u.appendChild(d),!0===n.selected&&t.selectItem(d)}),this.container.appendChild(u)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(u){t.container.setAttribute(u.name,u.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),u))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":q(Event))){var d=document.createEvent("Event");d.initEvent("change",!0,!0),this.select.dispatchEvent(d)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var u=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(u)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),s}();_.default=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=F(y(0)),e=F(y(5)),E=y(4),m=F(E),r=F(y(16)),f=F(y(25)),s=F(y(24)),t=F(y(35)),n=F(y(6)),c=F(y(22)),O=F(y(7)),v=F(y(55)),h=F(y(42)),C=F(y(23));function F(D){return D&&D.__esModule?D:{default:D}}e.default.register({"blots/block":m.default,"blots/block/embed":E.BlockEmbed,"blots/break":r.default,"blots/container":f.default,"blots/cursor":s.default,"blots/embed":t.default,"blots/inline":n.default,"blots/scroll":c.default,"blots/text":O.default,"modules/clipboard":v.default,"modules/history":h.default,"modules/keyboard":C.default}),A.default.register(m.default,r.default,s.default,n.default,c.default,O.default),_.default=e.default},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=y(1),A=function(){function x(e){this.domNode=e,this.domNode[q.DATA_KEY]={blot:this}}return Object.defineProperty(x.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),x.create=function(e){if(null==this.tagName)throw new q.ParchmentError("Blot definition missing tagName");var E;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),E="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):E=document.createElement(this.tagName),this.className&&E.classList.add(this.className),E},x.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},x.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return q.create(e)},x.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[q.DATA_KEY]},x.prototype.deleteAt=function(e,E){this.isolate(e,E).remove()},x.prototype.formatAt=function(e,E,m,a){var r=this.isolate(e,E);if(null!=q.query(m,q.Scope.BLOT)&&a)r.wrap(m,a);else if(null!=q.query(m,q.Scope.ATTRIBUTE)){var i=q.create(this.statics.scope);r.wrap(i),i.format(m,a)}},x.prototype.insertAt=function(e,E,m){var a=null==m?q.create("text",E):q.create(E,m),r=this.split(e);this.parent.insertBefore(a,r)},x.prototype.insertInto=function(e,E){void 0===E&&(E=null),null!=this.parent&&this.parent.children.remove(this);var m=null;e.children.insertBefore(this,E),null!=E&&(m=E.domNode),(this.domNode.parentNode!=e.domNode||this.domNode.nextSibling!=m)&&e.domNode.insertBefore(this.domNode,m),this.parent=e,this.attach()},x.prototype.isolate=function(e,E){var m=this.split(e);return m.split(E),m},x.prototype.length=function(){return 1},x.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},x.prototype.optimize=function(e){null!=this.domNode[q.DATA_KEY]&&delete this.domNode[q.DATA_KEY].mutations},x.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},x.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},x.prototype.replaceWith=function(e,E){var m="string"==typeof e?q.create(e,E):e;return m.replace(this),m},x.prototype.split=function(e,E){return 0===e?this:this.next},x.prototype.update=function(e,E){},x.prototype.wrap=function(e,E){var m="string"==typeof e?q.create(e,E):e;return null!=this.parent&&this.parent.insertBefore(m,this.next),m.appendChild(this),m},x.blotName="abstract",x}();_.default=A},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=y(12),A=y(32),x=y(33),e=y(1),E=function(){function m(a){this.attributes={},this.domNode=a,this.build()}return m.prototype.attribute=function(a,r){r?a.add(this.domNode,r)&&(null!=a.value(this.domNode)?this.attributes[a.attrName]=a:delete this.attributes[a.attrName]):(a.remove(this.domNode),delete this.attributes[a.attrName])},m.prototype.build=function(){var a=this;this.attributes={};var r=q.default.keys(this.domNode),i=A.default.keys(this.domNode),f=x.default.keys(this.domNode);r.concat(i).concat(f).forEach(function(l){var s=e.query(l,e.Scope.ATTRIBUTE);s instanceof q.default&&(a.attributes[s.attrName]=s)})},m.prototype.copy=function(a){var r=this;Object.keys(this.attributes).forEach(function(i){var f=r.attributes[i].value(r.domNode);a.format(i,f)})},m.prototype.move=function(a){var r=this;this.copy(a),Object.keys(this.attributes).forEach(function(i){r.attributes[i].remove(r.domNode)}),this.attributes={}},m.prototype.values=function(){var a=this;return Object.keys(this.attributes).reduce(function(r,i){return r[i]=a.attributes[i].value(a.domNode),r},{})},m}();_.default=E},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var r in a)a.hasOwnProperty(r)&&(m[r]=a[r])},function(m,a){function r(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)});function x(E,m){return(E.getAttribute("class")||"").split(/\s+/).filter(function(r){return 0===r.indexOf(m+"-")})}Object.defineProperty(_,"__esModule",{value:!0});var e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return q(m,E),m.keys=function(a){return(a.getAttribute("class")||"").split(/\s+/).map(function(r){return r.split("-").slice(0,-1).join("-")})},m.prototype.add=function(a,r){return!!this.canAdd(a,r)&&(this.remove(a),a.classList.add(this.keyName+"-"+r),!0)},m.prototype.remove=function(a){x(a,this.keyName).forEach(function(i){a.classList.remove(i)}),0===a.classList.length&&a.removeAttribute("class")},m.prototype.value=function(a){var i=(x(a,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(a,i)?i:""},m}(y(12).default);_.default=e},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var r in a)a.hasOwnProperty(r)&&(m[r]=a[r])},function(m,a){function r(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)});function x(E){var m=E.split("-"),a=m.slice(1).map(function(r){return r[0].toUpperCase()+r.slice(1)}).join("");return m[0]+a}Object.defineProperty(_,"__esModule",{value:!0});var e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return q(m,E),m.keys=function(a){return(a.getAttribute("style")||"").split(";").map(function(r){return r.split(":")[0].trim()})},m.prototype.add=function(a,r){return!!this.canAdd(a,r)&&(a.style[x(this.keyName)]=r,!0)},m.prototype.remove=function(a){a.style[x(this.keyName)]="",a.getAttribute("style")||a.removeAttribute("style")},m.prototype.value=function(a){var r=a.style[x(this.keyName)];return this.canAdd(a,r)?r:""},m}(y(12).default);_.default=e},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function e(E,m){for(var a=0;a<m.length;a++){var r=m[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(E,r.key,r)}}return function(E,m,a){return m&&e(E.prototype,m),a&&e(E,a),E}}();var x=function(){function e(E,m){(function A(e,E){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.quill=E,this.options=m,this.modules={}}return q(e,[{key:"init",value:function(){var m=this;Object.keys(this.options.modules).forEach(function(a){null==m.modules[a]&&m.addModule(a)})}},{key:"addModule",value:function(m){var a=this.quill.constructor.import("modules/"+m);return this.modules[m]=new a(this.quill,this.options.modules[m]||{}),this.modules[m]}}]),e}();x.DEFAULTS={modules:{}},x.themes={default:x},_.default=x},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function o(t,u){for(var n=0;n<u.length;n++){var d=u[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,u,n){return u&&o(t.prototype,u),n&&o(t,n),t}}(),A=function o(t,u,n){null===t&&(t=Function.prototype);var d=Object.getOwnPropertyDescriptor(t,u);if(void 0===d){var c=Object.getPrototypeOf(t);return null===c?void 0:o(c,u,n)}if("value"in d)return d.value;var g=d.get;return void 0===g?void 0:g.call(n)},e=a(y(0)),m=a(y(7));function a(o){return o&&o.__esModule?o:{default:o}}var l="\ufeff",s=function(o){function t(u){!function r(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function i(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(d){n.contentNode.appendChild(d)}),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function f(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),q(t,[{key:"index",value:function(n,d){return n===this.leftGuard?0:n===this.rightGuard?1:A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,n,d)}},{key:"restore",value:function(n){var d=void 0,c=void 0,g=n.data.split(l).join("");if(n===this.leftGuard)if(this.prev instanceof m.default){var O=this.prev.length();this.prev.insertAt(O,g),d={startNode:this.prev.domNode,startOffset:O+g.length}}else c=document.createTextNode(g),this.parent.insertBefore(e.default.create(c),this),d={startNode:c,startOffset:g.length};else n===this.rightGuard&&(this.next instanceof m.default?(this.next.insertAt(0,g),d={startNode:this.next.domNode,startOffset:g.length}):(c=document.createTextNode(g),this.parent.insertBefore(e.default.create(c),this.next),d={startNode:c,startOffset:g.length}));return n.data=l,d}},{key:"update",value:function(n,d){var c=this;n.forEach(function(g){if("characterData"===g.type&&(g.target===c.leftGuard||g.target===c.rightGuard)){var O=c.restore(g.target);O&&(d.range=O)}})}}]),t}(e.default.Embed);_.default=s},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.AlignStyle=_.AlignClass=_.AlignAttribute=void 0;var A=function x(r){return r&&r.__esModule?r:{default:r}}(y(0));var e={scope:A.default.Scope.BLOCK,whitelist:["right","center","justify"]},E=new A.default.Attributor.Attribute("align","align",e),m=new A.default.Attributor.Class("align","ql-align",e),a=new A.default.Attributor.Style("align","text-align",e);_.AlignAttribute=E,_.AlignClass=m,_.AlignStyle=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.BackgroundStyle=_.BackgroundClass=void 0;var A=function e(a){return a&&a.__esModule?a:{default:a}}(y(0)),x=y(26);var E=new A.default.Attributor.Class("background","ql-bg",{scope:A.default.Scope.INLINE}),m=new x.ColorAttributor("background","background-color",{scope:A.default.Scope.INLINE});_.BackgroundClass=E,_.BackgroundStyle=m},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.DirectionStyle=_.DirectionClass=_.DirectionAttribute=void 0;var A=function x(r){return r&&r.__esModule?r:{default:r}}(y(0));var e={scope:A.default.Scope.BLOCK,whitelist:["rtl"]},E=new A.default.Attributor.Attribute("direction","dir",e),m=new A.default.Attributor.Class("direction","ql-direction",e),a=new A.default.Attributor.Style("direction","direction",e);_.DirectionAttribute=E,_.DirectionClass=m,_.DirectionStyle=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.FontClass=_.FontStyle=void 0;var q=function(){function o(t,u){for(var n=0;n<u.length;n++){var d=u[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,u,n){return u&&o(t.prototype,u),n&&o(t,n),t}}(),A=function o(t,u,n){null===t&&(t=Function.prototype);var d=Object.getOwnPropertyDescriptor(t,u);if(void 0===d){var c=Object.getPrototypeOf(t);return null===c?void 0:o(c,u,n)}if("value"in d)return d.value;var g=d.get;return void 0===g?void 0:g.call(n)},e=function E(o){return o&&o.__esModule?o:{default:o}}(y(0));var i={scope:e.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new e.default.Attributor.Class("font","ql-font",i),l=function(o){function t(){return function m(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function a(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function r(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),q(t,[{key:"value",value:function(n){return A(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]),t}(e.default.Attributor.Style),s=new l("font","font-family",i);_.FontStyle=s,_.FontClass=f},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SizeStyle=_.SizeClass=void 0;var A=function x(m){return m&&m.__esModule?m:{default:m}}(y(0));var e=new A.default.Attributor.Class("size","ql-size",{scope:A.default.Scope.INLINE,whitelist:["small","large","huge"]}),E=new A.default.Attributor.Style("size","font-size",{scope:A.default.Scope.INLINE,whitelist:["10px","18px","32px"]});_.SizeClass=e,_.SizeStyle=E},function(J,_,y){"use strict";J.exports={align:{"":y(76),center:y(77),right:y(78),justify:y(79)},background:y(80),blockquote:y(81),bold:y(82),clean:y(83),code:y(58),"code-block":y(58),color:y(84),direction:{"":y(85),rtl:y(86)},float:{center:y(87),full:y(88),left:y(89),right:y(90)},formula:y(91),header:{1:y(92),2:y(93)},italic:y(94),image:y(95),indent:{"+1":y(96),"-1":y(97)},link:y(98),list:{ordered:y(99),bullet:y(100),check:y(101)},script:{sub:y(102),super:y(103)},strike:y(104),underline:y(105),video:y(106)}},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.getLastChangeIndex=_.default=void 0;var q=function(){function u(n,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,g.key,g)}}return function(n,d,c){return d&&u(n.prototype,d),c&&u(n,c),n}}(),x=r(y(0)),E=r(y(5));function r(u){return u&&u.__esModule?u:{default:u}}var s=function(u){function n(d,c){!function i(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var g=function f(u,n){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?u:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,d,c));return g.lastRecorded=0,g.ignoreChange=!1,g.clear(),g.quill.on(E.default.events.EDITOR_CHANGE,function(O,k,v,p){O!==E.default.events.TEXT_CHANGE||g.ignoreChange||(g.options.userOnly&&p!==E.default.sources.USER?g.transform(k):g.record(k,v))}),g.quill.keyboard.addBinding({key:"Z",shortKey:!0},g.undo.bind(g)),g.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},g.redo.bind(g)),/Win/i.test(navigator.platform)&&g.quill.keyboard.addBinding({key:"Y",shortKey:!0},g.redo.bind(g)),g}return function l(u,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(u,n):u.__proto__=n)}(n,u),q(n,[{key:"change",value:function(c,g){if(0!==this.stack[c].length){var O=this.stack[c].pop();this.stack[g].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[c],E.default.sources.USER),this.ignoreChange=!1;var k=t(O[c]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(c,g){if(0!==c.ops.length){this.stack.redo=[];var O=this.quill.getContents().diff(g),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var v=this.stack.undo.pop();O=O.compose(v.undo),c=v.redo.compose(c)}else this.lastRecorded=k;this.stack.undo.push({redo:c,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(c){this.stack.undo.forEach(function(g){g.undo=c.transform(g.undo,!0),g.redo=c.transform(g.redo,!0)}),this.stack.redo.forEach(function(g){g.undo=c.transform(g.undo,!0),g.redo=c.transform(g.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(r(y(9)).default);function t(u){var n=u.reduce(function(c,g){return c+(g.delete||0)},0),d=u.length()-n;return function o(u){var n=u.ops[u.ops.length-1];return null!=n&&(null!=n.insert?"string"==typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some(function(d){return null!=x.default.query(d,x.default.Scope.BLOCK)}))}(u)&&(d-=1),d}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},_.default=s,_.getLastChangeIndex=t},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BaseTooltip=void 0;var q=function(){function P(R,z){for(var H=0;H<z.length;H++){var M=z[H];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(R,M.key,M)}}return function(R,z,H){return z&&P(R.prototype,z),H&&P(R,H),R}}(),A=function P(R,z,H){null===R&&(R=Function.prototype);var M=Object.getOwnPropertyDescriptor(R,z);if(void 0===M){var B=Object.getPrototypeOf(R);return null===B?void 0:P(B,z,H)}if("value"in M)return M.value;var Q=M.get;return void 0===Q?void 0:Q.call(H)},e=k(y(3)),m=k(y(2)),r=k(y(8)),f=k(y(23)),s=k(y(34)),t=k(y(59)),n=k(y(60)),c=k(y(28)),O=k(y(61));function k(P){return P&&P.__esModule?P:{default:P}}function v(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")}function p(P,R){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?P:R}function h(P,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);P.prototype=Object.create(R&&R.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(P,R):P.__proto__=R)}var T=[!1,"center","right","justify"],C=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],D=["1","2","3",!1],V=["small",!1,"large","huge"],W=function(P){function R(z,H){v(this,R);var M=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,z,H));return z.emitter.listenDOM("click",document.body,function Q(Y){if(!document.body.contains(z.root))return document.body.removeEventListener("click",Q);null!=M.tooltip&&!M.tooltip.root.contains(Y.target)&&document.activeElement!==M.tooltip.textbox&&!M.quill.hasFocus()&&M.tooltip.hide(),null!=M.pickers&&M.pickers.forEach(function(X){X.container.contains(Y.target)||X.close()})}),M}return h(R,P),q(R,[{key:"addModule",value:function(H){var M=A(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,H);return"toolbar"===H&&this.extendToolbar(M),M}},{key:"buildButtons",value:function(H,M){H.forEach(function(B){(B.getAttribute("class")||"").split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),null!=M[Y]))if("direction"===Y)B.innerHTML=M[Y][""]+M[Y].rtl;else if("string"==typeof M[Y])B.innerHTML=M[Y];else{var X=B.value||"";null!=X&&M[Y][X]&&(B.innerHTML=M[Y][X])}})})}},{key:"buildPickers",value:function(H,M){var B=this;this.pickers=H.map(function(Y){if(Y.classList.contains("ql-align"))return null==Y.querySelector("option")&&w(Y,T),new n.default(Y,M.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var X=Y.classList.contains("ql-background")?"background":"color";return null==Y.querySelector("option")&&w(Y,C,"background"===X?"#ffffff":"#000000"),new t.default(Y,M[X])}return null==Y.querySelector("option")&&(Y.classList.contains("ql-font")?w(Y,F):Y.classList.contains("ql-header")?w(Y,D):Y.classList.contains("ql-size")&&w(Y,V)),new c.default(Y)}),this.quill.on(r.default.events.EDITOR_CHANGE,function(){B.pickers.forEach(function(X){X.update()})})}}]),R}(s.default);W.DEFAULTS=(0,e.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,z=this.container.querySelector("input.ql-image[type=file]");null==z&&((z=document.createElement("input")).setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(null!=z.files&&null!=z.files[0]){var H=new FileReader;H.onload=function(M){var B=R.quill.getSelection(!0);R.quill.updateContents((new m.default).retain(B.index).delete(B.length).insert({image:M.target.result}),r.default.sources.USER),R.quill.setSelection(B.index+1,r.default.sources.SILENT),z.value=""},H.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(P){function R(z,H){v(this,R);var M=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,z,H));return M.textbox=M.root.querySelector('input[type="text"]'),M.listen(),M}return h(R,P),q(R,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(M){f.default.match(M,"enter")?(H.save(),M.preventDefault()):f.default.match(M,"escape")&&(H.cancel(),M.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",M=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=M?this.textbox.value=M:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var M=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,r.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,r.default.sources.USER)),this.quill.root.scrollTop=M;break;case"video":H=function I(P){var R=P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||P.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=P.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":P}(H);case"formula":if(!H)break;var B=this.quill.getSelection(!0);if(null!=B){var Q=B.index+B.length;this.quill.insertEmbed(Q,this.root.getAttribute("data-mode"),H,r.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Q+1," ",r.default.sources.USER),this.quill.setSelection(Q+2,r.default.sources.USER)}}this.textbox.value="",this.hide()}}]),R}(O.default);function w(P,R){var z=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R.forEach(function(H){var M=document.createElement("option");H===z?M.setAttribute("selected","selected"):M.setAttribute("value",H),P.appendChild(M)})}_.BaseTooltip=j,_.default=W},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function A(){this.head=this.tail=null,this.length=0}return A.prototype.append=function(){for(var x=[],e=0;e<arguments.length;e++)x[e]=arguments[e];this.insertBefore(x[0],null),x.length>1&&this.append.apply(this,x.slice(1))},A.prototype.contains=function(x){for(var e,E=this.iterator();e=E();)if(e===x)return!0;return!1},A.prototype.insertBefore=function(x,e){x&&(x.next=e,null!=e?(x.prev=e.prev,null!=e.prev&&(e.prev.next=x),e.prev=x,e===this.head&&(this.head=x)):null!=this.tail?(this.tail.next=x,x.prev=this.tail,this.tail=x):(x.prev=null,this.head=this.tail=x),this.length+=1)},A.prototype.offset=function(x){for(var e=0,E=this.head;null!=E;){if(E===x)return e;e+=E.length(),E=E.next}return-1},A.prototype.remove=function(x){this.contains(x)&&(null!=x.prev&&(x.prev.next=x.next),null!=x.next&&(x.next.prev=x.prev),x===this.head&&(this.head=x.next),x===this.tail&&(this.tail=x.prev),this.length-=1)},A.prototype.iterator=function(x){return void 0===x&&(x=this.head),function(){var e=x;return null!=x&&(x=x.next),e}},A.prototype.find=function(x,e){void 0===e&&(e=!1);for(var E,m=this.iterator();E=m();){var a=E.length();if(x<a||e&&x===a&&(null==E.next||0!==E.next.length()))return[E,x];x-=a}return[null,0]},A.prototype.forEach=function(x){for(var e,E=this.iterator();e=E();)x(e)},A.prototype.forEachAt=function(x,e,E){if(!(e<=0))for(var i,m=this.find(x),f=x-m[1],l=this.iterator(m[0]);(i=l())&&f<x+e;){var s=i.length();x>f?E(i,x-f,Math.min(e,f+s-x)):E(i,0,Math.min(s,x+e-f)),f+=s}},A.prototype.map=function(x){return this.reduce(function(e,E){return e.push(x(E)),e},[])},A.prototype.reduce=function(x,e){for(var E,m=this.iterator();E=m();)e=x(e,E);return e},A}();_.default=q},function(J,_,y){"use strict";var a,q=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,i){r.__proto__=i}||function(r,i){for(var f in i)i.hasOwnProperty(f)&&(r[f]=i[f])},function(r,i){function f(){this.constructor=r}a(r,i),r.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(_,"__esModule",{value:!0});var A=y(17),x=y(1),e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=function(a){function r(i){var f=a.call(this,i)||this;return f.scroll=f,f.observer=new MutationObserver(function(l){f.update(l)}),f.observer.observe(f.domNode,e),f.attach(),f}return q(r,a),r.prototype.detach=function(){a.prototype.detach.call(this),this.observer.disconnect()},r.prototype.deleteAt=function(i,f){this.update(),0===i&&f===this.length()?this.children.forEach(function(l){l.remove()}):a.prototype.deleteAt.call(this,i,f)},r.prototype.formatAt=function(i,f,l,s){this.update(),a.prototype.formatAt.call(this,i,f,l,s)},r.prototype.insertAt=function(i,f,l){this.update(),a.prototype.insertAt.call(this,i,f,l)},r.prototype.optimize=function(i,f){var l=this;void 0===i&&(i=[]),void 0===f&&(f={}),a.prototype.optimize.call(this,f);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)i.push(s.pop());for(var o=function(d,c){void 0===c&&(c=!0),null!=d&&d!==l&&null!=d.domNode.parentNode&&(null==d.domNode[x.DATA_KEY].mutations&&(d.domNode[x.DATA_KEY].mutations=[]),c&&o(d.parent))},t=function(d){null==d.domNode[x.DATA_KEY]||null==d.domNode[x.DATA_KEY].mutations||(d instanceof A.default&&d.children.forEach(t),d.optimize(f))},u=i,n=0;u.length>0;n+=1){if(n>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(d){var c=x.find(d.target,!0);null!=c&&(c.domNode===d.target&&("childList"===d.type?(o(x.find(d.previousSibling,!1)),[].forEach.call(d.addedNodes,function(g){var O=x.find(g,!1);o(O,!1),O instanceof A.default&&O.children.forEach(function(k){o(k,!1)})})):"attributes"===d.type&&o(c.prev)),o(c))}),this.children.forEach(t),s=(u=[].slice.call(this.observer.takeRecords())).slice();s.length>0;)i.push(s.pop())}},r.prototype.update=function(i,f){var l=this;void 0===f&&(f={}),(i=i||this.observer.takeRecords()).map(function(s){var o=x.find(s.target,!0);return null==o?null:null==o.domNode[x.DATA_KEY].mutations?(o.domNode[x.DATA_KEY].mutations=[s],o):(o.domNode[x.DATA_KEY].mutations.push(s),null)}).forEach(function(s){null==s||s===l||null==s.domNode[x.DATA_KEY]||s.update(s.domNode[x.DATA_KEY].mutations||[],f)}),null!=this.domNode[x.DATA_KEY].mutations&&a.prototype.update.call(this,this.domNode[x.DATA_KEY].mutations,f),this.optimize(i,f)},r.blotName="scroll",r.defaultChild="block",r.scope=x.Scope.BLOCK_BLOT,r.tagName="DIV",r}(A.default);_.default=m},function(J,_,y){"use strict";var m,q=this&&this.__extends||(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,r){a.__proto__=r}||function(a,r){for(var i in r)r.hasOwnProperty(i)&&(a[i]=r[i])},function(a,r){function i(){this.constructor=a}m(a,r),a.prototype=null===r?Object.create(r):(i.prototype=r.prototype,new i)});Object.defineProperty(_,"__esModule",{value:!0});var A=y(18),x=y(1);var E=function(m){function a(){return null!==m&&m.apply(this,arguments)||this}return q(a,m),a.formats=function(r){if(r.tagName!==a.tagName)return m.formats.call(this,r)},a.prototype.format=function(r,i){var f=this;r!==this.statics.blotName||i?m.prototype.format.call(this,r,i):(this.children.forEach(function(l){l instanceof A.default||(l=l.wrap(a.blotName,!0)),f.attributes.copy(l)}),this.unwrap())},a.prototype.formatAt=function(r,i,f,l){null!=this.formats()[f]||x.query(f,x.Scope.ATTRIBUTE)?this.isolate(r,i).format(f,l):m.prototype.formatAt.call(this,r,i,f,l)},a.prototype.optimize=function(r){m.prototype.optimize.call(this,r);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var f=this.next;f instanceof a&&f.prev===this&&function e(m,a){if(Object.keys(m).length!==Object.keys(a).length)return!1;for(var r in m)if(m[r]!==a[r])return!1;return!0}(i,f.formats())&&(f.moveChildren(this),f.remove())},a.blotName="inline",a.scope=x.Scope.INLINE_BLOT,a.tagName="SPAN",a}(A.default);_.default=E},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var r in a)a.hasOwnProperty(r)&&(m[r]=a[r])},function(m,a){function r(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)});Object.defineProperty(_,"__esModule",{value:!0});var A=y(18),x=y(1),e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return q(m,E),m.formats=function(a){var r=x.query(m.blotName).tagName;if(a.tagName!==r)return E.formats.call(this,a)},m.prototype.format=function(a,r){null!=x.query(a,x.Scope.BLOCK)&&(a!==this.statics.blotName||r?E.prototype.format.call(this,a,r):this.replaceWith(m.blotName))},m.prototype.formatAt=function(a,r,i,f){null!=x.query(i,x.Scope.BLOCK)?this.format(i,f):E.prototype.formatAt.call(this,a,r,i,f)},m.prototype.insertAt=function(a,r,i){if(null==i||null!=x.query(r,x.Scope.INLINE))E.prototype.insertAt.call(this,a,r,i);else{var f=this.split(a),l=x.create(r,i);f.parent.insertBefore(l,f)}},m.prototype.update=function(a,r){navigator.userAgent.match(/Trident/)?this.build():E.prototype.update.call(this,a,r)},m.blotName="block",m.scope=x.Scope.BLOCK_BLOT,m.tagName="P",m}(A.default);_.default=e},function(J,_,y){"use strict";var e,q=this&&this.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,m){E.__proto__=m}||function(E,m){for(var a in m)m.hasOwnProperty(a)&&(E[a]=m[a])},function(E,m){function a(){this.constructor=E}e(E,m),E.prototype=null===m?Object.create(m):(a.prototype=m.prototype,new a)});Object.defineProperty(_,"__esModule",{value:!0});var x=function(e){function E(){return null!==e&&e.apply(this,arguments)||this}return q(E,e),E.formats=function(m){},E.prototype.format=function(m,a){e.prototype.formatAt.call(this,0,this.length(),m,a)},E.prototype.formatAt=function(m,a,r,i){0===m&&a===this.length()?this.format(r,i):e.prototype.formatAt.call(this,m,a,r,i)},E.prototype.formats=function(){return this.statics.formats(this.domNode)},E}(y(19).default);_.default=x},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var r in a)a.hasOwnProperty(r)&&(m[r]=a[r])},function(m,a){function r(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(r.prototype=a.prototype,new r)});Object.defineProperty(_,"__esModule",{value:!0});var A=y(19),x=y(1),e=function(E){function m(a){var r=E.call(this,a)||this;return r.text=r.statics.value(r.domNode),r}return q(m,E),m.create=function(a){return document.createTextNode(a)},m.value=function(a){var r=a.data;return r.normalize&&(r=r.normalize()),r},m.prototype.deleteAt=function(a,r){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+r)},m.prototype.index=function(a,r){return this.domNode===a?r:-1},m.prototype.insertAt=function(a,r,i){null==i?(this.text=this.text.slice(0,a)+r+this.text.slice(a),this.domNode.data=this.text):E.prototype.insertAt.call(this,a,r,i)},m.prototype.length=function(){return this.text.length},m.prototype.optimize=function(a){E.prototype.optimize.call(this,a),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof m&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},m.prototype.position=function(a,r){return void 0===r&&(r=!1),[this.domNode,a]},m.prototype.split=function(a,r){if(void 0===r&&(r=!1),!r){if(0===a)return this;if(a===this.length())return this.next}var i=x.create(this.domNode.splitText(a));return this.parent.insertBefore(i,this.next),this.text=this.statics.value(this.domNode),i},m.prototype.update=function(a,r){var i=this;a.some(function(f){return"characterData"===f.type&&f.target===i.domNode})&&(this.text=this.statics.value(this.domNode))},m.prototype.value=function(){return this.text},m.blotName="text",m.scope=x.Scope.INLINE_BLOT,m}(A.default);_.default=e},function(J,_,y){"use strict";var q=document.createElement("div");if(q.classList.toggle("test-class",!1),q.classList.contains("test-class")){var A=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(x,e){return arguments.length>1&&!this.contains(x)==!e?e:A.call(this,x)}}String.prototype.startsWith||(String.prototype.startsWith=function(x,e){return this.substr(e=e||0,x.length)===x}),String.prototype.endsWith||(String.prototype.endsWith=function(x,e){var E=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>E.length)&&(e=E.length);var m=E.indexOf(x,e-=x.length);return-1!==m&&m===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var r,E=Object(this),m=E.length>>>0,a=arguments[1],i=0;i<m;i++)if(e.call(a,r=E[i],i,E))return r}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(J,_){var y=-1,q=1,A=0;function x(n,d,c){if(n==d)return n?[[A,n]]:[];(c<0||n.length<c)&&(c=null);var g=a(n,d),O=n.substring(0,g);g=r(n=n.substring(g),d=d.substring(g));var k=n.substring(n.length-g),v=function e(n,d){var c;if(!n)return[[q,d]];if(!d)return[[y,n]];var g=n.length>d.length?n:d,O=n.length>d.length?d:n,k=g.indexOf(O);if(-1!=k)return c=[[q,g.substring(0,k)],[A,O],[q,g.substring(k+O.length)]],n.length>d.length&&(c[0][0]=c[2][0]=y),c;if(1==O.length)return[[y,n],[q,d]];var v=function i(n,d){var c=n.length>d.length?n:d,g=n.length>d.length?d:n;if(c.length<4||2*g.length<c.length)return null;function O(V,W,j){for(var R,z,H,M,I=V.substring(j,j+Math.floor(V.length/4)),w=-1,P="";-1!=(w=W.indexOf(I,w+1));){var B=a(V.substring(j),W.substring(w)),Q=r(V.substring(0,j),W.substring(0,w));P.length<Q+B&&(P=W.substring(w-Q,w)+W.substring(w,w+B),R=V.substring(0,j-Q),z=V.substring(j+B),H=W.substring(0,w-Q),M=W.substring(w+B))}return 2*P.length>=V.length?[R,z,H,M,P]:null}var p,h,T,C,F,k=O(c,g,Math.ceil(c.length/4)),v=O(c,g,Math.ceil(c.length/2));return k||v?(p=v?k&&k[4].length>v[4].length?k:v:k,n.length>d.length?(h=p[0],T=p[1],C=p[2],F=p[3]):(C=p[0],F=p[1],h=p[2],T=p[3]),[h,T,C,F,p[4]]):null}(n,d);if(v){var h=v[1],C=v[3],F=v[4],D=x(v[0],v[2]),V=x(h,C);return D.concat([[A,F]],V)}return function E(n,d){for(var c=n.length,g=d.length,O=Math.ceil((c+g)/2),k=O,v=2*O,p=new Array(v),h=new Array(v),T=0;T<v;T++)p[T]=-1,h[T]=-1;p[k+1]=0,h[k+1]=0;for(var C=c-g,F=C%2!=0,D=0,V=0,W=0,j=0,I=0;I<O;I++){for(var w=-I+D;w<=I-V;w+=2){for(var P=k+w,z=(R=w==-I||w!=I&&p[P-1]<p[P+1]?p[P+1]:p[P-1]+1)-w;R<c&&z<g&&n.charAt(R)==d.charAt(z);)R++,z++;if(p[P]=R,R>c)V+=2;else if(z>g)D+=2;else if(F&&(H=k+C-w)>=0&&H<v&&-1!=h[H]&&R>=(M=c-h[H]))return m(n,d,R,z)}for(var B=-I+W;B<=I-j;B+=2){for(var M,H=k+B,Q=(M=B==-I||B!=I&&h[H-1]<h[H+1]?h[H+1]:h[H-1]+1)-B;M<c&&Q<g&&n.charAt(c-M-1)==d.charAt(g-Q-1);)M++,Q++;if(h[H]=M,M>c)j+=2;else if(Q>g)W+=2;else if(!F){var R;if((P=k+C-B)>=0&&P<v&&-1!=p[P]&&(z=k+(R=p[P])-P,R>=(M=c-M)))return m(n,d,R,z)}}}return[[y,n],[q,d]]}(n,d)}(n=n.substring(0,n.length-g),d=d.substring(0,d.length-g));return O&&v.unshift([A,O]),k&&v.push([A,k]),f(v),null!=c&&(v=function o(n,d){var c=function s(n,d){if(0===d)return[A,n];for(var c=0,g=0;g<n.length;g++){var O=n[g];if(O[0]===y||O[0]===A){var k=c+O[1].length;if(d===k)return[g+1,n];if(d<k){n=n.slice();var v=d-c,p=[O[0],O[1].slice(0,v)],h=[O[0],O[1].slice(v)];return n.splice(g,1,p,h),[g+1,n]}c=k}}throw new Error("cursor_pos is out of bounds!")}(n,d),g=c[1],O=c[0],k=g[O],v=g[O+1];if(null==k)return n;if(k[0]!==A)return n;if(null!=v&&k[1]+v[1]===v[1]+k[1])return g.splice(O,2,v,k),u(g,O,2);if(null!=v&&0===v[1].indexOf(k[1])){g.splice(O,2,[v[0],k[1]],[0,k[1]]);var p=v[1].slice(k[1].length);return p.length>0&&g.splice(O+2,0,[v[0],p]),u(g,O,3)}return n}(v,c)),function t(n){for(var d=!1,c=function(v){return v.charCodeAt(0)>=56320&&v.charCodeAt(0)<=57343},g=function(v){return v.charCodeAt(v.length-1)>=55296&&v.charCodeAt(v.length-1)<=56319},O=2;O<n.length;O+=1)n[O-2][0]===A&&g(n[O-2][1])&&n[O-1][0]===y&&c(n[O-1][1])&&n[O][0]===q&&c(n[O][1])&&(d=!0,n[O-1][1]=n[O-2][1].slice(-1)+n[O-1][1],n[O][1]=n[O-2][1].slice(-1)+n[O][1],n[O-2][1]=n[O-2][1].slice(0,-1));if(!d)return n;var k=[];for(O=0;O<n.length;O+=1)n[O][1].length>0&&k.push(n[O]);return k}(v)}function m(n,d,c,g){var O=n.substring(0,c),k=d.substring(0,g),v=n.substring(c),p=d.substring(g),h=x(O,k),T=x(v,p);return h.concat(T)}function a(n,d){if(!n||!d||n.charAt(0)!=d.charAt(0))return 0;for(var c=0,g=Math.min(n.length,d.length),O=g,k=0;c<O;)n.substring(k,O)==d.substring(k,O)?k=c=O:g=O,O=Math.floor((g-c)/2+c);return O}function r(n,d){if(!n||!d||n.charAt(n.length-1)!=d.charAt(d.length-1))return 0;for(var c=0,g=Math.min(n.length,d.length),O=g,k=0;c<O;)n.substring(n.length-O,n.length-k)==d.substring(d.length-O,d.length-k)?k=c=O:g=O,O=Math.floor((g-c)/2+c);return O}function f(n){n.push([A,""]);for(var v,d=0,c=0,g=0,O="",k="";d<n.length;)switch(n[d][0]){case q:g++,k+=n[d][1],d++;break;case y:c++,O+=n[d][1],d++;break;case A:c+g>1?(0!==c&&0!==g&&(0!==(v=a(k,O))&&(d-c-g>0&&n[d-c-g-1][0]==A?n[d-c-g-1][1]+=k.substring(0,v):(n.splice(0,0,[A,k.substring(0,v)]),d++),k=k.substring(v),O=O.substring(v)),0!==(v=r(k,O))&&(n[d][1]=k.substring(k.length-v)+n[d][1],k=k.substring(0,k.length-v),O=O.substring(0,O.length-v))),0===c?n.splice(d-g,c+g,[q,k]):0===g?n.splice(d-c,c+g,[y,O]):n.splice(d-c-g,c+g,[y,O],[q,k]),d=d-c-g+(c?1:0)+(g?1:0)+1):0!==d&&n[d-1][0]==A?(n[d-1][1]+=n[d][1],n.splice(d,1)):d++,g=0,c=0,O="",k=""}""===n[n.length-1][1]&&n.pop();var p=!1;for(d=1;d<n.length-1;)n[d-1][0]==A&&n[d+1][0]==A&&(n[d][1].substring(n[d][1].length-n[d-1][1].length)==n[d-1][1]?(n[d][1]=n[d-1][1]+n[d][1].substring(0,n[d][1].length-n[d-1][1].length),n[d+1][1]=n[d-1][1]+n[d+1][1],n.splice(d-1,1),p=!0):n[d][1].substring(0,n[d+1][1].length)==n[d+1][1]&&(n[d-1][1]+=n[d+1][1],n[d][1]=n[d][1].substring(n[d+1][1].length)+n[d+1][1],n.splice(d+1,1),p=!0)),d++;p&&f(n)}var l=x;function u(n,d,c){for(var g=d+c-1;g>=0&&g>=d-1;g--)if(g+1<n.length){var O=n[g],k=n[g+1];O[0]===k[1]&&n.splice(g,2,[O[0],O[1]+k[1]])}return n}l.INSERT=q,l.DELETE=y,l.EQUAL=A,J.exports=l},function(J,_){function y(q){var A=[];for(var x in q)A.push(x);return A}(J.exports="function"==typeof Object.keys?Object.keys:y).shim=y},function(J,_){var y="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function q(x){return"[object Arguments]"==Object.prototype.toString.call(x)}function A(x){return x&&"object"==typeof x&&"number"==typeof x.length&&Object.prototype.hasOwnProperty.call(x,"callee")&&!Object.prototype.propertyIsEnumerable.call(x,"callee")||!1}(_=J.exports=y?q:A).supported=q,_.unsupported=A},function(J,_){"use strict";var y=Object.prototype.hasOwnProperty,q="~";function A(){}function x(E,m,a){this.fn=E,this.context=m,this.once=a||!1}function e(){this._events=new A,this._eventsCount=0}Object.create&&(A.prototype=Object.create(null),(new A).__proto__||(q=!1)),e.prototype.eventNames=function(){var a,r,m=[];if(0===this._eventsCount)return m;for(r in a=this._events)y.call(a,r)&&m.push(q?r.slice(1):r);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(a)):m},e.prototype.listeners=function(m,a){var i=this._events[q?q+m:m];if(a)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var f=0,l=i.length,s=new Array(l);f<l;f++)s[f]=i[f].fn;return s},e.prototype.emit=function(m,a,r,i,f,l){var s=q?q+m:m;if(!this._events[s])return!1;var u,n,o=this._events[s],t=arguments.length;if(o.fn){switch(o.once&&this.removeListener(m,o.fn,void 0,!0),t){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,a),!0;case 3:return o.fn.call(o.context,a,r),!0;case 4:return o.fn.call(o.context,a,r,i),!0;case 5:return o.fn.call(o.context,a,r,i,f),!0;case 6:return o.fn.call(o.context,a,r,i,f,l),!0}for(n=1,u=new Array(t-1);n<t;n++)u[n-1]=arguments[n];o.fn.apply(o.context,u)}else{var c,d=o.length;for(n=0;n<d;n++)switch(o[n].once&&this.removeListener(m,o[n].fn,void 0,!0),t){case 1:o[n].fn.call(o[n].context);break;case 2:o[n].fn.call(o[n].context,a);break;case 3:o[n].fn.call(o[n].context,a,r);break;case 4:o[n].fn.call(o[n].context,a,r,i);break;default:if(!u)for(c=1,u=new Array(t-1);c<t;c++)u[c-1]=arguments[c];o[n].fn.apply(o[n].context,u)}}return!0},e.prototype.on=function(m,a,r){var i=new x(a,r||this),f=q?q+m:m;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],i]:this._events[f].push(i):(this._events[f]=i,this._eventsCount++),this},e.prototype.once=function(m,a,r){var i=new x(a,r||this,!0),f=q?q+m:m;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],i]:this._events[f].push(i):(this._events[f]=i,this._eventsCount++),this},e.prototype.removeListener=function(m,a,r,i){var f=q?q+m:m;if(!this._events[f])return this;if(!a)return 0==--this._eventsCount?this._events=new A:delete this._events[f],this;var l=this._events[f];if(l.fn)l.fn===a&&(!i||l.once)&&(!r||l.context===r)&&(0==--this._eventsCount?this._events=new A:delete this._events[f]);else{for(var s=0,o=[],t=l.length;s<t;s++)(l[s].fn!==a||i&&!l[s].once||r&&l[s].context!==r)&&o.push(l[s]);o.length?this._events[f]=1===o.length?o[0]:o:0==--this._eventsCount?this._events=new A:delete this._events[f]}return this},e.prototype.removeAllListeners=function(m){var a;return m?this._events[a=q?q+m:m]&&(0==--this._eventsCount?this._events=new A:delete this._events[a]):(this._events=new A,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this},e.prefixed=q,e.EventEmitter=e,typeof J<"u"&&(J.exports=e)},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.matchText=_.matchSpacing=_.matchNewline=_.matchBlot=_.matchAttributor=_.default=void 0;var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(G){return typeof G}:function(G){return G&&"function"==typeof Symbol&&G.constructor===Symbol&&G!==Symbol.prototype?"symbol":typeof G},A=function($,te){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return function G($,te){var re=[],ee=!0,ue=!1,fe=void 0;try{for(var _e,ce=$[Symbol.iterator]();!(ee=(_e=ce.next()).done)&&(re.push(_e.value),!te||re.length!==te);ee=!0);}catch(Oe){ue=!0,fe=Oe}finally{try{!ee&&ce.return&&ce.return()}finally{if(ue)throw fe}}return re}($,te);throw new TypeError("Invalid attempt to destructure non-iterable instance")},x=function(){function G($,te){for(var re=0;re<te.length;re++){var ee=te[re];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty($,ee.key,ee)}}return function($,te,re){return te&&G($.prototype,te),re&&G($,re),$}}(),E=h(y(3)),a=h(y(2)),i=h(y(0)),l=h(y(5)),o=h(y(10)),u=h(y(9)),n=y(36),d=y(37),g=h(y(13)),O=y(26),k=y(38),v=y(39),p=y(40);function h(G){return G&&G.__esModule?G:{default:G}}function T(G,$,te){return $ in G?Object.defineProperty(G,$,{value:te,enumerable:!0,configurable:!0,writable:!0}):G[$]=te,G}var V=(0,o.default)("quill:clipboard"),W="__ql-matcher",j=[[Node.TEXT_NODE,ve],[Node.TEXT_NODE,de],["br",function ie(G,$){return H($,"\n")||$.insert("\n"),$}],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,function me(G,$){var te={},re=G.style||{};return re.fontStyle&&"italic"===z(G).fontStyle&&(te.italic=!0),re.fontWeight&&(z(G).fontWeight.startsWith("bold")||parseInt(z(G).fontWeight)>=700)&&(te.bold=!0),Object.keys(te).length>0&&($=R($,te)),parseFloat(re.textIndent||0)>0&&($=(new a.default).insert("\t").concat($)),$}],["li",function se(G,$){var te=i.default.query(G);if(null==te||"list-item"!==te.blotName||!H($,"\n"))return $;for(var re=-1,ee=G.parentNode;!ee.classList.contains("ql-clipboard");)"list"===(i.default.query(ee)||{}).blotName&&(re+=1),ee=ee.parentNode;return re<=0?$:$.compose((new a.default).retain($.length()-1).retain(1,{indent:re}))}],["b",Q.bind(Q,"bold")],["i",Q.bind(Q,"italic")],["style",function le(){return new a.default}]],I=[n.AlignAttribute,k.DirectionAttribute].reduce(function(G,$){return G[$.keyName]=$,G},{}),w=[n.AlignStyle,d.BackgroundStyle,O.ColorStyle,k.DirectionStyle,v.FontStyle,p.SizeStyle].reduce(function(G,$){return G[$.keyName]=$,G},{}),P=function(G){function $(te,re){!function C(G,$){if(!(G instanceof $))throw new TypeError("Cannot call a class as a function")}(this,$);var ee=function F(G,$){if(!G)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!$||"object"!=typeof $&&"function"!=typeof $?G:$}(this,($.__proto__||Object.getPrototypeOf($)).call(this,te,re));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],j.concat(ee.options.matchers).forEach(function(ue){var fe=A(ue,2),_e=fe[1];!re.matchVisual&&_e===he||ee.addMatcher(fe[0],_e)}),ee}return function D(G,$){if("function"!=typeof $&&null!==$)throw new TypeError("Super expression must either be null or a function, not "+typeof $);G.prototype=Object.create($&&$.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),$&&(Object.setPrototypeOf?Object.setPrototypeOf(G,$):G.__proto__=$)}($,G),x($,[{key:"addMatcher",value:function(re,ee){this.matchers.push([re,ee])}},{key:"convert",value:function(re){if("string"==typeof re)return this.container.innerHTML=re.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[g.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(ue,T({},g.default.blotName,ee[g.default.blotName]))}var fe=this.prepareMatching(),ce=A(fe,2),pe=B(this.container,ce[0],ce[1]);return H(pe,"\n")&&null==pe.ops[pe.ops.length-1].attributes&&(pe=pe.compose((new a.default).retain(pe.length()-1).delete(1))),V.log("convert",this.container.innerHTML,pe),this.container.innerHTML="",pe}},{key:"dangerouslyPasteHTML",value:function(re,ee){var ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof re)this.quill.setContents(this.convert(re),ee),this.quill.setSelection(0,l.default.sources.SILENT);else{var fe=this.convert(ee);this.quill.updateContents((new a.default).retain(re).concat(fe),ue),this.quill.setSelection(re+fe.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(re){var ee=this;if(!re.defaultPrevented&&this.quill.isEnabled()){var ue=this.quill.getSelection(),fe=(new a.default).retain(ue.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout(function(){fe=fe.concat(ee.convert()).delete(ue.length),ee.quill.updateContents(fe,l.default.sources.USER),ee.quill.setSelection(fe.length()-ue.length,l.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=ce,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var re=this,ee=[],ue=[];return this.matchers.forEach(function(fe){var ce=A(fe,2),_e=ce[0],Oe=ce[1];switch(_e){case Node.TEXT_NODE:ue.push(Oe);break;case Node.ELEMENT_NODE:ee.push(Oe);break;default:[].forEach.call(re.container.querySelectorAll(_e),function(pe){pe[W]=pe[W]||[],pe[W].push(Oe)})}}),[ee,ue]}}]),$}(u.default);function R(G,$,te){return"object"===(typeof $>"u"?"undefined":q($))?Object.keys($).reduce(function(re,ee){return R(re,ee,$[ee])},G):G.reduce(function(re,ee){return ee.attributes&&ee.attributes[$]?re.push(ee):re.insert(ee.insert,(0,E.default)({},T({},$,te),ee.attributes))},new a.default)}function z(G){if(G.nodeType!==Node.ELEMENT_NODE)return{};var $="__ql-computed-style";return G[$]||(G[$]=window.getComputedStyle(G))}function H(G,$){for(var te="",re=G.ops.length-1;re>=0&&te.length<$.length;--re){var ee=G.ops[re];if("string"!=typeof ee.insert)break;te=ee.insert+te}return te.slice(-1*$.length)===$}function M(G){if(0===G.childNodes.length)return!1;var $=z(G);return["block","list-item"].indexOf($.display)>-1}function B(G,$,te){return G.nodeType===G.TEXT_NODE?te.reduce(function(re,ee){return ee(G,re)},new a.default):G.nodeType===G.ELEMENT_NODE?[].reduce.call(G.childNodes||[],function(re,ee){var ue=B(ee,$,te);return ee.nodeType===G.ELEMENT_NODE&&(ue=$.reduce(function(fe,ce){return ce(ee,fe)},ue),ue=(ee[W]||[]).reduce(function(fe,ce){return ce(ee,fe)},ue)),re.concat(ue)},new a.default):new a.default}function Q(G,$,te){return R(te,G,!0)}function Y(G,$){var te=i.default.Attributor.Attribute.keys(G),re=i.default.Attributor.Class.keys(G),ee=i.default.Attributor.Style.keys(G),ue={};return te.concat(re).concat(ee).forEach(function(fe){var ce=i.default.query(fe,i.default.Scope.ATTRIBUTE);null!=ce&&(ue[ce.attrName]=ce.value(G),ue[ce.attrName])||(null!=(ce=I[fe])&&(ce.attrName===fe||ce.keyName===fe)&&(ue[ce.attrName]=ce.value(G)||void 0),null!=(ce=w[fe])&&(ce.attrName===fe||ce.keyName===fe)&&(ue[(ce=w[fe]).attrName]=ce.value(G)||void 0))}),Object.keys(ue).length>0&&($=R($,ue)),$}function X(G,$){var te=i.default.query(G);if(null==te)return $;if(te.prototype instanceof i.default.Embed){var re={},ee=te.value(G);null!=ee&&(re[te.blotName]=ee,$=(new a.default).insert(re,te.formats(G)))}else"function"==typeof te.formats&&($=R($,te.blotName,te.formats(G)));return $}function de(G,$){return H($,"\n")||(M(G)||$.length()>0&&G.nextSibling&&M(G.nextSibling))&&$.insert("\n"),$}function he(G,$){if(M(G)&&null!=G.nextElementSibling&&!H($,"\n\n")){var te=G.offsetHeight+parseFloat(z(G).marginTop)+parseFloat(z(G).marginBottom);G.nextElementSibling.offsetTop>G.offsetTop+1.5*te&&$.insert("\n")}return $}function ve(G,$){var te=G.data;if("O:P"===G.parentNode.tagName)return $.insert(te.trim());if(0===te.trim().length&&G.parentNode.classList.contains("ql-clipboard"))return $;if(!z(G.parentNode).whiteSpace.startsWith("pre")){var re=function(ue,fe){return(fe=fe.replace(/[^\u00a0]/g,"")).length<1&&ue?" ":fe};te=(te=te.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,re.bind(re,!0)),(null==G.previousSibling&&M(G.parentNode)||null!=G.previousSibling&&M(G.previousSibling))&&(te=te.replace(/^\s+/,re.bind(re,!1))),(null==G.nextSibling&&M(G.parentNode)||null!=G.nextSibling&&M(G.nextSibling))&&(te=te.replace(/\s+$/,re.bind(re,!1)))}return $.insert(te)}P.DEFAULTS={matchers:[],matchVisual:!0},_.default=P,_.matchAttributor=Y,_.matchBlot=X,_.matchNewline=de,_.matchSpacing=he,_.matchText=ve},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),A=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var i=function(f){function l(){return function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function r(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,[{key:"optimize",value:function(o){A(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"optimize",this).call(this,o),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return A(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(6)).default);i.blotName="bold",i.tagName=["STRONG","B"],_.default=i},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.addControls=_.default=void 0;var q=function(h,T){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return function p(h,T){var C=[],F=!0,D=!1,V=void 0;try{for(var j,W=h[Symbol.iterator]();!(F=(j=W.next()).done)&&(C.push(j.value),!T||C.length!==T);F=!0);}catch(I){D=!0,V=I}finally{try{!F&&W.return&&W.return()}finally{if(D)throw V}}return C}(h,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function(){function p(h,T){for(var C=0;C<T.length;C++){var F=T[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}return function(h,T,C){return T&&p(h.prototype,T),C&&p(h,C),h}}(),e=o(y(2)),m=o(y(0)),r=o(y(5)),f=o(y(10)),s=o(y(9));function o(p){return p&&p.__esModule?p:{default:p}}function n(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?p:h}var c=(0,f.default)("quill:toolbar"),g=function(p){function h(T,C){!function u(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h);var V,F=n(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,T,C));if(Array.isArray(F.options.container)){var D=document.createElement("div");k(D,F.options.container),T.container.parentNode.insertBefore(D,T.container),F.container=D}else F.container="string"==typeof F.options.container?document.querySelector(F.options.container):F.options.container;return F.container instanceof HTMLElement?(F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function(W){F.addHandler(W,F.options.handlers[W])}),[].forEach.call(F.container.querySelectorAll("button, select"),function(W){F.attach(W)}),F.quill.on(r.default.events.EDITOR_CHANGE,function(W,j){W===r.default.events.SELECTION_CHANGE&&F.update(j)}),F.quill.on(r.default.events.SCROLL_OPTIMIZE,function(){var W=F.quill.selection.getRange(),j=q(W,1);F.update(j[0])}),F):(V=c.error("Container required for toolbar",F.options),n(F,V))}return function d(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}(h,p),A(h,[{key:"addHandler",value:function(C,F){this.handlers[C]=F}},{key:"attach",value:function(C){var F=this,D=[].find.call(C.classList,function(W){return 0===W.indexOf("ql-")});if(D){if(D=D.slice(3),"BUTTON"===C.tagName&&C.setAttribute("type","button"),null==this.handlers[D]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[D])return void c.warn("ignoring attaching to disabled format",D,C);if(null==m.default.query(D))return void c.warn("ignoring attaching to nonexistent format",D,C)}C.addEventListener("SELECT"===C.tagName?"change":"click",function(W){var j=void 0;if("SELECT"===C.tagName){if(C.selectedIndex<0)return;var I=C.options[C.selectedIndex];j=!I.hasAttribute("selected")&&(I.value||!1)}else j=!C.classList.contains("ql-active")&&(C.value||!C.hasAttribute("value")),W.preventDefault();F.quill.focus();var w=F.quill.selection.getRange(),R=q(w,1)[0];if(null!=F.handlers[D])F.handlers[D].call(F,j);else if(m.default.query(D).prototype instanceof m.default.Embed){if(!(j=prompt("Enter "+D)))return;F.quill.updateContents((new e.default).retain(R.index).delete(R.length).insert(function t(p,h,T){return h in p?Object.defineProperty(p,h,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[h]=T,p}({},D,j)),r.default.sources.USER)}else F.quill.format(D,j,r.default.sources.USER);F.update(R)}),this.controls.push([D,C])}}},{key:"update",value:function(C){var F=null==C?{}:this.quill.getFormat(C);this.controls.forEach(function(D){var V=q(D,2),W=V[0],j=V[1];if("SELECT"===j.tagName){var I=void 0;if(null==C)I=null;else if(null==F[W])I=j.querySelector("option[selected]");else if(!Array.isArray(F[W])){var w=F[W];"string"==typeof w&&(w=w.replace(/\"/g,'\\"')),I=j.querySelector('option[value="'+w+'"]')}null==I?(j.value="",j.selectedIndex=-1):I.selected=!0}else if(null==C)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var P=F[W]===j.getAttribute("value")||null!=F[W]&&F[W].toString()===j.getAttribute("value")||null==F[W]&&!j.getAttribute("value");j.classList.toggle("ql-active",P)}else j.classList.toggle("ql-active",null!=F[W])})}}]),h}(s.default);function O(p,h,T){var C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("ql-"+h),null!=T&&(C.value=T),p.appendChild(C)}function k(p,h){Array.isArray(h[0])||(h=[h]),h.forEach(function(T){var C=document.createElement("span");C.classList.add("ql-formats"),T.forEach(function(F){if("string"==typeof F)O(C,F);else{var D=Object.keys(F)[0],V=F[D];Array.isArray(V)?function v(p,h,T){var C=document.createElement("select");C.classList.add("ql-"+h),T.forEach(function(F){var D=document.createElement("option");!1!==F?D.setAttribute("value",F):D.setAttribute("selected","selected"),C.appendChild(D)}),p.appendChild(C)}(C,D,V):O(C,D,V)}}),p.appendChild(C)})}g.DEFAULTS={},g.DEFAULTS={container:null,handlers:{clean:function(){var h=this,T=this.quill.getSelection();if(null!=T)if(0==T.length){var C=this.quill.getFormat();Object.keys(C).forEach(function(F){null!=m.default.query(F,m.default.Scope.INLINE)&&h.quill.format(F,!1)})}else this.quill.removeFormat(T,r.default.sources.USER)},direction:function(h){var T=this.quill.getFormat().align;"rtl"===h&&null==T?this.quill.format("align","right",r.default.sources.USER):!h&&"right"===T&&this.quill.format("align",!1,r.default.sources.USER),this.quill.format("direction",h,r.default.sources.USER)},indent:function(h){var T=this.quill.getSelection(),C=this.quill.getFormat(T),F=parseInt(C.indent||0);if("+1"===h||"-1"===h){var D="+1"===h?1:-1;"rtl"===C.direction&&(D*=-1),this.quill.format("indent",F+D,r.default.sources.USER)}},link:function(h){!0===h&&(h=prompt("Enter link URL:")),this.quill.format("link",h,r.default.sources.USER)},list:function(h){var T=this.quill.getSelection(),C=this.quill.getFormat(T);this.quill.format("list","check"===h?"checked"!==C.list&&"unchecked"!==C.list&&"unchecked":h,r.default.sources.USER)}}},_.default=g,_.addControls=k},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),A=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var i=function(f){function l(s,o){!function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return t.label.innerHTML=o,t.container.classList.add("ql-color-picker"),[].slice.call(t.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(u){u.classList.add("ql-primary")}),t}return function r(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,[{key:"buildItem",value:function(o){var t=A(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"buildItem",this).call(this,o);return t.style.backgroundColor=o.getAttribute("value")||"",t}},{key:"selectItem",value:function(o,t){A(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,o,t);var u=this.label.querySelector(".ql-color-label"),n=o&&o.getAttribute("data-value")||"";u&&("line"===u.tagName?u.style.stroke=n:u.style.fill=n)}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(28)).default);_.default=i},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),A=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var i=function(f){function l(s,o){!function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return t.container.classList.add("ql-icon-picker"),[].forEach.call(t.container.querySelectorAll(".ql-picker-item"),function(u){u.innerHTML=o[u.getAttribute("data-value")||""]}),t.defaultItem=t.container.querySelector(".ql-selected"),t.selectItem(t.defaultItem),t}return function r(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,[{key:"selectItem",value:function(o,t){A(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,o,t),this.label.innerHTML=(o=o||this.defaultItem).innerHTML}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(28)).default);_.default=i},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function e(E,m){for(var a=0;a<m.length;a++){var r=m[a];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(E,r.key,r)}}return function(E,m,a){return m&&e(E.prototype,m),a&&e(E,a),E}}();var x=function(){function e(E,m){var a=this;(function A(e,E){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.quill=E,this.boundsContainer=m||document.body,this.root=E.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return q(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(m){var a=m.left+m.width/2-this.root.offsetWidth/2,r=m.bottom+this.quill.root.scrollTop;this.root.style.left=a+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),l=0;return f.right>i.right&&(this.root.style.left=a+(l=i.right-f.right)+"px"),f.left<i.left&&(this.root.style.left=a+(l=i.left-f.left)+"px"),f.bottom>i.bottom&&(this.root.style.top=r-(m.bottom-m.top+(f.bottom-f.top))+"px",this.root.classList.add("ql-flip")),l}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();_.default=x},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(p,h){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function v(p,h){var T=[],C=!0,F=!1,D=void 0;try{for(var W,V=p[Symbol.iterator]();!(C=(W=V.next()).done)&&(T.push(W.value),!h||T.length!==h);C=!0);}catch(j){F=!0,D=j}finally{try{!C&&V.return&&V.return()}finally{if(F)throw D}}return T}(p,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function v(p,h,T){null===p&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,h);if(void 0===C){var F=Object.getPrototypeOf(p);return null===F?void 0:v(F,h,T)}if("value"in C)return C.value;var D=C.get;return void 0===D?void 0:D.call(T)},x=function(){function v(p,h){for(var T=0;T<h.length;T++){var C=h[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,h,T){return h&&v(p.prototype,h),T&&v(p,T),p}}(),E=u(y(3)),a=u(y(8)),r=y(43),i=u(r),l=u(y(27)),s=y(15),t=u(y(41));function u(v){return v&&v.__esModule?v:{default:v}}function n(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function d(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?v:p}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var g=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(v){function p(h,T){n(this,p),null!=T.modules.toolbar&&null==T.modules.toolbar.container&&(T.modules.toolbar.container=g);var C=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h,T));return C.quill.container.classList.add("ql-snow"),C}return c(p,v),x(p,[{key:"extendToolbar",value:function(T){T.container.classList.add("ql-snow"),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),t.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),t.default),this.tooltip=new k(this.quill,this.options.bounds),T.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(C,F){T.handlers.link.call(T,!F.format.link)})}}]),p}(i.default);O.DEFAULTS=(0,E.default)(!0,{},i.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(p){if(p){var h=this.quill.getSelection();if(null==h||0==h.length)return;var T=this.quill.getText(h);/^\S+@\S+\.\S+$/.test(T)&&0!==T.indexOf("mailto:")&&(T="mailto:"+T),this.quill.theme.tooltip.edit("link",T)}else this.quill.format("link",!1)}}}}});var k=function(v){function p(h,T){n(this,p);var C=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h,T));return C.preview=C.root.querySelector("a.ql-preview"),C}return c(p,v),x(p,[{key:"listen",value:function(){var T=this;A(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(C){T.root.classList.contains("ql-editing")?T.save():T.edit("link",T.preview.textContent),C.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(C){if(null!=T.linkRange){var F=T.linkRange;T.restoreFocus(),T.quill.formatText(F,"link",!1,a.default.sources.USER),delete T.linkRange}C.preventDefault(),T.hide()}),this.quill.on(a.default.events.SELECTION_CHANGE,function(C,F,D){if(null!=C){if(0===C.length&&D===a.default.sources.USER){var V=T.quill.scroll.descendant(l.default,C.index),W=q(V,2),j=W[0];if(null!=j){T.linkRange=new s.Range(C.index-W[1],j.length());var w=l.default.formats(j.domNode);return T.preview.textContent=w,T.preview.setAttribute("href",w),T.show(),void T.position(T.quill.getBounds(T.linkRange))}}else delete T.linkRange;T.hide()}})}},{key:"show",value:function(){A(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),p}(r.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),_.default=O},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var A=ee(y(29)),x=y(36),e=y(38),E=y(64),a=ee(y(65)),i=ee(y(66)),f=y(67),l=ee(f),s=y(37),o=y(26),t=y(39),u=y(40),d=ee(y(56)),g=ee(y(68)),k=ee(y(27)),p=ee(y(69)),T=ee(y(70)),F=ee(y(71)),V=ee(y(72)),j=ee(y(73)),I=y(13),w=ee(I),R=ee(y(74)),H=ee(y(75)),B=ee(y(57)),Y=ee(y(41)),ie=ee(y(28)),se=ee(y(59)),he=ee(y(60)),ve=ee(y(61)),$=ee(y(108)),re=ee(y(62));function ee(ue){return ue&&ue.__esModule?ue:{default:ue}}A.default.register({"attributors/attribute/direction":e.DirectionAttribute,"attributors/class/align":x.AlignClass,"attributors/class/background":s.BackgroundClass,"attributors/class/color":o.ColorClass,"attributors/class/direction":e.DirectionClass,"attributors/class/font":t.FontClass,"attributors/class/size":u.SizeClass,"attributors/style/align":x.AlignStyle,"attributors/style/background":s.BackgroundStyle,"attributors/style/color":o.ColorStyle,"attributors/style/direction":e.DirectionStyle,"attributors/style/font":t.FontStyle,"attributors/style/size":u.SizeStyle},!0),A.default.register({"formats/align":x.AlignClass,"formats/direction":e.DirectionClass,"formats/indent":E.IndentClass,"formats/background":s.BackgroundStyle,"formats/color":o.ColorStyle,"formats/font":t.FontClass,"formats/size":u.SizeClass,"formats/blockquote":a.default,"formats/code-block":w.default,"formats/header":i.default,"formats/list":l.default,"formats/bold":d.default,"formats/code":I.Code,"formats/italic":g.default,"formats/link":k.default,"formats/script":p.default,"formats/strike":T.default,"formats/underline":F.default,"formats/image":V.default,"formats/video":j.default,"formats/list/item":f.ListItem,"modules/formula":R.default,"modules/syntax":H.default,"modules/toolbar":B.default,"themes/bubble":$.default,"themes/snow":re.default,"ui/icons":Y.default,"ui/picker":ie.default,"ui/icon-picker":he.default,"ui/color-picker":se.default,"ui/tooltip":ve.default},!0),_.default=A.default},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.IndentClass=void 0;var q=function(){function l(s,o){for(var t=0;t<o.length;t++){var u=o[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}return function(s,o,t){return o&&l(s.prototype,o),t&&l(s,t),s}}(),A=function l(s,o,t){null===s&&(s=Function.prototype);var u=Object.getOwnPropertyDescriptor(s,o);if(void 0===u){var n=Object.getPrototypeOf(s);return null===n?void 0:l(n,o,t)}if("value"in u)return u.value;var d=u.get;return void 0===d?void 0:d.call(t)},e=function E(l){return l&&l.__esModule?l:{default:l}}(y(0));var i=function(l){function s(){return function m(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function a(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?l:s}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function r(l,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(l,s):l.__proto__=s)}(s,l),q(s,[{key:"add",value:function(t,u){if("+1"===u||"-1"===u){var n=this.value(t)||0;u="+1"===u?n+1:n-1}return 0===u?(this.remove(t),!0):A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"add",this).call(this,t,u)}},{key:"canAdd",value:function(t,u){return A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,t,u)||A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,t,parseInt(u))}},{key:"value",value:function(t){return parseInt(A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"value",this).call(this,t))||void 0}}]),s}(e.default.Attributor.Class),f=new i("indent","ql-indent",{scope:e.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});_.IndentClass=f},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(r){function i(){return function e(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),i}(function x(r){return r&&r.__esModule?r:{default:r}}(y(4)).default);a.blotName="blockquote",a.tagName="blockquote",_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function i(f,l){for(var s=0;s<l.length;s++){var o=l[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(f,o.key,o)}}return function(f,l,s){return l&&i(f.prototype,l),s&&i(f,s),f}}();var r=function(i){function f(){return function E(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function m(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?i:f}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function a(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}(f,i),q(f,null,[{key:"formats",value:function(s){return this.tagName.indexOf(s.tagName)+1}}]),f}(function e(i){return i&&i.__esModule?i:{default:i}}(y(4)).default);r.blotName="header",r.tagName=["H1","H2","H3","H4","H5","H6"],_.default=r},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.ListItem=void 0;var q=function(){function n(d,c){for(var g=0;g<c.length;g++){var O=c[g];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(d,O.key,O)}}return function(d,c,g){return c&&n(d.prototype,c),g&&n(d,g),d}}(),A=function n(d,c,g){null===d&&(d=Function.prototype);var O=Object.getOwnPropertyDescriptor(d,c);if(void 0===O){var k=Object.getPrototypeOf(d);return null===k?void 0:n(k,c,g)}if("value"in O)return O.value;var v=O.get;return void 0===v?void 0:v.call(g)},e=i(y(0)),m=i(y(4)),r=i(y(25));function i(n){return n&&n.__esModule?n:{default:n}}function l(n,d){if(!(n instanceof d))throw new TypeError("Cannot call a class as a function")}function s(n,d){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?n:d}function o(n,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);n.prototype=Object.create(d&&d.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(n,d):n.__proto__=d)}var t=function(n){function d(){return l(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return o(d,n),q(d,[{key:"format",value:function(g,O){g!==u.blotName||O?A(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,g,O):this.replaceWith(e.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():A(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(g,O){return this.parent.isolate(this.offset(this.parent),this.length()),g===this.parent.statics.blotName?(this.parent.replaceWith(g,O),this):(this.parent.unwrap(),A(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"replaceWith",this).call(this,g,O))}}],[{key:"formats",value:function(g){return g.tagName===this.tagName?void 0:A(d.__proto__||Object.getPrototypeOf(d),"formats",this).call(this,g)}}]),d}(m.default);t.blotName="list-item",t.tagName="LI";var u=function(n){function d(c){l(this,d);var g=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,c)),O=function(v){if(v.target.parentNode===c){var p=g.statics.formats(c),h=e.default.find(v.target);"checked"===p?h.format("list","unchecked"):"unchecked"===p&&h.format("list","checked")}};return c.addEventListener("touchstart",O),c.addEventListener("mousedown",O),g}return o(d,n),q(d,null,[{key:"create",value:function(g){var O="ordered"===g?"OL":"UL",k=A(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,O);return("checked"===g||"unchecked"===g)&&k.setAttribute("data-checked","checked"===g),k}},{key:"formats",value:function(g){return"OL"===g.tagName?"ordered":"UL"===g.tagName?g.hasAttribute("data-checked")?"true"===g.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),q(d,[{key:"format",value:function(g,O){this.children.length>0&&this.children.tail.format(g,O)}},{key:"formats",value:function(){return function f(n,d,c){return d in n?Object.defineProperty(n,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[d]=c,n}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(g,O){if(g instanceof t)A(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insertBefore",this).call(this,g,O);else{var k=null==O?this.length():O.offset(this),v=this.split(k);v.parent.insertBefore(g,v)}}},{key:"optimize",value:function(g){A(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"optimize",this).call(this,g);var O=this.next;null!=O&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(g){if(g.statics.blotName!==this.statics.blotName){var O=e.default.create(this.statics.defaultChild);g.moveChildren(O),this.appendChild(O)}A(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"replace",this).call(this,g)}}]),d}(r.default);u.blotName="list",u.scope=e.default.Scope.BLOCK_BLOT,u.tagName=["OL","UL"],u.defaultChild="list-item",u.allowedChildren=[t],_.ListItem=t,_.default=u},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(r){function i(){return function e(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),i}(function x(r){return r&&r.__esModule?r:{default:r}}(y(56)).default);a.blotName="italic",a.tagName=["EM","I"],_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),A=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var i=function(f){function l(){return function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function r(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,null,[{key:"create",value:function(o){return"super"===o?document.createElement("sup"):"sub"===o?document.createElement("sub"):A(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,o)}},{key:"formats",value:function(o){return"SUB"===o.tagName?"sub":"SUP"===o.tagName?"super":void 0}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(6)).default);i.blotName="script",i.tagName=["SUB","SUP"],_.default=i},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(r){function i(){return function e(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),i}(function x(r){return r&&r.__esModule?r:{default:r}}(y(6)).default);a.blotName="strike",a.tagName="S",_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(r){function i(){return function e(r,i){if(!(r instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(r,i){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?r:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(r,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);r.prototype=Object.create(i&&i.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(r,i):r.__proto__=i)}(i,r),i}(function x(r){return r&&r.__esModule?r:{default:r}}(y(6)).default);a.blotName="underline",a.tagName="U",_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),A=function s(o,t,u){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var d=Object.getPrototypeOf(o);return null===d?void 0:s(d,t,u)}if("value"in n)return n.value;var c=n.get;return void 0===c?void 0:c.call(u)},e=function m(s){return s&&s.__esModule?s:{default:s}}(y(0)),E=y(27);var f=["alt","height","width"],l=function(s){function o(){return function a(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function r(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?s:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function i(s,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}(o,s),q(o,[{key:"format",value:function(u,n){f.indexOf(u)>-1?n?this.domNode.setAttribute(u,n):this.domNode.removeAttribute(u):A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,u,n)}}],[{key:"create",value:function(u){var n=A(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,u);return"string"==typeof u&&n.setAttribute("src",this.sanitize(u)),n}},{key:"formats",value:function(u){return f.reduce(function(n,d){return u.hasAttribute(d)&&(n[d]=u.getAttribute(d)),n},{})}},{key:"match",value:function(u){return/\.(jpe?g|gif|png)$/.test(u)||/^data:image\/.+;base64/.test(u)}},{key:"sanitize",value:function(u){return(0,E.sanitize)(u,["http","https","data"])?u:"//:0"}},{key:"value",value:function(u){return u.getAttribute("src")}}]),o}(e.default.Embed);l.blotName="image",l.tagName="IMG",_.default=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),A=function s(o,t,u){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var d=Object.getPrototypeOf(o);return null===d?void 0:s(d,t,u)}if("value"in n)return n.value;var c=n.get;return void 0===c?void 0:c.call(u)},x=y(4),E=function m(s){return s&&s.__esModule?s:{default:s}}(y(27));var f=["height","width"],l=function(s){function o(){return function a(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function r(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?s:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function i(s,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}(o,s),q(o,[{key:"format",value:function(u,n){f.indexOf(u)>-1?n?this.domNode.setAttribute(u,n):this.domNode.removeAttribute(u):A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,u,n)}}],[{key:"create",value:function(u){var n=A(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,u);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(u)),n}},{key:"formats",value:function(u){return f.reduce(function(n,d){return u.hasAttribute(d)&&(n[d]=u.getAttribute(d)),n},{})}},{key:"sanitize",value:function(u){return E.default.sanitize(u)}},{key:"value",value:function(u){return u.getAttribute("src")}}]),o}(x.BlockEmbed);l.blotName="video",l.className="ql-video",l.tagName="IFRAME",_.default=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.FormulaBlot=void 0;var q=function(){function u(n,d){for(var c=0;c<d.length;c++){var g=d[c];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(n,g.key,g)}}return function(n,d,c){return d&&u(n.prototype,d),c&&u(n,c),n}}(),A=function u(n,d,c){null===n&&(n=Function.prototype);var g=Object.getOwnPropertyDescriptor(n,d);if(void 0===g){var O=Object.getPrototypeOf(n);return null===O?void 0:u(O,d,c)}if("value"in g)return g.value;var k=g.get;return void 0===k?void 0:k.call(c)},e=i(y(35)),m=i(y(5)),r=i(y(9));function i(u){return u&&u.__esModule?u:{default:u}}function f(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function l(u,n){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?u:n}function s(u,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(u,n):u.__proto__=n)}var o=function(u){function n(){return f(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,u),q(n,null,[{key:"create",value:function(c){var g=A(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,c);return"string"==typeof c&&(window.katex.render(c,g,{throwOnError:!1,errorColor:"#f00"}),g.setAttribute("data-value",c)),g}},{key:"value",value:function(c){return c.getAttribute("data-value")}}]),n}(e.default);o.blotName="formula",o.className="ql-formula",o.tagName="SPAN";var t=function(u){function n(){f(this,n);var d=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return d}return s(n,u),q(n,null,[{key:"register",value:function(){m.default.register(o,!0)}}]),n}(r.default);_.FormulaBlot=o,_.default=t},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.CodeToken=_.CodeBlock=void 0;var q=function(){function c(g,O){for(var k=0;k<O.length;k++){var v=O[k];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(g,v.key,v)}}return function(g,O,k){return O&&c(g.prototype,O),k&&c(g,k),g}}(),A=function c(g,O,k){null===g&&(g=Function.prototype);var v=Object.getOwnPropertyDescriptor(g,O);if(void 0===v){var p=Object.getPrototypeOf(g);return null===p?void 0:c(p,O,k)}if("value"in v)return v.value;var h=v.get;return void 0===h?void 0:h.call(k)},e=l(y(0)),m=l(y(5)),r=l(y(9));function l(c){return c&&c.__esModule?c:{default:c}}function s(c,g){if(!(c instanceof g))throw new TypeError("Cannot call a class as a function")}function o(c,g){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||"object"!=typeof g&&"function"!=typeof g?c:g}function t(c,g){if("function"!=typeof g&&null!==g)throw new TypeError("Super expression must either be null or a function, not "+typeof g);c.prototype=Object.create(g&&g.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(c,g):c.__proto__=g)}var u=function(c){function g(){return s(this,g),o(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return t(g,c),q(g,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),A(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var v=this.domNode.textContent;this.cachedText!==v&&((v.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=k(v),this.domNode.normalize(),this.attach()),this.cachedText=v)}}]),g}(l(y(13)).default);u.className="ql-syntax";var n=new e.default.Attributor.Class("token","hljs",{scope:e.default.Scope.INLINE}),d=function(c){function g(O,k){s(this,g);var v=o(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,O,k));if("function"!=typeof v.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var p=null;return v.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(p),p=setTimeout(function(){v.highlight(),p=null},v.options.interval)}),v.highlight(),v}return t(g,c),q(g,null,[{key:"register",value:function(){m.default.register(n,!0),m.default.register(u,!0)}}]),q(g,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(m.default.sources.USER);var v=this.quill.getSelection();this.quill.scroll.descendants(u).forEach(function(p){p.highlight(k.options.highlight)}),this.quill.update(m.default.sources.SILENT),null!=v&&this.quill.setSelection(v,m.default.sources.SILENT)}}}]),g}(r.default);d.DEFAULTS={highlight:null==window.hljs?null:function(c){return window.hljs.highlightAuto(c).value},interval:1e3},_.CodeBlock=u,_.CodeToken=n,_.default=d},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(J,_){J.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(J,_){J.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(J,_){J.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(J,_){J.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BubbleTooltip=void 0;var q=function g(O,k,v){null===O&&(O=Function.prototype);var p=Object.getOwnPropertyDescriptor(O,k);if(void 0===p){var h=Object.getPrototypeOf(O);return null===h?void 0:g(h,k,v)}if("value"in p)return p.value;var T=p.get;return void 0===T?void 0:T.call(v)},A=function(){function g(O,k){for(var v=0;v<k.length;v++){var p=k[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(O,p.key,p)}}return function(O,k,v){return k&&g(O.prototype,k),v&&g(O,v),O}}(),e=s(y(3)),m=s(y(8)),a=y(43),r=s(a),i=y(15),l=s(y(41));function s(g){return g&&g.__esModule?g:{default:g}}function o(g,O){if(!(g instanceof O))throw new TypeError("Cannot call a class as a function")}function t(g,O){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?g:O}function u(g,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);g.prototype=Object.create(O&&O.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(g,O):g.__proto__=O)}var n=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],d=function(g){function O(k,v){o(this,O),null!=v.modules.toolbar&&null==v.modules.toolbar.container&&(v.modules.toolbar.container=n);var p=t(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,v));return p.quill.container.classList.add("ql-bubble"),p}return u(O,g),A(O,[{key:"extendToolbar",value:function(v){this.tooltip=new c(this.quill,this.options.bounds),this.tooltip.root.appendChild(v.container),this.buildButtons([].slice.call(v.container.querySelectorAll("button")),l.default),this.buildPickers([].slice.call(v.container.querySelectorAll("select")),l.default)}}]),O}(r.default);d.DEFAULTS=(0,e.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var c=function(g){function O(k,v){o(this,O);var p=t(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,v));return p.quill.on(m.default.events.EDITOR_CHANGE,function(h,T,C,F){if(h===m.default.events.SELECTION_CHANGE)if(null!=T&&T.length>0&&F===m.default.sources.USER){p.show(),p.root.style.left="0px",p.root.style.width="",p.root.style.width=p.root.offsetWidth+"px";var D=p.quill.getLines(T.index,T.length);if(1===D.length)p.position(p.quill.getBounds(T));else{var V=D[D.length-1],W=p.quill.getIndex(V),j=Math.min(V.length()-1,T.index+T.length-W),I=p.quill.getBounds(new i.Range(W,j));p.position(I)}}else document.activeElement!==p.textbox&&p.quill.hasFocus()&&p.hide()}),p}return u(O,g),A(O,[{key:"listen",value:function(){var v=this;q(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){v.root.classList.remove("ql-editing")}),this.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!v.root.classList.contains("ql-hidden")){var p=v.quill.getSelection();null!=p&&v.position(v.quill.getBounds(p))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(v){var p=q(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,v),h=this.root.querySelector(".ql-tooltip-arrow");if(h.style.marginLeft="",0===p)return p;h.style.marginLeft=-1*p-h.offsetWidth/2+"px"}}]),O}(a.BaseTooltip);c.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),_.BubbleTooltip=c,_.default=d},function(J,_,y){J.exports=y(63)}]).default},336:(ke,J,_)=>{"use strict";_.d(J,{c:()=>u});var y=_(9376),q=_(91),A=_(1413),x=_(5879),e=_(6223),E=_(5545),m=_(9397);const a=["key"],r=["allOf"];function f(n){return""===n||null==n}function l(n){return null!=n&&"object"==typeof n&&!Array.isArray(n)}function s(n){return Number.isInteger?Number.isInteger(n):"number"==typeof n&&Math.floor(n)===n}function o(n){return"object"==typeof n&&(n.hasOwnProperty("const")||n.enum&&1===n.enum.length)}function t(n){if(!n.fieldGroup)return(0,E._S)(n)&&void 0!==(0,E.Hl)(n)?1:0;const d=n.fieldGroup.reduce((c,g)=>t(g)+c,0);if(0===d&&(0,E._S)(n)){const c=(0,E.Hl)(n);if(null===c||void 0!==c&&(n.fieldArray&&Array.isArray(c)||!n.fieldArray&&l(c)))return 1}return d}let u=(()=>{class n{toFieldConfig(c,g){return c=(0,E.kg)(c),this._toFieldConfig(c,(0,A.Z)({schema:c},g||{}))}_toFieldConfig(c,g){var O;let{key:k}=g,v=(0,q.Z)(g,a);c=this.resolveSchema(c,v);const p=this.guessSchemaType(c);let h={type:p[0],defaultValue:c.default,props:{label:c.title,readonly:c.readOnly,description:c.description}};switch(null!=k&&(h.key=k),!v.ignoreDefault&&(c.readOnly||v.readOnly)&&(h.props.disabled=!0,v=(0,A.Z)((0,A.Z)({},v),{},{readOnly:!0})),v.resetOnHide&&(h.resetOnHide=!0),k&&v.strict&&this.addValidator(h,"type",(T,C)=>{const F=(0,E.Hl)(C);if(null!=F)switch(h.type){case"string":return"string"==typeof F;case"integer":return s(F);case"number":return"number"==typeof F;case"object":return l(F);case"array":return Array.isArray(F)}return!0}),!1===v.shareFormControl&&(h.shareFormControl=!1),v.ignoreDefault&&delete h.defaultValue,this.addValidator(h,"type",{schemaType:p,expression:({value:T})=>{if(void 0===T||null===T&&-1!==p.indexOf("null"))return!0;switch(p[0]){case"null":return null===typeof T;case"string":return"string"==typeof T;case"integer":return s(T);case"number":return"number"==typeof T;case"object":return l(T);case"array":return Array.isArray(T)}return!0}}),h.type){case"number":case"integer":h.parsers=[T=>f(T)?T:Number(T)],c.hasOwnProperty("minimum")&&(h.props.min=c.minimum),c.hasOwnProperty("maximum")&&(h.props.max=c.maximum),c.hasOwnProperty("exclusiveMinimum")&&(h.props.exclusiveMinimum=c.exclusiveMinimum,this.addValidator(h,"exclusiveMinimum",({value:T})=>f(T)||T>c.exclusiveMinimum)),c.hasOwnProperty("exclusiveMaximum")&&(h.props.exclusiveMaximum=c.exclusiveMaximum,this.addValidator(h,"exclusiveMaximum",({value:T})=>f(T)||T<c.exclusiveMaximum)),c.hasOwnProperty("multipleOf")&&(h.props.step=c.multipleOf,this.addValidator(h,"multipleOf",({value:T})=>{if(f(T)||"number"!=typeof T||0===T||c.multipleOf<=0)return!0;const C=Math.pow(10,function i(n){if(!isFinite(n))return 0;let d=1,c=0;for(;Math.round(n*d)/d!==n;)d*=10,c++;return c}(c.multipleOf));return Math.round(T*C)%Math.round(c.multipleOf*C)==0}));break;case"string":h.parsers=[T=>(-1!==p.indexOf("null")?T=f(T)?null:T:h.props.required||(T=""===T?void 0:T),T)],["minLength","maxLength","pattern"].forEach(T=>{c.hasOwnProperty(T)&&(h.props[T]=c[T])});break;case"object":{h.fieldGroup||(h.fieldGroup=[]);const{propDeps:T,schemaDeps:C}=this.resolveDependencies(c);Object.keys(c.properties||{}).forEach(F=>{const D=Array.isArray(c.required)&&-1!==c.required.indexOf(F),V=this._toFieldConfig(c.properties[F],(0,A.Z)((0,A.Z)({},v),{},{key:F,isOptional:v.isOptional||!D}));if(h.fieldGroup.push(V),(D||T[F])&&(V.expressions=(0,A.Z)((0,A.Z)({},V.expressions||{}),{},{"props.required":W=>{let j=W.parent;const I=W.fieldGroup&&null!=W.key?j.model:W.model;for(;null==j.key&&j.parent;)j=j.parent;return!!(I||j&&j.props&&j.props.required)&&(!(!Array.isArray(c.required)||-1===c.required.indexOf(F))||T[F]&&W.model&&T[F].some(P=>!f(W.model[P])))}})),C[F]){const W=I=>I.hasOwnProperty("const")?I.const:I.enum[0],j=C[F].oneOf;j&&j.every(I=>I.properties&&I.properties[F]&&o(I.properties[F]))?j.forEach(I=>{const w=I.properties,{[F]:P}=w,R=(0,q.Z)(w,[F].map(y.Z));h.fieldGroup.push((0,A.Z)((0,A.Z)({},this._toFieldConfig((0,A.Z)((0,A.Z)({},I),{},{properties:R}),(0,A.Z)((0,A.Z)({},v),{},{shareFormControl:!1,resetOnHide:!0}))),{},{expressions:{hide:z=>!z.model||W(P)!==z.model[F]}}))}):h.fieldGroup.push((0,A.Z)((0,A.Z)({},this._toFieldConfig(C[F],v)),{},{expressions:{hide:I=>!I.model||f(I.model[F])}}))}}),c.oneOf&&h.fieldGroup.push(this.resolveMultiSchema("oneOf",c.oneOf,(0,A.Z)((0,A.Z)({},v),{},{shareFormControl:!1}))),c.anyOf&&h.fieldGroup.push(this.resolveMultiSchema("anyOf",c.anyOf,v));break}case"array":c.hasOwnProperty("minItems")&&(h.props.minItems=c.minItems,this.addValidator(h,"minItems",(T,C)=>{const F=(0,E.Hl)(C);return f(F)||F.length>=c.minItems}),!v.isOptional&&c.minItems>0&&void 0===h.defaultValue&&(h.defaultValue=Array.from(new Array(c.minItems)))),c.hasOwnProperty("maxItems")&&(h.props.maxItems=c.maxItems,this.addValidator(h,"maxItems",(T,C)=>{const F=(0,E.Hl)(C);return f(F)||F.length<=c.maxItems})),c.hasOwnProperty("uniqueItems")&&(h.props.uniqueItems=c.uniqueItems,this.addValidator(h,"uniqueItems",(T,C)=>{const F=(0,E.Hl)(C);return!(!f(F)&&c.uniqueItems)||Array.from(new Set(F.map(V=>JSON.stringify(V,(W,j)=>l(j)?Object.keys(V).sort().reduce((I,w)=>(I[w]=V[w],I),{}):j)))).length===F.length})),c.items&&!Array.isArray(c.items)&&(c.items=this.resolveSchema(c.items,v)),this.isEnum(c)||(h.fieldArray=T=>{const C=c.items;if(!Array.isArray(C)){if(!C)return{};const W=C.oneOf||C.anyOf,j=this._toFieldConfig(C,W?(0,A.Z)((0,A.Z)({},v),{},{key:`${T.fieldGroup.length}`}):v);return W&&!(0,E._S)(j)&&(j.key=null),j.props.required=!0,j}const F=T.fieldGroup?T.fieldGroup.length:0,D=C[F]?C[F]:c.additionalItems,V=D?this._toFieldConfig(D,v):{};return V.props&&(V.props.required=!0),C[F]&&(V.props.removable=!1),V})}if(c.hasOwnProperty("const")&&(h.props.const=c.const,this.addValidator(h,"const",({value:T})=>T===c.const),h.type||(h.defaultValue=c.const)),this.isEnum(c)){const T=this.toEnumOptions(c),C="array"===h.type;h.type="enum",h.props.multiple=C,h.props.options=T;const F=T.map(D=>D.value);this.addValidator(h,"enum",({value:D})=>void 0===D||(C?!!Array.isArray(D)&&D.every(V=>F.includes(V)):F.includes(D)))}return c.oneOf&&!h.type&&(delete h.key,h.fieldGroup=[this.resolveMultiSchema("oneOf",c.oneOf,(0,A.Z)((0,A.Z)({},v),{},{key:k,shareFormControl:!1}))]),c.oneOf&&!h.type&&(delete h.key,h.fieldGroup=[this.resolveMultiSchema("oneOf",c.oneOf,(0,A.Z)((0,A.Z)({},v),{},{key:k,shareFormControl:!1}))]),null!==(O=c.widget)&&void 0!==O&&O.formlyConfig&&(h=this.mergeFields(h,c.widget.formlyConfig)),h.templateOptions=h.props,v.map?v.map(h,c):h}resolveSchema(c,g){return c&&c.$ref&&(c=this.resolveDefinition(c,g)),c&&c.allOf&&(c=this.resolveAllOf(c,g)),c}resolveAllOf(c,g){let{allOf:O}=c,k=(0,q.Z)(c,r);if(!O.length)throw Error(`allOf array can not be empty ${O}.`);return O.reduce((v,p)=>(p=this.resolveSchema(p,g),v.required&&p.required&&(v.required=[...v.required,...p.required]),p.uniqueItems&&(v.uniqueItems=p.uniqueItems),["maxLength","maximum","exclusiveMaximum","maxItems","maxProperties"].forEach(h=>{!f(v[h])&&!f(p[h])&&(v[h]=v[h]<p[h]?v[h]:p[h])}),["minLength","minimum","exclusiveMinimum","minItems","minProperties"].forEach(h=>{!f(v[h])&&!f(p[h])&&(v[h]=v[h]>p[h]?v[h]:p[h])}),(0,E.Du)(v,p)),k)}resolveMultiSchema(c,g,O){return{type:"multischema",fieldGroup:[{type:"enum",defaultValue:-1,props:{multiple:"anyOf"===c,options:g.map((k,v)=>({label:k.title,value:v,disabled:k.readOnly}))},hooks:{onInit:k=>k.formControl.valueChanges.pipe((0,m.b)(()=>k.options.detectChanges(k.parent)))}},{fieldGroup:g.map((k,v)=>(0,A.Z)((0,A.Z)({},this._toFieldConfig(k,(0,A.Z)((0,A.Z)({},O),{},{resetOnHide:!0}))),{},{expressions:{hide:(p,h)=>{const T=p.parent.parent.fieldGroup[0].formControl;if(-1===T.value||h){let C=p.parent.fieldGroup.map((F,D)=>[F,D,this.isFieldValid(F,D,g,O)]).sort(([F,,D],[V,,W])=>{if(D!==W)return W?1:-1;const j=t(F),I=t(V);return j===I&&F.props.disabled===V.props.disabled?0:I>j?1:-1}).map(([,F])=>F);if("anyOf"===c){const F=C.filter(D=>t(p.parent.fieldGroup[D]));C=F.length>0?F:[C[0]||0]}C=C.length>0?C:[0],T.setValue("anyOf"===c?C:C[0])}return Array.isArray(T.value)?-1===T.value.indexOf(v):T.value!==v}}}))}]}}resolveDefinition(c,g){const[O,k]=c.$ref.split("#/");if(O)throw Error(`Remote schemas for ${c.$ref} not supported yet.`);const v=k?k.split("/").reduce((p,h)=>null!=p&&p.hasOwnProperty(h)?p[h]:null,g.schema):null;if(!v)throw Error(`Cannot find a definition for ${c.$ref}.`);return v.$ref?this.resolveDefinition(v,g):(0,A.Z)((0,A.Z)({},v),["title","description","default","widget"].reduce((p,h)=>(c.hasOwnProperty(h)&&(p[h]=c[h]),p),{}))}resolveDependencies(c){const g={},O={};return Object.keys(c.dependencies||{}).forEach(k=>{const v=c.dependencies[k];Array.isArray(v)?v.forEach(p=>{g[p]?g[p].push(k):g[p]=[k]}):O[k]=v}),{propDeps:g,schemaDeps:O}}guessSchemaType(c){const g=null==c?void 0:c.type;return!g&&null!=c&&c.properties?["object"]:Array.isArray(g)?1===g.length?g:2===g.length&&-1!==g.indexOf("null")?g.sort(O=>"null"==O?1:-1):g:g?[g]:[]}addValidator(c,g,O){c.validators=c.validators||{},c.validators[g]=O}isEnum(c){return!!c.enum||c.anyOf&&c.anyOf.every(o)||c.oneOf&&c.oneOf.every(o)||c.uniqueItems&&c.items&&!Array.isArray(c.items)&&this.isEnum(c.items)}toEnumOptions(c){if(c.enum)return c.enum.map(O=>({value:O,label:O}));const g=O=>{const k=O.hasOwnProperty("const")?O.const:O.enum[0],v={value:k,label:O.title||k};return O.readOnly&&(v.disabled=!0),v};return c.anyOf?c.anyOf.map(g):c.oneOf?c.oneOf.map(g):this.toEnumOptions(c.items)}isFieldValid(c,g,O,k){const v=O[g];v._field||Object.defineProperty(v,"_field",{enumerable:!1,writable:!0,configurable:!0});let p=v._field;const h=c.model?(0,E.kg)(c.model):c.fieldArray?[]:{};return p?(p.model=h,c.options.build(p)):p=v._field=c.options.build({form:Array.isArray(h)?new e.Oe([]):new e.cw({}),fieldGroup:[this._toFieldConfig(v,(0,A.Z)((0,A.Z)({},k),{},{resetOnHide:!0,ignoreDefault:!0,map:null,strict:!0}))],model:h,options:{}}),p.form.valid}mergeFields(c,g){for(let O in g){const k="templateOptions"===O?"props":O;l(c[k])&&l(g[O])?c[k]=this.mergeFields(c[k],g[O]):null!=g[O]&&(c[k]=g[O])}return c}}return n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=x.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);