"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[70],{5851:(D,E,a)=>{a.d(E,{B:()=>ve});var p=a(5861),_=a(1378),e=a(9212),g=a(2438),h=a(4036),u=a(9054),v=a(4020),M=a(148),L=a(9093),C=a(7621),f=a(1990),x=a(5661),R=a(5172),m=a(3845),T=a(4887),Z=a(5487),w=a(658),J=a(9515),I=a(6814),A=a(6223),B=a(9473),F=a(554),k=a(4464),Q=a(8366),G=a(5290),H=a(4228);const j=["fileInput"];function Y(r,l){1&r&&(e.O4$(),e.TgZ(0,"svg",21),e._UZ(1,"path",22)(2,"path",23),e.qZA())}const z=()=>["text-primary"];function V(r,l){1&r&&e._UZ(0,"app-logo",24),2&r&&e.Q6J("svgClass",e.DdM(2,z))("responsive",!1)}function $(r,l){1&r&&(e._UZ(0,"span",28),e.ALo(1,"translate")),2&r&&e.Q6J("innerHTML",e.lcZ(1,1,"COMPONENTS.UPLOADER.DESCRIPTION.DESKTOP"),e.oJD)}function X(r,l){1&r&&(e._UZ(0,"span",28),e.ALo(1,"translate")),2&r&&e.Q6J("innerHTML",e.lcZ(1,1,"COMPONENTS.UPLOADER.DESCRIPTION.TOUCH"),e.oJD)}const q=r=>({"fw-bold fs-md-lg":r}),ee=r=>({"text-decoration-underline":r});function te(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",25),e.YNc(1,$,2,3,"span",26)(2,X,2,3,"span",26),e.TgZ(3,"span",27),e.NdJ("click",function(t){e.CHM(i);const n=e.oxw(2),s=e.MAs(11);return e.KtG(n.toggleRemoteUrlForm(t,s))}),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&r){const i=e.oxw(2);e.Q6J("ngClass",e.VKq(7,q,!i.isWidget)),e.xp6(),e.Q6J("ngIf",!i.touchDevice),e.xp6(),e.Q6J("ngIf",i.touchDevice),e.xp6(),e.Q6J("ngClass",e.VKq(9,ee,i.isWidget)),e.xp6(),e.Oqu(e.lcZ(5,5,"COMPONENTS.UPLOADER.DESCRIPTION.REMOTE_URL"))}}function ne(r,l){1&r&&e.GkF(0)}function oe(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"div",29),e.YNc(1,ne,1,0,"ng-container",30),e.TgZ(2,"button",31),e.NdJ("click",function(t){e.CHM(i);const n=e.oxw(2);return e.KtG(n.handleRemoteUrlUpload(t))}),e.O4$(),e.TgZ(3,"svg",32),e._UZ(4,"path",33),e.qZA()(),e.kcU(),e.TgZ(5,"button",34),e.NdJ("click",function(t){e.CHM(i);const n=e.oxw(2);return e.KtG(n.toggleRemoteUrlForm(t))}),e.O4$(),e.TgZ(6,"svg",32),e._UZ(7,"path",35),e.qZA()()()}if(2&r){const i=e.oxw(2),o=e.MAs(16);e.xp6(),e.Q6J("ngTemplateOutlet",o),e.xp6(),e.Q6J("disabled",0===i.remoteUrl.length||!i.isRemoteUrlValid)}}function re(r,l){if(1&r&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"em",36),e.ALo(5,"arrayJoin"),e.BQk()),2&r){const i=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"COMPONENTS.UPLOADER.PATH.LONG")," "),e.xp6(2),e.Q6J("innerText",i.currentFolderPath.length?e.xi3(5,4,i.currentFolderPath,"/"):"root")}}function ie(r,l){if(1&r&&(e._UZ(0,"div",41),e.ALo(1,"arrayJoin"),e.ALo(2,"slice")),2&r){const i=e.oxw(3);e.Q6J("innerText",e.xi3(1,1,e.Dn7(2,4,i.currentFolderPath,0,-1),"/"))}}function ae(r,l){if(1&r&&(e.TgZ(0,"div",37)(1,"div",38),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,ie,3,8,"div",39),e._UZ(5,"div",40),e.ALo(6,"arrayJoin"),e.ALo(7,"slice"),e.qZA()),2&r){const i=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,3,"COMPONENTS.UPLOADER.PATH.SHORT")," "),e.xp6(2),e.Q6J("ngIf",i.currentFolderPath.length>1),e.xp6(),e.Q6J("innerText",(i.currentFolderPath.length>1?"/":"")+(i.currentFolderPath.length?e.xi3(6,5,e.xi3(7,8,i.currentFolderPath,i.currentFolderPath.length-1),"/"):"root"))}}const le=()=>({bottom:0,left:0});function se(r,l){if(1&r){const i=e.EpF();e.ynx(0),e.TgZ(1,"a",42),e.NdJ("click",function(){e.CHM(i);const t=e.oxw(2);return e.KtG(t.openInfoModal.emit())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",43),e.NdJ("click",function(){e.CHM(i),e.oxw(2);const t=e.MAs(7);return e.KtG(t.open())}),e._uU(5," settings "),e.qZA(),e.TgZ(6,"div",44),e.NdJ("click",function(t){e.CHM(i);const n=e.oxw(2),s=e.MAs(11);return e.KtG(n.toggleRemoteUrlForm(t,s))}),e._uU(7," add_link "),e.qZA(),e.BQk()}2&r&&(e.xp6(),e.Q6J("ngStyle",e.DdM(4,le)),e.xp6(),e.Oqu(e.lcZ(3,2,"COMPONENTS.UPLOADER.INFO")))}const _e=(r,l,i)=>({"cursor-pointer":r,"py-4 px-3 px-sm-4":l,"p-2 pb-3":i}),ce=(r,l,i)=>({"my-2":r,"mb-2":l,"mw-100 mt-1":i});function pe(r,l){if(1&r){const i=e.EpF();e.ynx(0),e.TgZ(1,"div",12,13),e.NdJ("dragenter",function(){e.CHM(i);const t=e.MAs(2),n=e.oxw();return e.KtG(n.setDragOverEvent(t))})("drop",function(t){e.CHM(i);const n=e.oxw();return e.KtG(n.handleDropEvent(t))})("click",function(){e.CHM(i);const t=e.oxw(),n=e.MAs(2);return e.KtG(!t.isWaitingRemoteUrl&&n.click())}),e.YNc(3,Y,3,0,"svg",14)(4,V,1,3,"ng-template",null,15,e.W1O)(6,te,6,11,"div",16)(7,oe,8,2,"div",17),e.TgZ(8,"div",18),e.YNc(9,re,6,7,"ng-container",3)(10,ae,8,11,"ng-template",null,19,e.W1O),e.qZA()(),e.YNc(12,se,8,5,"ng-container",20),e.BQk()}if(2&r){const i=e.MAs(5),o=e.MAs(11),t=e.oxw();e.xp6(),e.Q6J("ngClass",e.kEZ(9,_e,!t.loading&&!t.isWaitingRemoteUrl,!t.isWidget,t.isWidget)),e.xp6(2),e.Q6J("ngIf",!t.isWidget)("ngIfElse",i),e.xp6(3),e.Q6J("ngIf",!t.isWidget||!t.isWaitingRemoteUrl),e.xp6(),e.Q6J("ngIf",t.isWidget&&t.isWaitingRemoteUrl),e.xp6(),e.Q6J("ngClass",e.kEZ(13,ce,!t.isWidget&&!t.touchDevice,!t.isWidget&&t.touchDevice,t.isWidget)),e.xp6(),e.Q6J("ngIf",!t.isWidget)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",!t.isWidget)}}const de=(r,l)=>({"p-4":r,"p-2":l});function ge(r,l){if(1&r&&(e.TgZ(0,"div",45),e.O4$(),e.TgZ(1,"svg",46),e._UZ(2,"path",47),e.qZA(),e.kcU(),e._UZ(3,"app-loader",48),e.TgZ(4,"div",49),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&r){const i=e.oxw();e.Q6J("ngClass",e.WLB(6,de,!i.isWidget,i.isWidget)),e.xp6(3),e.Q6J("onlyMessage",!0)("message",i.loadingMessage),e.xp6(2),e.hij(" ",e.lcZ(6,4,"COMPONENTS.UPLOADER.LOADING.SUBTEXT")," ")}}function ue(r,l){if(1&r){const i=e.EpF();e._UZ(0,"div",28),e.ALo(1,"translate"),e.TgZ(2,"ul",50)(3,"li")(4,"div",51)(5,"input",52),e.NdJ("ngModelChange",function(t){e.CHM(i);const n=e.oxw();return e.KtG(n.options.compress=t)})("ngModelChange",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.saveOptions())}),e.qZA(),e._UZ(6,"label",53),e.ALo(7,"translate"),e.qZA()(),e.TgZ(8,"li")(9,"div",51)(10,"input",54),e.NdJ("ngModelChange",function(t){e.CHM(i);const n=e.oxw();return e.KtG(n.options.openLinkModalAfterUpload=t)})("ngModelChange",function(){e.CHM(i);const t=e.oxw();return e.KtG(t.saveOptions())}),e.qZA(),e._UZ(11,"label",55),e.ALo(12,"translate"),e.qZA()()()}if(2&r){const i=e.oxw();e.Q6J("innerHTML",e.lcZ(1,5,"COMPONENTS.UPLOADER.SETTINGS_MODAL.CONTENT.DESCRIPTION"),e.oJD),e.xp6(5),e.Q6J("ngModel",i.options.compress),e.xp6(),e.Q6J("innerHTML",e.lcZ(7,7,"COMPONENTS.UPLOADER.SETTINGS_MODAL.CONTENT.COMPRESS_SWITCH"),e.oJD),e.xp6(4),e.Q6J("ngModel",i.options.openLinkModalAfterUpload),e.xp6(),e.Q6J("innerHTML",e.lcZ(12,9,"COMPONENTS.UPLOADER.SETTINGS_MODAL.CONTENT.SHOW_LINK_SWITCH"),e.oJD)}}function me(r,l){1&r&&e.GkF(0)}function Oe(r,l){if(1&r&&(e._UZ(0,"p",56),e.ALo(1,"translate"),e.YNc(2,me,1,0,"ng-container",30)),2&r){e.oxw();const i=e.MAs(16);e.Q6J("innerHTML",e.lcZ(1,2,"COMPONENTS.UPLOADER.REMOTE_URL_MODAL.CONTENT"),e.oJD),e.xp6(2),e.Q6J("ngTemplateOutlet",i)}}function Ee(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"button",57),e.NdJ("click",function(){e.CHM(i),e.oxw();const t=e.MAs(11);return e.KtG(t.close())}),e.ALo(1,"translate"),e.qZA(),e.TgZ(2,"button",58),e.NdJ("click",function(t){e.CHM(i);const n=e.oxw(),s=e.MAs(11);return e.KtG(n.handleRemoteUrlUpload(t,s))}),e.ALo(3,"translate"),e.qZA()}if(2&r){const i=e.oxw();e.Q6J("innerText",e.lcZ(1,3,"SHARED.CANCEL")),e.xp6(2),e.Q6J("disabled",0===i.remoteUrl.length||!i.isRemoteUrlValid)("innerText",e.lcZ(3,5,"COMPONENTS.UPLOADER.REMOTE_URL_MODAL.UPLOAD_BTN"))}}const Me=r=>({"fs-reset":r});function fe(r,l){if(1&r){const i=e.EpF();e.TgZ(0,"input",59,60),e.NdJ("ngModelChange",function(t){e.CHM(i);const n=e.oxw();return e.KtG(n.remoteUrl=t)})("ngModelChange",function(){e.CHM(i);const t=e.MAs(1),n=e.oxw();return e.KtG(n.isRemoteUrlValid=!t.invalid)}),e.ALo(2,"translate"),e.qZA()}if(2&r){const i=e.oxw();e.Q6J("placeholder",e.lcZ(2,4,"COMPONENTS.UPLOADER.REMOTE_URL_INPUT_PLACEHOLDER"))("ngClass",e.VKq(6,Me,i.isWidget))("ngModel",i.remoteUrl)("pattern","^https?://[^.]+\\.(.+)")}}const he=(r,l)=>({uploading:r,"widget flex-grow-1 min-w-0":l});let ve=(()=>{var r;class l{constructor(o,t,n,s,d,O,U,S,W){this.postMessageService=o,this.uploadService=t,this.uploadObservablesService=n,this.uploaderService=s,this.toastService=d,this.renderer=O,this.ngZone=U,this.translateService=S,this.proxyService=W,this.loading=!0,this.currentFolderPath=[],this.isWidget=!1,this.fileUploadedEvent=new e.vpe,this.openInfoModal=new e.vpe,this.isUploading=!1,this.loadingMessage="",this.touchDevice=v.b1,this.isWaitingRemoteUrl=!1,this.remoteUrl="",this.isRemoteUrlValid=!1,this.dragOverEvent=!1,this.checkingFileMessage="",this.options=this.uploaderService.uploaderOptions;const N=this.uploadService.preferences.uploader;N.checkImage.active||(this.options.compress=!1),this.options.openLinkModalAfterUpload=N.showLinkModal||this.options.openLinkModalAfterUpload||!1,this.uploaderService.uploaderOptions=this.options}ngOnInit(){var o=this;return(0,p.Z)(function*(){o.handleClipboardPasteEvent(),o.handleExternalUpload(),o.checkingFileMessage=o.translateService.instant("COMPONENTS.UPLOADER.LOADING.MESSAGE.CHECK"),o.loadingMessage=o.checkingFileMessage})()}handleClipboardPasteEvent(){var o=this;this.clipboardPasteEventSubscription=(0,g.R)(document.body,"paste").subscribe(function(){var t=(0,p.Z)(function*(n){if(o.isWidget&&o.isWaitingRemoteUrl||!o.canUpload())return;const s=Array.from((n.clipboardData||n.originalEvent.clipboardData).items),d=[];for(const O of s)if(0===O.type.indexOf("image")){const U=O.getAsFile();U&&d.push(U)}d.length>0?yield o.preUpload(d):o.reset()});return function(n){return t.apply(this,arguments)}}())}handleExternalUpload(){var o=this;this.startExternalUploadSubscription=this.uploadObservablesService.startUploadObservable.subscribe(function(){var t=(0,p.Z)(function*(n){if(n){if(!o.canUpload())return;yield o.preUpload([n.file],n.options)}else o.fileInputRef.nativeElement.click()});return function(n){return t.apply(this,arguments)}}())}handleSelectionEvent(o){var t=this;return(0,p.Z)(function*(){if(!t.canUpload())return;const n=o.target;if(n.files&&n.files.length){const s=Array.from(n.files);return n.value="",t.preUpload(s)}t.reset()})()}handleDropEvent(o){var t=this;return(0,p.Z)(function*(){var n;if(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),!t.canUpload())return;const s=null!==(n=o.dataTransfer)&&void 0!==n&&n.files?Array.from(o.dataTransfer.files):[];if(s.length)return t.preUpload(s);t.reset()})()}handleRemoteUrlUpload(o,t){var n=this;return(0,p.Z)(function*(){if(!n.isRemoteUrlValid||0===n.remoteUrl.length||!n.canUpload())return;const s=n.remoteUrl;n.loadingMessage=n.translateService.instant("COMPONENTS.UPLOADER.LOADING.MESSAGE.GETTING_REMOTE_FILE"),n.toggleRemoteUrlForm(o,t);const d=(0,u.Tb)(s);if(!d.ext||-1===f.KK.findIndex(U=>-1!==U.ext.indexOf(d.ext)))return n.handleErrors([d.name],[]),void n.reset();const O=yield n.proxyService.get(s);return O?n.preUpload([new File([O],d.name,{type:O.type,lastModified:Date.now()})]):(n.isWidget||n.toastService.show({content:"Errore nel recupero dell'immagine dall'url!",level:_.m.ERROR}),n.postMessageService.send(M.l.UPLOAD_ERROR,{filename:d.name,error:m.S.REMOTE_URL_RESPONSE}),void n.reset())})()}saveOptions(o=!0){this.uploaderService.uploaderOptions=this.options,o&&this.savePreferences()}savePreferences(){this.uploadService.preferences.uploader={checkImage:{active:this.options.compress,time:Date.now()},showLinkModal:this.options.openLinkModalAfterUpload||!1}}setDragOverEvent(o){this.dragOverEvent||(this.dragOverEvent=!0,this.ngZone.runOutsideAngular(()=>{this.renderer.listen(o,"dragover",t=>{t.preventDefault()})}))}canUpload(){return!this.loading&&!this.isUploading&&(this.isUploading=!0,this.dragOverEvent=!1,!0)}reset(){this.isUploading=!1,this.loadingMessage=this.checkingFileMessage,this.postMessageService.send(M.l.UPLOAD_END,{}),this.options.allowOverwrite=!1,this.saveOptions(!1)}preUpload(o,t){var n=this;return(0,p.Z)(function*(){const s=[...n.currentFolderPath],d=[],O=[],U=[],S=[];t?t.allowOverwrite=t.allowOverwrite||!1:(t=n.uploaderService.uploaderOptions).allowOverwrite=!1;for(let c=0;c<o.length;c++){const P=yield n.uploaderService.prepareFile(o[c],t);if(P){const K=(0,u.Tb)(P.name),b=(0,u.g8)(K.ext);if(!b){U.push(P.name);continue}if(P.size>b.maxSize){S.push(P.name);continue}d.push((0,u.g0)(P,K)),O.push(P)}}if(n.handleErrors(U,S),0===O.length)return void n.reset();const W=n.translateService.instant("COMPONENTS.UPLOADER.LOADING.MESSAGE.UPLOADING",{total:O.length}),N=n.translateService.instant("COMPONENTS.UPLOADER.LOADING.MESSAGE.CREATING_PACKAGE",{total:O.length});n.uploadObservablesService.pushUploadingFileQueue(d);for(let c=0;c<O.length;++c){n.loadingMessage=N;const P=yield n.uploadService.getHostToken(s,O[c].name);d[c].progress+=20,n.loadingMessage=W.replace("{{current}}","".concat(c+1)),yield(0,h.z)(n.uploaderService.upload(O[c],P,d[c],t.allowOverwrite))}n.uploadObservablesService.pushUploadingFileQueue([]);const y=d.filter(c=>!c.error).map(c=>c.file);y.length>0&&(n.fileUploadedEvent.emit({list:y,rewrite:t.allowOverwrite,destPath:s}),n.postMessageService.send(M.l.UPLOAD_SUCCESS,{fileList:y.map(c=>({filename:c.name,isImage:c.isImage,url:c.url}))}),t.openLinkModalAfterUpload&&n.uploadObservablesService.pushAction({name:R.In.FILE_SHOW_LINKS,payload:{entities:(0,u.jL)(y)}})),n.reset()})()}handleErrors(o,t){if(0!==o.length||0!==t.length){if(!this.isWidget)return void this.toastService.show({content:this.createToastMessage(o,t),level:_.m.ERROR});[[m.S.UNSUPPORTED,o],[m.S.OVERSIZED,t]].forEach(n=>{n[1].forEach(s=>{this.postMessageService.send(M.l.UPLOAD_ERROR,{filename:s,error:n[0]})})})}}createToastMessage(o,t){const n=[];return o.length&&n.push(o.length>1?"I file <strong>".concat(o.join(", "),"</strong> hanno un formato non supportato!"):"Il file <strong>".concat(o[0],"</strong> ha un formato non supportato!")),t.length&&n.push(t.length>1?"I file <strong>".concat(t.join(", "),"</strong> sono troppo pesanti!"):"Il file <strong>".concat(t[0],"</strong> \xe8 troppo pesante!")),n.join("<br><br>")}toggleRemoteUrlForm(o,t){o.stopPropagation(),this.isWidget||(this.isWaitingRemoteUrl?null==t||t.close():null==t||t.open()),this.resetRemoteUrlForm(!this.isWaitingRemoteUrl)}resetRemoteUrlForm(o){this.isWaitingRemoteUrl=o,this.remoteUrl=""}ngOnDestroy(){var o;null===(o=this.startExternalUploadSubscription)||void 0===o||o.unsubscribe(),this.clipboardPasteEventSubscription.unsubscribe(),this.uploaderService.clearPendingRequests()}}return(r=l).\u0275fac=function(o){return new(o||r)(e.Y36(L.F),e.Y36(w.C),e.Y36(Z.r),e.Y36(T.q),e.Y36(x.k),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(J.sK),e.Y36(C.y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-uploader"]],viewQuery:function(o,t){if(1&o&&e.Gf(j,5),2&o){let n;e.iGM(n=e.CRH())&&(t.fileInputRef=n.first)}},inputs:{loading:"loading",currentFolderPath:"currentFolderPath",isWidget:"isWidget"},outputs:{fileUploadedEvent:"fileUploadedEvent",openInfoModal:"openInfoModal"},decls:17,vars:15,consts:[[1,"uploader","rounded","position-relative",3,"ngClass"],["type","file",1,"d-none",3,"multiple","disabled","change"],["fileInput",""],[4,"ngIf","ngIfElse"],["uploading",""],[3,"title"],["optionsModal",""],["appModalBody",""],["size","md",3,"title","disableCloseButton","hidden"],["remoteUrlModal",""],["appModalFooter",""],["remoteUrlInput",""],[1,"rounded","upload-area",3,"ngClass","dragenter","drop","click"],["uploadArea",""],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","fill","currentColor","viewBox","0 0 16 16",4,"ngIf","ngIfElse"],["appLogo",""],["class","description text-center",3,"ngClass",4,"ngIf"],["class","input-group input-group-sm remote-url-form justify-content-center mb-1",4,"ngIf"],[1,"small","text-center",3,"ngClass"],["widgetFolder",""],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","fill","currentColor","viewBox","0 0 16 16"],["fill-rule","evenodd","d","M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2z"],["d","M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"],["svgSize","xl","subtext","Upload",1,"d-block","my-auto","py-1",3,"svgClass","responsive"],[1,"description","text-center",3,"ngClass"],[3,"innerHTML",4,"ngIf"],[1,"ms-1","remote-url-btn","fst-italic","cursor-pointer",3,"ngClass","click"],[3,"innerHTML"],[1,"input-group","input-group-sm","remote-url-form","justify-content-center","mb-1"],[4,"ngTemplateOutlet"],[1,"input-group-text","bg-light",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],[1,"input-group-text","bg-light",3,"click"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],[1,"text-break",3,"innerText"],[1,"d-flex","min-w-0"],[1,"me-1"],["class","fst-italic text-truncate mw-100",3,"innerText",4,"ngIf"],[1,"fst-italic","text-nowrap",3,"innerText"],[1,"fst-italic","text-truncate","mw-100",3,"innerText"],[1,"fs-xs","fst-italic","d-block","px-2","py-1","text-reset","cursor-pointer","position-absolute",3,"ngStyle","click"],[1,"material-icons-outlined","d-block","cursor-pointer","fs-xl","position-absolute","icon","options-icon",3,"click"],[1,"material-icons-outlined","d-block","cursor-pointer","fs-xl","position-absolute","icon","remote-url-icon",3,"click"],[1,"p-4","rounded",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","viewBox","0 0 16 16",1,"overflow-visible"],["d","M 4.406 3.342 A 5.53 5.53 0 0 1 8 2 c 2.69 0 4.923 2 5.166 4.579 C 14.758 6.804 16 8.137 16 9.773 C 16 11.569 14.502 13 12.687 13 H 3.781 C 1.708 13 0 11.366 0 9.318 c 0 -1.763 1.266 -3.223 2.942 -3.593 c 0.143 -0.863 0.698 -1.723 1.464 -2.383 z",1,"cloud"],[3,"onlyMessage","message"],[1,"small","text-center"],[1,"mb-1","list-unstyled"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","speed-upload",1,"form-check-input",3,"ngModel","ngModelChange"],["for","speed-upload",1,"form-check-label","me-auto",3,"innerHTML"],["type","checkbox","role","switch","id","show-link-modal",1,"form-check-input",3,"ngModel","ngModelChange"],["for","show-link-modal",1,"form-check-label","me-auto",3,"innerHTML"],[1,"mb-2",3,"innerHTML"],["type","button",1,"btn","btn-secondary",3,"innerText","click"],["type","button",1,"btn","btn-primary",3,"disabled","innerText","click"],["type","text","required","",1,"form-control",3,"placeholder","ngClass","ngModel","pattern","ngModelChange"],["input","ngModel"]],template:function(o,t){if(1&o&&(e.TgZ(0,"div",0)(1,"input",1,2),e.NdJ("change",function(s){return t.handleSelectionEvent(s)}),e.qZA(),e.YNc(3,pe,13,17,"ng-container",3)(4,ge,7,9,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(6,"app-modal",5,6),e.ALo(8,"translate"),e.YNc(9,ue,13,11,"ng-template",7),e.qZA(),e.TgZ(10,"app-modal",8,9),e.NdJ("hidden",function(){return t.resetRemoteUrlForm(!1)}),e.ALo(12,"translate"),e.YNc(13,Oe,3,4,"ng-template",7)(14,Ee,4,7,"ng-template",10),e.qZA(),e.YNc(15,fe,3,8,"ng-template",null,11,e.W1O)),2&o){const n=e.MAs(5);e.Q6J("ngClass",e.WLB(12,he,t.isUploading,t.isWidget)),e.xp6(),e.Q6J("multiple",!0)("disabled",t.loading||t.isUploading),e.xp6(2),e.Q6J("ngIf",!t.isUploading)("ngIfElse",n),e.xp6(3),e.Q6J("title",e.lcZ(8,8,"COMPONENTS.UPLOADER.SETTINGS_MODAL.TITLE")),e.xp6(4),e.Q6J("title",e.lcZ(12,10,"COMPONENTS.UPLOADER.REMOTE_URL_MODAL.TITLE"))("disableCloseButton",!0)}},dependencies:[I.mk,I.O5,I.tP,I.PC,A.Fj,A.Wl,A.JJ,A.Q7,A.c5,A.On,B.R,F.R,k.z,Q.J,G.j,H.J,I.OU,J.X$],styles:[".uploader[_ngcontent-%COMP%]:not(.widget){margin:0 1rem;border:2px dashed #4864fe;box-shadow:0 .125rem .25rem #00000013;color:#2036ad;height:100%}.uploader[_ngcontent-%COMP%]:not(.widget):not(.uploading)   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bubble 4s linear infinite}.uploader[_ngcontent-%COMP%]:not(.widget).uploading   svg[_ngcontent-%COMP%]   path.cloud[_ngcontent-%COMP%]{stroke:#2036ad}.uploader[_ngcontent-%COMP%]:not(.widget)   .description[_ngcontent-%COMP%]{max-width:350px}.uploader.widget.uploading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path.cloud[_ngcontent-%COMP%]{stroke:#4864fe}.uploader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.icon){height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.uploader.uploading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path.cloud[_ngcontent-%COMP%]{fill:none;stroke-linecap:round;stroke-dasharray:50;stroke-dashoffset:100;animation:_ngcontent-%COMP%_draw 3.5s linear infinite}.uploader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:5px;opacity:.7;transition:opacity .2s}.uploader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{opacity:1}.uploader[_ngcontent-%COMP%]   .options-icon[_ngcontent-%COMP%]{right:5px}.uploader[_ngcontent-%COMP%]   .remote-url-icon[_ngcontent-%COMP%]{right:30px}.upload-area.cursor-pointer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(app-logo):not(.description), .upload-area.cursor-pointer[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.remote-url-btn){pointer-events:none}.remote-url-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:300px}.remote-url-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5}@media (min-width: 768px){.uploader[_ngcontent-%COMP%]:not(.widget){margin:initial}}@keyframes _ngcontent-%COMP%_bubble{6%{transform:scale(1.3,.8)}9%{transform:scale(.8,1.3) translateY(-.5rem)}12%{transform:scale(1)}}@keyframes _ngcontent-%COMP%_draw{0%{stroke-dashoffset:100}to{stroke-dashoffset:0}}"]}),l})()},529:(D,E,a)=>{a.d(E,{M:()=>L});var p=a(4243),_=a(6814),e=a(6223),g=a(259),h=a(2740),u=a(4610),v=a(9515),M=a(9212);let L=(()=>{var C;class f{}return(C=f).\u0275fac=function(R){return new(R||C)},C.\u0275mod=M.oAB({type:C}),C.\u0275inj=M.cJS({imports:[p.r,_.ez,e.u5,g.q,h.h,u.z,v.aw.forChild()]}),f})()},3845:(D,E,a)=>{a.d(E,{S:()=>p});var p=function(_){return _.UNSUPPORTED="unsupported",_.OVERSIZED="oversized",_.REMOTE_URL_RESPONSE="remote-url-response",_.UPLOAD_FAILED="upload-failed",_}(p||{})},4243:(D,E,a)=>{a.d(E,{r:()=>e});var p=a(6814),_=a(9212);let e=(()=>{var g;class h{}return(g=h).\u0275fac=function(v){return new(v||g)},g.\u0275mod=_.oAB({type:g}),g.\u0275inj=_.cJS({imports:[p.ez]}),h})()},4228:(D,E,a)=>{a.d(E,{J:()=>_});var p=a(9212);let _=(()=>{var e;class g{transform(u,v){return u.join(v)}}return(e=g).\u0275fac=function(u){return new(u||e)},e.\u0275pipe=p.Yjl({name:"arrayJoin",type:e,pure:!0}),g})()},7621:(D,E,a)=>{a.d(E,{y:()=>C});var p=a(5861),_=a(6306),e=a(708),g=a(8180),h=a(4664),u=a(2096),v=a(9931),M=a(9212),L=a(9862);let C=(()=>{var f;class x{constructor(m,T){this.http=m,this.endpointsService=T}get(m){var T=this;return(0,p.Z)(function*(){const Z=T.sendRequest(m);return yield(0,e.n)(Z)})()}sendRequest(m){return this.getUrlContent(m).pipe((0,g.q)(1),(0,h.w)(T=>(0,u.of)(T)),(0,v.K)(()=>this.getUrlContentWithProxy(m)))}getUrlContent(m){return this.http.get(m,{responseType:"blob"})}getUrlContentWithProxy(m){return this.http.get(this.endpointsService.get(_.jQ.PROXY,_.ph.COMMON),{headers:{[_._3.TOKEN_TYPE]:_.s9.ACCESS,"x-remote-url":m},responseType:"blob"}).pipe((0,g.q)(1),(0,v.K)(()=>(0,u.of)(void 0)))}}return(f=x).\u0275fac=function(m){return new(m||f)(M.LFG(L.eN),M.LFG(_.oz))},f.\u0275prov=M.Yz7({token:f,factory:f.\u0275fac,providedIn:"root"}),x})()}}]);