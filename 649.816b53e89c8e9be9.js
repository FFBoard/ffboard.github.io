(self.webpackChunkpages=self.webpackChunkpages||[]).push([[649],{5649:(xt,lt,E)=>{"use strict";E.r(lt),E.d(lt,{LoginModule:()=>o});var tt=E(6814),H=E(5213),Q=E(4295),et=E(259),it=E(5861),U=E(1378),J=E(4020),X=E(6306),nt=E(1410),W=E(9018),q=E(463),P=E(7165),R=E(5661),N=E(2986),d=E(9212),G=E(2655),mt=E(9344),ut=E(7219);function yt(r,g){if(1&r&&(d.TgZ(0,"li",6)(1,"a",7),d._uU(2),d.ALo(3,"titlecase"),d.ALo(4,"titlecase"),d.qZA()()),2&r){const y=g.$implicit;d.xp6(),d.Gre("fv-small-caps shadow-sm text-center d-block btn btn-",y.shortDomain,""),d.Q6J("href",y.link,d.LSH)("target",y.failed?"_blank":"_self"),d.xp6(),d.AsE(" ",d.lcZ(3,7,y.title[0]),"",d.lcZ(4,9,y.title[1])," ")}}let wt=(()=>{var r;class g{constructor(h,l){this.loginService=h,this.endpointsService=l,this.failedAttempts=[],this.openQrModal=new d.vpe,this.buttons=[]}ngOnInit(){this.buttons=this.loginService.domains.map(h=>{const l=this.failedAttempts.includes(h);return{title:this.createCircuitName(h),link:l?"https://accounts.".concat(h,"/?act=Login"):this.endpointsService.get(X.jQ.LOGIN,X.G9.REDIRECT,void 0,h)+this.loginService.encodedRedirectParams,shortDomain:(0,X.yy)(h),failed:l}})}createCircuitName(h){const l=h.match(/^(forum|blog)(free|community)/i);return l?[l[1],l[2]]:["",""]}}return(r=g).\u0275fac=function(h){return new(h||r)(d.Y36(W.r),d.Y36(X.oz))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-login-buttons"]],inputs:{failedAttempts:"failedAttempts"},outputs:{openQrModal:"openQrModal"},decls:9,vars:1,consts:[[1,"mb-0","text-center"],[1,"list-unstyled","mb-0"],["class","my-3",4,"ngFor","ngForOf"],[1,"small","text-muted","d-flex","option","align-items-center","my-4"],[1,"px-3","pb-1"],[1,"fv-small-caps","text-center","border","mt-3","btn","btn-outline-secondary","d-block",3,"click"],[1,"my-3"],[3,"href","target"]],template:function(h,l){1&h&&(d.TgZ(0,"p",0),d._uU(1,"Scegli il circuito con cui accedere!"),d.qZA(),d.TgZ(2,"ul",1),d.YNc(3,yt,5,11,"li",2),d.qZA(),d.TgZ(4,"div",3)(5,"div",4),d._uU(6,"oppure autorizza con"),d.qZA()(),d.TgZ(7,"div",5),d.NdJ("click",function(){return l.openQrModal.emit()}),d._uU(8,"QR Code"),d.qZA()),2&h&&(d.xp6(3),d.Q6J("ngForOf",l.buttons))},dependencies:[tt.sg,tt.rS],styles:['.option[_ngcontent-%COMP%]:before, .option[_ngcontent-%COMP%]:after{content:"";flex-grow:1;border-bottom:1px solid #dee2e6}']}),g})();var at=E(1698),st=E(554);let bt=(()=>{var r;class g{constructor(h){this.tosService=h,this.appName=J.DJ}openTosModal(){this.tosService.toggleModal(!0)}}return(r=g).\u0275fac=function(h){return new(h||r)(d.Y36(at.F))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-login-header"]],decls:11,vars:4,consts:[[1,"mb-2","mb-lg-3","d-flex","justify-content-center"],["svgSize","xl",3,"responsive"],[1,"mt-2","mb-3","mb-lg-2","text-justify"],[1,"text-justify","d-none","d-lg-block"],[1,"text-center","small","text-muted","mt-auto"],["role","button",1,"tos-modal-btn",3,"click"]],template:function(h,l){1&h&&(d.TgZ(0,"h1",0),d._UZ(1,"app-logo",1),d.qZA(),d.TgZ(2,"p",2),d._uU(3),d.qZA(),d.TgZ(4,"p",3),d._uU(5," Dopo aver selezionato un circuito con cui effettuare il login, si viene indirizzati nell'apposita area del sito in cui \xe8 possibile usufruire delle funzioni messe a disposizione per forum, blog e utenti, tra cui EasyScript, EasyUpload e la gestione degli Admin degli Script!\n"),d.qZA(),d.TgZ(6,"div",4),d._uU(7," Proseguendo accetti i "),d.TgZ(8,"a",5),d.NdJ("click",function(){return l.openTosModal()}),d._uU(9,"Termini di Servizio"),d.qZA(),d._uU(10),d.qZA()),2&h&&(d.xp6(),d.Q6J("responsive",!1),d.xp6(2),d.AsE(" ",l.appName," \xe8 un progetto gratuito creato per raccogliere e offrire i principali servizi aggiuntivi disponibili per i siti e gli account dei circuiti Forumfree, Forumcommunity e Blogfree. Scritto principalmente in typescript, ",l.appName," sfrutta le potenzialit\xe0 offerte dal celebre pacchetto per sviluppo web Angular al fine di garantire un'esperienza di navigazione fluida, immediata e intuitiva!\n"),d.xp6(7),d.hij(" di ",l.appName,"\n"))},dependencies:[st.R],encapsulation:2}),g})();var dt=E(1413),_t=E(4464),_=E(4004),w=E(8366),m=E(149),f=E.n(m);const x=["canvas"];let M=(()=>{var r;class g{ngAfterViewInit(){const h=new URL(window.location.href);new(f())({width:250,height:250,margin:5,data:"".concat(h.protocol,"//").concat(h.host,"/settings?qr-login=").concat(this.uuid),dotsOptions:{color:"#4b579a",type:"rounded"},backgroundOptions:{color:"#ffffff"}}).append(this.canvas.nativeElement)}}return(r=g).\u0275fac=function(h){return new(h||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-login-qr-canvas"]],viewQuery:function(h,l){if(1&h&&d.Gf(x,5),2&h){let S;d.iGM(S=d.CRH())&&(l.canvas=S.first)}},inputs:{uuid:"uuid"},decls:2,vars:0,consts:[[1,"text-center"],["canvas",""]],template:function(h,l){1&h&&d._UZ(0,"div",0,1)},encapsulation:2}),g})();const C=["modal"];function A(r,g){if(1&r&&(d.TgZ(0,"ol")(1,"li"),d._uU(2,"Apri l'app fotocamera integrata del telefono o tablet."),d.qZA(),d.TgZ(3,"li"),d._uU(4,"Inquadra il QR Code."),d.qZA(),d.TgZ(5,"li"),d._uU(6,"Tocca il banner che compare sul telefono o tablet."),d.qZA(),d.TgZ(7,"li"),d._uU(8,"Segui le istruzioni sullo schermo per terminare l'accesso."),d.qZA()(),d._UZ(9,"app-login-qr-canvas",3),d.TgZ(10,"p",4)(11,"small",4),d._uU(12),d.qZA()()),2&r){const y=d.oxw();d.xp6(9),d.Q6J("uuid",y.uuid),d.xp6(3),d.hij("Codice di verifica: ",y.uuid,"")}}let $=(()=>{var r;class g{constructor(h,l){this.graphqlService=h,this.loginService=l,this.loginQrEvent=new d.vpe,this.uuid=(0,_.Z)()}open(){this.graphqlService.subscribe({query:"\nsubscription securityLoginQr($listener: String!) {\n    securityLoginQr(listener: $listener) {\n        eventMessage\n        user {\n            host\n            id\n            nickname\n            avatar\n        }\n    }\n}",variables:{listener:this.uuid}},h=>{this.onNext(h)}).then(h=>{this.unsubscribeFunction&&this.unsubscribeFunction(),this.unsubscribeFunction=h}),this.modalComponent.open()}onModalHidden(){this.unsubscribeFunction&&this.unsubscribeFunction()}onNext(h){var l;const S=null===(l=h.data)||void 0===l?void 0:l.securityLoginQr;if(!S)return;const k=this.loginService.createProfileFromJwtResponse({host:S.user.host,user:(0,dt.Z)({},S.user)});this.loginQrEvent.emit({refreshToken:S.refreshToken,refreshTokenId:S.refreshTokenId,accessToken:"",profile:k}),this.modalComponent.close()}ngOnDestroy(){this.unsubscribeFunction&&this.unsubscribeFunction()}}return(r=g).\u0275fac=function(h){return new(h||r)(d.Y36(X.Jk),d.Y36(W.r))},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-login-qr-modal"]],viewQuery:function(h,l){if(1&h&&d.Gf(C,5),2&h){let S;d.iGM(S=d.CRH())&&(l.modalComponent=S.first)}},outputs:{loginQrEvent:"loginQrEvent"},decls:3,vars:0,consts:[["title","Login tramite QR Code",3,"hidden"],["modal",""],["appModalBody",""],[3,"uuid"],[1,"text-center"]],template:function(h,l){1&h&&(d.TgZ(0,"app-modal",0,1),d.NdJ("hidden",function(){return l.onModalHidden()}),d.YNc(2,A,13,2,"ng-template",2),d.qZA())},dependencies:[_t.z,w.J,M]}),g})();var p=E(1187);let t=(()=>{var r;class g{}return(r=g).\u0275fac=function(h){return new(h||r)},r.\u0275cmp=d.Xpm({type:r,selectors:[["app-login-svg"]],decls:23,vars:0,consts:[[1,"mx-auto","mw-100","position-relative"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 949.85 463.64",1,"w-100","pc-svg"],["d","m0,418.39c0,.94,1.07,1.69,2.41,1.69h945.03c1.33,0,2.41-.75,2.41-1.69s-1.07-1.69-2.41-1.69H2.41c-1.33,0-2.41.75-2.41,1.69Z","fill","#2f2e43","stroke-width","0"],["d","m789.19,420.78H162.66V17.31c0-9.54,7.76-17.31,17.31-17.31h591.91c9.54,0,17.31,7.76,17.31,17.31v403.47Z","fill","#2f2e41","stroke-width","0"],["d","m841.34,463.64H108.95c-2.53,0-4.6-1.57-5.29-4.01-.68-2.43.27-4.86,2.43-6.17l57.09-34.83h626.22l.18.11,54.72,34.77c2.11,1.34,3.03,3.76,2.33,6.17-.7,2.4-2.77,3.96-5.27,3.96Z","fill","#dfdfdf","stroke-width","0"],["x","179.09","y","25.72","width","592.95","height","368.63","fill","#fff","stroke-width","0"],["points","794.9 441.5 159.09 441.5 190.52 416 764.9 416 794.9 441.5","fill","#2f2e41","stroke-width","0"],["points","626.31 458.64 324.83 458.64 336.26 441.5 614.88 441.5 626.31 458.64","fill","#2f2e41","stroke-width","0"],["points","838.74 152.18 824.02 157.02 824.02 135.82 837.38 135.82 838.74 152.18","fill","#f2a7aa","stroke-width","0"],["cx","825.84","cy","127.02","r","14.67","fill","#f2a7aa","stroke-width","0"],["d","m829.87,125.57c-2.46-.07-4.07-2.56-5.02-4.82-.95-2.27-1.94-4.87-4.21-5.81-1.86-.77-5.15,4.4-6.62,3.03-1.53-1.43-.04-8.81,1.59-10.13s3.85-1.58,5.95-1.68c5.11-.24,10.26.18,15.27,1.22,3.1.65,6.29,1.62,8.53,3.86,2.83,2.84,3.56,7.13,3.76,11.14.21,4.1-.03,8.4-2.02,11.98-1.99,3.59-6.17,6.24-10.17,5.32-.4-2.18,0-4.41.16-6.62.15-2.21,0-4.59-1.35-6.35s-4.23-2.45-5.8-.89","fill","#36344e","stroke-width","0"],["d","m847.92,130.65c1.47-1.08,3.22-1.97,5.03-1.75,1.95.24,3.6,1.85,4.1,3.75s-.06,4-1.27,5.55c-1.21,1.55-3,2.58-4.9,3.1-1.1.3-2.3.42-3.35-.03-1.54-.66-2.37-2.64-1.77-4.2","fill","#36344e","stroke-width","0"],["x","820.09","y","388","width","13.79","height","19.56","fill","#f2a7aa","stroke-width","0"],["d","m806.66,419.41c-1.45,0-2.74-.04-3.71-.13-3.66-.34-7.16-3.04-8.92-4.62-.79-.71-1.04-1.84-.63-2.82h0c.29-.7.88-1.22,1.61-1.43l9.68-2.77,15.67-10.58.17.31c.07.12,1.6,2.89,2.12,4.76.2.71.14,1.31-.15,1.77-.21.32-.49.5-.73.61.28.3,1.17.9,3.91,1.34,3.99.64,4.84-3.51,4.87-3.68l.03-.14.12-.08c1.9-1.23,3.07-1.78,3.48-1.66.25.08.67.2,1.81,11.49.11.35.91,2.95.37,5.43-.59,2.7-12.39,1.77-14.75,1.56-.07,0-8.9.64-14.96.64Z","fill","#36344e","stroke-width","0"],["x","865.58","y","374.8","width","13.79","height","19.56","transform","translate(-71.35 519.94) rotate(-31.95)","fill","#f2a7aa","stroke-width","0"],["d","m857.61,416.73c-1.62,0-3.11-.19-4.17-.38-1.04-.18-1.86-1.01-2.03-2.06h0c-.12-.75.1-1.5.61-2.07l6.75-7.47,7.7-17.27.31.17c.12.06,2.89,1.6,4.32,2.92.54.5.81,1.03.8,1.58,0,.38-.15.69-.29.9.4.1,1.47.14,4.03-.94,3.73-1.57,2.25-5.54,2.19-5.71l-.05-.13.06-.13c.97-2.05,1.66-3.14,2.07-3.25.25-.07.68-.18,7.61,8.79.28.24,2.33,2.02,3.19,4.42.93,2.6-9.58,8.06-11.69,9.13-.07.05-11.06,8.04-15.57,10.31-1.79.9-3.91,1.18-5.84,1.18Z","fill","#36344e","stroke-width","0"],["d","m844.04,224.38h-38.61l-3.5,35.92,15.33,132.71h19.71l-7.88-76.65,31.97,69.2,17.52-12.26-24.97-64.6s8.92-56.28,1.91-70.3c-7.01-14.02-11.48-14.02-11.48-14.02Z","fill","#36344e","stroke-width","0"],["points","863.24 226.57 801.92 226.57 820.32 147.3 847.03 147.3 863.24 226.57","fill","#4864fe","stroke-width","0"],["id","uuid-52db3307-ec3e-496d-a5d4-9d1f33ffc652-45-45-642","d","m786.69,145.73c-.98-4.82.81-9.23,4-9.84,3.19-.61,6.56,2.8,7.54,7.63.42,1.92.35,3.91-.19,5.81l3.88,20.49-10.02,1.58-2.76-20.36c-1.24-1.55-2.08-3.37-2.45-5.31h0Z","fill","#f2a7aa","stroke-width","0"],["d","m846.38,147.3h-23.56l-15.88,31.77-5.99-23.8-13.16,1.4s3.11,46.51,16.73,44.94c13.61-1.57,45.36-43.48,41.87-54.3Z","fill","#4864fe","stroke-width","0"],["id","uuid-2800d917-a06e-4fc6-b661-0f9df9cadefc-46-46-643","d","m872.7,268.11c.98,4.82-.81,9.23-4,9.84-3.19.61-6.56-2.8-7.54-7.63-.42-1.92-.35-3.91.19-5.81l-3.88-20.49,10.02-1.58,2.76,20.36c1.24,1.55,2.08,3.37,2.45,5.31,0,0,0,0,0,0Z","fill","#f2a7aa","stroke-width","0"],["d","m832.95,147.3s13.39-.57,14.08,0c3.65,2.99,25.09,110.66,25.09,110.66h-13.58s-25.6-110.66-25.6-110.66Z","fill","#4864fe","stroke-width","0"],[1,"text-primary","d-block","position-absolute"]],template:function(h,l){1&h&&(d.TgZ(0,"div",0),d.O4$(),d.TgZ(1,"svg",1),d._UZ(2,"path",2)(3,"path",3)(4,"path",4)(5,"rect",5)(6,"polygon",6)(7,"polygon",7)(8,"polygon",8)(9,"circle",9)(10,"path",10)(11,"path",11)(12,"rect",12)(13,"path",13)(14,"rect",14)(15,"path",15)(16,"path",16)(17,"polygon",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21),d.qZA(),d.kcU(),d._UZ(22,"app-logo-svg",22),d.qZA())},dependencies:[p.u],styles:["app-logo-svg[_ngcontent-%COMP%]{width:36px;left:50%;transform:translate(-50%);top:24%}.pc-svg[_ngcontent-%COMP%]{height:120px}"]}),g})();function n(r,g){if(1&r){const y=d.EpF();d.ynx(0),d.TgZ(1,"div",1)(2,"main",2)(3,"div",3),d._UZ(4,"app-login-header",4),d.qZA(),d.TgZ(5,"div",5),d._UZ(6,"app-login-svg",6),d.TgZ(7,"app-login-buttons",7),d.NdJ("openQrModal",function(){d.CHM(y);const l=d.MAs(9);return d.KtG(l.open())}),d.qZA()()(),d.TgZ(8,"app-login-qr-modal",8,9),d.NdJ("loginQrEvent",function(l){d.CHM(y);const S=d.oxw();return d.KtG(S.saveProfileTokensEvent(l))}),d.qZA(),d._UZ(10,"app-footer",10),d.qZA(),d.BQk()}if(2&r){const y=d.oxw();d.xp6(),d.ekj("embedded",y.appEmbedded),d.xp6(6),d.Q6J("failedAttempts",y.failedAttempts),d.xp6(3),d.Q6J("subscribeToToggleTosModalSubject",!0)}}const a=[{path:"",component:(()=>{var r;class g{constructor(h,l,S,k,D,B,O,L,T,z,rt){this.router=h,this.loginService=l,this.globalsService=S,this.activatedRoute=k,this.toastService=D,this.titleCasePipe=B,this.urlQueryParamsService=O,this.preferencesService=L,this.loadingBarService=T,this.tokensStorageService=z,this.tokensService=rt,this.render=!1,this.appName=J.DJ,this.appEmbedded=J.II,this.failedAttempts=[],J.II&&this.loadingBarService.useRef("http").disable()}saveProfileTokensEvent(h){var l=this;return(0,it.Z)(function*(){l.tokensStorageService.refreshToken={value:h.refreshToken,id:h.refreshTokenId},l.tokensStorageService.accessToken=h.accessToken,h.refreshToken||(l.loginService.loggedWithOnlyAccessToken=!0),yield l.setProfileAndNavigate(h.profile)})()}setProfileAndNavigate(h){var l=this;return(0,it.Z)(function*(){l.globalsService.credentials=h;const S=l.loginService.redirect;l.loginService.redirect=void 0,l.loginService.loggedInCurrentSession=!0,yield l.router.navigateByUrl(S)})()}ngOnInit(){var h=this;return(0,it.Z)(function*(){const l=h.activatedRoute.snapshot.data[P.RT.PROFILE];yield h.logout(l&&l.success&&l.data&&!l.data.refreshToken);const S=h.urlQueryParamsService.getAndDeleteParam(P.RT.REDIRECT_PATH);if(S&&(h.loginService.redirect=S),l)if(l.success){if(!l.data)return;if(l.data.profile)return void(yield h.saveProfileTokensEvent(l.data));const k=l.data.refreshToken,D=l.data.accessToken;let B;if(k){h.tokensStorageService.refreshToken={value:k,id:l.data.refreshTokenId};try{const O=yield h.tokensService.generateAccessToken();h.tokensStorageService.accessToken=O.token,B=O.info}catch(O){}}else D&&(h.tokensStorageService.accessToken=D,B=yield h.loginService.getProfileFromAccessToken(D),B||(yield h.loginService.invalidateCurrentSession()));if(B)return void(yield h.setProfileAndNavigate(h.loginService.createProfileFromJwtResponse({host:B.host,user:{id:B.id,avatar:B.avatar,nickname:B.nickname,roles:B.roles}})))}else l.domain&&(h.showToast(l.domain),h.failedAttempts.push(l.domain));h.render=!0})()}logout(h){var l=this;return(0,it.Z)(function*(){h||(yield l.loginService.invalidateCurrentSession(),l.globalsService.forum=void 0),l.globalsService.credentials=void 0,l.tokensStorageService.accessToken=void 0,l.loginService.loggedWithOnlyAccessToken=!1,l.preferencesService.resetItemsOnProfileChange()})()}showToast(h){this.toastService.show({content:"Non risulti loggato su ".concat(this.titleCasePipe.transform(h.split(".")[0]),", ")+"prova ad effettuare l'accesso dal "+'<a href="https://accounts.'.concat(h,'/?act=Login" target="_blank">portale dedicato</a> e a ricaricare la pagina!'),level:U.m.ERROR})}}return(r=g).\u0275fac=function(h){return new(h||r)(d.Y36(G.F0),d.Y36(W.r),d.Y36(nt.d),d.Y36(G.gz),d.Y36(R.k),d.Y36(tt.rS),d.Y36(N.J),d.Y36(q.y),d.Y36(mt.dL),d.Y36(X.n5),d.Y36(X.H))},r.\u0275cmp=d.Xpm({type:r,selectors:[["ng-component"]],features:[d._Bn([tt.rS])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"wrapper","d-flex","flex-column"],[1,"mx-auto","d-flex","align-items-stretch","bg-white","shadow-sm","overflow-hidden","flex-column","flex-lg-row"],[1,"bg-light","d-flex","flex-column","service","pt-4"],[1,"d-flex","flex-column","flex-grow-1"],[1,"login","d-flex","flex-column"],[1,"d-none","d-lg-block"],[1,"d-block","my-auto",3,"failedAttempts","openQrModal"],[3,"loginQrEvent"],["loginQrModal",""],[3,"subscribeToToggleTosModalSubject"]],template:function(h,l){1&h&&d.YNc(0,n,11,4,"ng-container",0),2&h&&d.Q6J("ngIf",l.render)},dependencies:[tt.O5,ut.c,wt,bt,$,t],styles:["[_nghost-%COMP%]{display:flex;min-height:100vh}.wrapper[_ngcontent-%COMP%]{flex-basis:100%;background-image:url(/assets/back-pattern.png)}.wrapper.embedded[_ngcontent-%COMP%]{display:none}main[_ngcontent-%COMP%]{max-width:992px;margin-bottom:2rem}.service[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{flex:1 1 0;padding:2rem}.service[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:1.5rem}@media (min-width: 992px){main[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:5rem;border-radius:.25rem;border:1px solid #dee2e6}.service[_ngcontent-%COMP%]{border-bottom:0;border-right:1px solid #dee2e6;padding-bottom:2rem}app-login-svg[_ngcontent-%COMP%]{margin-bottom:2rem}}"]}),g})()}];let c=(()=>{var r;class g{}return(r=g).\u0275fac=function(h){return new(h||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({imports:[G.Bz.forChild(a),G.Bz]}),g})();var u=E(2740),v=E(4610),i=E(3038),s=E(5063);let o=(()=>{var r;class g{}return(r=g).\u0275fac=function(h){return new(h||r)},r.\u0275mod=d.oAB({type:r}),r.\u0275inj=d.cJS({providers:[{provide:Window,useValue:window}],imports:[tt.ez,H._,Q.$,et.q,c,u.h,v.z,i.G,s.g]}),g})()},149:xt=>{self,xt.exports=(()=>{var lt={192:(H,Q)=>{var et,it,U=function(){var J=function(_,b){var w=_,m=R[b],f=null,x=0,M=null,C=[],A={},$=function(i,s){f=function(o){for(var r=new Array(o),g=0;g<o;g+=1){r[g]=new Array(o);for(var y=0;y<o;y+=1)r[g][y]=null}return r}(x=4*w+17),p(0,0),p(x-7,0),p(0,x-7),n(),t(),a(i,s),w>=7&&e(i),null==M&&(M=u(w,m,C)),c(M,s)},p=function(i,s){for(var o=-1;o<=7;o+=1)if(!(i+o<=-1||x<=i+o))for(var r=-1;r<=7;r+=1)s+r<=-1||x<=s+r||(f[i+o][s+r]=0<=o&&o<=6&&(0==r||6==r)||0<=r&&r<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=r&&r<=4)},t=function(){for(var i=8;i<x-8;i+=1)null==f[i][6]&&(f[i][6]=i%2==0);for(var s=8;s<x-8;s+=1)null==f[6][s]&&(f[6][s]=s%2==0)},n=function(){for(var i=N.getPatternPosition(w),s=0;s<i.length;s+=1)for(var o=0;o<i.length;o+=1){var r=i[s],g=i[o];if(null==f[r][g])for(var y=-2;y<=2;y+=1)for(var h=-2;h<=2;h+=1)f[r+y][g+h]=-2==y||2==y||-2==h||2==h||0==y&&0==h}},e=function(i){for(var s=N.getBCHTypeNumber(w),o=0;o<18;o+=1){var r=!i&&1==(s>>o&1);f[Math.floor(o/3)][o%3+x-8-3]=r}for(o=0;o<18;o+=1)r=!i&&1==(s>>o&1),f[o%3+x-8-3][Math.floor(o/3)]=r},a=function(i,s){for(var r=N.getBCHTypeInfo(m<<3|s),g=0;g<15;g+=1){var y=!i&&1==(r>>g&1);g<6?f[g][8]=y:g<8?f[g+1][8]=y:f[x-15+g][8]=y}for(g=0;g<15;g+=1)y=!i&&1==(r>>g&1),g<8?f[8][x-g-1]=y:g<9?f[8][15-g-1+1]=y:f[8][15-g-1]=y;f[x-8][8]=!i},c=function(i,s){for(var o=-1,r=x-1,g=7,y=0,h=N.getMaskFunction(s),l=x-1;l>0;l-=2)for(6==l&&(l-=1);;){for(var S=0;S<2;S+=1)if(null==f[r][l-S]){var k=!1;y<i.length&&(k=1==(i[y]>>>g&1)),h(r,l-S)&&(k=!k),f[r][l-S]=k,-1==(g-=1)&&(y+=1,g=7)}if((r+=o)<0||x<=r){r-=o,o=-o;break}}},u=function(i,s,o){for(var r=mt.getRSBlocks(i,s),g=ut(),y=0;y<o.length;y+=1){var h=o[y];g.put(h.getMode(),4),g.put(h.getLength(),N.getLengthInBits(h.getMode(),i)),h.write(g)}var l=0;for(y=0;y<r.length;y+=1)l+=r[y].dataCount;if(g.getLengthInBits()>8*l)throw"code length overflow. ("+g.getLengthInBits()+">"+8*l+")";for(g.getLengthInBits()+4<=8*l&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=8*l||(g.put(236,8),g.getLengthInBits()>=8*l));)g.put(17,8);return function(S,k){for(var D=0,B=0,O=0,L=new Array(k.length),T=new Array(k.length),z=0;z<k.length;z+=1){var rt=k[z].dataCount,F=k[z].totalCount-rt;B=Math.max(B,rt),O=Math.max(O,F),L[z]=new Array(rt);for(var I=0;I<L[z].length;I+=1)L[z][I]=255&S.getBuffer()[I+D];D+=rt;var j=N.getErrorCorrectPolynomial(F),Z=G(L[z],j.getLength()-1).mod(j);for(T[z]=new Array(j.getLength()-1),I=0;I<T[z].length;I+=1){var Y=I+Z.getLength()-T[z].length;T[z][I]=Y>=0?Z.getAt(Y):0}}var V=0;for(I=0;I<k.length;I+=1)V+=k[I].totalCount;var K=new Array(V),ot=0;for(I=0;I<B;I+=1)for(z=0;z<k.length;z+=1)I<L[z].length&&(K[ot]=L[z][I],ot+=1);for(I=0;I<O;I+=1)for(z=0;z<k.length;z+=1)I<T[z].length&&(K[ot]=T[z][I],ot+=1);return K}(g,r)};A.addData=function(i,s){var o=null;switch(s=s||"Byte"){case"Numeric":o=yt(i);break;case"Alphanumeric":o=wt(i);break;case"Byte":o=at(i);break;case"Kanji":o=st(i);break;default:throw"mode:"+s}C.push(o),M=null},A.isDark=function(i,s){if(i<0||x<=i||s<0||x<=s)throw i+","+s;return f[i][s]},A.getModuleCount=function(){return x},A.make=function(){if(w<1){for(var i=1;i<40;i++){for(var s=mt.getRSBlocks(i,m),o=ut(),r=0;r<C.length;r++){var g=C[r];o.put(g.getMode(),4),o.put(g.getLength(),N.getLengthInBits(g.getMode(),i)),g.write(o)}var y=0;for(r=0;r<s.length;r++)y+=s[r].dataCount;if(o.getLengthInBits()<=8*y)break}w=i}$(!1,function(){for(var h=0,l=0,S=0;S<8;S+=1){$(!0,S);var k=N.getLostPoint(A);(0==S||h>k)&&(h=k,l=S)}return l}())},A.createTableTag=function(i,s){i=i||2;var o="";o+='<table style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: "+(s=void 0===s?4*i:s)+"px;",o+='">',o+="<tbody>";for(var r=0;r<A.getModuleCount();r+=1){o+="<tr>";for(var g=0;g<A.getModuleCount();g+=1)o+='<td style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: 0px;",o+=" width: "+i+"px;",o+=" height: "+i+"px;",o+=" background-color: ",o+=A.isDark(r,g)?"#000000":"#ffffff",o+=";",o+='"/>';o+="</tr>"}return(o+="</tbody>")+"</table>"},A.createSvgTag=function(i,s,o,r){var g={};"object"==typeof arguments[0]&&(i=(g=arguments[0]).cellSize,s=g.margin,o=g.alt,r=g.title),i=i||2,s=void 0===s?4*i:s,(o="string"==typeof o?{text:o}:o||{}).text=o.text||null,o.id=o.text?o.id||"qrcode-description":null,(r="string"==typeof r?{text:r}:r||{}).text=r.text||null,r.id=r.text?r.id||"qrcode-title":null;var y,h,l,S,k=A.getModuleCount()*i+2*s,D="";for(S="l"+i+",0 0,"+i+" -"+i+",0 0,-"+i+"z ",D+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',D+=g.scalable?"":' width="'+k+'px" height="'+k+'px"',D+=' viewBox="0 0 '+k+" "+k+'" ',D+=' preserveAspectRatio="xMinYMin meet"',D+=r.text||o.text?' role="img" aria-labelledby="'+v([r.id,o.id].join(" ").trim())+'"':"",D+=">",D+=r.text?'<title id="'+v(r.id)+'">'+v(r.text)+"</title>":"",D+=o.text?'<description id="'+v(o.id)+'">'+v(o.text)+"</description>":"",D+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',D+='<path d="',h=0;h<A.getModuleCount();h+=1)for(l=h*i+s,y=0;y<A.getModuleCount();y+=1)A.isDark(h,y)&&(D+="M"+(y*i+s)+","+l+S);return(D+='" stroke="transparent" fill="black"/>')+"</svg>"},A.createDataURL=function(i,s){i=i||2,s=void 0===s?4*i:s;var o=A.getModuleCount()*i+2*s,r=s,g=o-s;return _t(o,o,function(y,h){if(r<=y&&y<g&&r<=h&&h<g){var l=Math.floor((y-r)/i),S=Math.floor((h-r)/i);return A.isDark(S,l)?0:1}return 1})},A.createImgTag=function(i,s,o){i=i||2,s=void 0===s?4*i:s;var r=A.getModuleCount()*i+2*s,g="";return g+="<img",g+=' src="',g+=A.createDataURL(i,s),g+='"',g+=' width="',g+=r,g+='"',g+=' height="',g+=r,g+='"',o&&(g+=' alt="',g+=v(o),g+='"'),g+"/>"};var v=function(i){for(var s="",o=0;o<i.length;o+=1){var r=i.charAt(o);switch(r){case"<":s+="&lt;";break;case">":s+="&gt;";break;case"&":s+="&amp;";break;case'"':s+="&quot;";break;default:s+=r}}return s};return A.createASCII=function(i,s){if((i=i||1)<2)return function(L){L=void 0===L?2:L;var T,z,rt,F,I,j=1*A.getModuleCount()+2*L,Z=L,Y=j-L,V={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},K={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},ot="";for(T=0;T<j;T+=2){for(rt=Math.floor((T-Z)/1),F=Math.floor((T+1-Z)/1),z=0;z<j;z+=1)I="\u2588",Z<=z&&z<Y&&Z<=T&&T<Y&&A.isDark(rt,Math.floor((z-Z)/1))&&(I=" "),Z<=z&&z<Y&&Z<=T+1&&T+1<Y&&A.isDark(F,Math.floor((z-Z)/1))?I+=" ":I+="\u2588",ot+=L<1&&T+1>=Y?K[I]:V[I];ot+="\n"}return j%2&&L>0?ot.substring(0,ot.length-j-1)+Array(j+1).join("\u2580"):ot.substring(0,ot.length-1)}(s);i-=1,s=void 0===s?2*i:s;var o,r,g,y,h=A.getModuleCount()*i+2*s,l=s,S=h-s,k=Array(i+1).join("\u2588\u2588"),D=Array(i+1).join("  "),B="",O="";for(o=0;o<h;o+=1){for(g=Math.floor((o-l)/i),O="",r=0;r<h;r+=1)y=1,l<=r&&r<S&&l<=o&&o<S&&A.isDark(g,Math.floor((r-l)/i))&&(y=0),O+=y?k:D;for(g=0;g<i;g+=1)B+=O+"\n"}return B.substring(0,B.length-1)},A.renderTo2dContext=function(i,s){s=s||2;for(var o=A.getModuleCount(),r=0;r<o;r++)for(var g=0;g<o;g++)i.fillStyle=A.isDark(r,g)?"black":"white",i.fillRect(r*s,g*s,s,s)},A};J.stringToBytes=(J.stringToBytesFuncs={default:function(_){for(var b=[],w=0;w<_.length;w+=1){var m=_.charCodeAt(w);b.push(255&m)}return b}}).default,J.createStringToBytes=function(_,b){var w=function(){for(var f=dt(_),x=function(){var t=f.read();if(-1==t)throw"eof";return t},M=0,C={};;){var A=f.read();if(-1==A)break;var $=x(),p=x()<<8|x();C[String.fromCharCode(A<<8|$)]=p,M+=1}if(M!=b)throw M+" != "+b;return C}();return function(f){for(var x=[],M=0;M<f.length;M+=1){var C=f.charCodeAt(M);if(C<128)x.push(C);else{var A=w[f.charAt(M)];"number"==typeof A?(255&A)==A?x.push(A):(x.push(A>>>8),x.push(255&A)):x.push(63)}}return x}};var X,W,q,P,R={L:1,M:0,Q:3,H:2},N=(X=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],1335,W=7973,P=function(_){for(var b=0;0!=_;)b+=1,_>>>=1;return b},(q={}).getBCHTypeInfo=function(_){for(var b=_<<10;P(b)-P(1335)>=0;)b^=1335<<P(b)-P(1335);return 21522^(_<<10|b)},q.getBCHTypeNumber=function(_){for(var b=_<<12;P(b)-P(W)>=0;)b^=W<<P(b)-P(W);return _<<12|b},q.getPatternPosition=function(_){return X[_-1]},q.getMaskFunction=function(_){switch(_){case 0:return function(b,w){return(b+w)%2==0};case 1:return function(b,w){return b%2==0};case 2:return function(b,w){return w%3==0};case 3:return function(b,w){return(b+w)%3==0};case 4:return function(b,w){return(Math.floor(b/2)+Math.floor(w/3))%2==0};case 5:return function(b,w){return b*w%2+b*w%3==0};case 6:return function(b,w){return(b*w%2+b*w%3)%2==0};case 7:return function(b,w){return(b*w%3+(b+w)%2)%2==0};default:throw"bad maskPattern:"+_}},q.getErrorCorrectPolynomial=function(_){for(var b=G([1],0),w=0;w<_;w+=1)b=b.multiply(G([1,d.gexp(w)],0));return b},q.getLengthInBits=function(_,b){if(1<=b&&b<10)switch(_){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+_}else if(b<27)switch(_){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+_}else{if(!(b<41))throw"type:"+b;switch(_){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+_}}},q.getLostPoint=function(_){for(var b=_.getModuleCount(),w=0,m=0;m<b;m+=1)for(var f=0;f<b;f+=1){for(var x=0,M=_.isDark(m,f),C=-1;C<=1;C+=1)if(!(m+C<0||b<=m+C))for(var A=-1;A<=1;A+=1)f+A<0||b<=f+A||0==C&&0==A||M==_.isDark(m+C,f+A)&&(x+=1);x>5&&(w+=3+x-5)}for(m=0;m<b-1;m+=1)for(f=0;f<b-1;f+=1){var $=0;_.isDark(m,f)&&($+=1),_.isDark(m+1,f)&&($+=1),_.isDark(m,f+1)&&($+=1),_.isDark(m+1,f+1)&&($+=1),0!=$&&4!=$||(w+=3)}for(m=0;m<b;m+=1)for(f=0;f<b-6;f+=1)_.isDark(m,f)&&!_.isDark(m,f+1)&&_.isDark(m,f+2)&&_.isDark(m,f+3)&&_.isDark(m,f+4)&&!_.isDark(m,f+5)&&_.isDark(m,f+6)&&(w+=40);for(f=0;f<b;f+=1)for(m=0;m<b-6;m+=1)_.isDark(m,f)&&!_.isDark(m+1,f)&&_.isDark(m+2,f)&&_.isDark(m+3,f)&&_.isDark(m+4,f)&&!_.isDark(m+5,f)&&_.isDark(m+6,f)&&(w+=40);var p=0;for(f=0;f<b;f+=1)for(m=0;m<b;m+=1)_.isDark(m,f)&&(p+=1);return w+Math.abs(100*p/b/b-50)/5*10},q),d=function(){for(var _=new Array(256),b=new Array(256),w=0;w<8;w+=1)_[w]=1<<w;for(w=8;w<256;w+=1)_[w]=_[w-4]^_[w-5]^_[w-6]^_[w-8];for(w=0;w<255;w+=1)b[_[w]]=w;return{glog:function(m){if(m<1)throw"glog("+m+")";return b[m]},gexp:function(m){for(;m<0;)m+=255;for(;m>=256;)m-=255;return _[m]}}}();function G(_,b){if(void 0===_.length)throw _.length+"/"+b;var w=function(){for(var f=0;f<_.length&&0==_[f];)f+=1;for(var x=new Array(_.length-f+b),M=0;M<_.length-f;M+=1)x[M]=_[M+f];return x}(),m={getAt:function(f){return w[f]},getLength:function(){return w.length},multiply:function(f){for(var x=new Array(m.getLength()+f.getLength()-1),M=0;M<m.getLength();M+=1)for(var C=0;C<f.getLength();C+=1)x[M+C]^=d.gexp(d.glog(m.getAt(M))+d.glog(f.getAt(C)));return G(x,0)},mod:function(f){if(m.getLength()-f.getLength()<0)return m;for(var x=d.glog(m.getAt(0))-d.glog(f.getAt(0)),M=new Array(m.getLength()),C=0;C<m.getLength();C+=1)M[C]=m.getAt(C);for(C=0;C<f.getLength();C+=1)M[C]^=d.gexp(d.glog(f.getAt(C))+x);return G(M,0).mod(f)}};return m}var mt=function(){var _=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b=function(m,f){var x={};return x.totalCount=m,x.dataCount=f,x};return{getRSBlocks:function(m,f){var x=function(e,a){switch(a){case R.L:return _[4*(e-1)+0];case R.M:return _[4*(e-1)+1];case R.Q:return _[4*(e-1)+2];case R.H:return _[4*(e-1)+3];default:return}}(m,f);if(void 0===x)throw"bad rs block @ typeNumber:"+m+"/errorCorrectionLevel:"+f;for(var M=x.length/3,C=[],A=0;A<M;A+=1)for(var $=x[3*A+0],p=x[3*A+1],t=x[3*A+2],n=0;n<$;n+=1)C.push(b(p,t));return C}}}(),ut=function(){var _=[],b=0,w={getBuffer:function(){return _},getAt:function(m){var f=Math.floor(m/8);return 1==(_[f]>>>7-m%8&1)},put:function(m,f){for(var x=0;x<f;x+=1)w.putBit(1==(m>>>f-x-1&1))},getLengthInBits:function(){return b},putBit:function(m){var f=Math.floor(b/8);_.length<=f&&_.push(0),m&&(_[f]|=128>>>b%8),b+=1}};return w},yt=function(_){var b=_,w={getMode:function(){return 1},getLength:function(x){return b.length},write:function(x){for(var M=b,C=0;C+2<M.length;)x.put(m(M.substring(C,C+3)),10),C+=3;C<M.length&&(M.length-C==1?x.put(m(M.substring(C,C+1)),4):M.length-C==2&&x.put(m(M.substring(C,C+2)),7))}},m=function(x){for(var M=0,C=0;C<x.length;C+=1)M=10*M+f(x.charAt(C));return M},f=function(x){if("0"<=x&&x<="9")return x.charCodeAt(0)-48;throw"illegal char :"+x};return w},wt=function(_){var b=_,w={getMode:function(){return 2},getLength:function(f){return b.length},write:function(f){for(var x=b,M=0;M+1<x.length;)f.put(45*m(x.charAt(M))+m(x.charAt(M+1)),11),M+=2;M<x.length&&f.put(m(x.charAt(M)),6)}},m=function(f){if("0"<=f&&f<="9")return f.charCodeAt(0)-48;if("A"<=f&&f<="Z")return f.charCodeAt(0)-65+10;switch(f){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+f}};return w},at=function(_){var b=J.stringToBytes(_);return{getMode:function(){return 4},getLength:function(w){return b.length},write:function(w){for(var m=0;m<b.length;m+=1)w.put(b[m],8)}}},st=function(_){var b=J.stringToBytesFuncs.SJIS;if(!b)throw"sjis not supported.";!function(m,f){var x=b("\u53cb");if(2!=x.length||38726!=(x[0]<<8|x[1]))throw"sjis not supported."}();var w=b(_);return{getMode:function(){return 8},getLength:function(m){return~~(w.length/2)},write:function(m){for(var f=w,x=0;x+1<f.length;){var M=(255&f[x])<<8|255&f[x+1];if(33088<=M&&M<=40956)M-=33088;else{if(!(57408<=M&&M<=60351))throw"illegal char at "+(x+1)+"/"+M;M-=49472}m.put(M=192*(M>>>8&255)+(255&M),13),x+=2}if(x<f.length)throw"illegal char at "+(x+1)}}},bt=function(){var _=[],b={writeByte:function(w){_.push(255&w)},writeShort:function(w){b.writeByte(w),b.writeByte(w>>>8)},writeBytes:function(w,m,f){m=m||0,f=f||w.length;for(var x=0;x<f;x+=1)b.writeByte(w[x+m])},writeString:function(w){for(var m=0;m<w.length;m+=1)b.writeByte(w.charCodeAt(m))},toByteArray:function(){return _},toString:function(){var w="";w+="[";for(var m=0;m<_.length;m+=1)m>0&&(w+=","),w+=_[m];return w+"]"}};return b},dt=function(_){var b=_,w=0,m=0,f=0,x={read:function(){for(;f<8;){if(w>=b.length){if(0==f)return-1;throw"unexpected end of file./"+f}var C=b.charAt(w);if(w+=1,"="==C)return f=0,-1;C.match(/^\s$/)||(m=m<<6|M(C.charCodeAt(0)),f+=6)}var A=m>>>f-8&255;return f-=8,A}},M=function(C){if(65<=C&&C<=90)return C-65;if(97<=C&&C<=122)return C-97+26;if(48<=C&&C<=57)return C-48+52;if(43==C)return 62;if(47==C)return 63;throw"c:"+C};return x},_t=function(_,b,w){for(var m=function(p,t){var n=p,e=t,a=new Array(p*t),c={setPixel:function(i,s,o){a[s*n+i]=o},write:function(i){i.writeString("GIF87a"),i.writeShort(n),i.writeShort(e),i.writeByte(128),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(255),i.writeByte(255),i.writeByte(255),i.writeString(","),i.writeShort(0),i.writeShort(0),i.writeShort(n),i.writeShort(e),i.writeByte(0);var s=u(2);i.writeByte(2);for(var o=0;s.length-o>255;)i.writeByte(255),i.writeBytes(s,o,255),o+=255;i.writeByte(s.length-o),i.writeBytes(s,o,s.length-o),i.writeByte(0),i.writeString(";")}},u=function(i){for(var s=1<<i,o=1+(1<<i),r=i+1,g=v(),y=0;y<s;y+=1)g.add(String.fromCharCode(y));g.add(String.fromCharCode(s)),g.add(String.fromCharCode(o));var h,l,S,k=bt(),D=(h=k,l=0,S=0,{write:function(T,z){if(T>>>z)throw"length over";for(;l+z>=8;)h.writeByte(255&(T<<l|S)),z-=8-l,T>>>=8-l,S=0,l=0;S|=T<<l,l+=z},flush:function(){l>0&&h.writeByte(S)}});D.write(s,r);var B=0,O=String.fromCharCode(a[B]);for(B+=1;B<a.length;){var L=String.fromCharCode(a[B]);B+=1,g.contains(O+L)?O+=L:(D.write(g.indexOf(O),r),g.size()<4095&&(g.size()==1<<r&&(r+=1),g.add(O+L)),O=L)}return D.write(g.indexOf(O),r),D.write(o,r),D.flush(),k.toByteArray()},v=function(){var i={},s=0,o={add:function(r){if(o.contains(r))throw"dup key:"+r;i[r]=s,s+=1},size:function(){return s},indexOf:function(r){return i[r]},contains:function(r){return void 0!==i[r]}};return o};return c}(_,b),f=0;f<b;f+=1)for(var x=0;x<_;x+=1)m.setPixel(x,f,w(x,f));var M=bt();m.write(M);for(var C=function(){var p=0,t=0,n=0,e="",a={},c=function(v){e+=String.fromCharCode(u(63&v))},u=function(v){if(!(v<0)){if(v<26)return 65+v;if(v<52)return v-26+97;if(v<62)return v-52+48;if(62==v)return 43;if(63==v)return 47}throw"n:"+v};return a.writeByte=function(v){for(p=p<<8|255&v,t+=8,n+=1;t>=6;)c(p>>>t-6),t-=6},a.flush=function(){if(t>0&&(c(p<<6-t),p=0,t=0),n%3!=0)for(var v=3-n%3,i=0;i<v;i+=1)e+="="},a.toString=function(){return e},a}(),A=M.toByteArray(),$=0;$<A.length;$+=1)C.writeByte(A[$]);return C.flush(),"data:image/gif;base64,"+C};return J}();U.stringToBytesFuncs["UTF-8"]=function(J){return function(X){for(var nt=[],W=0;W<X.length;W++){var q=X.charCodeAt(W);q<128?nt.push(q):q<2048?nt.push(192|q>>6,128|63&q):q<55296||q>=57344?nt.push(224|q>>12,128|q>>6&63,128|63&q):(W++,q=65536+((1023&q)<<10|1023&X.charCodeAt(W)),nt.push(240|q>>18,128|q>>12&63,128|q>>6&63,128|63&q))}return nt}(J)},void 0===(it="function"==typeof(et=function(){return U})?et.apply(Q,[]):et)||(H.exports=it)},676:(H,Q,et)=>{"use strict";et.d(Q,{default:()=>$});var it=function(){return(it=Object.assign||function(p){for(var t,n=1,e=arguments.length;n<e;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(p[a]=t[a]);return p}).apply(this,arguments)},J=function(p){return!!p&&"object"==typeof p&&!Array.isArray(p)};function X(p){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!t.length)return p;var e=t.shift();return void 0!==e&&J(p)&&J(e)?(p=it({},p),Object.keys(e).forEach(function(a){var c=p[a],u=e[a];p[a]=Array.isArray(c)&&Array.isArray(u)?u:J(c)&&J(u)?X(Object.assign({},c),u):u}),X.apply(void 0,function(){for(var p=0,t=0,n=arguments.length;t<n;t++)p+=arguments[t].length;var e=Array(p),a=0;for(t=0;t<n;t++)for(var c=arguments[t],u=0,v=c.length;u<v;u++,a++)e[a]=c[u];return e}([p],t))):p}function nt(p,t){var n=document.createElement("a");n.download=t,n.href=p,document.body.appendChild(n),n.click(),document.body.removeChild(n)}function W(p){return t=this,void 0,a=function(){return function(c,u){var v,i,s,o,r={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function g(y){return function(h){return function(l){if(v)throw new TypeError("Generator is already executing.");for(;r;)try{if(v=1,i&&(s=2&l[0]?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[2&l[0],s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(!((s=(s=r.trys).length>0&&s[s.length-1])||6!==l[0]&&2!==l[0])){r=0;continue}if(3===l[0]&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(6===l[0]&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=u.call(c,r)}catch(S){l=[6,S],i=0}finally{v=s=0}if(5&l[0])throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}([y,h])}}}(this,function(c){return[2,new Promise(function(u){var v=new XMLHttpRequest;v.onload=function(){var i=new FileReader;i.onloadend=function(){u(i.result)},i.readAsDataURL(v.response)},v.open("GET",p),v.responseType="blob",v.send()})]})},new((e=void 0)||(e=Promise))(function(c,u){function v(o){try{s(a.next(o))}catch(r){u(r)}}function i(o){try{s(a.throw(o))}catch(r){u(r)}}function s(o){var r;o.done?c(o.value):(r=o.value,r instanceof e?r:new e(function(g){g(r)})).then(v,i)}s((a=a.apply(t,[])).next())});var t,e,a}const q={L:.07,M:.15,Q:.25,H:.3};var P=function(){return(P=Object.assign||function(p){for(var t,n=1,e=arguments.length;n<e;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(p[a]=t[a]);return p}).apply(this,arguments)};const R=function(){function p(t){var e=t.type;this._svg=t.svg,this._type=e}return p.prototype.draw=function(t,n,e,a){var c;switch(this._type){case"dots":c=this._drawDot;break;case"classy":c=this._drawClassy;break;case"classy-rounded":c=this._drawClassyRounded;break;case"rounded":c=this._drawRounded;break;case"extra-rounded":c=this._drawExtraRounded;break;default:c=this._drawSquare}c.call(this,{x:t,y:n,size:e,getNeighbor:a})},p.prototype._rotateFigure=function(t){var n,c=t.size,u=t.rotation,v=void 0===u?0:u,i=t.x+c/2,s=t.y+c/2;(0,t.draw)(),null===(n=this._element)||void 0===n||n.setAttribute("transform","rotate("+180*v/Math.PI+","+i+","+s+")")},p.prototype._basicDot=function(t){var n=this,e=t.size,a=t.x,c=t.y;this._rotateFigure(P(P({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),n._element.setAttribute("cx",String(a+e/2)),n._element.setAttribute("cy",String(c+e/2)),n._element.setAttribute("r",String(e/2))}}))},p.prototype._basicSquare=function(t){var n=this,e=t.size,a=t.x,c=t.y;this._rotateFigure(P(P({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),n._element.setAttribute("x",String(a)),n._element.setAttribute("y",String(c)),n._element.setAttribute("width",String(e)),n._element.setAttribute("height",String(e))}}))},p.prototype._basicSideRounded=function(t){var n=this,e=t.size,a=t.x,c=t.y;this._rotateFigure(P(P({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","path"),n._element.setAttribute("d","M "+a+" "+c+"v "+e+"h "+e/2+"a "+e/2+" "+e/2+", 0, 0, 0, 0 "+-e)}}))},p.prototype._basicCornerRounded=function(t){var n=this,e=t.size,a=t.x,c=t.y;this._rotateFigure(P(P({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","path"),n._element.setAttribute("d","M "+a+" "+c+"v "+e+"h "+e+"v "+-e/2+"a "+e/2+" "+e/2+", 0, 0, 0, "+-e/2+" "+-e/2)}}))},p.prototype._basicCornerExtraRounded=function(t){var n=this,e=t.size,a=t.x,c=t.y;this._rotateFigure(P(P({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","path"),n._element.setAttribute("d","M "+a+" "+c+"v "+e+"h "+e+"a "+e+" "+e+", 0, 0, 0, "+-e+" "+-e)}}))},p.prototype._basicCornersRounded=function(t){var n=this,e=t.size,a=t.x,c=t.y;this._rotateFigure(P(P({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","path"),n._element.setAttribute("d","M "+a+" "+c+"v "+e/2+"a "+e/2+" "+e/2+", 0, 0, 0, "+e/2+" "+e/2+"h "+e/2+"v "+-e/2+"a "+e/2+" "+e/2+", 0, 0, 0, "+-e/2+" "+-e/2)}}))},p.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:0})},p.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:0})},p.prototype._drawRounded=function(t){var n=t.x,e=t.y,a=t.size,c=t.getNeighbor,u=c?+c(-1,0):0,v=c?+c(1,0):0,i=c?+c(0,-1):0,s=c?+c(0,1):0,o=u+v+i+s;if(0!==o)if(o>2||u&&v||i&&s)this._basicSquare({x:n,y:e,size:a,rotation:0});else{if(2===o){var r=0;return u&&i?r=Math.PI/2:i&&v?r=Math.PI:v&&s&&(r=-Math.PI/2),void this._basicCornerRounded({x:n,y:e,size:a,rotation:r})}if(1===o)return r=0,i?r=Math.PI/2:v?r=Math.PI:s&&(r=-Math.PI/2),void this._basicSideRounded({x:n,y:e,size:a,rotation:r})}else this._basicDot({x:n,y:e,size:a,rotation:0})},p.prototype._drawExtraRounded=function(t){var n=t.x,e=t.y,a=t.size,c=t.getNeighbor,u=c?+c(-1,0):0,v=c?+c(1,0):0,i=c?+c(0,-1):0,s=c?+c(0,1):0,o=u+v+i+s;if(0!==o)if(o>2||u&&v||i&&s)this._basicSquare({x:n,y:e,size:a,rotation:0});else{if(2===o){var r=0;return u&&i?r=Math.PI/2:i&&v?r=Math.PI:v&&s&&(r=-Math.PI/2),void this._basicCornerExtraRounded({x:n,y:e,size:a,rotation:r})}if(1===o)return r=0,i?r=Math.PI/2:v?r=Math.PI:s&&(r=-Math.PI/2),void this._basicSideRounded({x:n,y:e,size:a,rotation:r})}else this._basicDot({x:n,y:e,size:a,rotation:0})},p.prototype._drawClassy=function(t){var n=t.x,e=t.y,a=t.size,c=t.getNeighbor,u=c?+c(-1,0):0,v=c?+c(1,0):0,i=c?+c(0,-1):0,s=c?+c(0,1):0;u+v+i+s!==0?u||i?v||s?this._basicSquare({x:n,y:e,size:a,rotation:0}):this._basicCornerRounded({x:n,y:e,size:a,rotation:Math.PI/2}):this._basicCornerRounded({x:n,y:e,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:n,y:e,size:a,rotation:Math.PI/2})},p.prototype._drawClassyRounded=function(t){var n=t.x,e=t.y,a=t.size,c=t.getNeighbor,u=c?+c(-1,0):0,v=c?+c(1,0):0,i=c?+c(0,-1):0,s=c?+c(0,1):0;u+v+i+s!==0?u||i?v||s?this._basicSquare({x:n,y:e,size:a,rotation:0}):this._basicCornerExtraRounded({x:n,y:e,size:a,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:n,y:e,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:n,y:e,size:a,rotation:Math.PI/2})},p}();var N=function(){return(N=Object.assign||function(p){for(var t,n=1,e=arguments.length;n<e;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(p[a]=t[a]);return p}).apply(this,arguments)};const d=function(){function p(t){var e=t.type;this._svg=t.svg,this._type=e}return p.prototype.draw=function(t,n,e,a){var c;switch(this._type){case"square":c=this._drawSquare;break;case"extra-rounded":c=this._drawExtraRounded;break;default:c=this._drawDot}c.call(this,{x:t,y:n,size:e,rotation:a})},p.prototype._rotateFigure=function(t){var n,c=t.size,u=t.rotation,v=void 0===u?0:u,i=t.x+c/2,s=t.y+c/2;(0,t.draw)(),null===(n=this._element)||void 0===n||n.setAttribute("transform","rotate("+180*v/Math.PI+","+i+","+s+")")},p.prototype._basicDot=function(t){var n=this,e=t.size,a=t.x,c=t.y,u=e/7;this._rotateFigure(N(N({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","path"),n._element.setAttribute("clip-rule","evenodd"),n._element.setAttribute("d","M "+(a+e/2)+" "+c+"a "+e/2+" "+e/2+" 0 1 0 0.1 0zm 0 "+u+"a "+(e/2-u)+" "+(e/2-u)+" 0 1 1 -0.1 0Z")}}))},p.prototype._basicSquare=function(t){var n=this,e=t.size,a=t.x,c=t.y,u=e/7;this._rotateFigure(N(N({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","path"),n._element.setAttribute("clip-rule","evenodd"),n._element.setAttribute("d","M "+a+" "+c+"v "+e+"h "+e+"v "+-e+"zM "+(a+u)+" "+(c+u)+"h "+(e-2*u)+"v "+(e-2*u)+"h "+(2*u-e)+"z")}}))},p.prototype._basicExtraRounded=function(t){var n=this,a=t.x,c=t.y,u=t.size/7;this._rotateFigure(N(N({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","path"),n._element.setAttribute("clip-rule","evenodd"),n._element.setAttribute("d","M "+a+" "+(c+2.5*u)+"v "+2*u+"a "+2.5*u+" "+2.5*u+", 0, 0, 0, "+2.5*u+" "+2.5*u+"h "+2*u+"a "+2.5*u+" "+2.5*u+", 0, 0, 0, "+2.5*u+" "+2.5*-u+"v "+-2*u+"a "+2.5*u+" "+2.5*u+", 0, 0, 0, "+2.5*-u+" "+2.5*-u+"h "+-2*u+"a "+2.5*u+" "+2.5*u+", 0, 0, 0, "+2.5*-u+" "+2.5*u+"M "+(a+2.5*u)+" "+(c+u)+"h "+2*u+"a "+1.5*u+" "+1.5*u+", 0, 0, 1, "+1.5*u+" "+1.5*u+"v "+2*u+"a "+1.5*u+" "+1.5*u+", 0, 0, 1, "+1.5*-u+" "+1.5*u+"h "+-2*u+"a "+1.5*u+" "+1.5*u+", 0, 0, 1, "+1.5*-u+" "+1.5*-u+"v "+-2*u+"a "+1.5*u+" "+1.5*u+", 0, 0, 1, "+1.5*u+" "+1.5*-u)}}))},p.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},p.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},p.prototype._drawExtraRounded=function(t){this._basicExtraRounded({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},p}();var G=function(){return(G=Object.assign||function(p){for(var t,n=1,e=arguments.length;n<e;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(p[a]=t[a]);return p}).apply(this,arguments)};const mt=function(){function p(t){var e=t.type;this._svg=t.svg,this._type=e}return p.prototype.draw=function(t,n,e,a){("square"===this._type?this._drawSquare:this._drawDot).call(this,{x:t,y:n,size:e,rotation:a})},p.prototype._rotateFigure=function(t){var n,c=t.size,u=t.rotation,v=void 0===u?0:u,i=t.x+c/2,s=t.y+c/2;(0,t.draw)(),null===(n=this._element)||void 0===n||n.setAttribute("transform","rotate("+180*v/Math.PI+","+i+","+s+")")},p.prototype._basicDot=function(t){var n=this,e=t.size,a=t.x,c=t.y;this._rotateFigure(G(G({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),n._element.setAttribute("cx",String(a+e/2)),n._element.setAttribute("cy",String(c+e/2)),n._element.setAttribute("r",String(e/2))}}))},p.prototype._basicSquare=function(t){var n=this,e=t.size,a=t.x,c=t.y;this._rotateFigure(G(G({},t),{draw:function(){n._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),n._element.setAttribute("x",String(a)),n._element.setAttribute("y",String(c)),n._element.setAttribute("width",String(e)),n._element.setAttribute("height",String(e))}}))},p.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},p.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},p}(),ut="circle";var yt=function(p,t,n,e){return new(n||(n=Promise))(function(a,c){function u(s){try{i(e.next(s))}catch(o){c(o)}}function v(s){try{i(e.throw(s))}catch(o){c(o)}}function i(s){var o;s.done?a(s.value):(o=s.value,o instanceof n?o:new n(function(r){r(o)})).then(u,v)}i((e=e.apply(p,t||[])).next())})},wt=function(p,t){var n,e,a,c,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function v(i){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,e&&(a=2&o[0]?e.return:o[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,o[1])).done)return a;switch(e=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,e=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((a=(a=u.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){u.label=o[1];break}if(6===o[0]&&u.label<a[1]){u.label=a[1],a=o;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(o);break}a[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(p,u)}catch(r){o=[6,r],e=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([i,s])}}},at=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],st=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const bt=function(){function p(t){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=t}return Object.defineProperty(p.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(p.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),p.prototype.getElement=function(){return this._element},p.prototype.drawQR=function(t){return yt(this,void 0,void 0,function(){var n,e,a,c,u,v,r,g=this;return wt(this,function(y){switch(y.label){case 0:return n=t.getModuleCount(),e=Math.min(this._options.width,this._options.height)-2*this._options.margin,a=this._options.shape===ut?e/Math.sqrt(2):e,c=Math.floor(a/n),u={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(y.sent(),!this._image)return[2];v=this._options,r=Math.floor(v.imageOptions.imageSize*q[v.qrOptions.errorCorrectionLevel]*n*n),u=function(h){var l=h.originalHeight,S=h.originalWidth,k=h.maxHiddenDots,D=h.maxHiddenAxisDots,B=h.dotSize,O={x:0,y:0},L={x:0,y:0};if(l<=0||S<=0||k<=0||B<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var T=l/S;return O.x=Math.floor(Math.sqrt(k/T)),O.x<=0&&(O.x=1),D&&D<O.x&&(O.x=D),O.x%2==0&&O.x--,L.x=O.x*B,O.y=1+2*Math.ceil((O.x*T-1)/2),L.y=Math.round(L.x*T),(O.y*O.x>k||D&&D<O.y)&&(D&&D<O.y?(O.y=D,O.y%2==0&&O.x--):O.y-=2,L.y=O.y*B,O.x=1+2*Math.ceil((O.y/T-1)/2),L.x=Math.round(L.y/T)),{height:L.y,width:L.x,hideYDots:O.y,hideXDots:O.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:r,maxHiddenAxisDots:n-14,dotSize:c}),y.label=2;case 2:return this.drawBackground(),this.drawDots(function(h,l){var S,k,D,B,O,L;return!(g._options.imageOptions.hideBackgroundDots&&h>=(n-u.hideXDots)/2&&h<(n+u.hideXDots)/2&&l>=(n-u.hideYDots)/2&&l<(n+u.hideYDots)/2||null!==(S=at[h])&&void 0!==S&&S[l]||null!==(k=at[h-n+7])&&void 0!==k&&k[l]||null!==(D=at[h])&&void 0!==D&&D[l-n+7]||null!==(B=st[h])&&void 0!==B&&B[l]||null!==(O=st[h-n+7])&&void 0!==O&&O[l]||null!==(L=st[h])&&void 0!==L&&L[l-n+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:u.width,height:u.height,count:n,dotSize:c})]:[3,4];case 3:y.sent(),y.label=4;case 4:return[2]}})})},p.prototype.drawBackground=function(){var t,n,e,c=this._options;if(this._element){var u=null===(t=c.backgroundOptions)||void 0===t?void 0:t.gradient,v=null===(n=c.backgroundOptions)||void 0===n?void 0:n.color;if((u||v)&&this._createColor({options:u,color:v,additionalRotation:0,x:0,y:0,height:c.height,width:c.width,name:"background-color"}),null===(e=c.backgroundOptions)||void 0===e?void 0:e.round){var i=Math.min(c.width,c.height),s=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),s.setAttribute("x",String((c.width-i)/2)),s.setAttribute("y",String((c.height-i)/2)),s.setAttribute("width",String(i)),s.setAttribute("height",String(i)),s.setAttribute("rx",String(i/2*c.backgroundOptions.round)),this._backgroundClipPath.appendChild(s)}}},p.prototype.drawDots=function(t){var n,e,a=this;if(!this._qr)throw"QR code is not defined";var c=this._options,u=this._qr.getModuleCount();if(u>c.width||u>c.height)throw"The canvas is too small.";var v=Math.min(c.width,c.height)-2*c.margin,i=c.shape===ut?v/Math.sqrt(2):v,s=Math.floor(i/u),o=Math.floor((c.width-u*s)/2),r=Math.floor((c.height-u*s)/2),g=new R({svg:this._element,type:c.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(n=c.dotsOptions)||void 0===n?void 0:n.gradient,color:c.dotsOptions.color,additionalRotation:0,x:0,y:0,height:c.height,width:c.width,name:"dot-color"});for(var y=function(F){for(var I=function(Z){return t&&!t(F,Z)?"continue":null!==(e=h._qr)&&void 0!==e&&e.isDark(F,Z)?(g.draw(o+F*s,r+Z*s,s,function(Y,V){return!(F+Y<0||Z+V<0||F+Y>=u||Z+V>=u)&&!(t&&!t(F+Y,Z+V))&&!!a._qr&&a._qr.isDark(F+Y,Z+V)}),void(g._element&&h._dotsClipPath&&h._dotsClipPath.appendChild(g._element))):"continue"},j=0;j<u;j++)I(j)},h=this,l=0;l<u;l++)y(l);if(c.shape===ut){var S=Math.floor((v/s-u)/2),k=u+2*S,D=o-S*s,B=r-S*s,O=[],L=Math.floor(k/2);for(l=0;l<k;l++){O[l]=[];for(var T=0;T<k;T++)O[l][T]=l>=S-1&&l<=k-S&&T>=S-1&&T<=k-S||Math.sqrt((l-L)*(l-L)+(T-L)*(T-L))>L?0:this._qr.isDark(T-2*S<0?T:T>=u?T-2*S:T-S,l-2*S<0?l:l>=u?l-2*S:l-S)?1:0}var z=function(F){for(var I=function(Z){if(!O[F][Z])return"continue";g.draw(D+F*s,B+Z*s,s,function(Y,V){var K;return!(null===(K=O[F+Y])||void 0===K||!K[Z+V])}),g._element&&rt._dotsClipPath&&rt._dotsClipPath.appendChild(g._element)},j=0;j<k;j++)I(j)},rt=this;for(l=0;l<k;l++)z(l)}},p.prototype.drawCorners=function(){var t=this;if(!this._qr)throw"QR code is not defined";var e=this._options;if(!this._element)throw"Element code is not defined";var a=this._qr.getModuleCount(),c=Math.min(e.width,e.height)-2*e.margin,u=e.shape===ut?c/Math.sqrt(2):c,v=Math.floor(u/a),i=7*v,s=3*v,o=Math.floor((e.width-a*v)/2),r=Math.floor((e.height-a*v)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(g){var y,h,l,S,k,D,B,O,L,T,z,rt,F=g[0],I=g[1],j=g[2],Z=o+F*v*(a-7),Y=r+I*v*(a-7),V=t._dotsClipPath,K=t._dotsClipPath;if((!(null===(y=e.cornersSquareOptions)||void 0===y)&&y.gradient||!(null===(h=e.cornersSquareOptions)||void 0===h)&&h.color)&&((V=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+F+"-"+I),t._defs.appendChild(V),t._cornersSquareClipPath=t._cornersDotClipPath=K=V,t._createColor({options:null===(l=e.cornersSquareOptions)||void 0===l?void 0:l.gradient,color:null===(S=e.cornersSquareOptions)||void 0===S?void 0:S.color,additionalRotation:j,x:Z,y:Y,height:i,width:i,name:"corners-square-color-"+F+"-"+I})),null===(k=e.cornersSquareOptions)||void 0===k?void 0:k.type){var ot=new d({svg:t._element,type:e.cornersSquareOptions.type});ot.draw(Z,Y,i,j),ot._element&&V&&V.appendChild(ot._element)}else for(var ht=new R({svg:t._element,type:e.dotsOptions.type}),kt=function(ct){for(var Ct=function(pt){if(null===(D=at[ct])||void 0===D||!D[pt])return"continue";ht.draw(Z+ct*v,Y+pt*v,v,function(Mt,At){var vt;return!(null===(vt=at[ct+Mt])||void 0===vt||!vt[pt+At])}),ht._element&&V&&V.appendChild(ht._element)},ft=0;ft<at[ct].length;ft++)Ct(ft)},gt=0;gt<at.length;gt++)kt(gt);if((!(null===(B=e.cornersDotOptions)||void 0===B)&&B.gradient||!(null===(O=e.cornersDotOptions)||void 0===O)&&O.color)&&((K=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+F+"-"+I),t._defs.appendChild(K),t._cornersDotClipPath=K,t._createColor({options:null===(L=e.cornersDotOptions)||void 0===L?void 0:L.gradient,color:null===(T=e.cornersDotOptions)||void 0===T?void 0:T.color,additionalRotation:j,x:Z+2*v,y:Y+2*v,height:s,width:s,name:"corners-dot-color-"+F+"-"+I})),null===(z=e.cornersDotOptions)||void 0===z?void 0:z.type){var St=new mt({svg:t._element,type:e.cornersDotOptions.type});St.draw(Z+2*v,Y+2*v,s,j),St._element&&K&&K.appendChild(St._element)}else{ht=new R({svg:t._element,type:e.dotsOptions.type});var Ot=function(ct){for(var Ct=function(pt){if(null===(rt=st[ct])||void 0===rt||!rt[pt])return"continue";ht.draw(Z+ct*v,Y+pt*v,v,function(Mt,At){var vt;return!(null===(vt=st[ct+Mt])||void 0===vt||!vt[pt+At])}),ht._element&&K&&K.appendChild(ht._element)},ft=0;ft<st[ct].length;ft++)Ct(ft)};for(gt=0;gt<st.length;gt++)Ot(gt)}})},p.prototype.loadImage=function(){var t=this;return new Promise(function(n,e){var a=t._options,c=new Image;if(!a.image)return e("Image is not defined");"string"==typeof a.imageOptions.crossOrigin&&(c.crossOrigin=a.imageOptions.crossOrigin),t._image=c,c.onload=function(){n()},c.src=a.image})},p.prototype.drawImage=function(t){var n=t.width,e=t.height,a=t.count,c=t.dotSize;return yt(this,void 0,void 0,function(){var u,v,i,s,o,r,g,y,h;return wt(this,function(l){switch(l.label){case 0:return u=this._options,v=Math.floor((u.width-a*c)/2),i=Math.floor((u.height-a*c)/2),s=v+u.imageOptions.margin+(a*c-n)/2,o=i+u.imageOptions.margin+(a*c-e)/2,r=n-2*u.imageOptions.margin,g=e-2*u.imageOptions.margin,(y=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(s)),y.setAttribute("y",String(o)),y.setAttribute("width",r+"px"),y.setAttribute("height",g+"px"),[4,W(u.image||"")];case 1:return h=l.sent(),y.setAttribute("href",h||""),this._element.appendChild(y),[2]}})})},p.prototype._createColor=function(t){var n=t.options,e=t.color,a=t.additionalRotation,c=t.x,u=t.y,v=t.height,i=t.width,s=t.name,o=i>v?i:v,r=document.createElementNS("http://www.w3.org/2000/svg","rect");if(r.setAttribute("x",String(c)),r.setAttribute("y",String(u)),r.setAttribute("height",String(v)),r.setAttribute("width",String(i)),r.setAttribute("clip-path","url('#clip-path-"+s+"')"),n){var g;if("radial"===n.type)(g=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",s),g.setAttribute("gradientUnits","userSpaceOnUse"),g.setAttribute("fx",String(c+i/2)),g.setAttribute("fy",String(u+v/2)),g.setAttribute("cx",String(c+i/2)),g.setAttribute("cy",String(u+v/2)),g.setAttribute("r",String(o/2));else{var y=((n.rotation||0)+a)%(2*Math.PI),h=(y+2*Math.PI)%(2*Math.PI),l=c+i/2,S=u+v/2,k=c+i/2,D=u+v/2;h>=0&&h<=.25*Math.PI||h>1.75*Math.PI&&h<=2*Math.PI?(l-=i/2,S-=v/2*Math.tan(y),k+=i/2,D+=v/2*Math.tan(y)):h>.25*Math.PI&&h<=.75*Math.PI?(S-=v/2,l-=i/2/Math.tan(y),D+=v/2,k+=i/2/Math.tan(y)):h>.75*Math.PI&&h<=1.25*Math.PI?(l+=i/2,S+=v/2*Math.tan(y),k-=i/2,D-=v/2*Math.tan(y)):h>1.25*Math.PI&&h<=1.75*Math.PI&&(S+=v/2,l+=i/2/Math.tan(y),D-=v/2,k-=i/2/Math.tan(y)),(g=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",s),g.setAttribute("gradientUnits","userSpaceOnUse"),g.setAttribute("x1",String(Math.round(l))),g.setAttribute("y1",String(Math.round(S))),g.setAttribute("x2",String(Math.round(k))),g.setAttribute("y2",String(Math.round(D)))}n.colorStops.forEach(function(B){var O=B.offset,L=B.color,T=document.createElementNS("http://www.w3.org/2000/svg","stop");T.setAttribute("offset",100*O+"%"),T.setAttribute("stop-color",L),g.appendChild(T)}),r.setAttribute("fill","url('#"+s+"')"),this._defs.appendChild(g)}else e&&r.setAttribute("fill",e);this._element.appendChild(r)},p}(),dt="canvas";for(var _t={},_=0;_<=40;_++)_t[_]=_;const b={type:dt,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:_t[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var w=function(){return(w=Object.assign||function(p){for(var t,n=1,e=arguments.length;n<e;n++)for(var a in t=arguments[n])Object.prototype.hasOwnProperty.call(t,a)&&(p[a]=t[a]);return p}).apply(this,arguments)};function m(p){var t=w({},p);if(!t.colorStops||!t.colorStops.length)throw"Field 'colorStops' is required in gradient";return t.rotation=t.rotation?Number(t.rotation):0,t.colorStops=t.colorStops.map(function(n){return w(w({},n),{offset:Number(n.offset)})}),t}function f(p){var t=w({},p);return t.width=Number(t.width),t.height=Number(t.height),t.margin=Number(t.margin),t.imageOptions=w(w({},t.imageOptions),{hideBackgroundDots:!!t.imageOptions.hideBackgroundDots,imageSize:Number(t.imageOptions.imageSize),margin:Number(t.imageOptions.margin)}),t.margin>Math.min(t.width,t.height)&&(t.margin=Math.min(t.width,t.height)),t.dotsOptions=w({},t.dotsOptions),t.dotsOptions.gradient&&(t.dotsOptions.gradient=m(t.dotsOptions.gradient)),t.cornersSquareOptions&&(t.cornersSquareOptions=w({},t.cornersSquareOptions),t.cornersSquareOptions.gradient&&(t.cornersSquareOptions.gradient=m(t.cornersSquareOptions.gradient))),t.cornersDotOptions&&(t.cornersDotOptions=w({},t.cornersDotOptions),t.cornersDotOptions.gradient&&(t.cornersDotOptions.gradient=m(t.cornersDotOptions.gradient))),t.backgroundOptions&&(t.backgroundOptions=w({},t.backgroundOptions),t.backgroundOptions.gradient&&(t.backgroundOptions.gradient=m(t.backgroundOptions.gradient))),t}var x=et(192),M=et.n(x),C=function(p,t,n,e){return new(n||(n=Promise))(function(a,c){function u(s){try{i(e.next(s))}catch(o){c(o)}}function v(s){try{i(e.throw(s))}catch(o){c(o)}}function i(s){var o;s.done?a(s.value):(o=s.value,o instanceof n?o:new n(function(r){r(o)})).then(u,v)}i((e=e.apply(p,t||[])).next())})},A=function(p,t){var n,e,a,c,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return c={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(c[Symbol.iterator]=function(){return this}),c;function v(i){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;u;)try{if(n=1,e&&(a=2&o[0]?e.return:o[0]?e.throw||((a=e.return)&&a.call(e),0):e.next)&&!(a=a.call(e,o[1])).done)return a;switch(e=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return u.label++,{value:o[1],done:!1};case 5:u.label++,e=o[1],o=[0];continue;case 7:o=u.ops.pop(),u.trys.pop();continue;default:if(!((a=(a=u.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){u=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){u.label=o[1];break}if(6===o[0]&&u.label<a[1]){u.label=a[1],a=o;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(o);break}a[2]&&u.ops.pop(),u.trys.pop();continue}o=t.call(p,u)}catch(r){o=[6,r],e=0}finally{n=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([i,s])}}};const $=function(){function p(t){this._options=t?f(X(b,t)):b,this.update()}return p._clearContainer=function(t){t&&(t.innerHTML="")},p.prototype._setupSvg=function(){var t=this;if(this._qr){var n=new bt(this._options);this._svg=n.getElement(),this._svgDrawingPromise=n.drawQR(this._qr).then(function(){var e;t._svg&&(null===(e=t._extension)||void 0===e||e.call(t,n.getElement(),t._options))})}},p.prototype._setupCanvas=function(){var t,n=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=null===(t=this._svgDrawingPromise)||void 0===t?void 0:t.then(function(){if(n._svg){var e=n._svg,a=(new XMLSerializer).serializeToString(e),c="data:image/svg+xml;base64,"+btoa(a),u=new Image;return new Promise(function(v){u.onload=function(){var i,s;null===(s=null===(i=n._canvas)||void 0===i?void 0:i.getContext("2d"))||void 0===s||s.drawImage(u,0,0),v()},u.src=c})}}))},p.prototype._getElement=function(t){return void 0===t&&(t="png"),C(this,void 0,void 0,function(){return A(this,function(n){switch(n.label){case 0:if(!this._qr)throw"QR code is empty";return"svg"!==t.toLowerCase()?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return n.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return n.sent(),[2,this._canvas]}})})},p.prototype.update=function(t){p._clearContainer(this._container),this._options=t?f(X(this._options,t)):this._options,this._options.data&&(this._qr=M()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(n){switch(!0){case/^[0-9]*$/.test(n):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(n):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===dt?this._setupCanvas():this._setupSvg(),this.append(this._container))},p.prototype.append=function(t){if(t){if("function"!=typeof t.appendChild)throw"Container should be a single DOM node";this._options.type===dt?this._canvas&&t.appendChild(this._canvas):this._svg&&t.appendChild(this._svg),this._container=t}},p.prototype.applyExtension=function(t){if(!t)throw"Extension function should be defined.";this._extension=t,this.update()},p.prototype.deleteExtension=function(){this._extension=void 0,this.update()},p.prototype.getRawData=function(t){return void 0===t&&(t="png"),C(this,void 0,void 0,function(){var n,e,a;return A(this,function(c){switch(c.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(t)];case 1:return(n=c.sent())?"svg"===t.toLowerCase()?(e=new XMLSerializer,a=e.serializeToString(n),[2,new Blob(['<?xml version="1.0" standalone="no"?>\r\n'+a],{type:"image/svg+xml"})]):[2,new Promise(function(u){return n.toBlob(u,"image/"+t,1)})]:[2,null]}})})},p.prototype.download=function(t){return C(this,void 0,void 0,function(){var n,e,a,c,u;return A(this,function(v){switch(v.label){case 0:if(!this._qr)throw"QR code is empty";return n="png",e="qr","string"==typeof t?(n=t,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof t&&null!==t&&(t.name&&(e=t.name),t.extension&&(n=t.extension)),[4,this._getElement(n)];case 1:return(a=v.sent())?("svg"===n.toLowerCase()?(c=new XMLSerializer,u='<?xml version="1.0" standalone="no"?>\r\n'+(u=c.serializeToString(a)),nt("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(u),e+".svg")):nt(a.toDataURL("image/"+n),e+"."+n),[2]):[2]}})})},p}()}},E={};function tt(H){if(E[H])return E[H].exports;var Q=E[H]={exports:{}};return lt[H](Q,Q.exports,tt),Q.exports}return tt.n=H=>{var Q=H&&H.__esModule?()=>H.default:()=>H;return tt.d(Q,{a:Q}),Q},tt.d=(H,Q)=>{for(var et in Q)tt.o(Q,et)&&!tt.o(H,et)&&Object.defineProperty(H,et,{enumerable:!0,get:Q[et]})},tt.o=(H,Q)=>Object.prototype.hasOwnProperty.call(H,Q),tt(676)})().default},4004:(xt,lt,E)=>{"use strict";E.d(lt,{Z:()=>q});const H={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let Q;const et=new Uint8Array(16);function it(){if(!Q&&(Q=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Q))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Q(et)}const U=[];for(let P=0;P<256;++P)U.push((P+256).toString(16).slice(1));const q=function W(P,R,N){if(H.randomUUID&&!R&&!P)return H.randomUUID();const d=(P=P||{}).random||(P.rng||it)();if(d[6]=15&d[6]|64,d[8]=63&d[8]|128,R){N=N||0;for(let G=0;G<16;++G)R[N+G]=d[G];return R}return function J(P,R=0){return U[P[R+0]]+U[P[R+1]]+U[P[R+2]]+U[P[R+3]]+"-"+U[P[R+4]]+U[P[R+5]]+"-"+U[P[R+6]]+U[P[R+7]]+"-"+U[P[R+8]]+U[P[R+9]]+"-"+U[P[R+10]]+U[P[R+11]]+U[P[R+12]]+U[P[R+13]]+U[P[R+14]]+U[P[R+15]]}(d)}}}]);