"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[70],{5851:(D,O,i)=>{i.d(O,{B:()=>fe});var d=i(5861),c=i(1378),e=i(5879),u=i(2438),M=i(4036),m=i(9054),v=i(4020),E=i(148),L=i(9093),C=i(7621),h=i(1990),A=i(5661),R=i(5172),f=i(3845),T=i(4887),Z=i(5487),w=i(658),b=i(9515),I=i(6814),x=i(6223),B=i(9473),F=i(554),k=i(4464),Q=i(4228);const H=["fileInput"];function G(r,_){1&r&&(e.O4$(),e.TgZ(0,"svg",31),e._UZ(1,"path",32)(2,"path",33),e.qZA())}const j=function(){return["text-primary"]};function Y(r,_){1&r&&e._UZ(0,"app-logo",34),2&r&&e.Q6J("svgClass",e.DdM(2,j))("responsive",!1)}function z(r,_){1&r&&(e._UZ(0,"span",38),e.ALo(1,"translate")),2&r&&e.Q6J("innerHTML",e.lcZ(1,1,"COMPONENTS.UPLOADER.DESCRIPTION.DESKTOP"),e.oJD)}function V(r,_){1&r&&(e._UZ(0,"span",38),e.ALo(1,"translate")),2&r&&e.Q6J("innerHTML",e.lcZ(1,1,"COMPONENTS.UPLOADER.DESCRIPTION.TOUCH"),e.oJD)}const $=function(r){return{"fw-bold fs-md-lg":r}},X=function(r){return{"text-decoration-underline":r}};function q(r,_){if(1&r){const a=e.EpF();e.TgZ(0,"div",35),e.YNc(1,z,2,3,"span",36),e.YNc(2,V,2,3,"span",36),e.TgZ(3,"span",37),e.NdJ("click",function(t){e.CHM(a);const n=e.oxw(2),s=e.MAs(23);return e.KtG(n.toggleRemoteUrlForm(t,s))}),e._uU(4),e.ALo(5,"translate"),e.qZA()()}if(2&r){const a=e.oxw(2);e.Q6J("ngClass",e.VKq(7,$,!a.isWidget)),e.xp6(1),e.Q6J("ngIf",!a.touchDevice),e.xp6(1),e.Q6J("ngIf",a.touchDevice),e.xp6(1),e.Q6J("ngClass",e.VKq(9,X,a.isWidget)),e.xp6(1),e.Oqu(e.lcZ(5,5,"COMPONENTS.UPLOADER.DESCRIPTION.REMOTE_URL"))}}function ee(r,_){1&r&&e.GkF(0)}function te(r,_){if(1&r){const a=e.EpF();e.TgZ(0,"div",39),e.YNc(1,ee,1,0,"ng-container",17),e.TgZ(2,"button",40),e.NdJ("click",function(t){e.CHM(a);const n=e.oxw(2);return e.KtG(n.handleRemoteUrlUpload(t))}),e.O4$(),e.TgZ(3,"svg",41),e._UZ(4,"path",42),e.qZA()(),e.kcU(),e.TgZ(5,"button",43),e.NdJ("click",function(t){e.CHM(a);const n=e.oxw(2);return e.KtG(n.toggleRemoteUrlForm(t))}),e.O4$(),e.TgZ(6,"svg",41),e._UZ(7,"path",44),e.qZA()()()}if(2&r){const a=e.oxw(2),o=e.MAs(34);e.xp6(1),e.Q6J("ngTemplateOutlet",o),e.xp6(1),e.Q6J("disabled",0===a.remoteUrl.length||!a.isRemoteUrlValid)}}function ne(r,_){if(1&r&&(e.ynx(0),e.TgZ(1,"span"),e._uU(2),e.ALo(3,"translate"),e.qZA(),e._UZ(4,"em",45),e.ALo(5,"arrayJoin"),e.BQk()),2&r){const a=e.oxw(2);e.xp6(2),e.hij("",e.lcZ(3,2,"COMPONENTS.UPLOADER.PATH.LONG")," "),e.xp6(2),e.Q6J("innerText",a.currentFolderPath.length?e.xi3(5,4,a.currentFolderPath,"/"):"root")}}function oe(r,_){if(1&r&&(e._UZ(0,"div",50),e.ALo(1,"arrayJoin"),e.ALo(2,"slice")),2&r){const a=e.oxw(3);e.Q6J("innerText",e.xi3(1,1,e.Dn7(2,4,a.currentFolderPath,0,-1),"/"))}}function re(r,_){if(1&r&&(e.TgZ(0,"div",46)(1,"div",47),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.YNc(4,oe,3,8,"div",48),e._UZ(5,"div",49),e.ALo(6,"arrayJoin"),e.ALo(7,"slice"),e.qZA()),2&r){const a=e.oxw(2);e.xp6(2),e.hij(" ",e.lcZ(3,3,"COMPONENTS.UPLOADER.PATH.SHORT")," "),e.xp6(2),e.Q6J("ngIf",a.currentFolderPath.length>1),e.xp6(1),e.Q6J("innerText",(a.currentFolderPath.length>1?"/":"")+(a.currentFolderPath.length?e.xi3(6,5,e.xi3(7,8,a.currentFolderPath,a.currentFolderPath.length-1),"/"):"root"))}}const ie=function(){return{bottom:0,left:0}};function ae(r,_){if(1&r){const a=e.EpF();e.ynx(0),e.TgZ(1,"a",51),e.NdJ("click",function(){e.CHM(a);const t=e.oxw(2);return e.KtG(t.openInfoModal.emit())}),e._uU(2),e.ALo(3,"translate"),e.qZA(),e.TgZ(4,"div",52),e.NdJ("click",function(){e.CHM(a),e.oxw(2);const t=e.MAs(7);return e.KtG(t.open())}),e._uU(5," settings "),e.qZA(),e.TgZ(6,"div",53),e.NdJ("click",function(t){e.CHM(a);const n=e.oxw(2),s=e.MAs(23);return e.KtG(n.toggleRemoteUrlForm(t,s))}),e._uU(7," add_link "),e.qZA(),e.BQk()}2&r&&(e.xp6(1),e.Q6J("ngStyle",e.DdM(4,ie)),e.xp6(1),e.Oqu(e.lcZ(3,2,"COMPONENTS.UPLOADER.INFO")))}const se=function(r,_,a){return{"cursor-pointer":r,"py-4 px-3 px-sm-4":_,"p-2 pb-3":a}},le=function(r,_,a){return{"my-2":r,"mb-2":_,"mw-100 mt-1":a}};function _e(r,_){if(1&r){const a=e.EpF();e.ynx(0),e.TgZ(1,"div",22,23),e.NdJ("dragenter",function(){e.CHM(a);const t=e.MAs(2),n=e.oxw();return e.KtG(n.setDragOverEvent(t))})("drop",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.handleDropEvent(t))})("click",function(){e.CHM(a);const t=e.oxw(),n=e.MAs(2);return e.KtG(!t.isWaitingRemoteUrl&&n.click())}),e.YNc(3,G,3,0,"svg",24),e.YNc(4,Y,1,3,"ng-template",null,25,e.W1O),e.YNc(6,q,6,11,"div",26),e.YNc(7,te,8,2,"div",27),e.TgZ(8,"div",28),e.YNc(9,ne,6,7,"ng-container",3),e.YNc(10,re,8,11,"ng-template",null,29,e.W1O),e.qZA()(),e.YNc(12,ae,8,5,"ng-container",30),e.BQk()}if(2&r){const a=e.MAs(5),o=e.MAs(11),t=e.oxw();e.xp6(1),e.Q6J("ngClass",e.kEZ(9,se,!t.loading&&!t.isWaitingRemoteUrl,!t.isWidget,t.isWidget)),e.xp6(2),e.Q6J("ngIf",!t.isWidget)("ngIfElse",a),e.xp6(3),e.Q6J("ngIf",!t.isWidget||!t.isWaitingRemoteUrl),e.xp6(1),e.Q6J("ngIf",t.isWidget&&t.isWaitingRemoteUrl),e.xp6(1),e.Q6J("ngClass",e.kEZ(13,le,!t.isWidget&&!t.touchDevice,!t.isWidget&&t.touchDevice,t.isWidget)),e.xp6(1),e.Q6J("ngIf",!t.isWidget)("ngIfElse",o),e.xp6(3),e.Q6J("ngIf",!t.isWidget)}}const ce=function(r,_){return{"p-4":r,"p-2":_}};function pe(r,_){if(1&r&&(e.TgZ(0,"div",54),e.O4$(),e.TgZ(1,"svg",55),e._UZ(2,"path",56),e.qZA(),e.kcU(),e._UZ(3,"app-loader",57),e.TgZ(4,"div",58),e._uU(5),e.ALo(6,"translate"),e.qZA()()),2&r){const a=e.oxw();e.Q6J("ngClass",e.WLB(6,ce,!a.isWidget,a.isWidget)),e.xp6(3),e.Q6J("onlyMessage",!0)("message",a.loadingMessage),e.xp6(2),e.hij(" ",e.lcZ(6,4,"COMPONENTS.UPLOADER.LOADING.SUBTEXT")," ")}}function de(r,_){1&r&&e.GkF(0)}const ge=function(r){return{"fs-reset":r}};function ue(r,_){if(1&r){const a=e.EpF();e.TgZ(0,"input",59,60),e.NdJ("ngModelChange",function(t){e.CHM(a);const n=e.oxw();return e.KtG(n.remoteUrl=t)})("ngModelChange",function(){e.CHM(a);const t=e.MAs(1),n=e.oxw();return e.KtG(n.isRemoteUrlValid=!t.invalid)}),e.ALo(2,"translate"),e.qZA()}if(2&r){const a=e.oxw();e.Q6J("placeholder",e.lcZ(2,4,"COMPONENTS.UPLOADER.REMOTE_URL_INPUT_PLACEHOLDER"))("ngClass",e.VKq(6,ge,a.isWidget))("ngModel",a.remoteUrl)("pattern","^https?://[^.]+\\.(.+)")}}const me=function(r,_){return{uploading:r,"widget flex-grow-1 min-w-0":_}};let fe=(()=>{var r;class _{constructor(o,t,n,s,l,g,U,S,W){this.postMessageService=o,this.uploadService=t,this.uploadObservablesService=n,this.uploaderService=s,this.toastService=l,this.renderer=g,this.ngZone=U,this.translateService=S,this.proxyService=W,this.loading=!0,this.currentFolderPath=[],this.isWidget=!1,this.fileUploadedEvent=new e.vpe,this.openInfoModal=new e.vpe,this.isUploading=!1,this.loadingMessage="",this.touchDevice=v.eX,this.isWaitingRemoteUrl=!1,this.remoteUrl="",this.isRemoteUrlValid=!1,this.dragOverEvent=!1,this.checkingFileMessage="",this.options=this.uploaderService.uploaderOptions;const N=this.uploadService.preferences.uploader;N.checkImage.active||(this.options.compress=!1),this.options.openLinkModalAfterUpload=N.showLinkModal||this.options.openLinkModalAfterUpload||!1,this.uploaderService.uploaderOptions=this.options}ngOnInit(){var o=this;return(0,d.Z)(function*(){o.handleClipboardPasteEvent(),o.handleExternalUpload(),o.checkingFileMessage=o.translateService.instant("COMPONENTS.UPLOADER.LOADING.MESSAGE.CHECK"),o.loadingMessage=o.checkingFileMessage})()}handleClipboardPasteEvent(){var o=this;this.clipboardPasteEventSubscription=(0,u.R)(document.body,"paste").subscribe(function(){var t=(0,d.Z)(function*(n){if(o.isWidget&&o.isWaitingRemoteUrl||!o.canUpload())return;const s=Array.from((n.clipboardData||n.originalEvent.clipboardData).items);let l=[];for(const g of s)if(0===g.type.indexOf("image")){const U=g.getAsFile();U&&l.push(U)}l.length>0?yield o.preUpload(l):o.reset()});return function(n){return t.apply(this,arguments)}}())}handleExternalUpload(){var o=this;this.startExternalUploadSubscription=this.uploadObservablesService.startUploadObservable.subscribe(function(){var t=(0,d.Z)(function*(n){if(n){if(!o.canUpload())return;yield o.preUpload([n.file],n.options)}else o.fileInputRef.nativeElement.click()});return function(n){return t.apply(this,arguments)}}())}handleSelectionEvent(o){var t=this;return(0,d.Z)(function*(){if(!t.canUpload())return;const n=o.target;if(n.files&&n.files.length){const s=Array.from(n.files);return n.value="",t.preUpload(s)}t.reset()})()}handleDropEvent(o){var t=this;return(0,d.Z)(function*(){var n;if(o.preventDefault(),o.stopPropagation(),o.stopImmediatePropagation(),!t.canUpload())return;const s=null!==(n=o.dataTransfer)&&void 0!==n&&n.files?Array.from(o.dataTransfer.files):[];if(s.length)return t.preUpload(s);t.reset()})()}handleRemoteUrlUpload(o,t){var n=this;return(0,d.Z)(function*(){if(!n.isRemoteUrlValid||0===n.remoteUrl.length||!n.canUpload())return;const s=n.remoteUrl;n.loadingMessage=n.translateService.instant("COMPONENTS.UPLOADER.LOADING.MESSAGE.GETTING_REMOTE_FILE"),n.toggleRemoteUrlForm(o,t);const l=(0,m.Tb)(s);if(!l.ext||-1===h.O8.findIndex(U=>-1!==U.ext.indexOf(l.ext)))return n.handleErrors([l.name],[]),void n.reset();const g=yield n.proxyService.get(s);return g?n.preUpload([new File([g],l.name,{type:g.type,lastModified:Date.now()})]):(n.isWidget||n.toastService.show({content:"Errore nel recupero dell'immagine dall'url!",level:c.m.ERROR}),n.postMessageService.send(E.l.UPLOAD_ERROR,{filename:l.name,error:f.S.REMOTE_URL_RESPONSE}),void n.reset())})()}saveOptions(o=!0){this.uploaderService.uploaderOptions=this.options,o&&this.savePreferences()}savePreferences(){this.uploadService.preferences.uploader={checkImage:{active:this.options.compress,time:Date.now()},showLinkModal:this.options.openLinkModalAfterUpload||!1}}setDragOverEvent(o){this.dragOverEvent||(this.dragOverEvent=!0,this.ngZone.runOutsideAngular(()=>{this.renderer.listen(o,"dragover",t=>{t.preventDefault()})}))}canUpload(){return!this.loading&&!this.isUploading&&(this.isUploading=!0,this.dragOverEvent=!1,!0)}reset(){this.isUploading=!1,this.loadingMessage=this.checkingFileMessage,this.postMessageService.send(E.l.UPLOAD_END,{}),this.options.allowOverwrite=!1,this.saveOptions(!1)}preUpload(o,t){var n=this;return(0,d.Z)(function*(){const s=[...n.currentFolderPath];let l=[],g=[],U=[],S=[];t?t.allowOverwrite=t.allowOverwrite||!1:(t=n.uploaderService.uploaderOptions).allowOverwrite=!1;for(let p=0;p<o.length;p++){const P=yield n.uploaderService.prepareFile(o[p],t);if(P){const J=(0,m.Tb)(P.name),K=(0,m.g8)(J.ext);if(!K){U.push(P.name);continue}if(P.size>K.maxSize){S.push(P.name);continue}l.push((0,m.g0)(P,J)),g.push(P)}}if(n.handleErrors(U,S),0===g.length)return void n.reset();const W=n.translateService.instant("COMPONENTS.UPLOADER.LOADING.MESSAGE.UPLOADING",{total:g.length}),N=n.translateService.instant("COMPONENTS.UPLOADER.LOADING.MESSAGE.CREATING_PACKAGE",{total:g.length});n.uploadObservablesService.pushUploadingFileQueue(l);for(let p=0;p<g.length;++p){n.loadingMessage=N;const P=yield n.uploadService.getHostToken(s,g[p].name);l[p].progress+=20,n.loadingMessage=W.replace("{{current}}",`${p+1}`),yield(0,M.z)(n.uploaderService.upload(g[p],P,l[p],t.allowOverwrite))}n.uploadObservablesService.pushUploadingFileQueue([]);const y=l.filter(p=>!p.error).map(p=>p.file);y.length>0&&(n.fileUploadedEvent.emit({list:y,rewrite:t.allowOverwrite,destPath:s}),n.postMessageService.send(E.l.UPLOAD_SUCCESS,{fileList:y.map(p=>({filename:p.name,isImage:p.isImage,url:p.url}))}),t.openLinkModalAfterUpload&&n.uploadObservablesService.pushAction({name:R.In.FILE_SHOW_LINKS,payload:{entities:(0,m.jL)(y)}})),n.reset()})()}handleErrors(o,t){if(0!==o.length||0!==t.length){if(!this.isWidget)return void this.toastService.show({content:this.createToastMessage(o,t),level:c.m.ERROR});[[f.S.UNSUPPORTED,o],[f.S.OVERSIZED,t]].forEach(n=>{n[1].forEach(s=>{this.postMessageService.send(E.l.UPLOAD_ERROR,{filename:s,error:n[0]})})})}}createToastMessage(o,t){let n=[];return o.length&&n.push(o.length>1?`I file <strong>${o.join(", ")}</strong> hanno un formato non supportato!`:`Il file <strong>${o[0]}</strong> ha un formato non supportato!`),t.length&&n.push(t.length>1?`I file <strong>${t.join(", ")}</strong> sono troppo pesanti!`:`Il file <strong>${t[0]}</strong> \xe8 troppo pesante!`),n.join("<br><br>")}toggleRemoteUrlForm(o,t){o.stopPropagation(),this.isWidget||(this.isWaitingRemoteUrl?null==t||t.close():null==t||t.open()),this.resetRemoteUrlForm(!this.isWaitingRemoteUrl)}resetRemoteUrlForm(o){this.isWaitingRemoteUrl=o,this.remoteUrl=""}ngOnDestroy(){var o;null===(o=this.startExternalUploadSubscription)||void 0===o||o.unsubscribe(),this.clipboardPasteEventSubscription.unsubscribe(),this.uploaderService.clearPendingRequests()}}return(r=_).\u0275fac=function(o){return new(o||r)(e.Y36(L.F),e.Y36(w.C),e.Y36(Z.r),e.Y36(T.q),e.Y36(A.k),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(b.sK),e.Y36(C.y))},r.\u0275cmp=e.Xpm({type:r,selectors:[["app-uploader"]],viewQuery:function(o,t){if(1&o&&e.Gf(H,5),2&o){let n;e.iGM(n=e.CRH())&&(t.fileInputRef=n.first)}},inputs:{loading:"loading",currentFolderPath:"currentFolderPath",isWidget:"isWidget"},outputs:{fileUploadedEvent:"fileUploadedEvent",openInfoModal:"openInfoModal"},decls:35,vars:37,consts:[[1,"uploader","rounded","position-relative",3,"ngClass"],["type","file",1,"d-none",3,"multiple","disabled","change"],["fileInput",""],[4,"ngIf","ngIfElse"],["uploading",""],[3,"title"],["optionsModal",""],[3,"innerHtml"],[1,"mb-1","list-unstyled"],[1,"form-check","form-switch"],["type","checkbox","role","switch","id","speed-upload",1,"form-check-input",3,"ngModel","ngModelChange"],["for","speed-upload",1,"form-check-label","me-auto",3,"innerHTML"],["type","checkbox","role","switch","id","show-link-modal",1,"form-check-input",3,"ngModel","ngModelChange"],["for","show-link-modal",1,"form-check-label","me-auto",3,"innerHTML"],["size","md",3,"title","disableCloseButton","hidden"],["remoteUrlModal",""],[1,"mb-2",3,"innerHTML"],[4,"ngTemplateOutlet"],["footer",""],["type","button",1,"btn","btn-secondary",3,"innerText","click"],["type","button",1,"btn","btn-primary",3,"disabled","innerText","click"],["remoteUrlInput",""],[1,"rounded","upload-area",3,"ngClass","dragenter","drop","click"],["uploadArea",""],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","fill","currentColor","viewBox","0 0 16 16",4,"ngIf","ngIfElse"],["appLogo",""],["class","description text-center",3,"ngClass",4,"ngIf"],["class","input-group input-group-sm remote-url-form justify-content-center mb-1",4,"ngIf"],[1,"small","text-center",3,"ngClass"],["widgetFolder",""],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","fill","currentColor","viewBox","0 0 16 16"],["fill-rule","evenodd","d","M7.646 5.146a.5.5 0 0 1 .708 0l2 2a.5.5 0 0 1-.708.708L8.5 6.707V10.5a.5.5 0 0 1-1 0V6.707L6.354 7.854a.5.5 0 1 1-.708-.708l2-2z"],["d","M4.406 3.342A5.53 5.53 0 0 1 8 2c2.69 0 4.923 2 5.166 4.579C14.758 6.804 16 8.137 16 9.773 16 11.569 14.502 13 12.687 13H3.781C1.708 13 0 11.366 0 9.318c0-1.763 1.266-3.223 2.942-3.593.143-.863.698-1.723 1.464-2.383zm.653.757c-.757.653-1.153 1.44-1.153 2.056v.448l-.445.049C2.064 6.805 1 7.952 1 9.318 1 10.785 2.23 12 3.781 12h8.906C13.98 12 15 10.988 15 9.773c0-1.216-1.02-2.228-2.313-2.228h-.5v-.5C12.188 4.825 10.328 3 8 3a4.53 4.53 0 0 0-2.941 1.1z"],["svgSize","xl","subtext","Upload",1,"d-block","my-auto","py-1",3,"svgClass","responsive"],[1,"description","text-center",3,"ngClass"],[3,"innerHTML",4,"ngIf"],[1,"ms-1","remote-url-btn","fst-italic","cursor-pointer",3,"ngClass","click"],[3,"innerHTML"],[1,"input-group","input-group-sm","remote-url-form","justify-content-center","mb-1"],[1,"input-group-text","bg-light",3,"disabled","click"],["xmlns","http://www.w3.org/2000/svg","width","24","height","24","fill","currentColor","viewBox","0 0 16 16"],["d","M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"],[1,"input-group-text","bg-light",3,"click"],["d","M4.646 4.646a.5.5 0 0 1 .708 0L8 7.293l2.646-2.647a.5.5 0 0 1 .708.708L8.707 8l2.647 2.646a.5.5 0 0 1-.708.708L8 8.707l-2.646 2.647a.5.5 0 0 1-.708-.708L7.293 8 4.646 5.354a.5.5 0 0 1 0-.708z"],[1,"text-break",3,"innerText"],[1,"d-flex","min-w-0"],[1,"me-1"],["class","fst-italic text-truncate mw-100",3,"innerText",4,"ngIf"],[1,"fst-italic","text-nowrap",3,"innerText"],[1,"fst-italic","text-truncate","mw-100",3,"innerText"],[1,"fs-xs","fst-italic","d-block","px-2","py-1","text-reset","cursor-pointer","position-absolute",3,"ngStyle","click"],[1,"material-icons-outlined","d-block","cursor-pointer","fs-xl","position-absolute","icon","options-icon",3,"click"],[1,"material-icons-outlined","d-block","cursor-pointer","fs-xl","position-absolute","icon","remote-url-icon",3,"click"],[1,"p-4","rounded",3,"ngClass"],["xmlns","http://www.w3.org/2000/svg","width","64","height","64","viewBox","0 0 16 16",1,"overflow-visible"],["d","M 4.406 3.342 A 5.53 5.53 0 0 1 8 2 c 2.69 0 4.923 2 5.166 4.579 C 14.758 6.804 16 8.137 16 9.773 C 16 11.569 14.502 13 12.687 13 H 3.781 C 1.708 13 0 11.366 0 9.318 c 0 -1.763 1.266 -3.223 2.942 -3.593 c 0.143 -0.863 0.698 -1.723 1.464 -2.383 z",1,"cloud"],[3,"onlyMessage","message"],[1,"small","text-center"],["type","text","required","",1,"form-control",3,"placeholder","ngClass","ngModel","pattern","ngModelChange"],["input","ngModel"]],template:function(o,t){if(1&o){const n=e.EpF();e.TgZ(0,"div",0)(1,"input",1,2),e.NdJ("change",function(l){return t.handleSelectionEvent(l)}),e.qZA(),e.YNc(3,_e,13,17,"ng-container",3),e.YNc(4,pe,7,9,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(6,"app-modal",5,6),e.ALo(8,"translate"),e._UZ(9,"div",7),e.ALo(10,"translate"),e.TgZ(11,"ul",8)(12,"li")(13,"div",9)(14,"input",10),e.NdJ("ngModelChange",function(l){return t.options.compress=l})("ngModelChange",function(){return t.saveOptions()}),e.qZA(),e._UZ(15,"label",11),e.ALo(16,"translate"),e.qZA()(),e.TgZ(17,"li")(18,"div",9)(19,"input",12),e.NdJ("ngModelChange",function(l){return t.options.openLinkModalAfterUpload=l})("ngModelChange",function(){return t.saveOptions()}),e.qZA(),e._UZ(20,"label",13),e.ALo(21,"translate"),e.qZA()()()(),e.TgZ(22,"app-modal",14,15),e.NdJ("hidden",function(){return t.resetRemoteUrlForm(!1)}),e.ALo(24,"translate"),e._UZ(25,"p",16),e.ALo(26,"translate"),e.YNc(27,de,1,0,"ng-container",17),e.ynx(28,18),e.TgZ(29,"button",19),e.NdJ("click",function(){e.CHM(n);const l=e.MAs(23);return e.KtG(l.close())}),e.ALo(30,"translate"),e.qZA(),e.TgZ(31,"button",20),e.NdJ("click",function(l){e.CHM(n);const g=e.MAs(23);return e.KtG(t.handleRemoteUrlUpload(l,g))}),e.ALo(32,"translate"),e.qZA(),e.BQk(),e.qZA(),e.YNc(33,ue,3,8,"ng-template",null,21,e.W1O)}if(2&o){const n=e.MAs(5),s=e.MAs(34);e.Q6J("ngClass",e.WLB(34,me,t.isUploading,t.isWidget)),e.xp6(1),e.Q6J("multiple",!0)("disabled",t.loading||t.isUploading),e.xp6(2),e.Q6J("ngIf",!t.isUploading)("ngIfElse",n),e.xp6(3),e.Q6J("title",e.lcZ(8,18,"COMPONENTS.UPLOADER.SETTINGS_MODAL.TITLE")),e.xp6(3),e.Q6J("innerHtml",e.lcZ(10,20,"COMPONENTS.UPLOADER.SETTINGS_MODAL.CONTENT.DESCRIPTION"),e.oJD),e.xp6(5),e.Q6J("ngModel",t.options.compress),e.xp6(1),e.Q6J("innerHTML",e.lcZ(16,22,"COMPONENTS.UPLOADER.SETTINGS_MODAL.CONTENT.COMPRESS_SWITCH"),e.oJD),e.xp6(4),e.Q6J("ngModel",t.options.openLinkModalAfterUpload),e.xp6(1),e.Q6J("innerHTML",e.lcZ(21,24,"COMPONENTS.UPLOADER.SETTINGS_MODAL.CONTENT.SHOW_LINK_SWITCH"),e.oJD),e.xp6(2),e.Q6J("title",e.lcZ(24,26,"COMPONENTS.UPLOADER.REMOTE_URL_MODAL.TITLE"))("disableCloseButton",!0),e.xp6(3),e.Q6J("innerHTML",e.lcZ(26,28,"COMPONENTS.UPLOADER.REMOTE_URL_MODAL.CONTENT"),e.oJD),e.xp6(2),e.Q6J("ngTemplateOutlet",s),e.xp6(2),e.Q6J("innerText",e.lcZ(30,30,"SHARED.CANCEL")),e.xp6(2),e.Q6J("disabled",0===t.remoteUrl.length||!t.isRemoteUrlValid)("innerText",e.lcZ(32,32,"COMPONENTS.UPLOADER.REMOTE_URL_MODAL.UPLOAD_BTN"))}},dependencies:[I.mk,I.O5,I.tP,I.PC,x.Fj,x.Wl,x.JJ,x.Q7,x.c5,x.On,B.R,F.R,k.z,Q.J,I.OU,b.X$],styles:[".uploader[_ngcontent-%COMP%]:not(.widget){margin:0 1rem;border:2px dashed #4864fe;box-shadow:0 .125rem .25rem #00000013;color:#2036ad;height:100%}.uploader[_ngcontent-%COMP%]:not(.widget):not(.uploading)   svg[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_bubble 4s linear infinite}.uploader[_ngcontent-%COMP%]:not(.widget).uploading   svg[_ngcontent-%COMP%]   path.cloud[_ngcontent-%COMP%]{stroke:#2036ad}.uploader[_ngcontent-%COMP%]:not(.widget)   .description[_ngcontent-%COMP%]{max-width:350px}.uploader.widget.uploading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path.cloud[_ngcontent-%COMP%]{stroke:#4864fe}.uploader[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:not(.icon){height:100%;display:flex;flex-direction:column;align-items:center;justify-content:center}.uploader.uploading[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]   path.cloud[_ngcontent-%COMP%]{fill:none;stroke-linecap:round;stroke-dasharray:50;stroke-dashoffset:100;animation:_ngcontent-%COMP%_draw 3.5s linear infinite}.uploader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{top:5px;opacity:.7;transition:opacity .2s}.uploader[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]:hover{opacity:1}.uploader[_ngcontent-%COMP%]   .options-icon[_ngcontent-%COMP%]{right:5px}.uploader[_ngcontent-%COMP%]   .remote-url-icon[_ngcontent-%COMP%]{right:30px}.upload-area.cursor-pointer[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(app-logo):not(.description), .upload-area.cursor-pointer[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%] > *[_ngcontent-%COMP%]:not(.remote-url-btn){pointer-events:none}.remote-url-form[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{max-width:300px}.remote-url-form[_ngcontent-%COMP%]   button[disabled][_ngcontent-%COMP%]{opacity:.5}@media (min-width: 768px){.uploader[_ngcontent-%COMP%]:not(.widget){margin:initial}}@keyframes _ngcontent-%COMP%_bubble{6%{transform:scale(1.3,.8)}9%{transform:scale(.8,1.3) translateY(-.5rem)}12%{transform:scale(1)}}@keyframes _ngcontent-%COMP%_draw{0%{stroke-dashoffset:100}to{stroke-dashoffset:0}}"]}),_})()},529:(D,O,i)=>{i.d(O,{M:()=>L});var d=i(4243),c=i(6814),e=i(6223),u=i(7905),M=i(2740),m=i(4610),v=i(9515),E=i(5879);let L=(()=>{var C;class h{}return(C=h).\u0275fac=function(R){return new(R||C)},C.\u0275mod=E.oAB({type:C}),C.\u0275inj=E.cJS({imports:[d.r,c.ez,e.u5,u.q,M.h,m.z,v.aw.forChild()]}),h})()},3845:(D,O,i)=>{i.d(O,{S:()=>d});var d=function(c){return c.UNSUPPORTED="unsupported",c.OVERSIZED="oversized",c.REMOTE_URL_RESPONSE="remote-url-response",c.UPLOAD_FAILED="upload-failed",c}(d||{})},4243:(D,O,i)=>{i.d(O,{r:()=>e});var d=i(6814),c=i(5879);let e=(()=>{var u;class M{}return(u=M).\u0275fac=function(v){return new(v||u)},u.\u0275mod=c.oAB({type:u}),u.\u0275inj=c.cJS({imports:[d.ez]}),M})()},4228:(D,O,i)=>{i.d(O,{J:()=>c});var d=i(5879);let c=(()=>{var e;class u{transform(m,v){return m.join(v)}}return(e=u).\u0275fac=function(m){return new(m||e)},e.\u0275pipe=d.Yjl({name:"arrayJoin",type:e,pure:!0}),u})()},7621:(D,O,i)=>{i.d(O,{y:()=>C});var d=i(5861),c=i(3912),e=i(708),u=i(8180),M=i(4664),m=i(2096),v=i(6306),E=i(5879),L=i(9862);let C=(()=>{var h;class A{constructor(f,T){this.http=f,this.endpointsService=T}get(f){var T=this;return(0,d.Z)(function*(){const Z=T.sendRequest(f);return yield(0,e.n)(Z)})()}sendRequest(f){return this.getUrlContent(f).pipe((0,u.q)(1),(0,M.w)(T=>(0,m.of)(T)),(0,v.K)(()=>this.getUrlContentWithProxy(f)))}getUrlContent(f){return this.http.get(f,{responseType:"blob"})}getUrlContentWithProxy(f){return this.http.get(this.endpointsService.get(c.jQ.PROXY,c.ph.COMMON),{headers:{[c._o.HeaderKeys.TOKEN_TYPE]:c.s9.ACCESS,"x-remote-url":f},responseType:"blob"}).pipe((0,u.q)(1),(0,v.K)(()=>(0,m.of)(void 0)))}}return(h=A).\u0275fac=function(f){return new(f||h)(E.LFG(L.eN),E.LFG(c.oz))},h.\u0275prov=E.Yz7({token:h,factory:h.\u0275fac,providedIn:"root"}),A})()}}]);