"use strict";(self.webpackChunkboard=self.webpackChunkboard||[]).push([[568],{6218:(W,E,r)=>{r.d(E,{P:()=>O});var m=r(3921),v=r(5e3),o=r(9736);let O=(()=>{class D{constructor(T){this.sidenavRightService=T}ngOnInit(){}openForumSelection(){this.sidenavRightService.pushEntity({entity:m.R8.forumList})}}return D.\u0275fac=function(T){return new(T||D)(v.Y36(o.f))},D.\u0275cmp=v.Xpm({type:D,selectors:[["app-forum-required"]],decls:11,vars:0,consts:[[1,"alert","alert-primary","mb-0"],[1,"fw-bold","text-center"],[1,"text-justify"],[1,"fw-bold"],["role","button",1,"text-decoration-underline","fw-bold",3,"click"]],template:function(T,Q){1&T&&(v.TgZ(0,"div",0)(1,"div",1),v._uU(2,"Seleziona un forum!"),v.qZA(),v.TgZ(3,"div",2),v._uU(4," Per utilizzare questa funzione \xe8 prima necessario "),v.TgZ(5,"span",3),v._uU(6,"scegliere su quale sito"),v.qZA(),v._uU(7," si vuole operare. \xc8 possibile selezionare il forum/blog da amministrare mediante "),v.TgZ(8,"a",4),v.NdJ("click",function(){return Q.openForumSelection()}),v._uU(9,"l'apposita funzione"),v.qZA(),v._uU(10," presente nella sidenav di destra. "),v.qZA()())},styles:[""]}),D})()},978:(W,E,r)=>{r.d(E,{z:()=>o});var m=r(9808),v=r(5e3);let o=(()=>{class O{}return O.\u0275fac=function(P){return new(P||O)},O.\u0275mod=v.oAB({type:O}),O.\u0275inj=v.cJS({imports:[[m.ez]]}),O})()},495:(W,E,r)=>{r.d(E,{t:()=>K});var m=r(5861),v=r(7579),o=r(5e3),O=r(3011),D=r(5787),P=r(8882),T=r(5640);function Q(f,y){if(1&f&&o._UZ(0,"app-loader",7),2&f){const l=o.oxw(2);o.Q6J("message",l.loadingMessage)}}function d(f,y){if(1&f){const l=o.EpF();o.TgZ(0,"div",12)(1,"input",13,14),o.NdJ("keyup.enter",function(){o.CHM(l);const u=o.MAs(2),A=o.oxw(3);return A.userAddScriptsAdmin(A.forum.cid,u.value)}),o.qZA(),o.TgZ(3,"button",15),o.NdJ("click",function(){o.CHM(l);const u=o.MAs(2),A=o.oxw(3);return A.userAddScriptsAdmin(A.forum.cid,u.value)}),o.TgZ(4,"span",16),o._uU(5,"add"),o.qZA()()()}}function t(f,y){1&f&&(o.TgZ(0,"div",17),o._uU(1,"Non hai i permessi per modificare gli admin degli script del forum selezionato!"),o.qZA())}const x=function(){return{placement:"left",animation:"shift-away"}};function I(f,y){if(1&f){const l=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(l);const u=o.oxw().$implicit,A=o.oxw(4);return A.userDelScriptsAdmin(A.forum.cid,u.id)}),o.TgZ(1,"span",29),o._uU(2,"delete"),o.qZA()()}2&f&&o.Q6J("tippyProps",o.DdM(1,x))}const R=function(f){return{"border-bottom":f}};function q(f,y){if(1&f&&(o.TgZ(0,"li",20)(1,"div",21),o._UZ(2,"img",22),o.ALo(3,"uploadsreplace"),o.qZA(),o.TgZ(4,"div",23)(5,"div",24),o._UZ(6,"a",25),o.TgZ(7,"div",26),o._uU(8),o.qZA()(),o.YNc(9,I,3,2,"button",27),o.qZA()()),2&f){const l=y.$implicit,b=y.last,u=o.oxw(4);o.xp6(2),o.s9C("src",o.lcZ(3,9,l.avatar),o.LSH),o.MGl("alt","",l.nickname,"'s avatar"),o.Q6J("nameDynamicReplace",l.nickname),o.xp6(2),o.Q6J("ngClass",o.VKq(11,R,!b)),o.xp6(2),o.hYB("href","",u.forum.url,"/?act=Profile&MID=",l.id,"",o.LSH),o.Q6J("innerText",l.nickname),o.xp6(2),o.hij("User id: ",l.id,""),o.xp6(1),o.Q6J("ngIf",u.canManage)}}function w(f,y){if(1&f&&(o.TgZ(0,"ul",18),o.YNc(1,q,10,13,"li",19),o.qZA()),2&f){const l=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",l.admins)}}function J(f,y){1&f&&(o.TgZ(0,"div",17),o._uU(1,"Non \xe8 stato inserito alcun admin degli script!"),o.qZA())}function G(f,y){if(1&f&&(o.YNc(0,d,6,0,"div",8),o.YNc(1,t,2,0,"ng-template",null,9,o.W1O),o.YNc(3,w,2,1,"ul",10),o.YNc(4,J,2,0,"ng-template",null,11,o.W1O)),2&f){const l=o.MAs(2),b=o.MAs(5),u=o.oxw(2);o.Q6J("ngIf",u.canManage)("ngIfElse",l),o.xp6(3),o.Q6J("ngIf",u.admins.length)("ngIfElse",b)}}function k(f,y){if(1&f&&(o.ynx(0),o.YNc(1,Q,1,1,"app-loader",5),o.YNc(2,G,6,4,"ng-template",null,6,o.W1O),o.BQk()),2&f){const l=o.MAs(3),b=o.oxw();o.xp6(1),o.Q6J("ngIf",b.loading)("ngIfElse",l)}}function j(f,y){1&f&&o._UZ(0,"app-forum-required")}let K=(()=>{class f{constructor(l,b,u,A){if(this.globalsService=l,this.graphqlService=b,this.toastService=u,this.forumService=A,this.componentDestroyed=new v.x,this.callOnDestroy=[],this.SUBSCRIBE_SCRIPTS_ADMIN="\n        subscription OnScriptAdminsChange($cid: ID!) {\n            changesScriptAdmins(cid: $cid) {\n                eventType\n            }\n        }",this.ADD_SCRIPTS_ADMIN_BY_NAME="\n        mutation addAdminByName($cid: ID!, $name: String!) {\n            addScriptAdminByName(cid: $cid, name: $name)\n        }",this.ADD_SCRIPTS_ADMIN_BY_ID="\n        mutation addAdminById($cid: ID!, $id: Int!) {\n            addScriptAdminById(cid: $cid, id: $id)\n        }",this.DEL_SCRIPTS_ADMIN="\n        mutation delAdmin($cid: ID!, $id: Int!) {\n            delScriptAdmin(cid: $cid, id: $id)\n        }",this.toastMessage="Inserisci <strong>l'ID o lo username</strong> dell'utente che vuoi rendere admin degli script!",this.admins=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.canManage=!0,this.componentDestroyed.subscribe(()=>{this.callOnDestroy.forEach($=>$())}),!this.globalsService.credentials)throw new Error("Missing credentials!");this.forum=this.globalsService.forum}ngOnInit(){var l=this;return(0,m.Z)(function*(){if(!l.forum)return;l.canManage=l.forum.admin||!1;let b=l.forum.cid;l.admins=yield l.forumService.getScriptAdmins(b),l.load(),l.callOnDestroy.push(yield l.graphqlService.subscribe({query:l.SUBSCRIBE_SCRIPTS_ADMIN,variables:{cid:b}},(0,m.Z)(function*(){l.load("Sincronizzazione lista admin"),l.admins=yield l.forumService.getScriptAdmins(b),l.load()})))})()}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}userAddScriptsAdmin(l,b){var u=this;return(0,m.Z)(function*(){if(u.loading)throw new Error("Loading already in progress");if(0===b.length)return u.toastService.show({content:u.toastMessage}),!1;u.load("Inserimento admin");const A=yield u.addScriptsAdmin(l,{name:b,id:+b});return u.load("Caricamento lista admin"),u.admins=yield u.forumService.getScriptAdmins(l),u.load(),A})()}userDelScriptsAdmin(l,b){var u=this;return(0,m.Z)(function*(){if(u.loading)throw new Error("Loading already in progress");u.load("Rimozione admin");const A=yield u.delScriptsAdmin(l,b);return u.load("Caricamento lista admin"),u.admins=yield u.forumService.getScriptAdmins(l),u.load(),A})()}addScriptsAdmin(l,b){var u=this;return(0,m.Z)(function*(){const A=Object.assign({cid:l},b);if(!b.id&&!b.name)throw new Error;const F=A.id?u.ADD_SCRIPTS_ADMIN_BY_ID:u.ADD_SCRIPTS_ADMIN_BY_NAME;return void 0===(yield u.graphqlService.mutate({mutation:F,variables:A})).errors})()}delScriptsAdmin(l,b){var u=this;return(0,m.Z)(function*(){return void 0===(yield u.graphqlService.mutate({mutation:u.DEL_SCRIPTS_ADMIN,variables:{cid:l,id:b}})).errors})()}load(l){l?(this.loading=!0,this.loadingMessage=l):(this.loading=!1,this.loadingMessage="")}}return f.\u0275fac=function(l){return new(l||f)(o.Y36(O.d),o.Y36(D.J),o.Y36(P.k),o.Y36(T._))},f.\u0275cmp=o.Xpm({type:f,selectors:[["app-scripts-admin"]],decls:8,vars:2,consts:[[1,"content","bg-white","pb-4","px-3"],[1,"title","fs-5","text-primary","fw-bold","mb-3"],[1,"description","mb-3","text-justify"],[4,"ngIf","ngIfElse"],["forumRequired",""],[3,"message",4,"ngIf","ngIfElse"],["adminForm",""],[3,"message"],["class","input-group mb-3",4,"ngIf","ngIfElse"],["noPermissions",""],["class","list-unstyled admin-list mb-0",4,"ngIf","ngIfElse"],["noAdmin",""],[1,"input-group","mb-3"],["type","text","placeholder","Nickname o id dell'utente...",1,"form-control",3,"keyup.enter"],["input",""],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"],[1,"alert","alert-primary","text-center"],[1,"list-unstyled","admin-list","mb-0"],["class","d-flex flex-row align-items-center mx-sm-2",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","mx-sm-2"],[1,"avatar","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","nameDynamicReplace"],[1,"info","flex-grow-1","d-flex","flex-row","align-items-center","py-3","py-sm-4",3,"ngClass"],[1,"me-auto","pe-2","d-flex","flex-column","flex-grow-1","align-items-start"],["target","_blank",1,"d-block","name","fw-bold","text-decoration-none","text-truncate","lh-1","mw-100",3,"href","innerText"],[1,"text-muted","fs-sm"],["class","btn btn-danger p-1 d-block","appTippy","Rimuovi l'admin",3,"tippyProps","click",4,"ngIf"],["appTippy","Rimuovi l'admin",1,"btn","btn-danger","p-1","d-block",3,"tippyProps","click"],[1,"material-icons","d-block"]],template:function(l,b){if(1&l&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Gestore admin degli script"),o.qZA(),o.TgZ(3,"div",2),o._uU(4," Tramite questo pannello \xe8 possibile gestire gli admin degli script del forum selezionato. Un admin degli script non avr\xe0 alcun potere di moderazione sul forum o blog, ma potr\xe0 installare, disinstallare e modificare gli script del sito. La funzione risulta utile se si vuole riservare la gestione degli script ad alcuni utenti qualificati, senza dover fornire loro un ruolo particolare sul forum o blog. \xc8 importante evidenziare che un amministratore degli script possiede anche il potere di nominare e rimuovere altri admin degli script. "),o.qZA(),o.YNc(5,k,4,2,"ng-container",3),o.YNc(6,j,1,0,"ng-template",null,4,o.W1O),o.qZA()),2&l){const u=o.MAs(7);o.xp6(5),o.Q6J("ngIf",b.forum)("ngIfElse",u)}},styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:0}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),f})()},5568:(W,E,r)=>{r.r(E),r.d(E,{MainModule:()=>Ie});var m=r(9808),v=r(9959),o=r(2382),O=r(978),D=r(5950),P=r(6742),T=r(225),Q=r(1314),d=r(7429),t=r(5e3),x=r(508),I=r(3191),R=r(5113),q=r(925),w=r(1777),J=r(5664),G=r(226),k=r(7579),j=r(6451),K=r(9646),f=r(1159),y=r(9300),l=r(5698);function b(i,a){}const u={bottomSheetState:(0,w.X$)("state",[(0,w.SB)("void, hidden",(0,w.oB)({transform:"translateY(100%)"})),(0,w.SB)("visible",(0,w.oB)({transform:"translateY(0%)"})),(0,w.eR)("visible => void, visible => hidden",(0,w.ru)([(0,w.jt)(`${x.mZ.COMPLEX} ${x.yN.ACCELERATION_CURVE}`),(0,w.IO)("@*",(0,w.pV)(),{optional:!0})])),(0,w.eR)("void => visible",(0,w.ru)([(0,w.jt)(`${x.mZ.EXITING} ${x.yN.DECELERATION_CURVE}`),(0,w.IO)("@*",(0,w.pV)(),{optional:!0})]))])},A=new t.OlP("MatBottomSheetData");class F{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}let $=(()=>{class i extends d.en{constructor(e,n,s,c,_,S,U,Y){super(),this._elementRef=e,this._changeDetectorRef=n,this._focusTrapFactory=s,this._interactivityChecker=c,this._ngZone=_,this.bottomSheetConfig=Y,this._animationState="void",this._animationStateChanged=new t.vpe,this._elementFocusedBeforeOpened=null,this.attachDomPortal=M=>(this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachDomPortal(M)),this._document=U,this._breakpointSubscription=S.observe([R.u3.Medium,R.u3.Large,R.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",S.isMatched(R.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",S.isMatched(R.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",S.isMatched(R.u3.XLarge))})}attachComponentPortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachComponentPortal(e)}attachTemplatePortal(e){return this._validatePortalAttached(),this._setPanelClass(),this._savePreviouslyFocusedElement(),this._portalOutlet.attachTemplatePortal(e)}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"hidden"===e.toState?this._restoreFocus():"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_toggleClass(e,n){this._elementRef.nativeElement.classList.toggle(e,n)}_validatePortalAttached(){this._portalOutlet.hasAttached()}_setPanelClass(){this._elementRef.nativeElement.classList.add(...(0,I.Eq)(this.bottomSheetConfig.panelClass||[]))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(n)}_focusByCssSelector(e,n){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._focusTrap||(this._focusTrap=this._focusTrapFactory.create(e)),this.bottomSheetConfig.autoFocus){case!1:case"dialog":const n=(0,q.ht)();n!==e&&!e.contains(n)&&e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady();break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.bottomSheetConfig.autoFocus)}}_restoreFocus(){const e=this._elementFocusedBeforeOpened;if(this.bottomSheetConfig.restoreFocus&&e&&"function"==typeof e.focus){const n=(0,q.ht)(),s=this._elementRef.nativeElement;(!n||n===this._document.body||n===s||s.contains(n))&&e.focus()}this._focusTrap&&this._focusTrap.destroy()}_savePreviouslyFocusedElement(){this._elementFocusedBeforeOpened=(0,q.ht)(),this._elementRef.nativeElement.focus&&this._ngZone.runOutsideAngular(()=>{Promise.resolve().then(()=>this._elementRef.nativeElement.focus())})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(t.sBO),t.Y36(J.qV),t.Y36(J.ic),t.Y36(t.R0b),t.Y36(R.Yg),t.Y36(m.K0,8),t.Y36(F))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-bottom-sheet-container"]],viewQuery:function(e,n){if(1&e&&t.Gf(d.Pl,7),2&e){let s;t.iGM(s=t.CRH())&&(n._portalOutlet=s.first)}},hostAttrs:["tabindex","-1","role","dialog","aria-modal","true",1,"mat-bottom-sheet-container"],hostVars:2,hostBindings:function(e,n){1&e&&t.WFA("@state.start",function(c){return n._onAnimationStart(c)})("@state.done",function(c){return n._onAnimationDone(c)}),2&e&&(t.uIk("aria-label",null==n.bottomSheetConfig?null:n.bottomSheetConfig.ariaLabel),t.d8E("@state",n._animationState))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&t.YNc(0,b,0,0,"ng-template",0)},directives:[d.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}\n"],encapsulation:2,data:{animation:[u.bottomSheetState]}}),i})(),nt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[Q.U8,x.BQ,d.eL],x.BQ]}),i})();class it{constructor(a,e){this._overlayRef=e,this._afterDismissed=new k.x,this._afterOpened=new k.x,this.containerInstance=a,this.disableClose=a.bottomSheetConfig.disableClose,a._animationStateChanged.pipe((0,y.h)(n=>"done"===n.phaseName&&"visible"===n.toState),(0,l.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),a._animationStateChanged.pipe((0,y.h)(n=>"done"===n.phaseName&&"hidden"===n.toState),(0,l.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),e.dispose()}),e.detachments().pipe((0,l.q)(1)).subscribe(()=>{this._afterDismissed.next(this._result),this._afterDismissed.complete()}),(0,j.T)(e.backdropClick(),e.keydownEvents().pipe((0,y.h)(n=>n.keyCode===f.hY))).subscribe(n=>{!this.disableClose&&("keydown"!==n.type||!(0,f.Vb)(n))&&(n.preventDefault(),this.dismiss())})}dismiss(a){this._afterDismissed.closed||(this.containerInstance._animationStateChanged.pipe((0,y.h)(e=>"start"===e.phaseName),(0,l.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._overlayRef.dispose()},e.totalTime+100),this._overlayRef.detachBackdrop()}),this._result=a,this.containerInstance.exit())}afterDismissed(){return this._afterDismissed}afterOpened(){return this._afterOpened}backdropClick(){return this._overlayRef.backdropClick()}keydownEvents(){return this._overlayRef.keydownEvents()}}const C=new t.OlP("mat-bottom-sheet-default-options");let N=(()=>{class i{constructor(e,n,s,c){this._overlay=e,this._injector=n,this._parentBottomSheet=s,this._defaultOptions=c,this._bottomSheetRefAtThisLevel=null}get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}open(e,n){const s=function p(i,a){return Object.assign(Object.assign({},i),a)}(this._defaultOptions||new F,n),c=this._createOverlay(s),_=this._attachContainer(c,s),S=new it(_,c);if(e instanceof t.Rgc)_.attachTemplatePortal(new d.UE(e,null,{$implicit:s.data,bottomSheetRef:S}));else{const U=new d.C5(e,void 0,this._createInjector(s,S)),Y=_.attachComponentPortal(U);S.instance=Y.instance}return S.afterDismissed().subscribe(()=>{this._openedBottomSheetRef==S&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>S.containerInstance.enter()),this._openedBottomSheetRef.dismiss()):S.containerInstance.enter(),this._openedBottomSheetRef=S,S}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}_attachContainer(e,n){const c=t.zs3.create({parent:n&&n.viewContainerRef&&n.viewContainerRef.injector||this._injector,providers:[{provide:F,useValue:n}]}),_=new d.C5($,n.viewContainerRef,c);return e.attach(_).instance}_createOverlay(e){const n=new Q.X_({direction:e.direction,hasBackdrop:e.hasBackdrop,disposeOnNavigation:e.closeOnNavigation,maxWidth:"100%",scrollStrategy:e.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0")});return e.backdropClass&&(n.backdropClass=e.backdropClass),this._overlay.create(n)}_createInjector(e,n){const s=e&&e.viewContainerRef&&e.viewContainerRef.injector,c=[{provide:it,useValue:n},{provide:A,useValue:e.data}];return e.direction&&(!s||!s.get(G.Is,null,t.XFs.Optional))&&c.push({provide:G.Is,useValue:{value:e.direction,change:(0,K.of)()}}),t.zs3.create({parent:s||this._injector,providers:c})}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Q.aV),t.LFG(t.zs3),t.LFG(i,12),t.LFG(C,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:nt}),i})();var h=r(4199),g=r(1420);let B=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,T.h,nt,h.lQ,g.Bz]]}),i})();var L=r(5861),Z=r(3022),X=r(5640),V=r(882),ot=r(3011);let Rt=(()=>{class i{constructor(e,n,s){this.forumService=e,this.profileService=n,this.globalsService=s}resolve(e,n){var s=this;return(0,L.Z)(function*(){var c;const _=e.queryParamMap.get(Z.RT.SITE);if(!_||_===(null===(c=s.globalsService.forum)||void 0===c?void 0:c.fulldomain))return;const S=s.forumService.parseUrl(_);if(!S)return;const U=(yield s.forumService.getMyForumList()).find(Y=>Y.domain===S.subdomain);if(U)return s.forumService.createForumObject(U,S.domain,!0);if(s.profileService.isDev()){const Y=yield s.forumService.getForumDetailsFromDomain(`${S.subdomain}.${S.domain}`);if(Y)return s.forumService.createForumObject(Y,S.domain,!1)}})()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(X._),t.LFG(V.H),t.LFG(ot.d))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var tt=r(3921);let ut=(()=>{class i{constructor(e){this.viewContainerRef=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b))},i.\u0275dir=t.lG2({type:i,selectors:[["","appSidenavRight",""]]}),i})(),It=(()=>{class i{constructor(){}show(e,n,s=!1,c={}){s&&e.clear();const _=e.createComponent(n);if(c)for(let S in c)c.hasOwnProperty(S)&&(_.instance[S]=c[S]);return _}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ct=r(9736),z=r(6731),Ft=r(4968),pt=r(4004),ht=r(9718),H=r(2722),Et=r(1884),ft=r(8675),Bt=r(8372),Zt=r(6360);const st=["*"],kt=["content"];function Nt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){return t.CHM(e),t.oxw()._onBackdropClicked()}),t.qZA()}if(2&i){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Lt(i,a){1&i&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const Ut=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Yt=["mat-drawer","mat-drawer-content","*"];function Qt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){return t.CHM(e),t.oxw()._onBackdropClicked()}),t.qZA()}if(2&i){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function zt(i,a){1&i&&(t.TgZ(0,"mat-sidenav-content"),t.Hsn(1,2),t.qZA())}const Jt=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Ht=["mat-sidenav","mat-sidenav-content","*"],gt={transformDrawer:(0,w.X$)("transform",[(0,w.SB)("open, open-instant",(0,w.oB)({transform:"none",visibility:"visible"})),(0,w.SB)("void",(0,w.oB)({"box-shadow":"none",visibility:"hidden"})),(0,w.eR)("void => open-instant",(0,w.jt)("0ms")),(0,w.eR)("void <=> open, open-instant => void",(0,w.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Gt=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Vt(){return!1}}),dt=new t.OlP("MAT_DRAWER_CONTAINER");let rt=(()=>{class i extends z.PQ{constructor(e,n,s,c,_){super(s,c,_),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>vt)),t.Y36(t.SBq),t.Y36(z.mF),t.Y36(t.R0b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&t.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[t._Bn([{provide:z.PQ,useExisting:i}]),t.qOj],ngContentSelectors:st,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),_t=(()=>{class i{constructor(e,n,s,c,_,S,U,Y){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=s,this._platform=c,this._ngZone=_,this._interactivityChecker=S,this._doc=U,this._container=Y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new k.x,this._animationEnd=new k.x,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,y.h)(M=>M),(0,pt.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,y.h)(M=>M.fromState!==M.toState&&0===M.toState.indexOf("open")),(0,ht.h)(void 0)),this._closedStream=this.openedChange.pipe((0,y.h)(M=>!M),(0,pt.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,y.h)(M=>M.fromState!==M.toState&&"void"===M.toState),(0,ht.h)(void 0)),this._destroyed=new k.x,this.onPositionChanged=new t.vpe,this._modeChanged=new k.x,this.openedChange.subscribe(M=>{M?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Ft.R)(this._elementRef.nativeElement,"keydown").pipe((0,y.h)(M=>M.keyCode===f.hY&&!this.disableClose&&!(0,f.Vb)(M)),(0,H.R)(this._destroyed)).subscribe(M=>this._ngZone.run(()=>{this.close(),M.stopPropagation(),M.preventDefault()}))}),this._animationEnd.pipe((0,Et.x)((M,et)=>M.fromState===et.fromState&&M.toState===et.toState)).subscribe(M=>{const{fromState:et,toState:Pt}=M;(0===Pt.indexOf("open")&&"void"===et||"void"===Pt&&0===et.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,I.Ig)(e)}get autoFocus(){const e=this._autoFocus;return null==e?"side"===this.mode?"dialog":"first-tabbable":e}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,I.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,I.Ig)(e))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(n)}_focusByCssSelector(e,n){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){var e;this._focusTrap&&this._focusTrap.destroy(),null===(e=this._anchor)||void 0===e||e.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const s=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),s}_setOpen(e,n,s){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe((0,l.q)(1)).subscribe(_=>c(_?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,s=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,n)),s.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(J.qV),t.Y36(J.tE),t.Y36(q.t4),t.Y36(t.R0b),t.Y36(J.ic),t.Y36(m.K0,8),t.Y36(dt,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&t.Gf(kt,5),2&e){let s;t.iGM(s=t.CRH())&&(n._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&t.WFA("@transform.start",function(c){return n._animationStarted.next(c)})("@transform.done",function(c){return n._animationEnd.next(c)}),2&e&&(t.uIk("align",null),t.d8E("@transform",n._animationState),t.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:st,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},directives:[z.PQ],encapsulation:2,data:{animation:[gt.transformDrawer]},changeDetection:0}),i})(),vt=(()=>{class i{constructor(e,n,s,c,_,S=!1,U){this._dir=e,this._element=n,this._ngZone=s,this._changeDetectorRef=c,this._animationMode=U,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new k.x,this._doCheckSubject=new k.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new k.x,e&&e.change.pipe((0,H.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),_.change().pipe((0,H.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=S}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,I.Ig)(e)}get hasBackdrop(){return null==this._backdropOverride?!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode:this._backdropOverride}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,I.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,ft.O)(this._allDrawers),(0,H.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,ft.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Bt.b)(10),(0,H.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,n-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();n+=s,e-=s}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,y.h)(n=>n.fromState!==n.toState),(0,H.R)(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,H.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,H.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,l.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,H.R)((0,j.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?n.add(s):n.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(G.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(z.rL),t.Y36(Gt),t.Y36(Zt.Qb,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,s){if(1&e&&(t.Suo(s,rt,5),t.Suo(s,_t,5)),2&e){let c;t.iGM(c=t.CRH())&&(n._content=c.first),t.iGM(c=t.CRH())&&(n._allDrawers=c)}},viewQuery:function(e,n){if(1&e&&t.Gf(rt,5),2&e){let s;t.iGM(s=t.CRH())&&(n._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:dt,useExisting:i}])],ngContentSelectors:Yt,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(t.F$t(Ut),t.YNc(0,Nt,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,Lt,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",n.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!n._content))},directives:[rt,m.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),i})(),lt=(()=>{class i extends rt{constructor(e,n,s,c,_){super(e,n,s,c,_)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>bt)),t.Y36(t.SBq),t.Y36(z.mF),t.Y36(t.R0b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,n){2&e&&t.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[t._Bn([{provide:z.PQ,useExisting:i}]),t.qOj],ngContentSelectors:st,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Ct=(()=>{class i extends _t{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,I.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,I.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,I.su)(e)}}return i.\u0275fac=function(){let a;return function(n){return(a||(a=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,n){2&e&&(t.uIk("align",null),t.Udp("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),t.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[t.qOj],ngContentSelectors:st,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},directives:[z.PQ],encapsulation:2,data:{animation:[gt.transformDrawer]},changeDetection:0}),i})(),bt=(()=>{class i extends vt{}return i.\u0275fac=function(){let a;return function(n){return(a||(a=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(e,n,s){if(1&e&&(t.Suo(s,lt,5),t.Suo(s,Ct,5)),2&e){let c;t.iGM(c=t.CRH())&&(n._content=c.first),t.iGM(c=t.CRH())&&(n._allDrawers=c)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[t._Bn([{provide:dt,useExisting:i}]),t.qOj],ngContentSelectors:Ht,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(t.F$t(Jt),t.YNc(0,Qt,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,zt,2,0,"mat-sidenav-content",1)),2&e&&(t.Q6J("ngIf",n.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!n._content))},directives:[lt,m.O5],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}\n'],encapsulation:2,changeDetection:0}),i})(),Wt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,x.BQ,z.ZD],z.ZD,x.BQ]}),i})();var St=r(8139),Mt=r(4391),xt=r(5259),yt=r(6962);function jt(i,a){if(1&i&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._UZ(3,"div",7),t.TgZ(4,"div",8)(5,"span",9),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"span",10),t._uU(9),t.ALo(10,"uppercase"),t.qZA()()(),t.TgZ(11,"div",11),t._UZ(12,"img",12),t.ALo(13,"uploadsreplace"),t.qZA()(),t.TgZ(14,"div",13)(15,"a",14)(16,"div",15),t._uU(17,"logout"),t.qZA(),t.TgZ(18,"div"),t._uU(19,"Logout"),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(1),t.Gre("d-flex flex-row align-items-center user user-",e.profile.site.short," cursor-pointer"),t.xp6(2),t.Q6J("innerHTML",e.profile.user.nickname,t.oJD),t.xp6(3),t.Oqu(t.lcZ(7,9,e.profile.site.name)),t.xp6(3),t.Oqu(t.lcZ(10,11,e.profile.site.short)),t.xp6(3),t.s9C("src",t.lcZ(13,13,e.profile.user.avatar),t.LSH),t.MGl("alt","",e.profile.user.nickname,"'s avatar"),t.Q6J("nameDynamicReplace",e.profile.user.nickname)}}let $t=(()=>{class i{constructor(e){this.globalService=e,this.appName=St.lW}ngOnInit(){this.profile=this.globalService.credentials}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ot.d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-navbar"]],decls:5,vars:1,consts:[[1,"navbar","bg-white","px-2"],[1,"container-fluid"],[1,"small-logo","mb-0"],["class","ms-auto dropdown-no-caret","ngbDropdown","","display","dynamic","placement","bottom-end",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-end",1,"ms-auto","dropdown-no-caret"],["ngbDropdownToggle",""],[1,"text-end"],[1,"nickname","text-truncate","lh-1","mb-1",3,"innerHTML"],[1,"fst-italic","fs-xs","lh-1"],[1,"d-none","d-md-inline"],[1,"d-md-none"],[1,"avatar","ms-2","rounded-circle"],["appImage","",1,"image-cover","rounded-circle",3,"src","alt","nameDynamicReplace"],["ngbDropdownMenu",""],["role","button","routerLink","/login",1,"dropdown-item","d-flex","flex-row","align-items-center"],[1,"material-icons-outlined","d-block","me-1"]],template:function(e,n){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-logo"),t.qZA(),t.YNc(4,jt,20,15,"div",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.profile))},directives:[h.M2,Mt.R,m.O5,h.jt,h.iD,xt.t,h.Vi,g.yS],pipes:[m.rS,m.gd,yt.g],styles:[".navbar[_ngcontent-%COMP%]{height:64px;border-bottom:1px solid #dee2e6;box-shadow:0 .125rem .25rem #00000013}h1[_ngcontent-%COMP%]{color:#4864fe}.user[_ngcontent-%COMP%]{color:inherit}.user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid}.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:100px}.user.user-ff[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#58a72e}.user.user-fc[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#0082cd}.user.user-bf[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#e67f22}@media (min-width: 576px){.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:200px}}@media (min-width: 960px){.navbar[_ngcontent-%COMP%]{margin-left:260px;position:fixed;top:0;left:0;right:0;z-index:999;border-bottom:0;box-shadow:0 .5rem 1rem #00000026}.small-logo[_ngcontent-%COMP%]{display:none}}"]}),i})();const Kt=["app-bottom-nav",""],Xt=function(i,a){return{"current text-reset":i,"mb-2":a}};function te(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",13),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit;return t.oxw(2).navigateFromBottomSheet(s.path)}),t.qZA()()}if(2&i){const e=t.oxw(),n=e.$implicit,s=e.last,c=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(2,Xt,c.selectedPath===n.path,!s))("innerText",n.description)}}function ee(i,a){if(1&i&&(t.ynx(0),t.YNc(1,te,2,5,"li",12),t.BQk()),2&i){const e=a.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.path!==n.paths.SCRIPT_DEV||n.isDev)}}function ne(i,a){if(1&i&&(t.TgZ(0,"ul",10),t.YNc(1,ee,2,1,"ng-container",11),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.navItems.script.sub)}}const wt=function(i){return{"current text-reset":i}};function ie(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",16),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return s.navigateFromBottomSheet(s.navItems.upload.path)}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,wt,e.selectedPath===e.navItems.upload.path))("innerText",e.navItems.upload.description)}}function oe(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",16),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return s.navigateFromBottomSheet(s.navItems.adminPanel.path)}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,wt,e.selectedPath===e.navItems.adminPanel.path))("innerText",e.navItems.adminPanel.description)}}function se(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul",10),t.YNc(1,ie,2,4,"li",12),t.YNc(2,oe,2,4,"li",12),t.TgZ(3,"li")(4,"a",14),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return s.pushSidenavRightEntity(s.sidenavRightComponents.scriptsAdmin)}),t._uU(5,"Script Admin"),t.qZA()(),t.TgZ(6,"li")(7,"a",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return s.pushSidenavRightEntity(s.sidenavRightComponents.forumList)}),t._uU(8,"Forum"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isAlphaUser),t.xp6(1),t.Q6J("ngIf",e.isAdmin)}}const mt=function(i){return{selected:i}};let re=(()=>{class i{constructor(e,n,s){this.bottomsheetService=e,this.router=n,this.sidenavRightService=s,this.selectedPath="",this.isDev=!1,this.isAdmin=!1,this.isAlphaUser=!1,this.navItems=tt.Yu,this.sidenavRightComponents=tt.R8,this.paths=Z.B2}ngOnInit(){}pushSidenavRightEntity(e){var n;null===(n=this.bottomsheetRef)||void 0===n||n.dismiss(),this.sidenavRightService.pushEntity({entity:e})}navigateFromBottomSheet(e){this.bottomsheetRef&&this.bottomsheetRef.dismiss(e)}showBottomSheet(e){var n=this;this.bottomsheetRef=this.bottomsheetService.open(e,{closeOnNavigation:!0});const s=this.bottomsheetRef.afterDismissed().subscribe(function(){var c=(0,L.Z)(function*(_){s.unsubscribe(),_&&(yield n.router.navigate([_]))});return function(_){return c.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(N),t.Y36(g.F0),t.Y36(ct.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","app-bottom-nav",""]],inputs:{selectedPath:"selectedPath",ffuid:"ffuid",isDev:"isDev",isAdmin:"isAdmin",isAlphaUser:"isAlphaUser"},attrs:Kt,decls:28,vars:23,consts:[[1,"bottom-nav","border-top","shadow-sm","py-2","bg-white"],[1,"nav"],["role","button",1,"d-block",3,"ngClass","routerLink"],[1,"description","fs-xxs","lh-1","text-center"],["role","button",1,"d-block",3,"ngClass","click"],[3,"innerText"],["role","button",1,"d-block",3,"click"],[1,"icon","text-center","material-icons-outlined"],["scriptRoutes",""],["otherComponents",""],[1,"list-unstyled","mb-0","py-2","panelup"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",1,"d-block","text-center","py-3","rounded",3,"ngClass","innerText","click"],["role","button",1,"d-block","text-center","py-3","rounded","mb-2",3,"click"],["role","button",1,"d-block","text-center","py-3","rounded",3,"click"],["role","button",1,"d-block","text-center","py-3","rounded","mb-2",3,"ngClass","innerText","click"]],template:function(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"ul",1)(2,"li")(3,"a",2)(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"div",3),t._uU(7,"Home"),t.qZA()()(),t.TgZ(8,"li")(9,"a",4),t.NdJ("click",function(){t.CHM(s);const _=t.MAs(25);return n.showBottomSheet(_)}),t._UZ(10,"div",5),t.TgZ(11,"div",3),t._uU(12,"Script"),t.qZA()()(),t.TgZ(13,"li")(14,"a",2),t._UZ(15,"div",5),t.TgZ(16,"div",3),t._uU(17,"Impostazioni"),t.qZA()()(),t.TgZ(18,"li")(19,"a",6),t.NdJ("click",function(){t.CHM(s);const _=t.MAs(27);return n.showBottomSheet(_)}),t.TgZ(20,"div",7),t._uU(21,"reorder"),t.qZA(),t.TgZ(22,"div",3),t._uU(23,"Altri"),t.qZA()()()()(),t.YNc(24,ne,2,1,"ng-template",null,8,t.W1O),t.YNc(26,se,9,2,"ng-template",null,9,t.W1O)}2&e&&(t.xp6(3),t.Q6J("ngClass",t.VKq(17,mt,n.selectedPath===n.navItems.home.path))("routerLink",n.navItems.home.path),t.xp6(1),t.Gre("icon text-center ",n.navItems.home.icon.type,""),t.xp6(1),t.Oqu(n.navItems.home.icon.value),t.xp6(4),t.Q6J("ngClass",t.VKq(19,mt,n.selectedPath.startsWith(n.navItems.script.path))),t.xp6(1),t.Gre("icon text-center ",n.navItems.script.icon.type,""),t.Q6J("innerText",n.navItems.script.icon.value),t.xp6(4),t.Q6J("ngClass",t.VKq(21,mt,n.selectedPath===n.navItems.settings.path))("routerLink",n.navItems.settings.path),t.xp6(1),t.Gre("icon text-center ",n.navItems.settings.icon.type,""),t.Q6J("innerText",n.navItems.settings.icon.value))},directives:[g.yS,m.mk,m.sg,m.O5],styles:["[_nghost-%COMP%]{height:53px;bottom:0;left:0;right:0;z-index:999}.bottom-nav[_ngcontent-%COMP%]{height:53px}.nav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:block}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:none!important;color:inherit;text-decoration:none;transition:color .2s;width:-moz-fit-content;width:fit-content;margin:0 auto}.nav[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{color:#4864fe}.panelup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.current){background-color:#dae0ff}.panelup[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{background-color:var(--bs-gray-200)}"]}),i})();const ae=["app-side-nav",""],ce=function(i){return{current:i}};function de(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",15)(2,"div",12),t._uU(3),t.qZA()()()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,ce,n.selectedPath===e.path))("routerLink",e.path),t.xp6(2),t.Oqu(e.description)}}function le(i,a){if(1&i&&(t.ynx(0),t.YNc(1,de,4,5,"li",10),t.BQk()),2&i){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",e.path!==n.paths.SCRIPT_DEV||n.isDev)}}const at=function(i){return{selected:i}};function me(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",3)(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"div",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(7,at,e.selectedPath===e.navItems.adminPanel.path))("routerLink",e.navItems.adminPanel.path),t.xp6(1),t.Gre("icon ",e.navItems.adminPanel.icon.type,""),t.xp6(1),t.Oqu(e.navItems.adminPanel.icon.value),t.xp6(1),t.Q6J("innerText",e.navItems.adminPanel.description)}}function ue(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",3)(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"div",4),t.qZA()()),2&i){const e=t.oxw();t.uIk("data-grouptitle","Alpha"),t.xp6(1),t.Q6J("ngClass",t.VKq(8,at,e.selectedPath===e.navItems.upload.path))("routerLink",e.navItems.upload.path),t.xp6(1),t.Gre("icon ",e.navItems.upload.icon.type,""),t.xp6(1),t.Oqu(e.navItems.upload.icon.value),t.xp6(1),t.Q6J("innerText",e.navItems.upload.description)}}function pe(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"div",16),t.TgZ(2,"div",17),t._uU(3,"Cambia forum"),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",e.selectedForum.name,t.oJD)}}function he(i,a){if(1&i&&t._uU(0),2&i){const e=t.oxw();t.Oqu(e.navItems.forumSidenav.description)}}const fe=function(i,a){return{selected:i,"is-expanded":a}};let ge=(()=>{class i{constructor(e){this.sidenavRightService=e,this.selectedPath="",this.isDev=!1,this.isAdmin=!1,this.isAlphaUser=!1,this.navItems=tt.Yu,this.sidenavRightComponents=tt.R8,this.scriptMenuCollapsed=!0,this.paths=Z.B2,this.appName=St.lW}ngOnInit(){}pushSidenavRightEntity(e){this.sidenavRightService.pushEntity({entity:e})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ct.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","app-side-nav",""]],inputs:{selectedPath:"selectedPath",selectedForum:"selectedForum",ffuid:"ffuid",isDev:"isDev",isAdmin:"isAdmin",isAlphaUser:"isAlphaUser"},attrs:ae,decls:39,vars:44,consts:[[1,"text-center","text-white","mt-4","mb-3","logo-wrapper","position-relative"],["svgSize","lg"],[1,"nav","flex-column"],["role","button",1,"router-item","d-flex","align-items-center",3,"ngClass","routerLink"],[1,"description",3,"innerText"],["role","button",1,"router-item","d-flex","align-items-center","w-100","collapse-btn",3,"ngClass","click"],[1,"collapse-icon","ms-auto","material-icons"],[1,"list-unstyled","collapse-content",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",1,"button-item","d-flex","align-items-center",3,"click"],[1,"description"],[4,"ngIf","ngIfElse"],["genericInfo",""],["role","button",1,"sub-router-item","d-block",3,"ngClass","routerLink"],[1,"selected-forum-name","text-truncate","position-relative",3,"innerHTML"],[1,"change-forum","fst-italic","lh-1"]],template:function(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"app-logo",1),t.qZA(),t.TgZ(2,"nav")(3,"ul",2)(4,"li")(5,"a",3)(6,"div"),t._uU(7),t.qZA(),t._UZ(8,"div",4),t.qZA()(),t.TgZ(9,"li")(10,"a",5),t.NdJ("click",function(){return t.CHM(s),t.MAs(17).toggle()}),t.TgZ(11,"div"),t._uU(12),t.qZA(),t._UZ(13,"div",4),t.TgZ(14,"div",6),t._uU(15,"chevron_left"),t.qZA()(),t.TgZ(16,"ul",7,8),t.NdJ("ngbCollapseChange",function(_){return n.scriptMenuCollapsed=_}),t.YNc(18,le,2,1,"ng-container",9),t.qZA()(),t.TgZ(19,"li")(20,"a",3)(21,"div"),t._uU(22),t.qZA(),t._UZ(23,"div",4),t.qZA()(),t.YNc(24,me,5,9,"li",10),t.YNc(25,ue,5,10,"li",10),t.TgZ(26,"li")(27,"a",11),t.NdJ("click",function(){return n.pushSidenavRightEntity(n.sidenavRightComponents.scriptsAdmin)}),t.TgZ(28,"div"),t._uU(29),t.qZA(),t._UZ(30,"div",4),t.qZA()(),t.TgZ(31,"li")(32,"a",11),t.NdJ("click",function(){return n.pushSidenavRightEntity(n.sidenavRightComponents.forumList)}),t.TgZ(33,"div"),t._uU(34),t.qZA(),t.TgZ(35,"div",12),t.YNc(36,pe,4,1,"ng-container",13),t.YNc(37,he,1,1,"ng-template",null,14,t.W1O),t.qZA()()()()()}if(2&e){const s=t.MAs(38);t.xp6(5),t.Q6J("ngClass",t.VKq(37,at,n.selectedPath===n.navItems.home.path))("routerLink",n.navItems.home.path),t.xp6(1),t.Gre("icon ",n.navItems.home.icon.type,""),t.xp6(1),t.Oqu(n.navItems.home.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.home.description),t.xp6(1),t.uIk("data-grouptitle","Servizi"),t.xp6(1),t.Q6J("ngClass",t.WLB(39,fe,n.selectedPath.startsWith(n.navItems.script.path),!n.scriptMenuCollapsed)),t.xp6(1),t.Gre("icon ",n.navItems.script.icon.type,""),t.xp6(1),t.Oqu(n.navItems.script.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.script.description),t.xp6(3),t.Q6J("ngbCollapse",n.scriptMenuCollapsed),t.xp6(2),t.Q6J("ngForOf",n.navItems.script.sub),t.xp6(2),t.Q6J("ngClass",t.VKq(42,at,n.selectedPath===n.navItems.settings.path))("routerLink",n.navItems.settings.path),t.xp6(1),t.Gre("icon ",n.navItems.settings.icon.type,""),t.xp6(1),t.Oqu(n.navItems.settings.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.settings.description),t.xp6(1),t.Q6J("ngIf",n.isAdmin),t.xp6(1),t.Q6J("ngIf",n.isAlphaUser),t.xp6(1),t.uIk("data-grouptitle","Sidebar"),t.xp6(2),t.Gre("icon ",n.navItems.adminSidenav.icon.type,""),t.xp6(1),t.Oqu(n.navItems.adminSidenav.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.adminSidenav.description),t.xp6(3),t.Gre("icon ",n.navItems.forumSidenav.icon.type,""),t.xp6(1),t.Oqu(n.navItems.forumSidenav.icon.value),t.xp6(2),t.Q6J("ngIf",n.selectedForum)("ngIfElse",s)}},directives:[Mt.R,g.yS,m.mk,h._D,m.sg,m.O5],styles:["[_nghost-%COMP%]{width:260px;background-color:#303844;top:0;bottom:0;overflow-y:auto}.logo-wrapper[_ngcontent-%COMP%]{left:-3px}.selected-forum-name[_ngcontent-%COMP%]{top:-3px}li[_ngcontent-%COMP%]{position:relative;max-width:100%}li[data-grouptitle][_ngcontent-%COMP%]:before{display:block;content:attr(data-grouptitle);padding:.75rem 1.25rem;text-transform:uppercase;font-size:.8rem;letter-spacing:.06em;font-weight:600;color:#8190a1}a[_ngcontent-%COMP%]{transition:color .3s!important;outline:none!important}a.router-item[_ngcontent-%COMP%], a.button-item[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]{color:#8190a1}a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;text-align:left;flex-shrink:0;display:flex}a[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{transition:margin .3s;white-space:nowrap;max-width:calc(100% - 45px - .5rem)}a[_ngcontent-%COMP%]   .change-forum[_ngcontent-%COMP%]{font-size:.8em}a[_ngcontent-%COMP%]:not(.sub-router-item){padding:.625rem 1.25rem}a.button-item[_ngcontent-%COMP%]:hover, a.router-item[_ngcontent-%COMP%]:not(.selected):hover, a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover{color:#bbcde3}a.button-item[_ngcontent-%COMP%]:hover   .description[_ngcontent-%COMP%], a.router-item[_ngcontent-%COMP%]:not(.selected):hover   .description[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover   .description[_ngcontent-%COMP%]{margin-left:.5rem}a.router-item.selected[_ngcontent-%COMP%]{color:#fff}a.collapse-btn.is-expanded[_ngcontent-%COMP%]:not(.selected){color:#bbcde3}.collapse-content[_ngcontent-%COMP%]{background-color:#262d36;box-shadow:inset 0 -2px .25rem #00000014}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type   a[_ngcontent-%COMP%]{padding-top:.75rem}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]{padding-bottom:.75rem}.collapse-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem 1.25rem .375rem 2rem}.collapse-content[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{color:#fff}"]}),i})();function _e(i,a){if(1&i&&t._UZ(0,"div",2),2&i){const e=t.oxw();t.Q6J("selectedPath",e.selectedPath)("ffuid",e.ffuid)("isDev",e.isDev)("isAdmin",e.isAdmin)("isAlphaUser",e.isAlphaUser)}}function ve(i,a){if(1&i&&t._UZ(0,"div",3),2&i){const e=t.oxw();t.Q6J("selectedPath",e.selectedPath)("selectedForum",e.selectedForum)("ffuid",e.ffuid)("isDev",e.isDev)("isAdmin",e.isAdmin)("isAlphaUser",e.isAlphaUser)}}let Ce=(()=>{class i{constructor(e,n,s){this.router=e,this.globalsService=n,this.profileService=s,this.isSmallScreen=!0,this.selectedPath="";const c=this.globalsService.credentials;if(!c)throw new Error("Missing credentials!");this.ffuid=c.user.ffuid,this.isDev=this.profileService.isDev(),this.isAdmin=this.profileService.isAdmin(),this.isAlphaUser=this.profileService.isAlphaUser()}updatePath(e){this.selectedPath=e.replace(/\?(.*)?/,"")}ngOnInit(){this.updatePath(this.router.url),this.selectedForum=this.globalsService.forum,this.forumSubscription=this.globalsService.forumObservable.subscribe(e=>{this.selectedForum=e}),this.routerSubscription=this.router.events.pipe((0,y.h)(e=>e instanceof g.m2)).subscribe(e=>{this.updatePath(e.urlAfterRedirects)})}ngOnDestroy(){this.forumSubscription&&this.forumSubscription.unsubscribe(),this.routerSubscription&&this.routerSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(g.F0),t.Y36(ot.d),t.Y36(V.H))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-main-nav"]],inputs:{isSmallScreen:"isSmallScreen"},decls:3,vars:2,consts:[["class","bottom-nav-wrapper position-fixed","app-bottom-nav","",3,"selectedPath","ffuid","isDev","isAdmin","isAlphaUser",4,"ngIf","ngIfElse"],["largeScreen",""],["app-bottom-nav","",1,"bottom-nav-wrapper","position-fixed",3,"selectedPath","ffuid","isDev","isAdmin","isAlphaUser"],["app-side-nav","",1,"sidenav-left-wrapper","shadow","position-fixed",3,"selectedPath","selectedForum","ffuid","isDev","isAdmin","isAlphaUser"]],template:function(e,n){if(1&e&&(t.YNc(0,_e,1,5,"div",0),t.YNc(1,ve,1,6,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",n.isSmallScreen)("ngIfElse",s)}},directives:[m.O5,re,ge],styles:[""]}),i})();var be=r(4752);function Se(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){return t.CHM(e),t.oxw(),t.MAs(8).close()}),t._uU(1,"close"),t.qZA()}}function Me(i,a){}const At=function(i){return{active:i}};let xe=(()=>{class i{constructor(e,n,s,c,_,S,U,Y){this.loadComponentService=e,this.breakpointObserver=n,this.renderer=s,this.activatedRoute=c,this.globalsService=_,this.router=S,this.sidenavRightService=U,this.changeDetectorRef=Y,this.sidenavRightCurrentContent="",this.sidenavRightComponents=tt.R8,this.sidenavRightOpened=!1,this.isHome=!1,this.lessThanMediumScreenSize=this.breakpointObserver.isMatched([R.u3.XSmall,R.u3.Small]),this.routerSubscription=this.router.events.pipe((0,y.h)(M=>M instanceof g.m2)).subscribe(M=>{this.isHome=M.urlAfterRedirects===Z.B2.HOME})}ngOnInit(){const e=this.activatedRoute.snapshot.data.forum;e&&(this.globalsService.forum=e),this.breakpointSubscription=this.breakpointObserver.observe([R.u3.XSmall,R.u3.Small]).subscribe(n=>{this.lessThanMediumScreenSize=n.matches}),this.sidenavRightSubscription=this.sidenavRightService.observable.subscribe(n=>{n?this.showSidenavRightComponent(n):this.sidenavRightOpened&&(this.sidenavRightOpened=!1)})}freeSidenavRightContent(){this.sidenavRightDirective.viewContainerRef.clear(),this.sidenavRightCurrentContent=""}showSidenavRightComponent(e){this.sidenavRightCurrentContent!==e.entity.name&&(this.loadComponentService.show(this.sidenavRightDirective.viewContainerRef,e.entity.component,!0),this.sidenavRightOpened||(this.sidenavRightOpened=!0),this.sidenavRightCurrentContent=e.entity.name,e.detectChanges&&this.changeDetectorRef.detectChanges())}sidenavOpening(){this.renderer.addClass(document.body,"sidenav-opened")}sidenavClosing(){this.renderer.removeClass(document.body,"sidenav-opened")}ngOnDestroy(){var e,n;this.breakpointSubscription&&this.breakpointSubscription.unsubscribe(),null===(e=this.routerSubscription)||void 0===e||e.unsubscribe(),null===(n=this.sidenavRightSubscription)||void 0===n||n.unsubscribe(),this.sidenavRightService.pushEntity(void 0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(It),t.Y36(R.Yg),t.Y36(t.Qsj),t.Y36(g.gz),t.Y36(ot.d),t.Y36(g.F0),t.Y36(ct.f),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-root"]],viewQuery:function(e,n){if(1&e&&t.Gf(ut,7),2&e){let s;t.iGM(s=t.CRH())&&(n.sidenavRightDirective=s.first)}},decls:15,vars:15,consts:[["autosize","",1,"main-sidenav-container",3,"hasBackdrop"],[1,"d-flex","flex-column"],[3,"isSmallScreen"],[1,"d-block",3,"blueBackground"],["position","end","mode","over",1,"sidenav-right","mw-100",3,"opened","autoFocus","fixedInViewport","closed","closedStart","openedStart","openedChange"],["sidenavRight",""],[1,"sidenav-right-content","d-flex","flex-column","position-relative"],["class","close-sidenav material-icons d-block text-muted position-absolute cursor-pointer",3,"click",4,"ngIf"],["appSidenavRight",""],[1,"btn-group","d-flex","flex-row","mt-auto","mb-3","px-3"],[1,"btn","btn-outline-primary","shadow-none","flex-grow-1",3,"ngClass","innerText","click"],[1,"close-sidenav","material-icons","d-block","text-muted","position-absolute","cursor-pointer",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav-content",1),t._UZ(2,"app-navbar")(3,"app-main-nav",2),t.TgZ(4,"main"),t._UZ(5,"router-outlet"),t.qZA(),t._UZ(6,"app-footer",3),t.qZA(),t.TgZ(7,"mat-sidenav",4,5),t.NdJ("closed",function(){return n.freeSidenavRightContent()})("closedStart",function(){return n.sidenavClosing()})("openedStart",function(){return n.sidenavOpening()})("openedChange",function(c){return n.sidenavRightOpened=c}),t.TgZ(9,"div",6),t.YNc(10,Se,2,0,"div",7),t.YNc(11,Me,0,0,"ng-template",8),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return n.showSidenavRightComponent({entity:n.sidenavRightComponents.forumList})}),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return n.showSidenavRightComponent({entity:n.sidenavRightComponents.scriptsAdmin})}),t.qZA()()()()()),2&e&&(t.Q6J("hasBackdrop",!0),t.xp6(3),t.Q6J("isSmallScreen",n.lessThanMediumScreenSize),t.xp6(3),t.Q6J("blueBackground",n.isHome),t.xp6(1),t.Q6J("opened",n.sidenavRightOpened)("autoFocus",!1)("fixedInViewport",!0),t.xp6(3),t.Q6J("ngIf",n.lessThanMediumScreenSize),t.xp6(3),t.Q6J("ngClass",t.VKq(11,At,n.sidenavRightCurrentContent===n.sidenavRightComponents.forumList.name))("innerText","Lista forum"),t.xp6(1),t.Q6J("ngClass",t.VKq(13,At,n.sidenavRightCurrentContent===n.sidenavRightComponents.scriptsAdmin.name))("innerText","Lista admin"))},directives:[bt,lt,$t,Ce,g.lC,be.c,Ct,m.O5,ut,m.mk],styles:["mat-sidenav-content[_ngcontent-%COMP%]{min-height:100vh}.mat-drawer-container[_ngcontent-%COMP%]{background-color:transparent}.sidenav-right[_ngcontent-%COMP%]{width:500px}.sidenav-right[_ngcontent-%COMP%]   .sidenav-right-content[_ngcontent-%COMP%]{min-height:100%}.close-sidenav[_ngcontent-%COMP%]{right:.75rem;top:.825rem}main[_ngcontent-%COMP%]{padding:1rem 0}app-footer[_ngcontent-%COMP%]{margin-bottom:53px}@media (min-width: 768px){main[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 960px){main[_ngcontent-%COMP%]{padding:1.5rem;margin-left:260px;margin-top:64px}app-footer[_ngcontent-%COMP%]{margin-left:260px;margin-bottom:0}}"]}),i})(),Ot=(()=>{class i{constructor(e,n){this.router=e,this.profileService=n}canActivate(){return!!this.profileService.isAdmin()||this.router.parseUrl(Z.B2.HOME)}canActivateChild(){return this.canActivate()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(g.F0),t.LFG(V.H))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Tt=(()=>{class i{constructor(e,n){this.router=e,this.profileService=n}canActivate(){return!!this.profileService.isAlphaUser()||this.router.parseUrl(Z.B2.HOME)}canActivateChild(){return this.canActivate()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(g.F0),t.LFG(V.H))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const ye=[{path:"",component:xe,resolve:{forum:Rt},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>r.e(318).then(r.bind(r,3318)).then(i=>i.HomeModule),data:{title:"Home"}},{path:"settings",loadChildren:()=>r.e(447).then(r.bind(r,6447)).then(i=>i.SettingsModule),data:{title:"Settings"}},{path:"script",loadChildren:()=>r.e(993).then(r.bind(r,9993)).then(i=>i.ScriptModule),data:{title:"Script"}},{path:"upload",loadChildren:()=>Promise.all([r.e(592),r.e(676)]).then(r.bind(r,9676)).then(i=>i.UploadModule),data:{title:"Upload"},canActivate:[Tt],canActivateChild:[Tt]},{path:"admin-panel",loadChildren:()=>Promise.all([r.e(75),r.e(602),r.e(592),r.e(243)]).then(r.bind(r,6243)).then(i=>i.AdminPanelModule),data:{title:"Amministrazione"},canActivate:[Ot],canActivateChild:[Ot]}]}];let we=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[g.Bz.forChild(ye)],g.Bz]}),i})();var Dt=r(8096);let Ae=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[[m.ez,D.$,T.h,h.XC,g.Bz,Dt.g]]}),i})();var Oe=r(495),Te=r(9409),De=r(890),Pe=r(3068),Re=r(6218);let Ie=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[],imports:[[m.ez,v._,o.u5,O.z,D.$,P.q,T.h,B,we,Wt,Ae,Te.G,Dt.g]]}),i})();t.B6R(Oe.t,[m.O5,De.R,m.sg,xt.t,m.mk,Pe.$,Re.P],[yt.g])},3921:(W,E,r)=>{r.d(E,{Yu:()=>$,fv:()=>it,R8:()=>nt});var m=r(5861),v=r(7876),o=r(5e3),O=r(3011),D=r(5787),P=r(8882),T=r(5640),Q=r(882),d=r(9736),t=r(9808),x=r(890),I=r(5259),R=r(2382),q=r(6962);function w(C,N){1&C&&(o.ynx(0),o._uU(1," \xc8 possibile passare velocemente da un sito a un altro semplicemente cliccando sul nome del forum/blog desiderato: l'app verr\xe0 automaticamente aggiornata con le nuove informazioni e si potr\xe0 iniziare subito ad amministrare! "),o.BQk())}function J(C,N){1&C&&o._uU(0," Uno sviluppatore pu\xf2 inserire direttamente il dominio completo del forum/blog nell'apposito campo sotto la lista per gestire i propri script installati su tale sito, in modo da agevolare la risoluzione di richieste di supporto. ")}function G(C,N){if(1&C&&o._UZ(0,"app-loader",7),2&C){const p=o.oxw();o.Q6J("message",p.loadingMessage)}}const k=function(C){return{selected:C}};function j(C,N){if(1&C){const p=o.EpF();o.TgZ(0,"li",13),o.NdJ("click",function(g){const L=o.CHM(p).$implicit;return o.oxw(3).selectForum(L,g)}),o.TgZ(1,"div",14),o._UZ(2,"img",15),o.ALo(3,"uploadsreplace"),o.qZA(),o.TgZ(4,"div",16),o._UZ(5,"div",17)(6,"div",18),o.qZA()()}if(2&C){const p=N.$implicit,h=o.oxw(3);o.Q6J("ngClass",o.VKq(8,k,h.selectedForum===p.id)),o.xp6(2),o.s9C("src",o.lcZ(3,6,p.preview),o.LSH),o.s9C("alt",p.name),o.Q6J("srcReplacer",h.defaultImage),o.xp6(3),o.Q6J("innerHTML",p.name,o.oJD),o.xp6(1),o.Q6J("innerText",p.fulldomain)}}function K(C,N){if(1&C&&(o.TgZ(0,"ul",11),o.YNc(1,j,7,10,"li",12),o.qZA()),2&C){const p=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",p.forums)}}function f(C,N){1&C&&(o.TgZ(0,"div",19),o._uU(1,"Non possiedi l'amministrazione di alcun forum!"),o.qZA())}function y(C,N){if(1&C){const p=o.EpF();o.TgZ(0,"div",20)(1,"input",21,22),o.NdJ("ngModelChange",function(g){return o.CHM(p),o.oxw(2).forumInputValue=g})("keyup.enter",function(){o.CHM(p);const g=o.MAs(2),B=o.oxw(2);return g.blur(),B.addForumFromDomain(g.value)}),o.qZA(),o.TgZ(3,"button",23),o.NdJ("click",function(){o.CHM(p);const g=o.MAs(2);return o.oxw(2).addForumFromDomain(g.value)}),o.TgZ(4,"span",24),o._uU(5,"done"),o.qZA()()()}if(2&C){const p=o.oxw(2);o.xp6(1),o.Q6J("ngModel",p.forumInputValue)}}function l(C,N){if(1&C&&(o.YNc(0,K,2,1,"ul",8),o.YNc(1,f,2,0,"ng-template",null,9,o.W1O),o.YNc(3,y,6,1,"div",10)),2&C){const p=o.MAs(2),h=o.oxw();o.Q6J("ngIf",h.forums.length)("ngIfElse",p),o.xp6(3),o.Q6J("ngIf",h.isDev)}}let b=(()=>{class C{constructor(p,h,g,B,L,Z){var X;this.globalsService=p,this.graphqlService=h,this.toastService=g,this.forumService=B,this.profileService=L,this.sidenavRightService=Z,this.toastMessage="Il dominio non \xe8 valido! Inserisci solo l'url del sito.",this.forums=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.defaultImage="/assets/default_forum.jpg",this.forumInputValue="";const V=this.globalsService.credentials;if(!V)throw new Error("Missing credentials!");this.credentials=V,this.domain=this.credentials.site.domain,this.selectedForum=(null===(X=this.globalsService.forum)||void 0===X?void 0:X.id)||0,this.isDev=this.profileService.isDev()}ngOnInit(){var p=this;return(0,m.Z)(function*(){p.forums=(yield p.forumService.getMyForumList()).map(g=>p.forumService.createForumObject(g,p.domain,!0));const h=p.globalsService.forum;h&&-1===p.forums.findIndex(g=>g.id===h.id)&&p.forums.push(h),p.loading=!1})()}selectForum(p,h=null){this.selectedForum!==p.id&&(null===h||"A"!==h.target.nodeName)&&(this.sidenavRightService.closeOnAction&&(this.sidenavRightService.closeOnAction=!1,this.sidenavRightService.close()),this.globalsService.forum=p,this.selectedForum=p.id)}addForumFromDomain(p){var h=this;return(0,m.Z)(function*(){if(0===p.length)return;const g=h.forumService.parseUrl(p.replace(/\/$/,""));if(!g)return void h.toastService.show({content:h.toastMessage,level:v.m.ERROR});const B=`${g.subdomain}.${g.domain}`;let L=h.forums.find(Z=>Z.fulldomain===B);if(L)h.selectForum(L);else{h.loading=!0;const Z=yield h.forumService.getForumDetailsFromDomain(B);Z&&(L=h.forumService.createForumObject(Z,g.domain,!1),h.forums.push(L),h.selectForum(L)),h.loading=!1}h.forumInputValue=""})()}}return C.\u0275fac=function(p){return new(p||C)(o.Y36(O.d),o.Y36(D.J),o.Y36(P.k),o.Y36(T._),o.Y36(Q.H),o.Y36(d.f))},C.\u0275cmp=o.Xpm({type:C,selectors:[["app-my-forum-list"]],decls:12,vars:4,consts:[[1,"content","bg-white","pb-4"],[1,"title","fs-5","text-primary","fw-bold","mb-3","px-3"],[1,"description","px-3","mb-3","text-justify"],[4,"ngIf","ngIfElse"],["devDescription",""],[3,"message",4,"ngIf","ngIfElse"],["forumList",""],[3,"message"],["class","list-unstyled forum-list mb-0",4,"ngIf","ngIfElse"],["noForum",""],["class","input-group mt-3 px-3",4,"ngIf"],[1,"list-unstyled","forum-list","mb-0"],["class","d-flex flex-row align-items-center cursor-pointer px-3 px-sm-4",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","cursor-pointer","px-3","px-sm-4",3,"ngClass","click"],[1,"preview","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","srcReplacer"],[1,"info","flex-grow-1","py-3","d-flex","flex-column","align-items-start"],[1,"name","fw-bold","text-truncate","mw-100",3,"innerHTML"],[1,"text-muted","text-truncate","mw-100",3,"innerText"],[1,"alert","alert-primary","mx-3","text-center"],[1,"input-group","mt-3","px-3"],["type","text","placeholder","Link del forum...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["input",""],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"]],template:function(p,h){if(1&p&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Forum da amministrare"),o.qZA(),o.TgZ(3,"div",2),o._uU(4,"Prima di poter installare uno script per forum oppure aggiungere o rimuovere un admin degli script, \xe8 essenziale selezionare il sito su cui operare. Di seguito \xe8 presente l'elenco dei forum/blog di cui si \xe8 amministratori, quello attualmente selezionato \xe8 evidenziato."),o._UZ(5,"br"),o.YNc(6,w,2,0,"ng-container",3),o.YNc(7,J,1,0,"ng-template",null,4,o.W1O),o.qZA(),o.YNc(9,G,1,1,"app-loader",5),o.YNc(10,l,4,3,"ng-template",null,6,o.W1O),o.qZA()),2&p){const g=o.MAs(8),B=o.MAs(11);o.xp6(6),o.Q6J("ngIf",!h.isDev)("ngIfElse",g),o.xp6(3),o.Q6J("ngIf",h.loading)("ngIfElse",B)}},directives:[t.O5,x.R,t.sg,t.mk,I.t,R.Fj,R.JJ,R.On],pipes:[q.g],styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:background-color .3s}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.selected):hover{background-color:rgb(var(--bs-light-rgb))}.forum-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#dae0ff}.forum-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:50px;height:50px}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),C})();var u=r(495),A=(()=>{return(C=A||(A={})).ScriptsAdmin="scriptsAdmin",C.ForumList="forumList",A;var C})(),F=r(3022);const $={home:{icon:{type:"material-icons-outlined",value:"cottage"},path:F.B2.HOME,description:"Home"},script:{icon:{type:"material-icons-outlined",value:"integration_instructions"},path:F.B2.SCRIPT,description:"Script",sub:[{name:"forum",description:"Script per forum",path:F.B2.SCRIPT_FORUM},{name:"user",description:"Script per utenti",path:F.B2.SCRIPT_USER},{name:"dev",description:"Gestione script",path:F.B2.SCRIPT_DEV}]},settings:{icon:{type:"material-icons-outlined",value:"settings"},path:F.B2.SETTINGS,description:"Impostazioni"},adminPanel:{icon:{type:"material-icons-outlined",value:"build_circle"},path:F.B2.ADMIN,description:"Amministrazione"},upload:{icon:{type:"material-icons-outlined",value:"cloud"},path:F.B2.UPLOAD,description:"Upload"},adminSidenav:{icon:{type:"material-icons-outlined",value:"admin_panel_settings"},description:"Admin degli script"},forumSidenav:{icon:{type:"material-icons-outlined",value:"public"},description:"Seleziona forum"}},nt={[A.ScriptsAdmin]:{component:u.t,name:A.ScriptsAdmin},[A.ForumList]:{component:b,name:A.ForumList}},it="Leggi di pi\xf9..."},5640:(W,E,r)=>{r.d(E,{_:()=>P});var m=r(5861),v=r(3022),o=r(5e3),O=r(3011),D=r(5787);let P=(()=>{class T{constructor(d,t){this.globalsService=d,this.graphqlService=t,this.groupsQuery="query ForumGroups($cid: ID!) {\n        forumGroups(cid: $cid) {\n            id\n            name\n            preset\n            legenda\n        }\n    }",this.sectionsQuery="query ForumSections($cid: ID!) {\n        forumSections(cid: $cid) {\n            id\n            name\n            desc\n            subsections {\n                id\n                name\n                desc\n                subsections {\n                    id\n                    name\n                    desc\n                    subsections {\n                        id\n                        name\n                        desc\n                        subsections {\n                            id\n                            name\n                            desc\n                            subsections {\n                                id\n                                name\n                                desc\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }",this.cidToDomainQuery="query ForumCidToDomain($cids: [ID!]!) {\n        forumCidToDomain(cids: $cids) {\n            cid\n            domain\n        }\n    }",this.myForumListQuery="query getMyForumList {\n        myForumList {\n            id, domain, name, preview\n        }\n    }",this.forumDomainToDetailsQuery="query ForumDomainToDetails($domain: String!) {\n        forumDomainToDetails(domain: $domain) {\n            id\n            domain\n            name\n            preview\n        }\n    }",this.scriptAdminsQuery="query ScriptAdmins($cid: ID!) {\n        scriptAdmins(cid: $cid) {\n            cid\n            id\n            nickname\n            avatar\n        }\n    }",this.groupsCache={},this.groupsPendingRequests={},this.sectionsCache={},this.sectionsPendingRequests={},this.myForumsCache={}}get cid(){var d;return null===(d=this.globalsService.forum)||void 0===d?void 0:d.cid}get ffuid(){var d;const t=null===(d=this.globalsService.credentials)||void 0===d?void 0:d.user.ffuid;if(!t)throw new Error("Missing credentials!");return t}getGroups(){var d=this;return(0,m.Z)(function*(){const t=d.cid;if(!t)return[];if(d.groupsCache.hasOwnProperty(t))return d.groupsCache[t];const x=yield d.groupsPendingRequests.hasOwnProperty(t)?d.groupsPendingRequests[t]:d.groupsPendingRequests[t]=d.graphqlService.query({query:d.groupsQuery,variables:{cid:t}});return delete d.groupsPendingRequests[t],d.groupsCache[t]=x.data.forumGroups})()}getSections(){var d=this;return(0,m.Z)(function*(){const t=d.cid;if(!t)return[];if(d.sectionsCache.hasOwnProperty(t))return d.sectionsCache[t];const x=yield d.sectionsPendingRequests.hasOwnProperty(t)?d.sectionsPendingRequests[t]:d.sectionsPendingRequests[t]=d.graphqlService.query({query:d.sectionsQuery,variables:{cid:t}});return d.sectionsCache[t]=x.data.forumSections})()}getDomains(d){var t=this;return(0,m.Z)(function*(){return(yield t.graphqlService.query({query:t.cidToDomainQuery,variables:{cids:d}})).data.forumCidToDomain})()}getMyForumList(){var d=this;return(0,m.Z)(function*(){const t=d.ffuid;if(d.myForumsCache.hasOwnProperty(t))return d.myForumsCache[t];const x=yield d.graphqlService.query({query:d.myForumListQuery});return d.myForumsCache[t]=x.data.myForumList})()}getForumDetailsFromDomain(d){var t=this;return(0,m.Z)(function*(){return(yield t.graphqlService.query({query:t.forumDomainToDetailsQuery,variables:{domain:d}})).data.forumDomainToDetails})()}getScriptAdmins(d){var t=this;return(0,m.Z)(function*(){return(yield t.graphqlService.query({query:t.scriptAdminsQuery,variables:{cid:d}})).data.scriptAdmins})()}parseUrl(d){const t=new RegExp("^(https?://)?([^.]+).(forumfree.it|forumcommunity.net|blogfree.net)$"),x=d.toLowerCase().match(t);if(x)return{subdomain:x[2],domain:x[3],shortdomain:v.pN.hasOwnProperty(x[3])?v.pN[x[3]]:""}}createForumObject(d,t,x){let I=v.pN.hasOwnProperty(t)?v.pN[t]:"";return Object.assign(Object.assign({},d),{cid:I+d.id,fulldomain:`${d.domain}.${t}`,url:`https://${d.domain}.${t}`,admin:x})}}return T.\u0275fac=function(d){return new(d||T)(o.LFG(O.d),o.LFG(D.J))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},9736:(W,E,r)=>{r.d(E,{f:()=>o});var m=r(1135),v=r(5e3);let o=(()=>{class O{constructor(){this.behaviorSubject=new m.X(void 0),this.state={}}get observable(){return this.behaviorSubject.asObservable()}pushEntity(P){this.behaviorSubject.next(P)}close(){this.pushEntity(void 0)}get closeOnAction(){return!0===this.state.closeOnAction}set closeOnAction(P){this.state.closeOnAction=P}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275prov=v.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()}}]);