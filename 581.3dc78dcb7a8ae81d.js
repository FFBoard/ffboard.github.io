(self.webpackChunkpages=self.webpackChunkpages||[]).push([[581],{7429:(ke,J,b)=>{"use strict";b.d(J,{d:()=>u});var y=b(5879),P=b(6306);let A=(()=>{var s;class r{constructor(){this.allowedProps={$ref:{validator:this.isString},anyOf:{validator:this.validateAnyOf},default:{validator:this.isNestedOfPrimitives},definitions:null,description:null,enum:{validator:this.validateEnum},items:{child:"allProps"},maximum:null,maxItems:null,maxLength:null,minimum:null,minItems:null,minLength:null,multipleOf:null,oneOf:{validator:this.validateOneOf},properties:null,required:{validator:this.validateRequired},title:null,type:{validator:this.isNestedOfPrimitives},uniqueItems:null,widget:{child:{formlyConfig:{child:{props:{child:{placeholder:{validator:this.isString},multiple:{validator:this.isBoolean},pattern:{validator:this.isString},type:{validator:function(l){return"hidden"===l}},minLength:{validator:this.isNumber},maxLength:{validator:this.isNumber},rows:{validator:this.isNumber},keepGroupsWithoutId:{validator:this.isBoolean},fieldsetTemplate:{validator:this.isBoolean},startDate:{child:{year:null,month:null,day:null}},endDate:{child:{year:null,month:null,day:null}},minDate:{child:{year:null,month:null,day:null}},maxDate:{child:{year:null,month:null,day:null}},selectDomain:{validator:this.isBoolean},resetButton:{validator:this.isBoolean},height:{validator:this.isString}}},type:{validator:function(l){return"radio"===l}}}}}}},this.fieldListKeys=["properties","definitions"]}validateSchema(l){this.isObject(l)&&((!(0,P.o8)(l,"type")||!(0,P.o8)(l,"properties")||"object"!==l.type)&&(l.type="object",l.properties={}),this.validate(l))}validate(l,t){t||(t=this.allowedProps);for(const[c,d]of Object.entries(l))if((0,P.o8)(t,c)){if((0,P.o8)(t[c]||{},"validator"))t[c].validator.call(this,d)||delete l[c];else if(this.fieldListKeys.includes(c))for(const _ of Object.keys(l[c]))this.validate(l[c][_]);else if(!this.isPrimitive(d)){if(!(0,P.o8)(t[c]||{},"child")||!this.isObject(d)){delete l[c];continue}this.validate(l[c],"allProps"===t[c].child?this.allowedProps:t[c].child)}}else delete l[c]}isObject(l){return null!=l&&"object"==typeof l&&!Array.isArray(l)}isPrimitive(l){return this.isString(l)||this.isNumber(l)||this.isBoolean(l)||null==l}isString(l){return"string"==typeof l}isBoolean(l){return"boolean"==typeof l}isNumber(l){return"number"==typeof l}validateRequired(l){if(!Array.isArray(l))return!1;for(const t of l)if(!this.isString(t))return!1;return!0}validateEnum(l){if(!Array.isArray(l))return!1;for(const t of l)if(!this.isString(t)&&!this.isNumber(t))return!1;return!0}validateOneOf(l){if(Array.isArray(l)&&(0,P.o8)(l[0]||{},"const")){for(const t of l){if(!this.isObject(t))return!1;this.validate(t,{const:null,title:null})}return!0}return this.validateAnyOf(l)}validateAnyOf(l){if(!Array.isArray(l))return!1;for(const t of l){if(!this.isObject(t))return!1;this.validate(t)}return!0}isNestedOfPrimitives(l){if(this.isPrimitive(l))return!0;if(Array.isArray(l)||this.isObject(l)){for(const t of Object.values(l))if(!this.isNestedOfPrimitives(t))return!1;return!0}return!1}}return(s=r).\u0275fac=function(l){return new(l||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),r})();var w=b(6223),e=b(1993),E=b(5661),m=b(336),a=b(5545);const n=["app-custom-form",""],i=[[["","buttons",""]]],f=["[buttons]"];let u=(()=>{var s;class r{constructor(l,t,c,d){this.formlyJsonschema=l,this.customFormSchemaService=t,this.toastService=c,this.destroyRef=d,this.model={},this.validateSchema=!1,this.enableModelChangeEvent=!1,this.defaultModel={},this.showFieldValidationOnInit=!1,this.cancelEvent=new y.vpe,this.submitEvent=new y.vpe,this.validityChangeEvent=new y.vpe,this.modelChangeEvent=new y.vpe,this.form=new w.nJ({}),this.fields=[],this.options={},this.isFormCurrentlyValid=!0}ngAfterViewInit(){this.validityChangeEvent.emit(this.isFormCurrentlyValid=this.form.valid)}ngOnInit(){this.createFields(),this.form.statusChanges.pipe((0,e.sL)(this.destroyRef)).subscribe(()=>{this.form.valid!==this.isFormCurrentlyValid&&this.validityChangeEvent.emit(this.isFormCurrentlyValid=this.form.valid)})}ngOnChanges(l){l.schema&&!l.schema.firstChange&&this.createFields()}createFields(){this.customFormSchemaService.isObject(this.schema)||(this.schema={}),this.validateSchema&&this.customFormSchemaService.validateSchema(this.schema),this.fields=[this.formlyJsonschema.toFieldConfig(this.schema)],this.showFieldValidationOnInit&&this.showFieldValidation()}showFieldValidation(){this.cycleFields(this.fields)}showFieldValidationWithMessage(){this.showFieldValidation(),this.toastService.show({content:"Tutti i campi sono stati <strong>validati</strong>: quelli con errore sono evidenziati da un <strong>bordo rosso</strong>!"})}cycleFields(l){l.forEach(t=>{this.forceValidation(t),t.fieldGroup&&this.cycleFields(t.fieldGroup)})}forceValidation(l){l.validation||(l.validation={}),l.validation.show=!0}reset(){this.options.resetModel&&this.options.resetModel({})}cancel(){this.cancelEvent.emit()}submit(){this.form.valid&&(this.log(),this.submitEvent.emit(this.model))}onModelChange(l){this.enableModelChangeEvent&&this.modelChangeEvent.emit(l||{})}log(){}}return(s=r).\u0275fac=function(l){return new(l||s)(y.Y36(m.c),y.Y36(A),y.Y36(E.k),y.Y36(y.ktI))},s.\u0275cmp=y.Xpm({type:s,selectors:[["","app-custom-form",""]],inputs:{schema:"schema",model:"model",validateSchema:"validateSchema",enableModelChangeEvent:"enableModelChangeEvent",defaultModel:"defaultModel",showFieldValidationOnInit:"showFieldValidationOnInit"},outputs:{cancelEvent:"cancelEvent",submitEvent:"submitEvent",validityChangeEvent:"validityChangeEvent",modelChangeEvent:"modelChangeEvent"},features:[y.TTD],attrs:n,ngContentSelectors:f,decls:3,vars:5,consts:[[3,"formGroup","ngSubmit"],[3,"model","fields","form","options","modelChange"]],template:function(l,t){1&l&&(y.F$t(i),y.TgZ(0,"form",0),y.NdJ("ngSubmit",function(){return t.submit()}),y.TgZ(1,"formly-form",1),y.NdJ("modelChange",function(d){return t.onModelChange(d)}),y.qZA(),y.Hsn(2),y.qZA()),2&l&&(y.Q6J("formGroup",t.form),y.xp6(1),y.Q6J("model",t.model)("fields",t.fields)("form",t.form)("options",t.options))},dependencies:[a.T7,w._Y,w.JL,w.sg]}),r})()},1049:(ke,J,b)=>{"use strict";b.d(J,{I:()=>Ln});var y=b(6814),P=b(259),A=b(6306),w=b(5545),e=b(5879),E=b(8595);function m(g,U){1&g&&e.GkF(0)}function a(g,U){if(1&g&&(e.ynx(0),e._UZ(1,"div",13),e.TgZ(2,"div",14),e._uU(3," ("),e.YNc(4,m,1,0,"ng-container",15),e._uU(5,") "),e.qZA(),e.BQk()),2&g){const k=e.oxw(),T=e.MAs(15);e.xp6(1),e.Q6J("innerHTML",k.parsedTitle,e.oJD),e.xp6(3),e.Q6J("ngTemplateOutlet",T)}}function n(g,U){1&g&&e.GkF(0)}function i(g,U){if(1&g&&(e.TgZ(0,"div",16),e._uU(1," Lista di "),e.YNc(2,n,1,0,"ng-container",15),e.qZA()),2&g){e.oxw();const k=e.MAs(15);e.xp6(2),e.Q6J("ngTemplateOutlet",k)}}function f(g,U){if(1&g&&e._UZ(0,"div",17),2&g){const k=e.oxw();e.Q6J("innerHTML",k.parsedDescription,e.oJD)}}const u=function(g){return{"mt-3":g}};function s(g,U){if(1&g&&(e.TgZ(0,"div",18),e._UZ(1,"formly-validation-message",19),e.qZA()),2&g){const k=e.oxw();e.Q6J("ngClass",e.VKq(2,u,k.parsedDescription.length)),e.xp6(1),e.Q6J("field",k.field)}}function r(g,U){if(1&g){const k=e.EpF();e.TgZ(0,"li")(1,"div",30),e.NdJ("click",function(){e.CHM(k);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.move(M,M-1))}),e._uU(2," arrow_circle_up "),e.qZA()()}2&g&&(e.xp6(1),e.Q6J("disableOnTouchDevice",!0))}const o=function(g){return{"ms-1":g}};function l(g,U){if(1&g){const k=e.EpF();e.TgZ(0,"li",31)(1,"div",32),e.NdJ("click",function(){e.CHM(k);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.move(M,M+1))}),e._uU(2," arrow_circle_down "),e.qZA()()}if(2&g){const k=e.oxw().first;e.Q6J("ngClass",e.VKq(2,o,!k)),e.xp6(1),e.Q6J("disableOnTouchDevice",!0)}}function t(g,U){if(1&g){const k=e.EpF();e.TgZ(0,"li",31)(1,"div",33),e.NdJ("click",function(){e.CHM(k);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.remove(M))}),e._uU(2," highlight_off "),e.qZA()()}if(2&g){const k=e.oxw();e.Q6J("ngClass",e.VKq(2,o,!(k.first&&k.last))),e.xp6(1),e.Q6J("disableOnTouchDevice",!0)}}const c=function(g){return{"mb-3":g}},d=function(g){return{"has-error":g}};function _(g,U){if(1&g&&(e.TgZ(0,"li",22)(1,"fieldset",23)(2,"legend",24)(3,"div",25)(4,"div",26),e._uU(5),e.qZA(),e.TgZ(6,"ul",27),e.YNc(7,r,3,1,"li",28),e.YNc(8,l,3,4,"li",29),e.YNc(9,t,3,4,"li",29),e.qZA()()(),e._UZ(10,"formly-field",19),e.qZA()()),2&g){const k=U.$implicit,T=U.index,M=U.first,B=U.last;e.Q6J("ngClass",e.VKq(7,c,!B)),e.xp6(1),e.Q6J("ngClass",e.VKq(9,d,null==k.formControl?null:k.formControl.invalid)),e.xp6(4),e.hij("#",T+1,""),e.xp6(2),e.Q6J("ngIf",!M),e.xp6(1),e.Q6J("ngIf",!B),e.xp6(1),e.Q6J("ngIf",k.props&&!1!==k.props.removable),e.xp6(1),e.Q6J("field",k)}}function O(g,U){if(1&g&&(e.TgZ(0,"ul",20),e.YNc(1,_,11,11,"li",21),e.qZA()),2&g){const k=e.oxw();e.xp6(1),e.Q6J("ngForOf",k.field.fieldGroup)}}const S=function(g){return{"d-none d-md-inline":g}};function v(g,U){if(1&g&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e.TgZ(2,"span",31),e._uU(3),e.qZA()),2&g){const k=e.oxw();e.xp6(1),e.Oqu(k.field.fieldGroup?k.field.fieldGroup.length:0),e.xp6(1),e.Q6J("ngClass",e.VKq(3,S,k.props.label)),e.xp6(1),e.hij(" element",k.field.fieldGroup&&1===k.field.fieldGroup.length?"o":"i","")}}const p=function(){return[10,10]},h=function(g){return{placement:"top-end",offset:g}};let x=(()=>{var g;class U extends w.hv{constructor(T){super(),this.customFormUtilsService=T,this.parsedTitle="",this.parsedDescription=""}ngOnInit(){this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):"",this.parsedTitle=this.props.label?this.customFormUtilsService.parseBBCode(this.props.label):""}get maxLengthExceeded(){return this.props.maxItems&&this.model&&this.model.length>=this.props.maxItems}move(T,M){const B=this.model[T];this.remove(T),this.add(M,B)}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(A.d6))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-array"]],features:[e.qOj],decls:16,vars:14,consts:[[1,"rounded","px-3","pb-3","pt-2","mb-3","formly-fieldset",3,"ngClass"],[1,"legend-reset","pb-1","px-2","mb-0","mw-100"],[1,"d-flex","align-items-center","mw-100"],[4,"ngIf","ngIfElse"],["nolabel",""],["class","mb-2 text-justify",3,"innerHTML",4,"ngIf"],["class","alert alert-danger formly-field-array-error text-center","role","alert",3,"ngClass",4,"ngIf"],["class","list-unstyled mb-3",4,"ngIf"],[1,"d-flex","flex-row-reverse"],["appTippy","Hai aggiunto il numero massimo di elementi!",3,"disableInstance","tippyProps"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"disabled","click"],[1,"material-icons"],["itemscount",""],[1,"fs-lg","text-truncate","mw-100",3,"innerHTML"],[1,"ms-2","fs-reset","lh-1","fst-italic","list-counter","text-nowrap"],[4,"ngTemplateOutlet"],[1,"fs-xl","text-truncate","mw-10"],[1,"mb-2","text-justify",3,"innerHTML"],["role","alert",1,"alert","alert-danger","formly-field-array-error","text-center",3,"ngClass"],[3,"field"],[1,"list-unstyled","mb-3"],["class","item",3,"ngClass",4,"ngFor","ngForOf"],[1,"item",3,"ngClass"],[1,"rounded","formly-fieldset","dashed","show-success","px-3",3,"ngClass"],[1,"legend-reset","ms-auto","mb-0","px-2"],[1,"d-flex","align-items-center"],[1,"fs-xl","ms-1"],[1,"ms-2","mb-0","item-icons","list-unstyled","d-flex","align-items-center"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["appTippy","Sposta in alto",1,"d-block","material-icons","cursor-pointer",3,"disableOnTouchDevice","click"],[3,"ngClass"],["appTippy","Sposta in basso",1,"d-block","material-icons","cursor-pointer",3,"disableOnTouchDevice","click"],["appTippy","Rimuovi",1,"d-block","material-icons","cursor-pointer","text-danger",3,"disableOnTouchDevice","click"]],template:function(T,M){if(1&T&&(e.TgZ(0,"fieldset",0)(1,"legend",1)(2,"div",2),e.YNc(3,a,6,2,"ng-container",3),e.YNc(4,i,3,1,"ng-template",null,4,e.W1O),e.qZA()(),e.YNc(6,f,1,1,"div",5),e.YNc(7,s,2,4,"div",6),e.YNc(8,O,2,1,"ul",7),e.TgZ(9,"div",8)(10,"div",9)(11,"button",10),e.NdJ("click",function(){return!M.maxLengthExceeded&&M.add()}),e.TgZ(12,"span",11),e._uU(13,"add"),e.qZA()()()(),e.YNc(14,v,4,5,"ng-template",null,12,e.W1O),e.qZA()),2&T){const B=e.MAs(5);e.Q6J("ngClass",e.VKq(9,d,M.formControl.invalid)),e.xp6(3),e.Q6J("ngIf",M.parsedTitle)("ngIfElse",B),e.xp6(3),e.Q6J("ngIf",M.parsedDescription),e.xp6(1),e.Q6J("ngIf",M.showError&&M.formControl.errors),e.xp6(1),e.Q6J("ngIf",M.field.fieldGroup&&M.field.fieldGroup.length),e.xp6(2),e.Q6J("disableInstance",!M.maxLengthExceeded)("tippyProps",e.VKq(12,h,e.DdM(11,p))),e.xp6(1),e.Q6J("disabled",M.maxLengthExceeded)}},dependencies:[y.mk,y.sg,y.O5,y.tP,w.cw,w.M2,E.$],styles:["legend[_ngcontent-%COMP%]   .item-icons[_ngcontent-%COMP%]{padding-top:.1rem}"]}),U})();var N=b(1413),L=b(4020),D=b(6223),V=b(91),$=b(2181),j=b(8180),I=b(5619);const C=["language","theme"],q=["editor"];let F=(()=>{class g{constructor(k,T){this.ngZone=k,this.monacoPathConfig=T,this.isMonacoLoaded$=new I.X(!1),this._monacoPath="assets/monaco-editor/min/vs",window.monacoEditorAlreadyInitialized?k.run(()=>this.isMonacoLoaded$.next(!0)):(window.monacoEditorAlreadyInitialized=!0,this.monacoPathConfig&&(this.monacoPath=this.monacoPathConfig),this.loadMonaco())}set monacoPath(k){k&&(this._monacoPath=k)}loadMonaco(){const k=()=>{let z=this._monacoPath;window.amdRequire=window.require;const te=!!this.nodeRequire,oe=z.includes("http");te&&(window.require=this.nodeRequire,oe||(z=window.require("path").resolve(window.__dirname,this._monacoPath))),window.amdRequire.config({paths:{vs:z}}),window.amdRequire(["vs/editor/editor.main"],()=>{this.ngZone.run(()=>this.isMonacoLoaded$.next(!0))},le=>console.error("Error loading monaco-editor: ",le))};if(window.amdRequire)return k();window.require&&(this.addElectronFixScripts(),this.nodeRequire=window.require);const B=document.createElement("script");B.type="text/javascript",B.src=`${this._monacoPath}/loader.js`,B.addEventListener("load",k),document.body.appendChild(B)}addElectronFixScripts(){const k=document.createElement("script"),T=document.createTextNode("self.module = undefined;"),M=document.createTextNode("self.process.browser = true;");k.appendChild(T),k.appendChild(M),document.body.appendChild(k)}}return g.\u0275fac=function(k){return new(k||g)(e.LFG(e.R0b),e.LFG("MONACO_PATH",8))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),Y=(()=>{class g{constructor(k){this.monacoLoader=k,this.init=new e.vpe,this.onTouched=()=>{},this.onErrorStatusChange=()=>{},this.propagateChange=()=>{}}get model(){return this.editor&&this.editor.getModel()}get modelMarkers(){return this.model&&monaco.editor.getModelMarkers({resource:this.model.uri})}ngOnInit(){this.monacoLoader.isMonacoLoaded$.pipe((0,$.h)(k=>k),(0,j.q)(1)).subscribe(()=>{this.initEditor()})}ngOnChanges(k){if(this.editor&&k.options&&!k.options.firstChange){const T=k.options.currentValue,{language:M,theme:B}=T,z=(0,V.Z)(T,C),{language:te,theme:oe}=k.options.previousValue;te!==M&&monaco.editor.setModelLanguage(this.editor.getModel(),this.options&&this.options.language?this.options.language:"text"),oe!==B&&monaco.editor.setTheme(B),this.editor.updateOptions(z)}if(this.editor&&k.uri){const T=k.uri.currentValue,M=k.uri.previousValue;if(M&&!T||!M&&T||T&&M&&T.path!==M.path){const B=this.editor.getValue();let z;this.modelUriInstance&&this.modelUriInstance.dispose(),T&&(z=monaco.editor.getModels().find(te=>te.uri.path===T.path)),this.modelUriInstance=z||monaco.editor.createModel(B,this.options.language||"text",this.uri),this.editor.setModel(this.modelUriInstance)}}}writeValue(k){this.value=k,this.editor&&k?this.editor.setValue(k):this.editor&&this.editor.setValue("")}registerOnChange(k){this.propagateChange=k}registerOnTouched(k){this.onTouched=k}validate(){return this.parsedError?{monaco:{value:this.parsedError.split("|")}}:null}registerOnValidatorChange(k){this.onErrorStatusChange=k}initEditor(){const k={value:[this.value].join("\n"),language:"text",automaticLayout:!0,scrollBeyondLastLine:!1,theme:"vc"};this.editor=monaco.editor.create(this.editorContent.nativeElement,this.options?(0,N.Z)((0,N.Z)({},k),this.options):k),this.registerEditorListeners(),this.init.emit(this.editor)}registerEditorListeners(){this.editor.onDidChangeModelContent(()=>{this.propagateChange(this.editor.getValue())}),this.editor.onDidChangeModelDecorations(()=>{const k=this.modelMarkers.map(({message:M})=>M).join("|");this.parsedError!==k&&(this.parsedError=k,this.onErrorStatusChange())}),this.editor.onDidBlurEditorText(()=>{this.onTouched()})}ngOnDestroy(){this.editor&&this.editor.dispose()}}return g.\u0275fac=function(k){return new(k||g)(e.Y36(F))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ngx-monaco-editor"]],viewQuery:function(k,T){if(1&k&&e.Gf(q,7),2&k){let M;e.iGM(M=e.CRH())&&(T.editorContent=M.first)}},inputs:{options:"options",uri:"uri"},outputs:{init:"init"},features:[e._Bn([{provide:D.JU,useExisting:(0,e.Gpc)(()=>g),multi:!0},{provide:D.Cf,useExisting:(0,e.Gpc)(()=>g),multi:!0}]),e.TTD],decls:4,vars:0,consts:[["fxFlex","",1,"editor-container"],["container",""],[1,"monaco-editor"],["editor",""]],template:function(k,T){1&k&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2,3),e.qZA())},styles:[".monaco-editor[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.editor-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:table;width:100%;height:100%;min-width:0}"],changeDetection:0}),g})(),X=(()=>{class g{}return g.\u0275fac=function(k){return new(k||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[]]}),g})();function re(g,U){if(1&g&&(e.ynx(0),e.TgZ(1,"textarea",2),e._uU(2,"            "),e.qZA(),e.BQk()),2&g){const k=e.oxw();e.xp6(1),e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("cols",1)("rows",10)("formlyAttributes",k.field)}}function ae(g,U){1&g&&(e.ynx(0),e.TgZ(1,"p",4),e._UZ(2,"span",5),e.qZA(),e.BQk())}function se(g,U){if(1&g&&e._UZ(0,"ngx-monaco-editor",6),2&g){const k=e.oxw(2);e.Udp("height",k.editorHeight),e.Q6J("options",k.editorOptions)("formControl",k.formControl)}}function de(g,U){if(1&g&&(e.YNc(0,ae,3,0,"ng-container",0),e.YNc(1,se,1,4,"ng-template",null,3,e.W1O)),2&g){const k=e.MAs(2),T=e.oxw();e.Q6J("ngIf",T.loading)("ngIfElse",k)}}let he=(()=>{var g;class U extends w.fS{constructor(){super(...arguments),this.touchDevice=L.b1,this.editorOptions={theme:"vs-dark",language:"json"},this.loading=!0,this.editorHeight="350px"}ngOnInit(){this.touchDevice||(this.field.props.editorOptions&&(this.field.props.editorOptions.height&&(this.editorHeight=this.field.props.editorOptions.height,delete this.field.props.editorOptions.height),this.editorOptions=(0,N.Z)((0,N.Z)({},this.editorOptions),this.field.props.editorOptions)),this.loading=!1)}}return(g=U).\u0275fac=function(){let k;return function(M){return(k||(k=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-code-editor-type"]],features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notTouchDevice",""],[1,"form-control",3,"formControl","cols","rows","formlyAttributes"],["codeEditor",""],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],[1,"d-block","formly-code-editor",3,"options","formControl"]],template:function(T,M){if(1&T&&(e.YNc(0,re,3,6,"ng-container",0),e.YNc(1,de,3,2,"ng-template",null,1,e.W1O)),2&T){const B=e.MAs(2);e.Q6J("ngIf",M.touchDevice)("ngIfElse",B)}},dependencies:[y.O5,w.JD,D.Fj,D.JJ,D.oH,Y],encapsulation:2}),U})();var pe=b(5861),ve=b(8784);function K(g,U){1&g&&(e.ynx(0),e.TgZ(1,"p",3),e._UZ(2,"span",4),e.qZA(),e.BQk())}function W(g,U){if(1&g&&e._UZ(0,"option",8),2&g){const k=U.$implicit;e.Q6J("ngValue",k.id||k.name)("innerText",k.name)}}function ne(g,U){if(1&g&&(e.ynx(0),e.TgZ(1,"select",6),e.YNc(2,W,1,2,"option",7),e.qZA(),e.BQk()),2&g){const k=e.oxw(2);e.xp6(1),e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("formlyAttributes",k.field),e.xp6(1),e.Q6J("ngForOf",k.groupsList)}}function ie(g,U){if(1&g&&e._UZ(0,"option",8),2&g){const k=U.$implicit;e.Q6J("ngValue",k.id||k.name)("innerText",k.name)}}function ee(g,U){if(1&g&&(e.TgZ(0,"select",9),e.YNc(1,ie,1,2,"option",7),e.qZA()),2&g){const k=e.oxw(2);e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("formlyAttributes",k.field),e.xp6(1),e.Q6J("ngForOf",k.groupsList)}}function ue(g,U){if(1&g&&(e.YNc(0,ne,3,5,"ng-container",1),e.YNc(1,ee,2,5,"ng-template",null,5,e.W1O)),2&g){const k=e.MAs(2),T=e.oxw();e.Q6J("ngIf",T.field.props.multiple)("ngIfElse",k)}}const fe=function(g){return{"no-label":g}};let ce=(()=>{var g;class U extends w.fS{constructor(T,M){super(),this.forumService=T,this.changeDetectorRef=M,this.loading=!0,this.groupsList=[]}prePopulate(T){T.props||(T.props={}),T.props.resetButton=!0}ngOnInit(){var T=this;return(0,pe.Z)(function*(){T.field.defaultValue=void 0,(0,A.o8)(T.field.props,"multiple")||(T.field.props.multiple=!0),T.groupsList=(yield T.forumService.getGroups()).sort((M,B)=>M.name.localeCompare(B.name)),T.field.props.keepGroupsWithoutId||(T.groupsList=T.groupsList.filter(M=>M.id>0)),T.loading=!1,T.field.formControl.updateValueAndValidity(),T.changeDetectorRef.detectChanges()})()}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(ve._),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-groups"]],features:[e.qOj],decls:4,vars:5,consts:[[1,"position-relative","wrapper",3,"ngClass"],[4,"ngIf","ngIfElse"],["formSelect",""],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],["single",""],["multiple","",1,"form-select",3,"formControl","formlyAttributes"],[3,"ngValue","innerText",4,"ngFor","ngForOf"],[3,"ngValue","innerText"],[1,"form-select",3,"formControl","formlyAttributes"]],template:function(T,M){if(1&T&&(e.TgZ(0,"div",0),e.YNc(1,K,3,0,"ng-container",1),e.YNc(2,ue,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&T){const B=e.MAs(3);e.Q6J("ngClass",e.VKq(3,fe,!M.props.label)),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,w.JD,D.YN,D.Kr,D.EJ,D.K7,D.JJ,D.oH],encapsulation:2}),U})();var _e=b(1410),Oe=b(8645);const me=[{value:A.ig.FORUMFREE,placeholder:"ForumFree"},{value:A.ig.FORUMCOMMUNITY,placeholder:"ForumCommunity"},{value:A.ig.BLOGFREE,placeholder:"BlogFree"}];function Me(g,U){if(1&g&&e._UZ(0,"option",2),2&g){const k=U.$implicit;e.Q6J("ngValue",k.value)("innerText",k.placeholder)}}let ye=(()=>{var g;class U{constructor(){this.model=A.ig.FORUMFREE,this.modelChange=new e.vpe,this.options=me}}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-domain-select"]],inputs:{model:"model"},outputs:{modelChange:"modelChange"},decls:2,vars:2,consts:[[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue","innerText",4,"ngFor","ngForOf"],[3,"ngValue","innerText"]],template:function(T,M){1&T&&(e.TgZ(0,"select",0),e.NdJ("ngModelChange",function(z){return M.model=z})("ngModelChange",function(z){return M.modelChange.emit(z)}),e.YNc(1,Me,1,2,"option",1),e.qZA()),2&T&&(e.Q6J("ngModel",M.model),e.xp6(1),e.Q6J("ngForOf",M.options))},dependencies:[y.sg,D.YN,D.Kr,D.EJ,D.JJ,D.On],encapsulation:2}),U})();var Ee=b(7827),ze=b(9473),Ye=b(7357);function Ge(g,U){1&g&&(e.TgZ(0,"div",4),e._UZ(1,"app-loader",5),e.qZA())}function Ke(g,U){1&g&&e._UZ(0,"div",8),2&g&&e.Q6J("innerText","Nessun elemento inserito!")}function We(g,U){if(1&g){const k=e.EpF();e.TgZ(0,"li")(1,"a",11)(2,"div",12),e.NdJ("click",function(M){const z=e.CHM(k).index,te=e.oxw(3);return e.KtG(te.remove(z,M))}),e.TgZ(3,"div",13),e._uU(4," remove "),e.qZA()(),e._UZ(5,"img",14),e.ALo(6,"uploadsreplace"),e.qZA(),e._UZ(7,"a",15),e.qZA()}if(2&g){const k=U.$implicit,T=e.oxw(3);e.Gre("d-flex flex-column align-items-center item-",k.type,""),e.xp6(1),e.Q6J("href",k.link,e.LSH),e.xp6(1),e.Q6J("disableOnTouchDevice",!0),e.xp6(3),e.s9C("alt",k.title),e.Q6J("src",T.lazyImagePlaceholder,e.LSH)("lazyLoad",e.lcZ(6,12,k.image))("offset",100)("errorImage",T.defaultImage),e.xp6(2),e.Q6J("innerHTML",k.title,e.oJD)("href",k.link,e.LSH)}}function $e(g,U){if(1&g&&(e.TgZ(0,"ul",9),e.YNc(1,We,8,14,"li",10),e.qZA()),2&g){const k=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",k.list)}}function Xe(g,U){if(1&g&&(e.YNc(0,Ke,1,1,"div",6),e.YNc(1,$e,2,1,"ng-template",null,7,e.W1O)),2&g){const k=e.MAs(2),T=e.oxw();e.Q6J("ngIf",0===T.list.length)("ngIfElse",k)}}const et=function(g){return{"empty-list":g}};let tt=(()=>{var g;class U{constructor(){this.list=[],this.defaultImage="/assets/default_avatar.png",this.loading=!0,this.removeEvent=new e.vpe,this.lazyImagePlaceholder=L.Qi}remove(T,M){M.preventDefault(),M.stopPropagation();const B=this.list[T].id;this.list.splice(T,1),this.list=[...this.list],this.removeEvent.emit(B)}}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-typeahead-content"]],inputs:{list:"list",listTitle:"listTitle",defaultImage:"defaultImage",loading:"loading"},outputs:{removeEvent:"removeEvent"},decls:5,vars:6,consts:[[1,"formly-list-container","rounded","px-3","pt-2","mt-2",3,"ngClass"],[1,"legend-reset","fs-reset","mb-0","px-2","pb-1",3,"innerText"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center"],["message","Recupero dei dati"],["class","text-center mb-0 px-1 pb-1 fst-italic",3,"innerText",4,"ngIf","ngIfElse"],["noEmpty",""],[1,"text-center","mb-0","px-1","pb-1","fst-italic",3,"innerText"],[1,"formly-list","list-unstyled","mb-0","d-grid","px-2"],[3,"class",4,"ngFor","ngForOf"],["target","_blank",1,"preview","rounded-circle","d-block","position-relative",3,"href"],["appTippy","Rimuovi",1,"remove-btn","alert","alert-danger","position-absolute","cursor-pointer","mb-0","py-0","px-1",3,"disableOnTouchDevice","click"],[1,"material-icons","d-block","fs-reset"],[1,"d-block","image-cover","rounded-circle",3,"src","lazyLoad","offset","errorImage","alt"],["target","_blank",1,"d-block","fw-bold","mt-1","item-title","text-truncate","mw-100",3,"innerHTML","href"]],template:function(T,M){if(1&T&&(e.TgZ(0,"fieldset",0),e._UZ(1,"legend",1),e.YNc(2,Ge,2,0,"div",2),e.YNc(3,Xe,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&T){const B=e.MAs(4);e.Q6J("ngClass",e.VKq(4,et,0===M.list.length)),e.xp6(1),e.Q6J("innerText",M.listTitle),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,Ee.z1,ze.R,E.$,Ye.g],styles:[".formly-list-container[_ngcontent-%COMP%]{border:1px dashed var(--bs-gray-500)}.formly-list-container[_ngcontent-%COMP%]:not(.empty-list){padding-bottom:.75rem}.formly-list-container.empty-list[_ngcontent-%COMP%]{padding-bottom:1rem}.formly-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:1rem}.formly-list[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{top:0;left:-8px}.formly-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px;border:2px solid}.formly-list[_ngcontent-%COMP%]   .item-ff[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#58a72e}.formly-list[_ngcontent-%COMP%]   .item-ff[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#58a72e!important}.formly-list[_ngcontent-%COMP%]   .item-fc[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#0082cd}.formly-list[_ngcontent-%COMP%]   .item-fc[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#0082cd!important}.formly-list[_ngcontent-%COMP%]   .item-bf[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#e67f22}.formly-list[_ngcontent-%COMP%]   .item-bf[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#e67f22!important}@media (min-width: 960px){.formly-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(75px,1fr));gap:1.5rem}.formly-list[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{top:4px}.formly-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:75px;height:75px}}"]}),U})();var nt=b(1378),Le=b(3620),rt=b(3997),ot=b(3019),De=b(9397),lt=b(4664),at=b(2096),je=b(1993),st=b(5661),xe=b(8726);function ut(g,U){1&g&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function ft(g,U){if(1&g&&(e.TgZ(0,"legend",5)(1,"label",6),e._uU(2),e.YNc(3,ut,2,0,"span",7),e.qZA()()),2&g){const k=e.oxw();e.xp6(1),e.Q6J("for",k.field.id),e.xp6(1),e.hij(" ",k.props.label," "),e.xp6(1),e.Q6J("ngIf",k.props.required)}}function ct(g,U){1&g&&e.GkF(0)}function dt(g,U){1&g&&e.GkF(0)}function ht(g,U){if(1&g&&e._UZ(0,"div",9),2&g){const k=e.oxw();e.Q6J("innerHTML",k.parsedDescription,e.oJD)}}function pt(g,U){1&g&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"Loading..."),e.qZA()())}function mt(g,U){1&g&&e.GkF(0)}function vt(g,U){if(1&g&&(e.ynx(0),e.TgZ(1,"div",18),e.YNc(2,mt,1,0,"ng-container",2),e.qZA(),e.BQk()),2&g){const k=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",k.additionalInputsTemplate)}}function yt(g,U){if(1&g&&(e.TgZ(0,"div",19),e._UZ(1,"formly-validation-message",20),e.qZA()),2&g){const k=e.oxw(2);e.Udp("display","block"),e.xp6(1),e.Q6J("field",k.field)}}function gt(g,U){if(1&g){const k=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"input",12),e.NdJ("ngModelChange",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.inputValue=M)})("selectItem",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.selectEntity(M))})("focus",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.focusSubject.next(M.target.value))}),e.qZA(),e.YNc(3,pt,3,0,"div",13),e.qZA(),e.YNc(4,vt,3,1,"ng-container",14),e.qZA(),e.YNc(5,yt,2,3,"div",15)}if(2&g){const k=e.oxw();e.xp6(2),e.ekj("is-invalid",k.showError),e.Q6J("ngModel",k.inputValue)("formlyAttributes",k.field)("ngbTypeahead",k.search)("editable",!1)("inputFormatter",k.inputFormatter)("resultFormatter",k.resultFormatter),e.xp6(1),e.Q6J("ngIf",k.searching),e.xp6(1),e.Q6J("ngIf",k.additionalInputsTemplate),e.xp6(1),e.Q6J("ngIf",k.showError)}}let bt=(()=>{var g;class U{constructor(T,M,B,z){this.customFormUtilsService=T,this.changeDetectorRef=M,this.toastService=B,this.destroyRef=z,this.showError=!1,this.selectItemEvent=new e.vpe,this.populateListEvent=new e.vpe,this.inputValue="",this.inputFormatter=te=>te.name,this.focusSubject=new Oe.x,this.searching=!1,this.formlyFieldValues=[],this.search=te=>{const oe=te.pipe((0,Le.b)(700),(0,rt.x)());return(0,ot.T)(oe,this.focusSubject).pipe((0,De.b)(()=>this.setSearching(!0)),(0,lt.w)(le=>le.length<3?(0,at.of)([]):this.searchFunction(le)),(0,De.b)(()=>this.setSearching(!1)))}}ngOnInit(){this.formControl=this.field.formControl,this.props=this.field.props,this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):void 0,this.formlyFieldValues=Array.isArray(this.formControl.value)?this.formControl.value:Array.isArray(this.field.defaultValue)?this.field.defaultValue:[],this.populateListEvent.emit(this.formlyFieldValues),this.formControl.updateValueAndValidity(),this.removeItemObservable.pipe((0,je.sL)(this.destroyRef)).subscribe(T=>{const M=this.formlyFieldValues.indexOf(T);M>-1&&(this.formlyFieldValues.splice(M,1),this.formControl.setValue([...this.formlyFieldValues]))})}resultFormatter(T){return T.name.indexOf("&")>-1?function it(g){const U=document.createElement("TEXTAREA");return U.innerHTML=g,U.value}(T.name):T.name}setSearching(T){this.searching=T,this.changeDetectorRef.detectChanges()}selectEntity(T){const M=T.item;if(T.preventDefault(),this.formlyFieldValues.includes(M.id))return this.toastService.show({content:`L'elemento <strong>${M.name}</strong> \xe8 gi\xe0 stato aggiunto alla lista!`,level:nt.m.ERROR}),void(this.inputValue="");this.formlyFieldValues.push(M.id),this.selectItemEvent.emit(T.item),this.inputValue="",this.updateFieldValue()}updateFieldValue(){this.formControl.setValue([...this.formlyFieldValues])}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(A.d6),e.Y36(e.sBO),e.Y36(st.k),e.Y36(e.ktI))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-typeahead"]],inputs:{field:"field",showError:"showError",removeItemObservable:"removeItemObservable",searchFunction:"searchFunction",resultsTemplate:"resultsTemplate",additionalInputsTemplate:"additionalInputsTemplate"},outputs:{selectItemEvent:"selectItemEvent",populateListEvent:"populateListEvent"},decls:7,vars:6,consts:[[1,"mb-3","rounded","px-3","pt-2","pb-3","formly-fieldset"],["class","legend-reset fs-reset mb-0 px-2 mw-100 lh-1 py-1",4,"ngIf"],[4,"ngTemplateOutlet"],["class","form-text text-muted",3,"innerHTML",4,"ngIf"],["typeaheadTemplate",""],[1,"legend-reset","fs-reset","mb-0","px-2","mw-100","lh-1","py-1"],[1,"form-label","mb-0","mw-100","text-truncate",3,"for"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[1,"form-text","text-muted",3,"innerHTML"],[1,"d-flex","flex-column","flex-sm-row"],[1,"position-relative","flex-grow-1"],["type","text","placeholder","Cerca...","container","body",1,"form-control",3,"ngModel","formlyAttributes","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelChange","selectItem","focus"],["class","spinner-border spinner-border-sm text-primary position-absolute","role","status",4,"ngIf"],[4,"ngIf"],["class","invalid-feedback",3,"display",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute"],[1,"visually-hidden"],[1,"ms-sm-3","mt-3","mt-sm-0"],[1,"invalid-feedback"],[3,"field"]],template:function(T,M){if(1&T&&(e.TgZ(0,"fieldset",0),e.YNc(1,ft,4,3,"legend",1),e.YNc(2,ct,1,0,"ng-container",2),e.YNc(3,dt,1,0,"ng-container",2),e.YNc(4,ht,1,1,"div",3),e.qZA(),e.YNc(5,gt,6,11,"ng-template",null,4,e.W1O)),2&T){const B=e.MAs(6);e.ekj("has-error",M.formControl.invalid),e.xp6(1),e.Q6J("ngIf",M.props.label),e.xp6(1),e.Q6J("ngTemplateOutlet",B),e.xp6(1),e.Q6J("ngTemplateOutlet",M.resultsTemplate),e.xp6(1),e.Q6J("ngIf",M.parsedDescription)}},dependencies:[y.O5,y.tP,w.JD,w.M2,D.Fj,D.JJ,D.On,xe.dR],styles:[".spinner-border[_ngcontent-%COMP%]{top:calc(50% - 8px);right:10px}"],changeDetection:0}),U})();function _t(g,U){if(1&g){const k=e.EpF();e.TgZ(0,"app-formly-typeahead-content",3),e.NdJ("removeEvent",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.removeItemSubject.next(M))}),e.qZA()}if(2&g){const k=e.oxw();e.Q6J("listTitle",k.listTitle)("list",k.list)("loading",k.loading)("defaultImage",k.defaultThumb)}}function Ot(g,U){if(1&g){const k=e.EpF();e.TgZ(0,"app-domain-select",4),e.NdJ("modelChange",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.selectedDomain=M)}),e.qZA()}if(2&g){const k=e.oxw();e.Q6J("model",k.selectedDomain)}}let Be=(()=>{var g;class U{constructor(T,M){var z,B=this;this.globalsService=T,this.changeDetectorRef=M,this.showError=!1,this.listTitle="",this.defaultThumb="/assets/default_avatar.png",this.removeItemSubject=new Oe.x,this.list=[],this.hasDomainSelect=!1,this.loading=!0,this.lastResults=[],this.search=function(){var te=(0,pe.Z)(function*(oe){return B.lastDomain===B.selectedDomain&&B.lastSearchedValueWithoutResult&&oe.startsWith(B.lastSearchedValueWithoutResult)?[]:(B.lastDomain=B.selectedDomain,B.lastResults=yield B.searchFunction(oe,(0,A.vV)(B.selectedDomain)),B.lastSearchedValueWithoutResult=B.lastResults.length?void 0:oe,B.lastResults.map(ge=>({id:ge.id,name:ge.title})))});return function(oe){return te.apply(this,arguments)}}(),this.selectedDomain=this.lastDomain=(null===(z=this.globalsService.credentials)||void 0===z?void 0:z.site.domain)||A.ig.FORUMFREE}ngOnInit(){this.hasDomainSelect=!0===this.field.props.selectDomain}populateListEvent(T){var M=this;return(0,pe.Z)(function*(){M.list=(yield M.populateFunction(T)).sort((B,z)=>B.title.localeCompare(z.title)),M.loading=!1,M.changeDetectorRef.detectChanges()})()}selectItemEvent(T){const M=this.lastResults.find(B=>B.id===T.id);M&&(this.list=[...this.list,this.createEntityFunction(M)])}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(_e.d),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-forum-typeahead"]],inputs:{field:"field",showError:"showError",listTitle:"listTitle",defaultThumb:"defaultThumb",searchFunction:"searchFunction",populateFunction:"populateFunction",createEntityFunction:"createEntityFunction"},decls:5,vars:6,consts:[[3,"field","showError","removeItemObservable","searchFunction","resultsTemplate","additionalInputsTemplate","populateListEvent","selectItemEvent"],["contentList",""],["circuitSelect",""],[3,"listTitle","list","loading","defaultImage","removeEvent"],[3,"model","modelChange"]],template:function(T,M){if(1&T&&(e.TgZ(0,"app-formly-typeahead",0),e.NdJ("populateListEvent",function(z){return M.populateListEvent(z)})("selectItemEvent",function(z){return M.selectItemEvent(z)}),e.qZA(),e.YNc(1,_t,1,4,"ng-template",null,1,e.W1O),e.YNc(3,Ot,1,1,"ng-template",null,2,e.W1O)),2&T){const B=e.MAs(2),z=e.MAs(4);e.Q6J("field",M.field)("showError",M.showError)("removeItemObservable",M.removeItemSubject)("searchFunction",M.search)("resultsTemplate",B)("additionalInputsTemplate",M.hasDomainSelect?z:void 0)}},dependencies:[ye,tt,bt],encapsulation:2,changeDetection:0}),U})(),Et=(()=>{var g;class U extends w.fS{constructor(T){var M;super(),M=this,this.forumService=T,this.defaultThumb="/assets/default_forum.jpg",this.search=function(){var B=(0,pe.Z)(function*(z,te){const oe=(0,A.$t)(te);return oe?(yield M.forumService.searchForumByName(z,te)).map(le=>({id:`${oe.shortdomain}${le.id}`,title:le.domain,preview:le.preview})):[]});return function(z,te){return B.apply(this,arguments)}}(),this.populateList=function(){var B=(0,pe.Z)(function*(z){const te=yield M.forumService.getForumDetailsFromCids(z),oe=(0,A.tX)(z,te.map(le=>le.cid));return[...te.map(le=>M.generateTypeaheadContentEntity(le.cid,le.domain,le.preview)),...oe.map(le=>M.generateTypeaheadContentEntity(le,le,M.defaultThumb,!0))]});return function(z){return B.apply(this,arguments)}}(),this.searchToTypeaheadContentEntity=B=>this.generateTypeaheadContentEntity(B.id,B.title,B.preview)}generateTypeaheadContentEntity(T,M,B,z=!1){const te=(0,A.$t)(T);if(!te)throw new Error(`Invalid cid ${T}!`);return{id:T,title:M,image:B,type:te.shortdomain,link:"https://"+(z?`${te.domain}/?cid=${te.id}`:`${M}.${te.domain}`)}}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(ve._))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-list"]],features:[e.qOj],decls:1,vars:6,consts:[["listTitle","Lista forum",3,"field","showError","defaultThumb","searchFunction","populateFunction","createEntityFunction"]],template:function(T,M){1&T&&e._UZ(0,"app-formly-forum-typeahead",0),2&T&&e.Q6J("field",M.field)("showError",M.showError)("defaultThumb",M.defaultThumb)("searchFunction",M.search)("populateFunction",M.populateList)("createEntityFunction",M.searchToTypeaheadContentEntity)},dependencies:[Be],encapsulation:2,changeDetection:0}),U})();function Tt(g,U){1&g&&(e.ynx(0),e.TgZ(1,"p",3),e._UZ(2,"span",4),e.qZA(),e.BQk())}function xt(g,U){if(1&g&&(e.ynx(0),e._UZ(1,"option",9),e.BQk()),2&g){const k=U.$implicit;e.xp6(1),e.Q6J("ngValue",k.id)("innerHTML"," - "+k.name,e.oJD)}}function wt(g,U){if(1&g&&(e.ynx(0),e.YNc(1,xt,2,2,"ng-container",7),e.BQk()),2&g){const k=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",k.subsections)}}function At(g,U){if(1&g&&(e.ynx(0),e._UZ(1,"option",9),e.YNc(2,wt,2,1,"ng-container",8),e.BQk()),2&g){const k=U.$implicit;e.xp6(1),e.Q6J("ngValue",k.id)("innerHTML",k.name,e.oJD),e.xp6(1),e.Q6J("ngIf",k.subsections&&k.subsections.length)}}function Ct(g,U){if(1&g&&(e.ynx(0),e._UZ(1,"option",9),e.BQk()),2&g){const k=U.$implicit;e.xp6(1),e.Q6J("ngValue",k)("innerHTML"," -- Sezione ristretta -- #"+k,e.oJD)}}function St(g,U){if(1&g&&(e.ynx(0),e.YNc(1,Ct,2,2,"ng-container",7),e.BQk()),2&g){const k=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",k.restrictedOrDeletedSections)}}function kt(g,U){if(1&g&&(e.ynx(0),e.TgZ(1,"select",6),e.YNc(2,At,3,3,"ng-container",7),e.YNc(3,St,2,1,"ng-container",8),e.qZA(),e.BQk()),2&g){const k=e.oxw(2);e.xp6(1),e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("formlyAttributes",k.field),e.xp6(1),e.Q6J("ngForOf",k.sectionsList),e.xp6(1),e.Q6J("ngIf",k.restrictedOrDeletedSections.length>0)}}function Nt(g,U){if(1&g&&(e.ynx(0),e._UZ(1,"option",9),e.BQk()),2&g){const k=U.$implicit;e.xp6(1),e.Q6J("ngValue",k.id)("innerHTML"," - "+k.name,e.oJD)}}function Mt(g,U){if(1&g&&(e.ynx(0),e.YNc(1,Nt,2,2,"ng-container",7),e.BQk()),2&g){const k=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",k.subsections)}}function Lt(g,U){if(1&g&&(e.ynx(0),e._UZ(1,"option",9),e.YNc(2,Mt,2,1,"ng-container",8),e.BQk()),2&g){const k=U.$implicit;e.xp6(1),e.Q6J("ngValue",k.id)("innerHTML",k.name,e.oJD),e.xp6(1),e.Q6J("ngIf",k.subsections&&k.subsections.length)}}function Ft(g,U){if(1&g&&(e.ynx(0),e._UZ(1,"option",9),e.BQk()),2&g){const k=U.$implicit;e.xp6(1),e.Q6J("ngValue",k)("innerHTML"," -- Sezione ristretta -- #"+k,e.oJD)}}function Pt(g,U){if(1&g&&(e.ynx(0),e.YNc(1,Ft,2,2,"ng-container",7),e.BQk()),2&g){const k=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",k.restrictedOrDeletedSections)}}function qt(g,U){if(1&g&&(e.TgZ(0,"select",10),e.YNc(1,Lt,3,3,"ng-container",7),e.YNc(2,Pt,2,1,"ng-container",8),e.qZA()),2&g){const k=e.oxw(2);e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("formlyAttributes",k.field),e.xp6(1),e.Q6J("ngForOf",k.sectionsList),e.xp6(1),e.Q6J("ngIf",k.restrictedOrDeletedSections.length>0)}}function It(g,U){if(1&g&&(e.YNc(0,kt,4,6,"ng-container",1),e.YNc(1,qt,3,6,"ng-template",null,5,e.W1O)),2&g){const k=e.MAs(2),T=e.oxw();e.Q6J("ngIf",T.field.props.multiple)("ngIfElse",k)}}const Rt=function(g){return{"no-label":g}};let Dt=(()=>{var g;class U extends w.fS{constructor(T,M){super(),this.forumService=T,this.changeDetectorRef=M,this.loading=!0,this.sectionsList=[],this.restrictedOrDeletedSections=[]}prePopulate(T){T.props||(T.props={}),T.props.resetButton=!0}ngOnInit(){var T=this;return(0,pe.Z)(function*(){T.field.defaultValue=void 0,(0,A.o8)(T.field.props,"multiple")||(T.field.props.multiple=!0),T.restrictedOrDeletedSections=Array.isArray(T.field.formControl.value)?[...T.field.formControl.value]:[];const M=yield T.forumService.getSections();T.sectionsList=M.map(B=>{const z=T.restrictedOrDeletedSections.indexOf(B.id);return z>-1&&T.restrictedOrDeletedSections.splice(z,1),(0,N.Z)((0,N.Z)({},B),{subsections:T.flattenSubsections(B)})}),T.loading=!1,T.field.formControl.updateValueAndValidity(),T.changeDetectorRef.detectChanges()})()}flattenSubsections(T){let M=[],B=-1;if(T.subsections&&T.subsections.length)for(const z of T.subsections)B=this.restrictedOrDeletedSections.indexOf(z.id),B>-1&&this.restrictedOrDeletedSections.splice(B,1),M.push(z),z.subsections&&(M=[...M,...this.flattenSubsections(z)]);return M}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(ve._),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-sections"]],features:[e.qOj],decls:4,vars:5,consts:[[1,"position-relative","wrapper",3,"ngClass"],[4,"ngIf","ngIfElse"],["formSelect",""],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],["single",""],["multiple","",1,"form-select",3,"formControl","formlyAttributes"],[4,"ngFor","ngForOf"],[4,"ngIf"],[3,"ngValue","innerHTML"],[1,"form-select",3,"formControl","formlyAttributes"]],template:function(T,M){if(1&T&&(e.TgZ(0,"div",0),e.YNc(1,Tt,3,0,"ng-container",1),e.YNc(2,It,3,2,"ng-template",null,2,e.W1O),e.qZA()),2&T){const B=e.MAs(3);e.Q6J("ngClass",e.VKq(3,Rt,!M.props.label)),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,w.JD,D.YN,D.Kr,D.EJ,D.K7,D.JJ,D.oH],encapsulation:2}),U})();var jt=b(8418);let Bt=(()=>{var g;class U extends w.fS{constructor(T){var M;super(),M=this,this.userService=T,this.defaultThumb="/assets/default_avatar.png",this.search=function(){var B=(0,pe.Z)(function*(z,te){return(yield M.userService.searchUserByName(z,te)).map(oe=>({id:oe.uid,title:oe.nickname,preview:oe.avatar}))});return function(z,te){return B.apply(this,arguments)}}(),this.populateList=function(){var B=(0,pe.Z)(function*(z){const te=yield M.userService.getDetailsFromUids(z),oe=(0,A.tX)(z,te.map(le=>le.uid));return[...te.map(le=>M.generateTypeaheadContentEntity(le.uid,le.nickname,le.avatar)),...oe.map(le=>M.generateTypeaheadContentEntity(le,le,M.defaultThumb))]});return function(z){return B.apply(this,arguments)}}(),this.searchToTypeaheadContentEntity=B=>this.generateTypeaheadContentEntity(B.id,B.title,B.preview)}generateTypeaheadContentEntity(T,M,B){const z=T.substring(0,2),te=(0,A.A)(z);if(!te)throw new Error(`Invalid uid ${T}!`);return{id:T,title:M,image:B,type:z,link:`${te}/?act=Profile&MID=${T.substring(2)}`}}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(jt.K))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-users"]],features:[e.qOj],decls:1,vars:6,consts:[["listTitle","Lista utenti",3,"field","showError","defaultThumb","searchFunction","populateFunction","createEntityFunction"]],template:function(T,M){1&T&&e._UZ(0,"app-formly-forum-typeahead",0),2&T&&e.Q6J("field",M.field)("showError",M.showError)("defaultThumb",M.defaultThumb)("searchFunction",M.search)("populateFunction",M.populateList)("createEntityFunction",M.searchToTypeaheadContentEntity)},dependencies:[Be],encapsulation:2,changeDetection:0}),U})(),Ut=(()=>{var g;class U extends w.fS{constructor(){super(...arguments),this.defaultOptions={props:{label:""}}}}return(g=U).\u0275fac=function(){let k;return function(M){return(k||(k=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-label"]],features:[e.qOj],decls:2,vars:1,template:function(T,M){1&T&&(e.TgZ(0,"h5"),e._uU(1),e.qZA()),2&T&&(e.xp6(1),e.Oqu(M.props.label))},encapsulation:2,changeDetection:0}),U})(),Zt=(()=>{var g;class U{constructor(T){this.domPurifyService=T,this.purifyInlineCssHook=(0,A._H)(["background-color","color"],!0)}sanitizeHtml(T){this.domPurifyService.instance.addHook(this.purifyInlineCssHook.name,this.purifyInlineCssHook.callback);const M=this.domPurifyService.sanitizeAsString(T,A.CO.WYSIWYG);return this.domPurifyService.instance.removeHook(this.purifyInlineCssHook.name),M}}return(g=U).\u0275fac=function(T){return new(T||g)(e.LFG(A.WB))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),U})();const Fe={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},Pe=new e.OlP("config",{providedIn:"root",factory:()=>({modules:Fe})});var qe=b(6593),Vt=b(4911),Ht=b(2664),Jt=b(4036),Qt=b(7394),Ie=b(2438),zt=b(7081),Ue=b(9769);function Yt(g,U){1&g&&e._UZ(0,"pre",3)}function Gt(g,U){if(1&g&&e.YNc(0,Yt,1,0,"pre",2),2&g){const k=e.oxw(),T=e.MAs(6);e.Q6J("ngIf",k.preserve)("ngIfElse",T)}}function Kt(g,U){1&g&&e._UZ(0,"pre",3)}function Wt(g,U){if(1&g&&e.YNc(0,Kt,1,0,"pre",2),2&g){const k=e.oxw(),T=e.MAs(6);e.Q6J("ngIf",k.preserve)("ngIfElse",T)}}function $t(g,U){1&g&&e._UZ(0,"div",3)}const Xt=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],en=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function tn(g,U){1&g&&e._UZ(0,"div",1)}function nn(g,U){1&g&&e._UZ(0,"pre",1)}const Ce=(g,U)=>g||U||"html";let Re=(()=>{var g;class U{constructor(T,M){var B=this;this.config=M,this.quill$=(0,Vt.P)((0,pe.Z)(function*(){var z;if(!B.Quill){const te=B.document.addEventListener;B.document.addEventListener=B.document.__zone_symbol__addEventListener||B.document.addEventListener;const oe=yield Promise.resolve().then(b.t.bind(b,7536,19));B.document.addEventListener=te,B.Quill=oe.default?oe.default:oe}return null===(z=B.config.customOptions)||void 0===z||z.forEach(te=>{const oe=B.Quill.import(te.import);oe.whitelist=te.whitelist,B.Quill.register(oe,!0,B.config.suppressGlobalRegisterWarning)}),yield B.registerCustomModules(B.Quill,B.config.customModules,B.config.suppressGlobalRegisterWarning)})).pipe((0,zt.d)({bufferSize:1,refCount:!0})),this.document=T.get(y.K0),this.config||(this.config={modules:Fe})}getQuill(){return this.quill$}registerCustomModules(T,M,B){return(0,pe.Z)(function*(){if(Array.isArray(M))for(let{implementation:z,path:te}of M)(0,Ht.b)(z)&&(z=yield(0,Jt.z)(z)),T.register(te,z,B);return T})()}}return(g=U).\u0275fac=function(T){return new(T||g)(e.LFG(e.zs3),e.LFG(Pe,8))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),U})(),rn=(()=>{var g;class U{constructor(){this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onNativeFocus=new e.vpe,this.onNativeBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.elementRef=(0,e.f3M)(e.SBq),this.document=(0,e.f3M)(y.K0),this.cd=(0,e.f3M)(e.sBO),this.domSanitizer=(0,e.f3M)(qe.H7),this.platformId=(0,e.f3M)(e.Lbi),this.renderer=(0,e.f3M)(e.Qsj),this.zone=(0,e.f3M)(e.R0b),this.service=(0,e.f3M)(Re),this.valueGetter=(T,M)=>{let B=M.querySelector(".ql-editor").innerHTML;("<p><br></p>"===B||"<div><br></div>"===B)&&(B=this.defaultEmptyValue);let z=B;const te=Ce(this.format,this.service.config.format);if("text"===te)z=T.getText();else if("object"===te)z=T.getContents();else if("json"===te)try{z=JSON.stringify(T.getContents())}catch(oe){z=T.getText()}return z},this.valueSetter=(T,M)=>{const B=Ce(this.format,this.service.config.format);if("html"===B)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(M=this.domSanitizer.sanitize(e.q3G.HTML,M)),T.clipboard.convert(M);if("json"===B)try{return JSON.parse(M)}catch(z){return[{insert:M}]}return M},this.selectionChangeHandler=(T,M,B)=>{const z=this.trackChanges||this.service.config.trackChanges,te=!T&&!!this.onModelTouched&&("user"===B||z&&"all"===z);!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!te||this.zone.run(()=>{null===T?this.onBlur.emit({editor:this.quillEditor,source:B}):null===M&&this.onFocus.emit({editor:this.quillEditor,source:B}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:M,range:T,source:B}),te&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(T,M,B)=>{const z=this.quillEditor.getText(),te=this.quillEditor.getContents();let oe=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===oe||"<div><br></div>"===oe)&&(oe=this.defaultEmptyValue);const le=this.trackChanges||this.service.config.trackChanges,ge=("user"===B||le&&"all"===le)&&!!this.onModelChange;!this.onContentChanged.observed&&!ge||this.zone.run(()=>{ge&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:te,delta:T,editor:this.quillEditor,html:oe,oldDelta:M,source:B,text:z}),this.cd.markForCheck()})},this.editorChangeHandler=(T,M,B,z)=>{if(this.onEditorChanged.observed)if("text-change"===T){const te=this.quillEditor.getText(),oe=this.quillEditor.getContents();let le=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===le||"<div><br></div>"===le)&&(le=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:oe,delta:M,editor:this.quillEditor,event:T,html:le,oldDelta:B,source:z,text:te}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:T,oldRange:B,range:M,source:z}),this.cd.markForCheck()})}}static normalizeClassNames(T){return T.trim().split(" ").reduce((B,z)=>{const te=z.trim();return te&&B.push(te),B},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,y.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,Ue.z)(T=>{var M;const B=[this.service.registerCustomModules(T,this.customModules)],z=null!==(M=this.beforeRender)&&void 0!==M?M:this.service.config.beforeRender;return z&&B.push(z()),Promise.all(B).then(()=>T)})).subscribe(T=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const M=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),B=Object.assign({},this.modules||this.service.config.modules);M?B.toolbar=M:void 0===B.toolbar&&(B.toolbar=Fe.toolbar);let z=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===z&&(z="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(be=>{this.renderer.setStyle(this.editorElem,be,this.styles[be])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(be=>{const we=T.import(be.import);we.whitelist=be.whitelist,T.register(we,!0)});let te=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;te||(te=this.service.config.bounds?this.service.config.bounds:this.document.body);let oe=this.debug;!oe&&!1!==oe&&this.service.config.debug&&(oe=this.service.config.debug);let le=this.readOnly;!le&&!1!==this.readOnly&&(le=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let ge=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(ge=this.service.config.defaultEmptyValue);let Ae=this.scrollingContainer;!Ae&&null!==this.scrollingContainer&&(Ae=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let Te=this.formats;if(!Te&&void 0===Te&&(Te=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new T(this.editorElem,{bounds:te,debug:oe,formats:Te,modules:B,placeholder:z,readOnly:le,defaultEmptyValue:ge,scrollingContainer:Ae,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container.addEventListener("mousedown",Se=>Se.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder){var be,we;const Se=null===(be=this.quillEditor)||void 0===be||null===(be=be.theme)||void 0===be?void 0:be.tooltip,Ne=null==Se||null===(we=Se.root)||void 0===we?void 0:we.querySelector("input[data-link]");null!=Ne&&Ne.dataset&&(Ne.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===Ce(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const we=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(we,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var T;this.dispose(),null===(T=this.quillSubscription)||void 0===T||T.unsubscribe(),this.quillSubscription=null}ngOnChanges(T){if(this.quillEditor){if(T.readOnly&&this.quillEditor.enable(!T.readOnly.currentValue),T.placeholder&&(this.quillEditor.root.dataset.placeholder=T.placeholder.currentValue),T.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=T.defaultEmptyValue.currentValue),T.styles){const M=T.styles.currentValue,B=T.styles.previousValue;B&&Object.keys(B).forEach(z=>{this.renderer.removeStyle(this.editorElem,z)}),M&&Object.keys(M).forEach(z=>{this.renderer.setStyle(this.editorElem,z,this.styles[z])})}if(T.classes){const M=T.classes.currentValue,B=T.classes.previousValue;B&&this.removeClasses(B),M&&this.addClasses(M)}T.debounceTime&&this.addQuillEventListeners()}}addClasses(T){U.normalizeClassNames(T).forEach(M=>{this.renderer.addClass(this.editorElem,M)})}removeClasses(T){U.normalizeClassNames(T).forEach(M=>{this.renderer.removeClass(this.editorElem,M)})}writeValue(T){if(this.filterNull&&null===T||(this.content=T,!this.quillEditor))return;const M=Ce(this.format,this.service.config.format),B=this.valueSetter(this.quillEditor,T);if(this.compareValues){const z=this.quillEditor.getContents();if(JSON.stringify(z)===JSON.stringify(B))return}T?"text"===M?this.quillEditor.setText(T):this.quillEditor.setContents(B):this.quillEditor.setText("")}setDisabledState(T=this.disabled){this.disabled=T,this.quillEditor&&(T?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(T){this.onModelChange=T}registerOnTouched(T){this.onModelTouched=T}registerOnValidatorChange(T){this.onValidatorChanged=T}validate(){if(!this.quillEditor)return null;const T={};let M=!0;const B=this.quillEditor.getText(),z=this.trimOnValidation?B.trim().length:1===B.length&&0===B.trim().length?0:B.length-1,te=this.quillEditor.getContents().ops,oe=te&&1===te.length&&["\n",""].includes(te[0].insert);return this.minLength&&z&&z<this.minLength&&(T.minLengthError={given:z,minLength:this.minLength},M=!1),this.maxLength&&z>this.maxLength&&(T.maxLengthError={given:z,maxLength:this.maxLength},M=!1),this.required&&!z&&oe&&(T.requiredError={empty:!0},M=!1),M?null:T}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new Qt.w0,this.subscription.add((0,Ie.R)(this.quillEditor,"selection-change").subscribe(([B,z,te])=>{this.selectionChangeHandler(B,z,te)}));let T=(0,Ie.R)(this.quillEditor,"text-change"),M=(0,Ie.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(T=T.pipe((0,Le.b)(this.debounceTime)),M=M.pipe((0,Le.b)(this.debounceTime))),this.subscription.add(T.subscribe(([B,z,te])=>{this.textChangeHandler(B,z,te)})),this.subscription.add(M.subscribe(([B,z,te,oe])=>{this.editorChangeHandler(B,z,te,oe)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275dir=e.lG2({type:g,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[e.TTD]}),U})(),Ze=(()=>{var g;class U extends rn{}return(g=U).\u0275fac=function(){let k;return function(M){return(k||(k=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:D.JU,useExisting:(0,e.Gpc)(()=>g)},{multi:!0,provide:D.Cf,useExisting:(0,e.Gpc)(()=>g)}]),e.qOj,e.jDz],ngContentSelectors:en,decls:7,vars:2,consts:[[3,"ngIf"],["noPreserveTpl",""],["quill-editor-element","",4,"ngIf","ngIfElse"],["quill-editor-element",""]],template:function(T,M){1&T&&(e.F$t(Xt),e.YNc(0,Gt,1,2,"ng-template",0),e.Hsn(1),e.Hsn(2,1),e.Hsn(3,2),e.YNc(4,Wt,1,2,"ng-template",0),e.YNc(5,$t,1,0,"ng-template",null,1,e.W1O)),2&T&&(e.Q6J("ngIf","top"!==M.toolbarPosition),e.xp6(4),e.Q6J("ngIf","top"===M.toolbarPosition))},dependencies:[y.ez,y.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),U})(),on=(()=>{var g;class U{constructor(T,M){this.sanitizer=T,this.service=M,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(T){if(T.theme?this.themeClass=`ql-${T.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),T.content){const M=T.content.currentValue,B=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=B?M:this.sanitizer.bypassSecurityTrustHtml(M)}}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(qe.H7),e.Y36(Re))},g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(T,M){1&T&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&T&&(e.Q6J("ngClass",M.themeClass),e.xp6(1),e.Q6J("innerHTML",M.innerHTML,e.oJD))},dependencies:[y.ez,y.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),U})(),ln=(()=>{var g;class U{constructor(T,M,B,z,te,oe){this.elementRef=T,this.renderer=M,this.zone=B,this.service=z,this.domSanitizer=te,this.platformId=oe,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new e.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(le,ge)=>{const Ae=Ce(this.format,this.service.config.format);let Te=ge;if("text"===Ae)le.setText(Te);else{if("html"===Ae)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(ge=this.domSanitizer.sanitize(e.q3G.HTML,ge)),Te=le.clipboard.convert(ge);else if("json"===Ae)try{Te=JSON.parse(ge)}catch(be){Te=[{insert:ge}]}le.setContents(Te)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(T){this.quillEditor&&T.content&&this.valueSetter(this.quillEditor,T.content.currentValue)}ngAfterViewInit(){(0,y.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,Ue.z)(T=>{var M;const B=[this.service.registerCustomModules(T,this.customModules)],z=null!==(M=this.beforeRender)&&void 0!==M?M:this.service.config.beforeRender;return z&&B.push(z()),Promise.all(B).then(()=>T)})).subscribe(T=>{const M=Object.assign({},this.modules||this.service.config.modules);M.toolbar=!1,this.customOptions.forEach(oe=>{const le=T.import(oe.import);le.whitelist=oe.whitelist,T.register(le,!0)});let B=this.debug;!B&&!1!==B&&this.service.config.debug&&(B=this.service.config.debug);let z=this.formats;!z&&void 0===z&&(z=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const te=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new T(this.editorElem,{debug:B,formats:z,modules:M,readOnly:!0,strict:this.strict,theme:te})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var T;null===(T=this.quillSubscription)||void 0===T||T.unsubscribe(),this.quillSubscription=null}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Re),e.Y36(qe.H7),e.Y36(e.Lbi))},g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(T,M){1&T&&(e.YNc(0,tn,1,0,"div",0),e.YNc(1,nn,1,0,"pre",0)),2&T&&(e.Q6J("ngIf",!M.preserve),e.xp6(1),e.Q6J("ngIf",M.preserve))},dependencies:[y.ez,y.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),U})(),an=(()=>{var g;class U{static forRoot(T){return{ngModule:U,providers:[{provide:Pe,useValue:T}]}}}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[Ze,ln,on]}),U})();const Ve=["#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];function un(g,U){const k=g.getSelection(!0);k&&(g.insertEmbed(k.index,"image",U,"user"),g.setSelection(k.index+1,0))}function fn(g,U,k){const T=g.getSelection(!0);if(T){const M=k||U;g.insertText(T.index,M,"link",U,"user"),g.setSelection(T.index+M.length,0)}}b(7536);var He=b(9054),cn=b(4825),dn=b(9773),hn=b(4887);const pn=["popover"],mn=function(){return["bottom-start","bottom","auto"]},vn=function(){return["bottom","auto"]};let yn=(()=>{var g;class U{constructor(T,M){this.uploaderService=T,this.changeDetectorRef=M,this.imagesSelect=new e.vpe,this.filesSelect=new e.vpe,this.urlModel="",this.isUrlValid=!1,this.isUploading=!1,this.popoverMessage="",this.resetPopoverTimer=new Oe.x}checkImageUrl(){this.isUrlValid=!!/^https:\/\//i.test(this.urlModel)}insertImageFromUrl(T){T.close(),this.isUrlValid&&((0,He.Or)((0,He.Tb)(this.urlModel).ext)?this.imagesSelect.emit([this.urlModel]):this.filesSelect.emit([this.urlModel])),this.urlModel="",this.isUrlValid=!1}handleSelectionEvent(T,M){var B=this;return(0,pe.Z)(function*(){if(B.isUploading)return;B.isUploading=!0,M.close();const z=T.target;if(z.files&&z.files.length){const te=Array.from(z.files);z.value="",yield B.upload(te)}B.isUploading=!1})()}upload(T){var M=this;return(0,pe.Z)(function*(){const B=[],z=[],te=(yield M.uploaderService.uploadFromList(T)).filter(le=>!le.error);for(const le of te)(le.file.isImage?B:z).push(le.file.url);M.imagesSelect.emit(B),M.filesSelect.emit(z);const oe=T.length-(B.length+z.length);oe>0&&M.showError(oe)})()}showError(T){this.resetPopoverTimer.next(),this.popoverMessage=1===T?`${T} file \xe8 stato scartato perch\xe9 non supportato o il caricamento non \xe8 andato a buon fine!`:`${T} file sono stati scartati perch\xe9 non supportati o il caricamento non \xe8 andato a buon fine!`,this.changeDetectorRef.detectChanges(),this.popoverRef.open(),(0,cn.H)(5e3).pipe((0,dn.R)(this.resetPopoverTimer)).subscribe(()=>{this.closePopover(!0)})}closePopover(T=!1){this.popoverRef.isOpen()&&this.popoverRef.close(T)}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(hn.q),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-wysiwyg-image-upload"]],viewQuery:function(T,M){if(1&T&&e.Gf(pn,5),2&T){let B;e.iGM(B=e.CRH())&&(M.popoverRef=B.first)}},outputs:{imagesSelect:"imagesSelect",filesSelect:"filesSelect"},decls:24,vars:13,consts:[["ngbDropdown","","container","body","display","dynamic",1,"dropdown-no-caret",3,"placement","openChange"],["uploadDropown","ngbDropdown"],["type","button","ngbDropdownToggle","","triggers","manual","container","body","popoverClass","text-justify",3,"disabled","ngbPopover","placement"],["popover","ngbPopover"],["viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg"],["height","10","width","12","x","3","y","4",1,"ql-stroke"],["cx","6","cy","7","r","1",1,"ql-fill"],["points","5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12",1,"ql-even","ql-fill"],["ngbDropdownMenu",""],[1,"d-flex","flex-column","px-2"],["for","wysiwyg-image-url",1,"small","text-muted","me-auto"],[1,"input-group"],["type","text","placeholder","URL","id","wysiwyg-image-url",1,"form-control","form-control-sm","fs-reset",3,"ngModel","ngModelChange"],["type","button",1,"input-group-text","btn","btn-sm","btn-outline-primary","text-center",3,"disabled","click"],[1,"small","text-muted","d-flex","separator","align-items-center","my-2"],[1,"px-3","pb-1"],["type","button",1,"btn","btn-sm","btn-primary","text-center","d-block",3,"disabled","click"],["type","file",1,"d-none",3,"multiple","disabled","change"],["fileInput",""]],template:function(T,M){if(1&T){const B=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("openChange",function(te){return te&&M.closePopover()}),e.TgZ(2,"button",2,3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"rect",5)(6,"circle",6)(7,"polyline",7),e.qZA()(),e.kcU(),e.TgZ(8,"div",8)(9,"div",9)(10,"div")(11,"label",10),e._uU(12,"Inserisci da url:"),e.qZA(),e.TgZ(13,"div",11)(14,"input",12),e.NdJ("ngModelChange",function(te){return M.urlModel=te})("ngModelChange",function(){return M.checkImageUrl()}),e.qZA(),e.TgZ(15,"button",13),e.NdJ("click",function(){e.CHM(B);const te=e.MAs(1);return e.KtG(M.insertImageFromUrl(te))}),e._uU(16,"Salva"),e.qZA()()(),e.TgZ(17,"div",14)(18,"div",15),e._uU(19,"oppure"),e.qZA()(),e.TgZ(20,"button",16),e.NdJ("click",function(){e.CHM(B);const te=e.MAs(23);return e.KtG(te.click())}),e._uU(21,"Carica da locale!"),e.qZA()()()(),e.TgZ(22,"input",17,18),e.NdJ("change",function(te){e.CHM(B);const oe=e.MAs(1);return e.KtG(M.handleSelectionEvent(te,oe))}),e.qZA()}2&T&&(e.Q6J("placement",e.DdM(11,mn)),e.xp6(2),e.ekj("pending",M.isUploading),e.Q6J("disabled",M.isUploading)("ngbPopover",M.popoverMessage)("placement",e.DdM(12,vn)),e.xp6(12),e.Q6J("ngModel",M.urlModel),e.xp6(1),e.Q6J("disabled",!M.isUrlValid),e.xp6(5),e.Q6J("disabled",M.isUploading),e.xp6(2),e.Q6J("multiple",!0)("disabled",M.isUploading))},dependencies:[D.Fj,D.JJ,D.On,xe.jt,xe.iD,xe.Vi,xe.o8],styles:['.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex-grow:1;border-bottom:1px solid #dee2e6}.pending[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}#wysiwyg-image-url[_ngcontent-%COMP%]{max-width:100px}@media (min-width: 300px){#wysiwyg-image-url[_ngcontent-%COMP%]{max-width:150px}}@media (min-width: 576px){#wysiwyg-image-url[_ngcontent-%COMP%]{min-width:230px;max-width:unset}}']}),U})();function gn(g,U){if(1&g&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&g){const k=U.$implicit;e.uIk("value",k.const)("selected",void 0===k.const?"selected":void 0),e.xp6(1),e.Oqu(k.title||"")}}function bn(g,U){if(1&g&&(e.TgZ(0,"select"),e.YNc(1,gn,2,3,"option",4),e.qZA()),2&g){const k=e.oxw().$implicit;e.Tol("ql-"+k.type),e.xp6(1),e.Q6J("ngForOf",k.values)}}function _n(g,U){if(1&g&&e._UZ(0,"button"),2&g){const k=e.oxw().$implicit;e.Tol("ql-"+k.type),e.uIk("value",k.value)}}function On(g,U){if(1&g&&(e.ynx(0),e.YNc(1,bn,2,3,"select",5),e.YNc(2,_n,1,3,"ng-template",null,6,e.W1O),e.BQk()),2&g){const k=U.$implicit,T=e.MAs(3);e.xp6(1),e.Q6J("ngIf",k.values)("ngIfElse",T)}}function En(g,U){if(1&g&&(e.TgZ(0,"span",1),e.YNc(1,On,4,2,"ng-container",4),e.qZA()),2&g){const k=U.$implicit;e.xp6(1),e.Q6J("ngForOf",k)}}let Tn=(()=>{var g;class U{constructor(){this.itemGroups=function sn(){return[[{type:"bold"},{type:"italic"},{type:"underline"},{type:"strike"}],[{type:"blockquote"},{type:"code-block"}],[{type:"header",value:1},{type:"header",value:2}],[{type:"list",value:"ordered"},{type:"list",value:"bullet"}],[{type:"script",value:"sub"},{type:"script",value:"super"}],[{type:"header",values:[{const:1,title:"Titolo 1"},{const:2,title:"Titolo 2"},{const:3,title:"Titolo 3"},{const:4,title:"Titolo 4"},{const:5,title:"Titolo 5"},{const:6,title:"Titolo 6"},{const:void 0,title:"Normale"}]}],[{type:"color",values:[void 0,...Ve].map(g=>({const:g}))},{type:"background",values:[void 0,...Ve].map(g=>({const:g}))}],[{type:"align",values:[void 0,"center","right","justify"].map(g=>({const:g}))}],[{type:"clean"}]]}()}insertImages(T){for(const M of T)un(this.quill,M)}insertLinks(T){for(const M of T)fn(this.quill,M)}}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-wysiwyg-toolbar"]],inputs:{quill:"quill"},decls:4,vars:1,consts:[["class","ql-formats",4,"ngFor","ngForOf"],[1,"ql-formats"],[1,"ql-link"],[1,"d-inline-block",3,"imagesSelect","filesSelect"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["btnTemplate",""]],template:function(T,M){1&T&&(e.YNc(0,En,2,1,"span",0),e.TgZ(1,"span",1),e._UZ(2,"button",2),e.TgZ(3,"app-wysiwyg-image-upload",3),e.NdJ("imagesSelect",function(z){return M.insertImages(z)})("filesSelect",function(z){return M.insertLinks(z)}),e.qZA()()),2&T&&e.Q6J("ngForOf",M.itemGroups)},dependencies:[y.sg,y.O5,D.YN,D.Kr,yn]}),U})();const xn=function(g){return{height:g}};let wn=(()=>{var g;class U extends w.fS{constructor(T,M){super(),this.wysiwygService=T,this.destroyRef=M,this.quillFormControl=new D.NI(""),this.isCustomUpdate=!1}ngOnInit(){this.field.validation=(0,N.Z)((0,N.Z)({},this.field.validation||{}),{},{show:!0}),this.setQuillContent(),this.field.formControl.valueChanges.pipe((0,je.sL)(this.destroyRef)).subscribe(()=>{this.isCustomUpdate||this.setQuillContent()})}setQuillContent(){this.quillFormControl.setValue(this.wysiwygService.sanitizeHtml(this.field.formControl.value||"")),this.checkErrors()}quillContentChange(T){this.isCustomUpdate=!0,this.quillFormControl.markAsTouched(),this.formControl.setValue(T.html),this.checkErrors(),this.isCustomUpdate=!1}checkErrors(){let T;if(this.formControl.setErrors(null),this.quillFormControl.hasError("requiredError"))T=(0,P.ke)();else if(this.quillFormControl.hasError("minLengthError")){const M=this.quillFormControl.getError("minLengthError");T=(0,P.KR)(M.given,M.minLength)}else if(this.quillFormControl.hasError("maxLengthError")){const M=this.quillFormControl.getError("maxLengthError");T=(0,P.S9)(M.given,M.maxLength)}T&&this.formControl.setErrors(T)}}return(g=U).\u0275fac=function(T){return new(T||g)(e.Y36(Zt),e.Y36(e.ktI))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-wysiwyg"]],features:[e.qOj],decls:3,vars:12,consts:[["linkPlaceholder","URL","bounds","self",1,"w-100",3,"formControl","formlyAttributes","placeholder","debounceTime","minLength","maxLength","required","trimOnValidation","styles","onEditorCreated","onContentChanged"],["quill-editor-toolbar",""],[3,"quill"]],template:function(T,M){1&T&&(e.TgZ(0,"quill-editor",0),e.NdJ("onEditorCreated",function(z){return M.quill=z})("onContentChanged",function(z){return M.quillContentChange(z)}),e.TgZ(1,"div",1),e._UZ(2,"app-wysiwyg-toolbar",2),e.qZA()()),2&T&&(e.Q6J("formControl",M.quillFormControl)("formlyAttributes",M.field)("placeholder",M.field.props.placeholder||"")("debounceTime",300)("minLength",M.props.minLength)("maxLength",M.props.maxLength)("required",M.props.required||!1)("trimOnValidation",!0)("styles",e.VKq(10,xn,M.props.height)),e.xp6(2),e.Q6J("quill",M.quill))},dependencies:[w.JD,D.JJ,D.Q7,Ze,D.oH,Tn]}),U})(),An=(()=>{var g;class U{}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,w.X0.forChild({types:[{name:"wysiwyg",component:wn,wrappers:["form-field"]}]}),D.u5,xe.XC,xe.dT,an.forRoot(),D.UX]}),U})(),Cn=(()=>{var g;class U{}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,D.u5]}),U})();var Je=b(3038),Qe=b(5063);let Sn=(()=>{var g;class U{}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,Ee.mZ,P.q,Je.G,Qe.g]}),U})(),kn=(()=>{var g;class U{}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,w.X0.forChild(),D.u5,xe.ZS]}),U})(),Nn=(()=>{var g;class U{}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,Cn,w.X0.forChild(),D.u5,D.UX,Sn,kn]}),U})();var Mn=b(4295);let Ln=(()=>{var g;class U{}return(g=U).\u0275fac=function(T){return new(T||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,P.Vy,P.d3,An,Nn,w.X0.forChild({types:[{name:"array",component:x},{name:"code-editor",component:he,wrappers:["form-field"]},{name:"forum-groups",component:ce,wrappers:["form-field"]},{name:"forum-sections",component:Dt,wrappers:["form-field"]},{name:"label",component:Ut},{name:"forum-users",component:Bt},{name:"forum-list",component:Et}]}),D.u5,Mn.$,P.q,X,xe.ZS,Je.G,Qe.g]}),U})()},7536:function(ke){typeof self<"u"&&self,ke.exports=function(J){var b={};function y(P){if(b[P])return b[P].exports;var A=b[P]={i:P,l:!1,exports:{}};return J[P].call(A.exports,A,A.exports,y),A.l=!0,A.exports}return y.m=J,y.c=b,y.d=function(P,A,w){y.o(P,A)||Object.defineProperty(P,A,{configurable:!1,enumerable:!0,get:w})},y.n=function(P){var A=P&&P.__esModule?function(){return P.default}:function(){return P};return y.d(A,"a",A),A},y.o=function(P,A){return Object.prototype.hasOwnProperty.call(P,A)},y.p="",y(y.s=109)}([function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=y(17),A=y(18),w=y(19),e=y(45),E=y(46),m=y(47),a=y(48),n=y(49),i=y(12),f=y(32),u=y(33),s=y(31),r=y(1);b.default={Scope:r.Scope,create:r.create,find:r.find,query:r.query,register:r.register,Container:P.default,Format:A.default,Leaf:w.default,Embed:a.default,Scroll:e.default,Block:m.default,Inline:E.default,Text:n.default,Attributor:{Attribute:i.default,Class:f.default,Style:u.default,Store:s.default}}},function(J,b,y){"use strict";var s,P=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)o.hasOwnProperty(l)&&(r[l]=o[l])},function(r,o){function l(){this.constructor=r}s(r,o),r.prototype=null===o?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(b,"__esModule",{value:!0});var A=function(s){function r(o){var l=this;return(l=s.call(this,o="[Parchment] "+o)||this).message=o,l.name=l.constructor.name,l}return P(r,s),r}(Error);b.ParchmentError=A;var a,w={},e={},E={},m={};function f(s,r){var o;if(void 0===r&&(r=a.ANY),"string"==typeof s)o=m[s]||w[s];else if(s instanceof Text||s.nodeType===Node.TEXT_NODE)o=m.text;else if("number"==typeof s)s&a.LEVEL&a.BLOCK?o=m.block:s&a.LEVEL&a.INLINE&&(o=m.inline);else if(s instanceof HTMLElement){var l=(s.getAttribute("class")||"").split(/\s+/);for(var t in l)if(o=e[l[t]])break;o=o||E[s.tagName]}return null==o?null:r&a.LEVEL&o.scope&&r&a.TYPE&o.scope?o:null}b.DATA_KEY="__blot",function(s){s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY"}(a=b.Scope||(b.Scope={})),b.create=function n(s,r){var o=f(s);if(null==o)throw new A("Unable to create "+s+" blot");var l=o,t=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:l.create(r);return new l(t,r)},b.find=function i(s,r){return void 0===r&&(r=!1),null==s?null:null!=s[b.DATA_KEY]?s[b.DATA_KEY].blot:r?i(s.parentNode,r):null},b.query=f,b.register=function u(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];if(s.length>1)return s.map(function(t){return u(t)});var o=s[0];if("string"!=typeof o.blotName&&"string"!=typeof o.attrName)throw new A("Invalid definition");if("abstract"===o.blotName)throw new A("Cannot register abstract class");return m[o.blotName||o.attrName]=o,"string"==typeof o.keyName?w[o.keyName]=o:(null!=o.className&&(e[o.className]=o),null!=o.tagName&&(o.tagName=Array.isArray(o.tagName)?o.tagName.map(function(t){return t.toUpperCase()}):o.tagName.toUpperCase(),(Array.isArray(o.tagName)?o.tagName:[o.tagName]).forEach(function(t){(null==E[t]||null==o.className)&&(E[t]=o)}))),o}},function(J,b,y){var P=y(51),A=y(11),w=y(3),e=y(20),E=String.fromCharCode(0),m=function(a){this.ops=Array.isArray(a)?a:null!=a&&Array.isArray(a.ops)?a.ops:[]};m.prototype.insert=function(a,n){var i={};return 0===a.length?this:(i.insert=a,null!=n&&"object"==typeof n&&Object.keys(n).length>0&&(i.attributes=n),this.push(i))},m.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},m.prototype.retain=function(a,n){if(a<=0)return this;var i={retain:a};return null!=n&&"object"==typeof n&&Object.keys(n).length>0&&(i.attributes=n),this.push(i)},m.prototype.push=function(a){var n=this.ops.length,i=this.ops[n-1];if(a=w(!0,{},a),"object"==typeof i){if("number"==typeof a.delete&&"number"==typeof i.delete)return this.ops[n-1]={delete:i.delete+a.delete},this;if("number"==typeof i.delete&&null!=a.insert&&"object"!=typeof(i=this.ops[(n-=1)-1]))return this.ops.unshift(a),this;if(A(a.attributes,i.attributes)){if("string"==typeof a.insert&&"string"==typeof i.insert)return this.ops[n-1]={insert:i.insert+a.insert},"object"==typeof a.attributes&&(this.ops[n-1].attributes=a.attributes),this;if("number"==typeof a.retain&&"number"==typeof i.retain)return this.ops[n-1]={retain:i.retain+a.retain},"object"==typeof a.attributes&&(this.ops[n-1].attributes=a.attributes),this}}return n===this.ops.length?this.ops.push(a):this.ops.splice(n,0,a),this},m.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},m.prototype.filter=function(a){return this.ops.filter(a)},m.prototype.forEach=function(a){this.ops.forEach(a)},m.prototype.map=function(a){return this.ops.map(a)},m.prototype.partition=function(a){var n=[],i=[];return this.forEach(function(f){(a(f)?n:i).push(f)}),[n,i]},m.prototype.reduce=function(a,n){return this.ops.reduce(a,n)},m.prototype.changeLength=function(){return this.reduce(function(a,n){return n.insert?a+e.length(n):n.delete?a-n.delete:a},0)},m.prototype.length=function(){return this.reduce(function(a,n){return a+e.length(n)},0)},m.prototype.slice=function(a,n){a=a||0,"number"!=typeof n&&(n=1/0);for(var i=[],f=e.iterator(this.ops),u=0;u<n&&f.hasNext();){var s;u<a?s=f.next(a-u):(s=f.next(n-u),i.push(s)),u+=e.length(s)}return new m(i)},m.prototype.compose=function(a){var n=e.iterator(this.ops),i=e.iterator(a.ops),f=[],u=i.peek();if(null!=u&&"number"==typeof u.retain&&null==u.attributes){for(var s=u.retain;"insert"===n.peekType()&&n.peekLength()<=s;)s-=n.peekLength(),f.push(n.next());u.retain-s>0&&i.next(u.retain-s)}for(var r=new m(f);n.hasNext()||i.hasNext();)if("insert"===i.peekType())r.push(i.next());else if("delete"===n.peekType())r.push(n.next());else{var o=Math.min(n.peekLength(),i.peekLength()),l=n.next(o),t=i.next(o);if("number"==typeof t.retain){var c={};"number"==typeof l.retain?c.retain=o:c.insert=l.insert;var d=e.attributes.compose(l.attributes,t.attributes,"number"==typeof l.retain);if(d&&(c.attributes=d),r.push(c),!i.hasNext()&&A(r.ops[r.ops.length-1],c)){var _=new m(n.rest());return r.concat(_).chop()}}else"number"==typeof t.delete&&"number"==typeof l.retain&&r.push(t)}return r.chop()},m.prototype.concat=function(a){var n=new m(this.ops.slice());return a.ops.length>0&&(n.push(a.ops[0]),n.ops=n.ops.concat(a.ops.slice(1))),n},m.prototype.diff=function(a,n){if(this.ops===a.ops)return new m;var i=[this,a].map(function(o){return o.map(function(l){if(null!=l.insert)return"string"==typeof l.insert?l.insert:E;throw new Error("diff() called "+(o===a?"on":"with")+" non-document")}).join("")}),f=new m,u=P(i[0],i[1],n),s=e.iterator(this.ops),r=e.iterator(a.ops);return u.forEach(function(o){for(var l=o[1].length;l>0;){var t=0;switch(o[0]){case P.INSERT:t=Math.min(r.peekLength(),l),f.push(r.next(t));break;case P.DELETE:t=Math.min(l,s.peekLength()),s.next(t),f.delete(t);break;case P.EQUAL:t=Math.min(s.peekLength(),r.peekLength(),l);var c=s.next(t),d=r.next(t);A(c.insert,d.insert)?f.retain(t,e.attributes.diff(c.attributes,d.attributes)):f.push(d).delete(t)}l-=t}}),f.chop()},m.prototype.eachLine=function(a,n){n=n||"\n";for(var i=e.iterator(this.ops),f=new m,u=0;i.hasNext();){if("insert"!==i.peekType())return;var s=i.peek(),r=e.length(s)-i.peekLength(),o="string"==typeof s.insert?s.insert.indexOf(n,r)-r:-1;if(o<0)f.push(i.next());else if(o>0)f.push(i.next(o));else{if(!1===a(f,i.next(1).attributes||{},u))return;u+=1,f=new m}}f.length()>0&&a(f,{},u)},m.prototype.transform=function(a,n){if(n=!!n,"number"==typeof a)return this.transformPosition(a,n);for(var i=e.iterator(this.ops),f=e.iterator(a.ops),u=new m;i.hasNext()||f.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===f.peekType())if("insert"===f.peekType())u.push(f.next());else{var s=Math.min(i.peekLength(),f.peekLength()),r=i.next(s),o=f.next(s);if(r.delete)continue;o.delete?u.push(o):u.retain(s,e.attributes.transform(r.attributes,o.attributes,n))}else u.retain(e.length(i.next()));return u.chop()},m.prototype.transformPosition=function(a,n){n=!!n;for(var i=e.iterator(this.ops),f=0;i.hasNext()&&f<=a;){var u=i.peekLength(),s=i.peekType();i.next(),"delete"!==s?("insert"===s&&(f<a||!n)&&(a+=u),f+=u):a-=Math.min(u,a-f)}return a},J.exports=m},function(J,b){"use strict";var y=Object.prototype.hasOwnProperty,P=Object.prototype.toString,A=Object.defineProperty,w=Object.getOwnPropertyDescriptor,e=function(i){return"function"==typeof Array.isArray?Array.isArray(i):"[object Array]"===P.call(i)},E=function(i){if(!i||"[object Object]"!==P.call(i))return!1;var s,f=y.call(i,"constructor"),u=i.constructor&&i.constructor.prototype&&y.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!f&&!u)return!1;for(s in i);return typeof s>"u"||y.call(i,s)},m=function(i,f){A&&"__proto__"===f.name?A(i,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):i[f.name]=f.newValue},a=function(i,f){if("__proto__"===f){if(!y.call(i,f))return;if(w)return w(i,f).value}return i[f]};J.exports=function n(){var i,f,u,s,r,o,l=arguments[0],t=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},t=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});t<c;++t)if(null!=(i=arguments[t]))for(f in i)u=a(l,f),l!==(s=a(i,f))&&(d&&s&&(E(s)||(r=e(s)))?(r?(r=!1,o=u&&e(u)?u:[]):o=u&&E(u)?u:{},m(l,{name:f,newValue:n(d,o,s)})):typeof s<"u"&&m(l,{name:f,newValue:s}));return l}},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.BlockEmbed=b.bubbleFormats=void 0;var P=function(){function p(h,x){for(var N=0;N<x.length;N++){var L=x[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(h,L.key,L)}}return function(h,x,N){return x&&p(h.prototype,x),N&&p(h,N),h}}(),A=function p(h,x,N){null===h&&(h=Function.prototype);var L=Object.getOwnPropertyDescriptor(h,x);if(void 0===L){var D=Object.getPrototypeOf(h);return null===D?void 0:p(D,x,N)}if("value"in L)return L.value;var V=L.get;return void 0===V?void 0:V.call(N)},e=l(y(3)),m=l(y(2)),n=l(y(0)),f=l(y(16)),s=l(y(6)),o=l(y(7));function l(p){return p&&p.__esModule?p:{default:p}}function t(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?p:h}function d(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var O=function(p){function h(){return t(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return d(h,p),P(h,[{key:"attach",value:function(){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"attach",this).call(this),this.attributes=new n.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new m.default).insert(this.value(),(0,e.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,L){var D=n.default.query(N,n.default.Scope.BLOCK_ATTRIBUTE);null!=D&&this.attributes.attribute(D,L)}},{key:"formatAt",value:function(N,L,D,V){this.format(D,V)}},{key:"insertAt",value:function(N,L,D){if("string"==typeof L&&L.endsWith("\n")){var V=n.default.create(S.blotName);this.parent.insertBefore(V,0===N?this:this.next),V.insertAt(0,L.slice(0,-1))}else A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,N,L,D)}}]),h}(n.default.Embed);O.scope=n.default.Scope.BLOCK_BLOT;var S=function(p){function h(x){t(this,h);var N=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,x));return N.cache={},N}return d(h,p),P(h,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(n.default.Leaf).reduce(function(N,L){return 0===L.length()?N:N.insert(L.value(),v(L))},new m.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(N,L){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"deleteAt",this).call(this,N,L),this.cache={}}},{key:"formatAt",value:function(N,L,D,V){L<=0||(n.default.query(D,n.default.Scope.BLOCK)?N+L===this.length()&&this.format(D,V):A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,N,Math.min(L,this.length()-N-1),D,V),this.cache={})}},{key:"insertAt",value:function(N,L,D){if(null!=D)return A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,N,L,D);if(0!==L.length){var V=L.split("\n"),$=V.shift();$.length>0&&(N<this.length()-1||null==this.children.tail?A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),$):this.children.tail.insertAt(this.children.tail.length(),$),this.cache={});var j=this;V.reduce(function(I,C){return(j=j.split(I,!0)).insertAt(0,C),C.length},N+$.length)}}},{key:"insertBefore",value:function(N,L){var D=this.children.head;A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,N,L),D instanceof f.default&&D.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(N,L){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"moveChildren",this).call(this,N,L),this.cache={}}},{key:"optimize",value:function(N){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var L=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(L&&(0===N||N>=this.length()-1)){var D=this.clone();return 0===N?(this.parent.insertBefore(D,this),this):(this.parent.insertBefore(D,this.next),D)}var V=A(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"split",this).call(this,N,L);return this.cache={},V}}]),h}(n.default.Block);function v(p){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==p||("function"==typeof p.formats&&(h=(0,e.default)(h,p.formats())),null==p.parent||"scroll"==p.parent.blotName||p.parent.statics.scope!==p.statics.scope)?h:v(p.parent,h)}S.blotName="block",S.tagName="P",S.defaultChild="break",S.allowedChildren=[s.default,n.default.Embed,o.default],b.bubbleFormats=v,b.BlockEmbed=O,b.default=S},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.overload=b.expandConfig=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},A=function(I,C){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function j(I,C){var q=[],R=!0,Q=!1,H=void 0;try{for(var Z,F=I[Symbol.iterator]();!(R=(Z=F.next()).done)&&(q.push(Z.value),!C||q.length!==C);R=!0);}catch(Y){Q=!0,H=Y}finally{try{!R&&F.return&&F.return()}finally{if(Q)throw H}}return q}(I,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function j(I,C){for(var q=0;q<C.length;q++){var R=C[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,C,q){return C&&j(I.prototype,C),q&&j(I,q),I}}();y(50);var E=v(y(2)),a=v(y(14)),i=v(y(8)),u=v(y(9)),r=v(y(0)),o=y(15),l=v(o),c=v(y(3)),_=v(y(10)),S=v(y(34));function v(j){return j&&j.__esModule?j:{default:j}}function p(j,I,C){return I in j?Object.defineProperty(j,I,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[I]=C,j}var x=(0,_.default)("quill"),N=function(){function j(I){var C=this,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function h(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}(this,j),this.options=L(I,q),this.container=this.options.container,null==this.container)return x.error("Invalid Quill container",I);this.options.debug&&j.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new i.default,this.scroll=r.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new l.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(i.default.events.EDITOR_CHANGE,function(H){H===i.default.events.TEXT_CHANGE&&C.root.classList.toggle("ql-blank",C.editor.isBlank())}),this.emitter.on(i.default.events.SCROLL_UPDATE,function(H,F){var Z=C.selection.lastRange,Y=Z&&0===Z.length?Z.index:void 0;D.call(C,function(){return C.editor.update(null,F,Y)},H)});var Q=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+R+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return w(j,null,[{key:"debug",value:function(C){!0===C&&(C="log"),_.default.level(C)}},{key:"find",value:function(C){return C.__quill||r.default.find(C)}},{key:"import",value:function(C){return null==this.imports[C]&&x.error("Cannot import "+C+". Are you sure it was registered?"),this.imports[C]}},{key:"register",value:function(C,q){var R=this,Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof C){var H=C.attrName||C.blotName;"string"==typeof H?this.register("formats/"+H,C,q):Object.keys(C).forEach(function(F){R.register(F,C[F],q)})}else null!=this.imports[C]&&!Q&&x.warn("Overwriting "+C+" with",q),this.imports[C]=q,(C.startsWith("blots/")||C.startsWith("formats/"))&&"abstract"!==q.blotName?r.default.register(q):C.startsWith("modules")&&"function"==typeof q.register&&q.register()}}]),w(j,[{key:"addContainer",value:function(C){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof C){var R=C;(C=document.createElement("div")).classList.add(R)}return this.container.insertBefore(C,q),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,q,R){var Q=this,H=V(C,q,R),F=A(H,4);return D.call(this,function(){return Q.editor.deleteText(C,q)},R=F[3],C=F[0],-1*(q=F[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var C=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,q){var R=this;return D.call(this,function(){var H=R.getSelection(!0),F=new E.default;if(null==H)return F;if(r.default.query(C,r.default.Scope.BLOCK))F=R.editor.formatLine(H.index,H.length,p({},C,q));else{if(0===H.length)return R.selection.format(C,q),F;F=R.editor.formatText(H.index,H.length,p({},C,q))}return R.setSelection(H,i.default.sources.SILENT),F},arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.sources.API)}},{key:"formatLine",value:function(C,q,R,Q,H){var Z,F=this,Y=V(C,q,R,Q,H),G=A(Y,4);return q=G[1],Z=G[2],D.call(this,function(){return F.editor.formatLine(C,q,Z)},H=G[3],C=G[0],0)}},{key:"formatText",value:function(C,q,R,Q,H){var Z,F=this,Y=V(C,q,R,Q,H),G=A(Y,4);return q=G[1],Z=G[2],D.call(this,function(){return F.editor.formatText(C,q,Z)},H=G[3],C=G[0],0)}},{key:"getBounds",value:function(C){var R;R="number"==typeof C?this.selection.getBounds(C,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(C.index,C.length);var Q=this.container.getBoundingClientRect();return{bottom:R.bottom-Q.top,height:R.height,left:R.left-Q.left,right:R.right-Q.left,top:R.top-Q.top,width:R.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-C,R=V(C,q),Q=A(R,2);return this.editor.getContents(C=Q[0],q=Q[1])}},{key:"getFormat",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof C?this.editor.getFormat(C,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(C.index,C.length)}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof C?this.scroll.lines(C.index,C.length):this.scroll.lines(C,q)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-C,R=V(C,q),Q=A(R,2);return this.editor.getText(C=Q[0],q=Q[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,q,R){var Q=this;return D.call(this,function(){return Q.editor.insertEmbed(C,q,R)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.sources.API,C)}},{key:"insertText",value:function(C,q,R,Q,H){var Z,F=this,Y=V(C,0,R,Q,H),G=A(Y,4);return Z=G[2],D.call(this,function(){return F.editor.insertText(C,q,Z)},H=G[3],C=G[0],q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(C,q,R){this.clipboard.dangerouslyPasteHTML(C,q,R)}},{key:"removeFormat",value:function(C,q,R){var Q=this,H=V(C,q,R),F=A(H,4);return q=F[1],D.call(this,function(){return Q.editor.removeFormat(C,q)},R=F[3],C=F[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var q=this;return D.call(this,function(){C=new E.default(C);var Q=q.getLength(),H=q.editor.deleteText(0,Q),F=q.editor.applyDelta(C),Z=F.ops[F.ops.length-1];return null!=Z&&"string"==typeof Z.insert&&"\n"===Z.insert[Z.insert.length-1]&&(q.editor.deleteText(q.getLength()-1,1),F.delete(1)),H.compose(F)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API)}},{key:"setSelection",value:function(C,q,R){if(null==C)this.selection.setRange(null,q||j.sources.API);else{var Q=V(C,q,R),H=A(Q,4);R=H[3],this.selection.setRange(new o.Range(C=H[0],q=H[1]),R),R!==i.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API,R=(new E.default).insert(C);return this.setContents(R,q)}},{key:"update",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.sources.USER,q=this.scroll.update(C);return this.selection.update(C),q}},{key:"updateContents",value:function(C){var q=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API;return D.call(this,function(){return C=new E.default(C),q.editor.applyDelta(C,R)},R,!0)}}]),j}();function L(j,I){if((I=(0,c.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},I)).theme&&I.theme!==N.DEFAULTS.theme){if(I.theme=N.import("themes/"+I.theme),null==I.theme)throw new Error("Invalid theme "+I.theme+". Did you register it?")}else I.theme=S.default;var C=(0,c.default)(!0,{},I.theme.DEFAULTS);[C,I].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(H){!0===Q.modules[H]&&(Q.modules[H]={})})});var R=Object.keys(C.modules).concat(Object.keys(I.modules)).reduce(function(Q,H){var F=N.import("modules/"+H);return null==F?x.error("Cannot load "+H+" module. Are you sure you registered it?"):Q[H]=F.DEFAULTS||{},Q},{});return null!=I.modules&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,c.default)(!0,{},N.DEFAULTS,{modules:R},C,I),["bounds","container","scrollingContainer"].forEach(function(Q){"string"==typeof I[Q]&&(I[Q]=document.querySelector(I[Q]))}),I.modules=Object.keys(I.modules).reduce(function(Q,H){return I.modules[H]&&(Q[H]=I.modules[H]),Q},{}),I}function D(j,I,C,q){if(this.options.strict&&!this.isEnabled()&&I===i.default.sources.USER)return new E.default;var R=null==C?null:this.getSelection(),Q=this.editor.delta,H=j();if(null!=R&&(!0===C&&(C=R.index),null==q?R=$(R,H,I):0!==q&&(R=$(R,C,q,I)),this.setSelection(R,i.default.sources.SILENT)),H.length()>0){var F,Y,Z=[i.default.events.TEXT_CHANGE,H,Q,I];(F=this.emitter).emit.apply(F,[i.default.events.EDITOR_CHANGE].concat(Z)),I!==i.default.sources.SILENT&&(Y=this.emitter).emit.apply(Y,Z)}return H}function V(j,I,C,q,R){var Q={};return"number"==typeof j.index&&"number"==typeof j.length?"number"!=typeof I?(R=q,q=C,C=I,I=j.length,j=j.index):(I=j.length,j=j.index):"number"!=typeof I&&(R=q,q=C,C=I,I=0),"object"===(typeof C>"u"?"undefined":P(C))?(Q=C,R=q):"string"==typeof C&&(null!=q?Q[C]=q:R=C),[j,I,Q,R=R||i.default.sources.API]}function $(j,I,C,q){if(null==j)return null;var R=void 0,Q=void 0;if(I instanceof E.default){var H=[j.index,j.index+j.length].map(function(G){return I.transformPosition(G,q!==i.default.sources.USER)}),F=A(H,2);R=F[0],Q=F[1]}else{var Z=[j.index,j.index+j.length].map(function(G){return G<I||G===I&&q===i.default.sources.USER?G:C>=0?G+C:Math.max(I,G+C)}),Y=A(Z,2);R=Y[0],Q=Y[1]}return new o.Range(R,Q-R)}N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=i.default.events,N.sources=i.default.sources,N.version="1.3.7",N.imports={delta:E.default,parchment:r.default,"core/module":u.default,"core/theme":S.default},b.expandConfig=L,b.overload=V,b.default=N},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),A=function s(r,o,l){null===r&&(r=Function.prototype);var t=Object.getOwnPropertyDescriptor(r,o);if(void 0===t){var c=Object.getPrototypeOf(r);return null===c?void 0:s(c,o,l)}if("value"in t)return t.value;var d=t.get;return void 0===d?void 0:d.call(l)},e=a(y(7)),m=a(y(0));function a(s){return s&&s.__esModule?s:{default:s}}var u=function(s){function r(){return function n(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function i(s,r){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?s:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function f(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(s,r):s.__proto__=r)}(r,s),P(r,[{key:"formatAt",value:function(l,t,c,d){if(r.compare(this.statics.blotName,c)<0&&m.default.query(c,m.default.Scope.BLOT)){var _=this.isolate(l,t);d&&_.wrap(c,d)}else A(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"formatAt",this).call(this,l,t,c,d)}},{key:"optimize",value:function(l){if(A(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"optimize",this).call(this,l),this.parent instanceof r&&r.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}],[{key:"compare",value:function(l,t){var c=r.order.indexOf(l),d=r.order.indexOf(t);return c>=0||d>=0?c-d:l===t?0:l<t?-1:1}}]),r}(m.default.Inline);u.allowedChildren=[u,m.default.Embed,e.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],b.default=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(0)).default.Text);b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function o(l,t){for(var c=0;c<t.length;c++){var d=t[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,t,c){return t&&o(l.prototype,t),c&&o(l,c),l}}(),A=function o(l,t,c){null===l&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,t);if(void 0===d){var _=Object.getPrototypeOf(l);return null===_?void 0:o(_,t,c)}if("value"in d)return d.value;var O=d.get;return void 0===O?void 0:O.call(c)},e=a(y(54));function a(o){return o&&o.__esModule?o:{default:o}}var u=(0,a(y(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(o){document.addEventListener(o,function(){for(var l=arguments.length,t=Array(l),c=0;c<l;c++)t[c]=arguments[c];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(d){var _;d.__quill&&d.__quill.emitter&&(_=d.__quill.emitter).handleDOM.apply(_,t)})})});var r=function(o){function l(){!function n(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function i(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?o:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return t.listeners={},t.on("error",u.error),t}return function f(o,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}(l,o),P(l,[{key:"emit",value:function(){u.log.apply(u,arguments),A(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(c){for(var d=arguments.length,_=Array(d>1?d-1:0),O=1;O<d;O++)_[O-1]=arguments[O];(this.listeners[c.type]||[]).forEach(function(S){var v=S.node,p=S.handler;(c.target===v||v.contains(c.target))&&p.apply(void 0,[c].concat(_))})}},{key:"listenDOM",value:function(c,d,_){this.listeners[c]||(this.listeners[c]=[]),this.listeners[c].push({node:d,handler:_})}}]),l}(e.default);r.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},r.sources={API:"api",SILENT:"silent",USER:"user"},b.default=r},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var A=function w(e){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function P(w,e){if(!(w instanceof e))throw new TypeError("Cannot call a class as a function")})(this,w),this.quill=e,this.options=E};A.DEFAULTS={},b.default=A},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=["error","warn","log","info"],A="warn";function w(E){if(P.indexOf(E)<=P.indexOf(A)){for(var m,a=arguments.length,n=Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];(m=console)[E].apply(m,n)}}function e(E){return P.reduce(function(m,a){return m[a]=w.bind(console,a,E),m},{})}w.level=e.level=function(E){A=E},b.default=e},function(J,b,y){var P=Array.prototype.slice,A=y(52),w=y(53),e=J.exports=function(n,i,f){return f||(f={}),n===i||(n instanceof Date&&i instanceof Date?n.getTime()===i.getTime():!n||!i||"object"!=typeof n&&"object"!=typeof i?f.strict?n===i:n==i:function a(n,i,f){var u,s;if(E(n)||E(i)||n.prototype!==i.prototype)return!1;if(w(n))return!!w(i)&&(n=P.call(n),i=P.call(i),e(n,i,f));if(m(n)){if(!m(i)||n.length!==i.length)return!1;for(u=0;u<n.length;u++)if(n[u]!==i[u])return!1;return!0}try{var r=A(n),o=A(i)}catch(l){return!1}if(r.length!=o.length)return!1;for(r.sort(),o.sort(),u=r.length-1;u>=0;u--)if(r[u]!=o[u])return!1;for(u=r.length-1;u>=0;u--)if(!e(n[s=r[u]],i[s],f))return!1;return typeof n==typeof i}(n,i,f))};function E(n){return null==n}function m(n){return!(!n||"object"!=typeof n||"number"!=typeof n.length||"function"!=typeof n.copy||"function"!=typeof n.slice||n.length>0&&"number"!=typeof n[0])}},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=y(1),A=function(){function w(e,E,m){void 0===m&&(m={}),this.attrName=e,this.keyName=E,this.scope=null!=m.scope?m.scope&P.Scope.LEVEL|P.Scope.TYPE&P.Scope.ATTRIBUTE:P.Scope.ATTRIBUTE,null!=m.whitelist&&(this.whitelist=m.whitelist)}return w.keys=function(e){return[].map.call(e.attributes,function(E){return E.name})},w.prototype.add=function(e,E){return!!this.canAdd(e,E)&&(e.setAttribute(this.keyName,E),!0)},w.prototype.canAdd=function(e,E){return null!=P.query(e,P.Scope.BLOT&(this.scope|P.Scope.TYPE))&&(null==this.whitelist||("string"==typeof E?this.whitelist.indexOf(E.replace(/["']/g,""))>-1:this.whitelist.indexOf(E)>-1))},w.prototype.remove=function(e){e.removeAttribute(this.keyName)},w.prototype.value=function(e){var E=e.getAttribute(this.keyName);return this.canAdd(e,E)&&E?E:""},w}();b.default=A},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.Code=void 0;var P=function(S,v){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function O(S,v){var p=[],h=!0,x=!1,N=void 0;try{for(var D,L=S[Symbol.iterator]();!(h=(D=L.next()).done)&&(p.push(D.value),!v||p.length!==v);h=!0);}catch(V){x=!0,N=V}finally{try{!h&&L.return&&L.return()}finally{if(x)throw N}}return p}(S,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function(){function O(S,v){for(var p=0;p<v.length;p++){var h=v[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(S,h.key,h)}}return function(S,v,p){return v&&O(S.prototype,v),p&&O(S,p),S}}(),w=function O(S,v,p){null===S&&(S=Function.prototype);var h=Object.getOwnPropertyDescriptor(S,v);if(void 0===h){var x=Object.getPrototypeOf(S);return null===x?void 0:O(x,v,p)}if("value"in h)return h.value;var N=h.get;return void 0===N?void 0:N.call(p)},E=o(y(2)),a=o(y(0)),i=o(y(4)),u=o(y(6)),r=o(y(7));function o(O){return O&&O.__esModule?O:{default:O}}function l(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}function t(O,S){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||"object"!=typeof S&&"function"!=typeof S?O:S}function c(O,S){if("function"!=typeof S&&null!==S)throw new TypeError("Super expression must either be null or a function, not "+typeof S);O.prototype=Object.create(S&&S.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(O,S):O.__proto__=S)}var d=function(O){function S(){return l(this,S),t(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return c(S,O),S}(u.default);d.blotName="code",d.tagName="CODE";var _=function(O){function S(){return l(this,S),t(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return c(S,O),A(S,[{key:"delta",value:function(){var p=this,h=this.domNode.textContent;return h.endsWith("\n")&&(h=h.slice(0,-1)),h.split("\n").reduce(function(x,N){return x.insert(N).insert("\n",p.formats())},new E.default)}},{key:"format",value:function(p,h){if(p!==this.statics.blotName||!h){var x=this.descendant(r.default,this.length()-1),L=P(x,1)[0];null!=L&&L.deleteAt(L.length()-1,1),w(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,p,h)}}},{key:"formatAt",value:function(p,h,x,N){if(0!==h&&null!=a.default.query(x,a.default.Scope.BLOCK)&&(x!==this.statics.blotName||N!==this.statics.formats(this.domNode))){var L=this.newlineIndex(p);if(!(L<0||L>=p+h)){var D=this.newlineIndex(p,!0)+1,V=L-D+1,$=this.isolate(D,V),j=$.next;$.format(x,N),j instanceof S&&j.formatAt(0,p-D+h-V,x,N)}}}},{key:"insertAt",value:function(p,h,x){if(null==x){var N=this.descendant(r.default,p),L=P(N,2);L[0].insertAt(L[1],h)}}},{key:"length",value:function(){var p=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?p:p+1}},{key:"newlineIndex",value:function(p){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,p).lastIndexOf("\n");var x=this.domNode.textContent.slice(p).indexOf("\n");return x>-1?p+x:-1}},{key:"optimize",value:function(p){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),w(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,p);var h=this.next;null!=h&&h.prev===this&&h.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===h.statics.formats(h.domNode)&&(h.optimize(p),h.moveChildren(this),h.remove())}},{key:"replace",value:function(p){w(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,p),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(h){var x=a.default.find(h);null==x?h.parentNode.removeChild(h):x instanceof a.default.Embed?x.remove():x.unwrap()})}}],[{key:"create",value:function(p){var h=w(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,p);return h.setAttribute("spellcheck",!1),h}},{key:"formats",value:function(){return!0}}]),S}(i.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",b.Code=d,b.default=_},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},A=function(I,C){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function j(I,C){var q=[],R=!0,Q=!1,H=void 0;try{for(var Z,F=I[Symbol.iterator]();!(R=(Z=F.next()).done)&&(q.push(Z.value),!C||q.length!==C);R=!0);}catch(Y){Q=!0,H=Y}finally{try{!R&&F.return&&F.return()}finally{if(Q)throw H}}return q}(I,C);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function j(I,C){for(var q=0;q<C.length;q++){var R=C[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,C,q){return C&&j(I.prototype,C),q&&j(I,q),I}}(),E=h(y(2)),a=h(y(20)),i=h(y(0)),u=h(y(13)),r=h(y(24)),o=y(4),l=h(o),c=h(y(16)),_=h(y(21)),S=h(y(11)),p=h(y(3));function h(j){return j&&j.__esModule?j:{default:j}}var L=/^[ -~]*$/,D=function(){function j(I){(function N(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")})(this,j),this.scroll=I,this.delta=this.getDelta()}return w(j,[{key:"applyDelta",value:function(C){var q=this,R=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),(C=function $(j){return j.reduce(function(I,C){if(1===C.insert){var q=(0,_.default)(C.attributes);return delete q.image,I.insert({image:C.attributes.image},q)}if(null!=C.attributes&&(!0===C.attributes.list||!0===C.attributes.bullet)&&((C=(0,_.default)(C)).attributes.list?C.attributes.list="ordered":(C.attributes.list="bullet",delete C.attributes.bullet)),"string"==typeof C.insert){var R=C.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return I.insert(R,C.attributes)}return I.push(C)},new E.default)}(C)).reduce(function(H,F){var Z=F.retain||F.delete||F.insert.length||1,Y=F.attributes||{};if(null!=F.insert){if("string"==typeof F.insert){var G=F.insert;G.endsWith("\n")&&R&&(R=!1,G=G.slice(0,-1)),H>=Q&&!G.endsWith("\n")&&(R=!0),q.scroll.insertAt(H,G);var X=q.scroll.line(H),re=A(X,2),ae=re[0],se=re[1],de=(0,p.default)({},(0,o.bubbleFormats)(ae));if(ae instanceof l.default){var he=ae.descendant(i.default.Leaf,se),pe=A(he,1);de=(0,p.default)(de,(0,o.bubbleFormats)(pe[0]))}Y=a.default.attributes.diff(de,Y)||{}}else if("object"===P(F.insert)){var K=Object.keys(F.insert)[0];if(null==K)return H;q.scroll.insertAt(H,K,F.insert[K])}Q+=Z}return Object.keys(Y).forEach(function(W){q.scroll.formatAt(H,Z,W,Y[W])}),H+Z},0),C.reduce(function(H,F){return"number"==typeof F.delete?(q.scroll.deleteAt(H,F.delete),H):H+(F.retain||F.insert.length||1)},0),this.scroll.batchEnd(),this.update(C)}},{key:"deleteText",value:function(C,q){return this.scroll.deleteAt(C,q),this.update((new E.default).retain(C).delete(q))}},{key:"formatLine",value:function(C,q){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(H){if(null==R.scroll.whitelist||R.scroll.whitelist[H]){var F=R.scroll.lines(C,Math.max(q,1)),Z=q;F.forEach(function(Y){var G=Y.length();if(Y instanceof u.default){var X=C-Y.offset(R.scroll),re=Y.newlineIndex(X+Z)-X+1;Y.formatAt(X,re,H,Q[H])}else Y.format(H,Q[H]);Z-=G})}}),this.scroll.optimize(),this.update((new E.default).retain(C).retain(q,(0,_.default)(Q)))}},{key:"formatText",value:function(C,q){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(Q).forEach(function(H){R.scroll.formatAt(C,q,H,Q[H])}),this.update((new E.default).retain(C).retain(q,(0,_.default)(Q)))}},{key:"getContents",value:function(C,q){return this.delta.slice(C,C+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(C,q){return C.concat(q.delta())},new E.default)}},{key:"getFormat",value:function(C){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=[],Q=[];0===q?this.scroll.path(C).forEach(function(F){var Y=A(F,1)[0];Y instanceof l.default?R.push(Y):Y instanceof i.default.Leaf&&Q.push(Y)}):(R=this.scroll.lines(C,q),Q=this.scroll.descendants(i.default.Leaf,C,q));var H=[R,Q].map(function(F){if(0===F.length)return{};for(var Z=(0,o.bubbleFormats)(F.shift());Object.keys(Z).length>0;){var Y=F.shift();if(null==Y)return Z;Z=V((0,o.bubbleFormats)(Y),Z)}return Z});return p.default.apply(p.default,H)}},{key:"getText",value:function(C,q){return this.getContents(C,q).filter(function(R){return"string"==typeof R.insert}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(C,q,R){return this.scroll.insertAt(C,q,R),this.update((new E.default).retain(C).insert(function x(j,I,C){return I in j?Object.defineProperty(j,I,{value:C,enumerable:!0,configurable:!0,writable:!0}):j[I]=C,j}({},q,R)))}},{key:"insertText",value:function(C,q){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return q=q.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(C,q),Object.keys(Q).forEach(function(H){R.scroll.formatAt(C,q.length,H,Q[H])}),this.update((new E.default).retain(C).insert(q,(0,_.default)(Q)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var C=this.scroll.children.head;return!(C.statics.blotName!==l.default.blotName||C.children.length>1)&&C.children.head instanceof c.default}},{key:"removeFormat",value:function(C,q){var R=this.getText(C,q),Q=this.scroll.line(C+q),H=A(Q,2),F=H[0],Z=H[1],Y=0,G=new E.default;null!=F&&(Y=F instanceof u.default?F.newlineIndex(Z)-Z+1:F.length()-Z,G=F.delta().slice(Z,Z+Y-1).insert("\n"));var re=this.getContents(C,q+Y).diff((new E.default).insert(R).concat(G)),ae=(new E.default).retain(C).concat(re);return this.applyDelta(ae)}},{key:"update",value:function(C){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,Q=this.delta;if(1===q.length&&"characterData"===q[0].type&&q[0].target.data.match(L)&&i.default.find(q[0].target)){var H=i.default.find(q[0].target),F=(0,o.bubbleFormats)(H),Z=H.offset(this.scroll),Y=q[0].oldValue.replace(r.default.CONTENTS,""),G=(new E.default).insert(Y),X=(new E.default).insert(H.value());C=(new E.default).retain(Z).concat(G.diff(X,R)).reduce(function(ae,se){return se.insert?ae.insert(se.insert,F):ae.push(se)},new E.default),this.delta=Q.compose(C)}else this.delta=this.getDelta(),(!C||!(0,S.default)(Q.compose(C),this.delta))&&(C=Q.diff(this.delta,R));return C}}]),j}();function V(j,I){return Object.keys(I).reduce(function(C,q){return null==j[q]||(I[q]===j[q]?C[q]=I[q]:Array.isArray(I[q])?I[q].indexOf(j[q])<0&&(C[q]=I[q].concat([j[q]])):C[q]=[I[q],j[q]]),C},{})}b.default=D},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.Range=void 0;var P=function(S,v){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function O(S,v){var p=[],h=!0,x=!1,N=void 0;try{for(var D,L=S[Symbol.iterator]();!(h=(D=L.next()).done)&&(p.push(D.value),!v||p.length!==v);h=!0);}catch(V){x=!0,N=V}finally{try{!h&&L.return&&L.return()}finally{if(x)throw N}}return p}(S,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function(){function O(S,v){for(var p=0;p<v.length;p++){var h=v[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(S,h.key,h)}}return function(S,v,p){return v&&O(S.prototype,v),p&&O(S,p),S}}(),e=r(y(0)),m=r(y(21)),n=r(y(11)),f=r(y(8));function r(O){return O&&O.__esModule?O:{default:O}}function o(O){if(Array.isArray(O)){for(var S=0,v=Array(O.length);S<O.length;S++)v[S]=O[S];return v}return Array.from(O)}function l(O,S){if(!(O instanceof S))throw new TypeError("Cannot call a class as a function")}var t=(0,r(y(10)).default)("quill:selection"),c=function O(S){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;l(this,O),this.index=S,this.length=v},d=function(){function O(S,v){var p=this;l(this,O),this.emitter=v,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=e.default.create("cursor",this),this.lastRange=this.savedRange=new c(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){p.mouseDown||setTimeout(p.update.bind(p,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(h,x){h===f.default.events.TEXT_CHANGE&&x.length()>0&&p.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(p.hasFocus()){var h=p.getNativeRange();null!=h&&h.start.node!==p.cursor.textNode&&p.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{p.setNativeRange(h.start.node,h.start.offset,h.end.node,h.end.offset)}catch(x){}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(h,x){if(x.range){var N=x.range;p.setNativeRange(N.startNode,N.startOffset,N.endNode,N.endOffset)}}),this.update(f.default.sources.SILENT)}return A(O,[{key:"handleComposition",value:function(){var v=this;this.root.addEventListener("compositionstart",function(){v.composing=!0}),this.root.addEventListener("compositionend",function(){if(v.composing=!1,v.cursor.parent){var p=v.cursor.restore();if(!p)return;setTimeout(function(){v.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)},1)}})}},{key:"handleDragging",value:function(){var v=this;this.emitter.listenDOM("mousedown",document.body,function(){v.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){v.mouseDown=!1,v.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(v,p){if(null==this.scroll.whitelist||this.scroll.whitelist[v]){this.scroll.update();var h=this.getNativeRange();if(null!=h&&h.native.collapsed&&!e.default.query(v,e.default.Scope.BLOCK)){if(h.start.node!==this.cursor.textNode){var x=e.default.find(h.start.node,!1);if(null==x)return;if(x instanceof e.default.Leaf){var N=x.split(h.start.offset);x.parent.insertBefore(this.cursor,N)}else x.insertBefore(this.cursor,h.start.node);this.cursor.attach()}this.cursor.format(v,p),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(v){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=this.scroll.length();v=Math.min(v,h-1),p=Math.min(v+p,h-1)-v;var x=void 0,N=this.scroll.leaf(v),L=P(N,2),D=L[0],V=L[1];if(null==D)return null;var $=D.position(V,!0),j=P($,2);x=j[0],V=j[1];var I=document.createRange();if(p>0){I.setStart(x,V);var C=this.scroll.leaf(v+p),q=P(C,2);if(null==(D=q[0]))return null;var R=D.position(V=q[1],!0),Q=P(R,2);return I.setEnd(x=Q[0],V=Q[1]),I.getBoundingClientRect()}var H="left",F=void 0;return x instanceof Text?(V<x.data.length?(I.setStart(x,V),I.setEnd(x,V+1)):(I.setStart(x,V-1),I.setEnd(x,V),H="right"),F=I.getBoundingClientRect()):(F=D.domNode.getBoundingClientRect(),V>0&&(H="right")),{bottom:F.top+F.height,height:F.height,left:F[H],right:F[H],top:F.top,width:0}}},{key:"getNativeRange",value:function(){var v=document.getSelection();if(null==v||v.rangeCount<=0)return null;var p=v.getRangeAt(0);if(null==p)return null;var h=this.normalizeNative(p);return t.info("getNativeRange",h),h}},{key:"getRange",value:function(){var v=this.getNativeRange();return null==v?[null,null]:[this.normalizedToRange(v),v]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(v){var p=this,h=[[v.start.node,v.start.offset]];v.native.collapsed||h.push([v.end.node,v.end.offset]);var x=h.map(function(D){var V=P(D,2),$=V[0],j=V[1],I=e.default.find($,!0),C=I.offset(p.scroll);return 0===j?C:I instanceof e.default.Container?C+I.length():C+I.index($,j)}),N=Math.min(Math.max.apply(Math,o(x)),this.scroll.length()-1),L=Math.min.apply(Math,[N].concat(o(x)));return new c(L,N-L)}},{key:"normalizeNative",value:function(v){if(!_(this.root,v.startContainer)||!v.collapsed&&!_(this.root,v.endContainer))return null;var p={start:{node:v.startContainer,offset:v.startOffset},end:{node:v.endContainer,offset:v.endOffset},native:v};return[p.start,p.end].forEach(function(h){for(var x=h.node,N=h.offset;!(x instanceof Text)&&x.childNodes.length>0;)if(x.childNodes.length>N)x=x.childNodes[N],N=0;else{if(x.childNodes.length!==N)break;N=(x=x.lastChild)instanceof Text?x.data.length:x.childNodes.length+1}h.node=x,h.offset=N}),p}},{key:"rangeToNative",value:function(v){var p=this,h=v.collapsed?[v.index]:[v.index,v.index+v.length],x=[],N=this.scroll.length();return h.forEach(function(L,D){L=Math.min(N-1,L);var $=p.scroll.leaf(L),j=P($,2),C=j[1],q=j[0].position(C,0!==D),R=P(q,2);x.push(R[0],C=R[1])}),x.length<2&&(x=x.concat(x)),x}},{key:"scrollIntoView",value:function(v){var p=this.lastRange;if(null!=p){var h=this.getBounds(p.index,p.length);if(null!=h){var x=this.scroll.length()-1,N=this.scroll.line(Math.min(p.index,x)),D=P(N,1)[0],V=D;if(p.length>0){var $=this.scroll.line(Math.min(p.index+p.length,x));V=P($,1)[0]}if(null!=D&&null!=V){var I=v.getBoundingClientRect();h.top<I.top?v.scrollTop-=I.top-h.top:h.bottom>I.bottom&&(v.scrollTop+=h.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(v,p){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,x=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,N=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t.info("setNativeRange",v,p,h,x),null==v||null!=this.root.parentNode&&null!=v.parentNode&&null!=h.parentNode){var L=document.getSelection();if(null!=L)if(null!=v){this.hasFocus()||this.root.focus();var D=(this.getNativeRange()||{}).native;if(null==D||N||v!==D.startContainer||p!==D.startOffset||h!==D.endContainer||x!==D.endOffset){"BR"==v.tagName&&(p=[].indexOf.call(v.parentNode.childNodes,v),v=v.parentNode),"BR"==h.tagName&&(x=[].indexOf.call(h.parentNode.childNodes,h),h=h.parentNode);var V=document.createRange();V.setStart(v,p),V.setEnd(h,x),L.removeAllRanges(),L.addRange(V)}}else L.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(v){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;if("string"==typeof p&&(h=p,p=!1),t.info("setRange",v),null!=v){var x=this.rangeToNative(v);this.setNativeRange.apply(this,o(x).concat([p]))}else this.setNativeRange(null);this.update(h)}},{key:"update",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,p=this.lastRange,h=this.getRange(),x=P(h,2),L=x[1];if(this.lastRange=x[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,n.default)(p,this.lastRange)){var D;!this.composing&&null!=L&&L.native.collapsed&&L.start.node!==this.cursor.textNode&&this.cursor.restore();var $,V=[f.default.events.SELECTION_CHANGE,(0,m.default)(this.lastRange),(0,m.default)(p),v];(D=this.emitter).emit.apply(D,[f.default.events.EDITOR_CHANGE].concat(V)),v!==f.default.sources.SILENT&&($=this.emitter).emit.apply($,V)}}}]),O}();function _(O,S){return S instanceof Text&&(S=S.parentNode),O.contains(S)}b.Range=c,b.default=d},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),A=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(){return function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,[{key:"insertInto",value:function(r,o){0===r.children.length?A(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"insertInto",this).call(this,r,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(0)).default.Embed);i.blotName="break",i.tagName="BR",b.default=i},function(J,b,y){"use strict";var a,P=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])},function(n,i){function f(){this.constructor=n}a(n,i),n.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(b,"__esModule",{value:!0});var A=y(44),w=y(30),e=y(1),E=function(a){function n(i){var f=a.call(this,i)||this;return f.build(),f}return P(n,a),n.prototype.appendChild=function(i){this.insertBefore(i)},n.prototype.attach=function(){a.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},n.prototype.build=function(){var i=this;this.children=new A.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var u=m(f);i.insertBefore(u,i.children.head||void 0)}catch(s){if(s instanceof e.ParchmentError)return;throw s}})},n.prototype.deleteAt=function(i,f){if(0===i&&f===this.length())return this.remove();this.children.forEachAt(i,f,function(u,s,r){u.deleteAt(s,r)})},n.prototype.descendant=function(i,f){var u=this.children.find(f),s=u[0],r=u[1];return null==i.blotName&&i(s)||null!=i.blotName&&s instanceof i?[s,r]:s instanceof n?s.descendant(i,r):[null,-1]},n.prototype.descendants=function(i,f,u){void 0===f&&(f=0),void 0===u&&(u=Number.MAX_VALUE);var s=[],r=u;return this.children.forEachAt(f,u,function(o,l,t){(null==i.blotName&&i(o)||null!=i.blotName&&o instanceof i)&&s.push(o),o instanceof n&&(s=s.concat(o.descendants(i,l,r))),r-=t}),s},n.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),a.prototype.detach.call(this)},n.prototype.formatAt=function(i,f,u,s){this.children.forEachAt(i,f,function(r,o,l){r.formatAt(o,l,u,s)})},n.prototype.insertAt=function(i,f,u){var s=this.children.find(i),r=s[0];if(r)r.insertAt(s[1],f,u);else{var l=null==u?e.create("text",f):e.create(f,u);this.appendChild(l)}},n.prototype.insertBefore=function(i,f){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(u){return i instanceof u}))throw new e.ParchmentError("Cannot insert "+i.statics.blotName+" into "+this.statics.blotName);i.insertInto(this,f)},n.prototype.length=function(){return this.children.reduce(function(i,f){return i+f.length()},0)},n.prototype.moveChildren=function(i,f){this.children.forEach(function(u){i.insertBefore(u,f)})},n.prototype.optimize=function(i){if(a.prototype.optimize.call(this,i),0===this.children.length)if(null!=this.statics.defaultChild){var f=e.create(this.statics.defaultChild);this.appendChild(f),f.optimize(i)}else this.remove()},n.prototype.path=function(i,f){void 0===f&&(f=!1);var u=this.children.find(i,f),s=u[0],r=u[1],o=[[this,i]];return s instanceof n?o.concat(s.path(r,f)):(null!=s&&o.push([s,r]),o)},n.prototype.removeChild=function(i){this.children.remove(i)},n.prototype.replace=function(i){i instanceof n&&i.moveChildren(this),a.prototype.replace.call(this,i)},n.prototype.split=function(i,f){if(void 0===f&&(f=!1),!f){if(0===i)return this;if(i===this.length())return this.next}var u=this.clone();return this.parent.insertBefore(u,this.next),this.children.forEachAt(i,this.length(),function(s,r,o){s=s.split(r,f),u.appendChild(s)}),u},n.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},n.prototype.update=function(i,f){var u=this,s=[],r=[];i.forEach(function(o){o.target===u.domNode&&"childList"===o.type&&(s.push.apply(s,o.addedNodes),r.push.apply(r,o.removedNodes))}),r.forEach(function(o){if(!(null!=o.parentNode&&"IFRAME"!==o.tagName&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var l=e.find(o);null!=l&&(null==l.domNode.parentNode||l.domNode.parentNode===u.domNode)&&l.detach()}}),s.filter(function(o){return o.parentNode==u.domNode}).sort(function(o,l){return o===l?0:o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(o){var l=null;null!=o.nextSibling&&(l=e.find(o.nextSibling));var t=m(o);(t.next!=l||null==t.next)&&(null!=t.parent&&t.parent.removeChild(u),u.insertBefore(t,l||void 0))})},n}(w.default);function m(a){var n=e.find(a);if(null==n)try{n=e.create(a)}catch(i){n=e.create(e.Scope.INLINE),[].slice.call(a.childNodes).forEach(function(f){n.domNode.appendChild(f)}),a.parentNode&&a.parentNode.replaceChild(n.domNode,a),n.attach()}return n}b.default=E},function(J,b,y){"use strict";var a,P=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])},function(n,i){function f(){this.constructor=n}a(n,i),n.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(b,"__esModule",{value:!0});var A=y(12),w=y(31),e=y(17),E=y(1),m=function(a){function n(i){var f=a.call(this,i)||this;return f.attributes=new w.default(f.domNode),f}return P(n,a),n.formats=function(i){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?i.tagName.toLowerCase():void 0)},n.prototype.format=function(i,f){var u=E.query(i);u instanceof A.default?this.attributes.attribute(u,f):f&&null!=u&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f)},n.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode);return null!=f&&(i[this.statics.blotName]=f),i},n.prototype.replaceWith=function(i,f){var u=a.prototype.replaceWith.call(this,i,f);return this.attributes.copy(u),u},n.prototype.update=function(i,f){var u=this;a.prototype.update.call(this,i,f),i.some(function(s){return s.target===u.domNode&&"attributes"===s.type})&&this.attributes.build()},n.prototype.wrap=function(i,f){var u=a.prototype.wrap.call(this,i,f);return u instanceof n&&u.statics.scope===this.statics.scope&&this.attributes.move(u),u},n}(e.default);b.default=m},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(b,"__esModule",{value:!0});var A=y(30),w=y(1),e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return P(m,E),m.value=function(a){return!0},m.prototype.index=function(a,n){return this.domNode===a||this.domNode.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1},m.prototype.position=function(a,n){var i=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return a>0&&(i+=1),[this.parent.domNode,i]},m.prototype.value=function(){var a;return(a={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,a},m.scope=w.Scope.INLINE_BLOT,m}(A.default);b.default=e},function(J,b,y){var P=y(11),A=y(3),w={attributes:{compose:function(E,m,a){"object"!=typeof E&&(E={}),"object"!=typeof m&&(m={});var n=A(!0,{},m);for(var i in a||(n=Object.keys(n).reduce(function(f,u){return null!=n[u]&&(f[u]=n[u]),f},{})),E)void 0!==E[i]&&void 0===m[i]&&(n[i]=E[i]);return Object.keys(n).length>0?n:void 0},diff:function(E,m){"object"!=typeof E&&(E={}),"object"!=typeof m&&(m={});var a=Object.keys(E).concat(Object.keys(m)).reduce(function(n,i){return P(E[i],m[i])||(n[i]=void 0===m[i]?null:m[i]),n},{});return Object.keys(a).length>0?a:void 0},transform:function(E,m,a){if("object"!=typeof E)return m;if("object"==typeof m){if(!a)return m;var n=Object.keys(m).reduce(function(i,f){return void 0===E[f]&&(i[f]=m[f]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(E){return new e(E)},length:function(E){return"number"==typeof E.delete?E.delete:"number"==typeof E.retain?E.retain:"string"==typeof E.insert?E.insert.length:1}};function e(E){this.ops=E,this.index=0,this.offset=0}e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(E){E||(E=1/0);var m=this.ops[this.index];if(m){var a=this.offset,n=w.length(m);if(E>=n-a?(E=n-a,this.index+=1,this.offset=0):this.offset+=E,"number"==typeof m.delete)return{delete:E};var i={};return m.attributes&&(i.attributes=m.attributes),"number"==typeof m.retain?i.retain=E:i.insert="string"==typeof m.insert?m.insert.substr(a,E):m.insert,i}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?w.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var E=this.offset,m=this.index,a=this.next(),n=this.ops.slice(this.index);return this.offset=E,this.index=m,[a].concat(n)}return[]},J.exports=w},function(J,b){var y=function(){"use strict";function P(u,s){return null!=s&&u instanceof s}var A,w,e;try{A=Map}catch(u){A=function(){}}try{w=Set}catch(u){w=function(){}}try{e=Promise}catch(u){e=function(){}}function E(u,s,r,o,l){"object"==typeof s&&(r=s.depth,o=s.prototype,l=s.includeNonEnumerable,s=s.circular);var t=[],c=[],d=typeof Buffer<"u";return typeof s>"u"&&(s=!0),typeof r>"u"&&(r=1/0),function _(O,S){if(null===O)return null;if(0===S)return O;var v,p;if("object"!=typeof O)return O;if(P(O,A))v=new A;else if(P(O,w))v=new w;else if(P(O,e))v=new e(function(I,C){O.then(function(q){I(_(q,S-1))},function(q){C(_(q,S-1))})});else if(E.__isArray(O))v=[];else if(E.__isRegExp(O))v=new RegExp(O.source,f(O)),O.lastIndex&&(v.lastIndex=O.lastIndex);else if(E.__isDate(O))v=new Date(O.getTime());else{if(d&&Buffer.isBuffer(O))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(O.length):new Buffer(O.length),O.copy(v),v;P(O,Error)?v=Object.create(O):typeof o>"u"?(p=Object.getPrototypeOf(O),v=Object.create(p)):(v=Object.create(o),p=o)}if(s){var h=t.indexOf(O);if(-1!=h)return c[h];t.push(O),c.push(v)}for(var x in P(O,A)&&O.forEach(function(I,C){var q=_(C,S-1),R=_(I,S-1);v.set(q,R)}),P(O,w)&&O.forEach(function(I){var C=_(I,S-1);v.add(C)}),O){var N;p&&(N=Object.getOwnPropertyDescriptor(p,x)),(!N||null!=N.set)&&(v[x]=_(O[x],S-1))}if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(O);for(x=0;x<L.length;x++){var D=L[x];(V=Object.getOwnPropertyDescriptor(O,D))&&!V.enumerable&&!l||(v[D]=_(O[D],S-1),V.enumerable||Object.defineProperty(v,D,{enumerable:!1}))}}if(l){var $=Object.getOwnPropertyNames(O);for(x=0;x<$.length;x++){var V,j=$[x];(V=Object.getOwnPropertyDescriptor(O,j))&&V.enumerable||(v[j]=_(O[j],S-1),Object.defineProperty(v,j,{enumerable:!1}))}}return v}(u,r)}function m(u){return Object.prototype.toString.call(u)}function f(u){var s="";return u.global&&(s+="g"),u.ignoreCase&&(s+="i"),u.multiline&&(s+="m"),s}return E.clonePrototype=function(s){if(null===s)return null;var r=function(){};return r.prototype=s,new r},E.__objToStr=m,E.__isDate=function a(u){return"object"==typeof u&&"[object Date]"===m(u)},E.__isArray=function n(u){return"object"==typeof u&&"[object Array]"===m(u)},E.__isRegExp=function i(u){return"object"==typeof u&&"[object RegExp]"===m(u)},E.__getRegExpFlags=f,E}();"object"==typeof J&&J.exports&&(J.exports=y)},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(p,h){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function v(p,h){var x=[],N=!0,L=!1,D=void 0;try{for(var $,V=p[Symbol.iterator]();!(N=($=V.next()).done)&&(x.push($.value),!h||x.length!==h);N=!0);}catch(j){L=!0,D=j}finally{try{!N&&V.return&&V.return()}finally{if(L)throw D}}return x}(p,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function(){function v(p,h){for(var x=0;x<h.length;x++){var N=h[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}return function(p,h,x){return h&&v(p.prototype,h),x&&v(p,x),p}}(),w=function v(p,h,x){null===p&&(p=Function.prototype);var N=Object.getOwnPropertyDescriptor(p,h);if(void 0===N){var L=Object.getPrototypeOf(p);return null===L?void 0:v(L,h,x)}if("value"in N)return N.value;var D=N.get;return void 0===D?void 0:D.call(x)},E=t(y(0)),a=t(y(8)),n=y(4),i=t(n),u=t(y(16)),r=t(y(13)),l=t(y(25));function t(v){return v&&v.__esModule?v:{default:v}}function O(v){return v instanceof i.default||v instanceof n.BlockEmbed}var S=function(v){function p(h,x){!function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,p);var N=function d(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?v:p}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h));return N.emitter=x.emitter,Array.isArray(x.whitelist)&&(N.whitelist=x.whitelist.reduce(function(L,D){return L[D]=!0,L},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return function _(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}(p,v),A(p,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(x,N){var L=this.line(x),D=P(L,2),V=D[0],$=D[1],j=this.line(x+N),C=P(j,1)[0];if(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"deleteAt",this).call(this,x,N),null!=C&&V!==C&&$>0){if(V instanceof n.BlockEmbed||C instanceof n.BlockEmbed)return void this.optimize();if(V instanceof r.default){var q=V.newlineIndex(V.length(),!0);if(q>-1&&(V=V.split(q+1))===C)return void this.optimize()}else if(C instanceof r.default){var R=C.newlineIndex(0);R>-1&&C.split(R+1)}V.moveChildren(C,C.children.head instanceof u.default?null:C.children.head),V.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(x,N,L,D){null!=this.whitelist&&!this.whitelist[L]||(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,x,N,L,D),this.optimize())}},{key:"insertAt",value:function(x,N,L){if(null==L||null==this.whitelist||this.whitelist[N]){if(x>=this.length())if(null==L||null==E.default.query(N,E.default.Scope.BLOCK)){var D=E.default.create(this.statics.defaultChild);this.appendChild(D),null==L&&N.endsWith("\n")&&(N=N.slice(0,-1)),D.insertAt(0,N,L)}else{var V=E.default.create(N,L);this.appendChild(V)}else w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertAt",this).call(this,x,N,L);this.optimize()}}},{key:"insertBefore",value:function(x,N){if(x.statics.scope===E.default.Scope.INLINE_BLOT){var L=E.default.create(this.statics.defaultChild);L.appendChild(x),x=L}w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,x,N)}},{key:"leaf",value:function(x){return this.path(x).pop()||[null,-1]}},{key:"line",value:function(x){return x===this.length()?this.line(x-1):this.descendant(O,x)}},{key:"lines",value:function(){return function D(V,$,j){var I=[],C=j;return V.children.forEachAt($,j,function(q,R,Q){O(q)?I.push(q):q instanceof E.default.Container&&(I=I.concat(D(q,R,C))),C-=Q}),I}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var x=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,x,N),x.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,x,N))}},{key:"path",value:function(x){return w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"path",this).call(this,x).slice(1)}},{key:"update",value:function(x){if(!0!==this.batch){var N=a.default.sources.USER;"string"==typeof x&&(N=x),Array.isArray(x)||(x=this.observer.takeRecords()),x.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,N,x),w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"update",this).call(this,x.concat([])),x.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,N,x)}}}]),p}(E.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[i.default,n.BlockEmbed,l.default],b.default=S},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SHORTKEY=b.default=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F},A=function(Z,Y){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return function F(Z,Y){var G=[],X=!0,re=!1,ae=void 0;try{for(var de,se=Z[Symbol.iterator]();!(X=(de=se.next()).done)&&(G.push(de.value),!Y||G.length!==Y);X=!0);}catch(he){re=!0,ae=he}finally{try{!X&&se.return&&se.return()}finally{if(re)throw ae}}return G}(Z,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function F(Z,Y){for(var G=0;G<Y.length;G++){var X=Y[G];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(Z,X.key,X)}}return function(Z,Y,G){return Y&&F(Z.prototype,Y),G&&F(Z,G),Z}}(),E=v(y(21)),a=v(y(11)),i=v(y(3)),u=v(y(2)),r=v(y(20)),l=v(y(0)),c=v(y(5)),_=v(y(10)),S=v(y(9));function v(F){return F&&F.__esModule?F:{default:F}}function p(F,Z,Y){return Z in F?Object.defineProperty(F,Z,{value:Y,enumerable:!0,configurable:!0,writable:!0}):F[Z]=Y,F}var L=(0,_.default)("quill:keyboard"),D=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",V=function(F){function Z(Y,G){!function h(F,Z){if(!(F instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,Z);var X=function x(F,Z){if(!F)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Z||"object"!=typeof Z&&"function"!=typeof Z?F:Z}(this,(Z.__proto__||Object.getPrototypeOf(Z)).call(this,Y,G));return X.bindings={},Object.keys(X.options.bindings).forEach(function(re){"list autofill"===re&&null!=Y.scroll.whitelist&&!Y.scroll.whitelist.list||X.options.bindings[re]&&X.addBinding(X.options.bindings[re])}),X.addBinding({key:Z.keys.ENTER,shiftKey:null},q),X.addBinding({key:Z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(X.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0},j),X.addBinding({key:Z.keys.DELETE},{collapsed:!0},I)):(X.addBinding({key:Z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),X.addBinding({key:Z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),X.addBinding({key:Z.keys.BACKSPACE},{collapsed:!1},C),X.addBinding({key:Z.keys.DELETE},{collapsed:!1},C),X.addBinding({key:Z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),X.listen(),X}return function N(F,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function, not "+typeof Z);F.prototype=Object.create(Z&&Z.prototype,{constructor:{value:F,enumerable:!1,writable:!0,configurable:!0}}),Z&&(Object.setPrototypeOf?Object.setPrototypeOf(F,Z):F.__proto__=Z)}(Z,F),w(Z,null,[{key:"match",value:function(G,X){return X=H(X),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(re){return!!X[re]!==G[re]&&null!==X[re]})&&X.key===(G.which||G.keyCode)}}]),w(Z,[{key:"addBinding",value:function(G){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ae=H(G);if(null==ae||null==ae.key)return L.warn("Attempted to add invalid keyboard binding",ae);"function"==typeof X&&(X={handler:X}),"function"==typeof re&&(re={handler:re}),ae=(0,i.default)(ae,X,re),this.bindings[ae.key]=this.bindings[ae.key]||[],this.bindings[ae.key].push(ae)}},{key:"listen",value:function(){var G=this;this.quill.root.addEventListener("keydown",function(X){if(!X.defaultPrevented){var ae=(G.bindings[X.which||X.keyCode]||[]).filter(function(ye){return Z.match(X,ye)});if(0!==ae.length){var se=G.quill.getSelection();if(null!=se&&G.quill.hasFocus()){var de=G.quill.getLine(se.index),he=A(de,2),pe=he[0],ve=he[1],K=G.quill.getLeaf(se.index),W=A(K,2),ne=W[0],ie=W[1],ee=0===se.length?[ne,ie]:G.quill.getLeaf(se.index+se.length),ue=A(ee,2),fe=ue[0],ce=ue[1],_e=ne instanceof l.default.Text?ne.value().slice(0,ie):"",Oe=fe instanceof l.default.Text?fe.value().slice(ce):"",me={collapsed:0===se.length,empty:0===se.length&&pe.length()<=1,format:G.quill.getFormat(se),offset:ve,prefix:_e,suffix:Oe};ae.some(function(ye){if(null!=ye.collapsed&&ye.collapsed!==me.collapsed||null!=ye.empty&&ye.empty!==me.empty||null!=ye.offset&&ye.offset!==me.offset)return!1;if(Array.isArray(ye.format)){if(ye.format.every(function(Ee){return null==me.format[Ee]}))return!1}else if("object"===P(ye.format)&&!Object.keys(ye.format).every(function(Ee){return!0===ye.format[Ee]?null!=me.format[Ee]:!1===ye.format[Ee]?null==me.format[Ee]:(0,a.default)(ye.format[Ee],me.format[Ee])}))return!1;return!(null!=ye.prefix&&!ye.prefix.test(me.prefix)||null!=ye.suffix&&!ye.suffix.test(me.suffix))&&!0!==ye.handler.call(G,se,me)})&&X.preventDefault()}}}})}}]),Z}(S.default);function $(F,Z){var Y;return p(Y={key:F,shiftKey:Z,altKey:null},F===V.keys.LEFT?"prefix":"suffix",/^$/),p(Y,"handler",function(re){var ae=re.index;F===V.keys.RIGHT&&(ae+=re.length+1);var se=this.quill.getLeaf(ae);return!(A(se,1)[0]instanceof l.default.Embed&&(F===V.keys.LEFT?Z?this.quill.setSelection(re.index-1,re.length+1,c.default.sources.USER):this.quill.setSelection(re.index-1,c.default.sources.USER):Z?this.quill.setSelection(re.index,re.length+1,c.default.sources.USER):this.quill.setSelection(re.index+re.length+1,c.default.sources.USER),1))}),Y}function j(F,Z){if(!(0===F.index||this.quill.getLength()<=1)){var Y=this.quill.getLine(F.index),X=A(Y,1)[0],re={};if(0===Z.offset){var ae=this.quill.getLine(F.index-1),de=A(ae,1)[0];if(null!=de&&de.length()>1){var he=X.formats(),pe=this.quill.getFormat(F.index-1,1);re=r.default.attributes.diff(he,pe)||{}}}var ve=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(Z.prefix)?2:1;this.quill.deleteText(F.index-ve,ve,c.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(F.index-ve,ve,re,c.default.sources.USER),this.quill.focus()}}function I(F,Z){var Y=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(Z.suffix)?2:1;if(!(F.index>=this.quill.getLength()-Y)){var G={},X=0,re=this.quill.getLine(F.index),se=A(re,1)[0];if(Z.offset>=se.length()-1){var de=this.quill.getLine(F.index+1),pe=A(de,1)[0];if(pe){var ve=se.formats(),K=this.quill.getFormat(F.index,1);G=r.default.attributes.diff(ve,K)||{},X=pe.length()}}this.quill.deleteText(F.index,Y,c.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(F.index+X-1,Y,G,c.default.sources.USER)}}function C(F){var Z=this.quill.getLines(F),Y={};if(Z.length>1){var G=Z[0].formats(),X=Z[Z.length-1].formats();Y=r.default.attributes.diff(X,G)||{}}this.quill.deleteText(F,c.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(F.index,1,Y,c.default.sources.USER),this.quill.setSelection(F.index,c.default.sources.SILENT),this.quill.focus()}function q(F,Z){var Y=this;F.length>0&&this.quill.scroll.deleteAt(F.index,F.length);var G=Object.keys(Z.format).reduce(function(X,re){return l.default.query(re,l.default.Scope.BLOCK)&&!Array.isArray(Z.format[re])&&(X[re]=Z.format[re]),X},{});this.quill.insertText(F.index,"\n",G,c.default.sources.USER),this.quill.setSelection(F.index+1,c.default.sources.SILENT),this.quill.focus(),Object.keys(Z.format).forEach(function(X){null==G[X]&&(Array.isArray(Z.format[X])||"link"!==X&&Y.quill.format(X,Z.format[X],c.default.sources.USER))})}function R(F){return{key:V.keys.TAB,shiftKey:!F,format:{"code-block":!0},handler:function(Y){var G=l.default.query("code-block"),X=Y.index,re=Y.length,ae=this.quill.scroll.descendant(G,X),se=A(ae,2),de=se[0],he=se[1];if(null!=de){var pe=this.quill.getIndex(de),ve=de.newlineIndex(he,!0)+1,K=de.newlineIndex(pe+he+re),W=de.domNode.textContent.slice(ve,K).split("\n");he=0,W.forEach(function(ne,ie){F?(de.insertAt(ve+he,G.TAB),he+=G.TAB.length,0===ie?X+=G.TAB.length:re+=G.TAB.length):ne.startsWith(G.TAB)&&(de.deleteAt(ve+he,G.TAB.length),he-=G.TAB.length,0===ie?X-=G.TAB.length:re-=G.TAB.length),he+=ne.length+1}),this.quill.update(c.default.sources.USER),this.quill.setSelection(X,re,c.default.sources.SILENT)}}}}function Q(F){return{key:F[0].toUpperCase(),shortKey:!0,handler:function(Y,G){this.quill.format(F,!G.format[F],c.default.sources.USER)}}}function H(F){if("string"==typeof F||"number"==typeof F)return H({key:F});if("object"===(typeof F>"u"?"undefined":P(F))&&(F=(0,E.default)(F,!1)),"string"==typeof F.key)if(null!=V.keys[F.key.toUpperCase()])F.key=V.keys[F.key.toUpperCase()];else{if(1!==F.key.length)return null;F.key=F.key.toUpperCase().charCodeAt(0)}return F.shortKey&&(F[D]=F.shortKey,delete F.shortKey),F}V.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},V.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:V.keys.TAB,format:["blockquote","indent","list"],handler:function(Z,Y){if(Y.collapsed&&0!==Y.offset)return!0;this.quill.format("indent","+1",c.default.sources.USER)}},outdent:{key:V.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(Z,Y){if(Y.collapsed&&0!==Y.offset)return!0;this.quill.format("indent","-1",c.default.sources.USER)}},"outdent backspace":{key:V.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(Z,Y){null!=Y.format.indent?this.quill.format("indent","-1",c.default.sources.USER):null!=Y.format.list&&this.quill.format("list",!1,c.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:V.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(Z){this.quill.deleteText(Z.index-1,1,c.default.sources.USER)}},tab:{key:V.keys.TAB,handler:function(Z){this.quill.history.cutoff();var Y=(new u.default).retain(Z.index).delete(Z.length).insert("\t");this.quill.updateContents(Y,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index+1,c.default.sources.SILENT)}},"list empty enter":{key:V.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(Z,Y){this.quill.format("list",!1,c.default.sources.USER),Y.format.indent&&this.quill.format("indent",!1,c.default.sources.USER)}},"checklist enter":{key:V.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(Z){var Y=this.quill.getLine(Z.index),G=A(Y,2),X=G[0],re=G[1],ae=(0,i.default)({},X.formats(),{list:"checked"}),se=(new u.default).retain(Z.index).insert("\n",ae).retain(X.length()-re-1).retain(1,{list:"unchecked"});this.quill.updateContents(se,c.default.sources.USER),this.quill.setSelection(Z.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:V.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(Z,Y){var G=this.quill.getLine(Z.index),X=A(G,2),re=X[0],ae=X[1],se=(new u.default).retain(Z.index).insert("\n",Y.format).retain(re.length()-ae-1).retain(1,{header:null});this.quill.updateContents(se,c.default.sources.USER),this.quill.setSelection(Z.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(Z,Y){var G=Y.prefix.length,X=this.quill.getLine(Z.index),re=A(X,2),ae=re[0],se=re[1];if(se>G)return!0;var de=void 0;switch(Y.prefix.trim()){case"[]":case"[ ]":de="unchecked";break;case"[x]":de="checked";break;case"-":case"*":de="bullet";break;default:de="ordered"}this.quill.insertText(Z.index," ",c.default.sources.USER),this.quill.history.cutoff();var he=(new u.default).retain(Z.index-se).delete(G+1).retain(ae.length()-2-se).retain(1,{list:de});this.quill.updateContents(he,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(Z.index-G,c.default.sources.SILENT)}},"code exit":{key:V.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(Z){var Y=this.quill.getLine(Z.index),G=A(Y,2),X=G[0],re=G[1],ae=(new u.default).retain(Z.index+X.length()-re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ae,c.default.sources.USER)}},"embed left":$(V.keys.LEFT,!1),"embed left shift":$(V.keys.LEFT,!0),"embed right":$(V.keys.RIGHT,!1),"embed right shift":$(V.keys.RIGHT,!0)}},b.default=V,b.SHORTKEY=D},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(o,l){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return function r(o,l){var t=[],c=!0,d=!1,_=void 0;try{for(var S,O=o[Symbol.iterator]();!(c=(S=O.next()).done)&&(t.push(S.value),!l||t.length!==l);c=!0);}catch(v){d=!0,_=v}finally{try{!c&&O.return&&O.return()}finally{if(d)throw _}}return t}(o,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function r(o,l,t){null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,l);if(void 0===c){var d=Object.getPrototypeOf(o);return null===d?void 0:r(d,l,t)}if("value"in c)return c.value;var _=c.get;return void 0===_?void 0:_.call(t)},w=function(){function r(o,l){for(var t=0;t<l.length;t++){var c=l[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,t){return l&&r(o.prototype,l),t&&r(o,t),o}}(),E=n(y(0)),a=n(y(7));function n(r){return r&&r.__esModule?r:{default:r}}var s=function(r){function o(l,t){!function i(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var c=function f(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?r:o}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return c.selection=t,c.textNode=document.createTextNode(o.CONTENTS),c.domNode.appendChild(c.textNode),c._length=0,c}return function u(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}(o,r),w(o,null,[{key:"value",value:function(){}}]),w(o,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,c){if(0!==this._length)return A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,t,c);for(var d=this,_=0;null!=d&&d.statics.scope!==E.default.Scope.BLOCK_BLOT;)_+=d.offset(d.parent),d=d.parent;null!=d&&(this._length=o.CONTENTS.length,d.optimize(),d.formatAt(_,o.CONTENTS.length,t,c),this._length=0)}},{key:"index",value:function(t,c){return t===this.textNode?0:A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,t,c)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,c=this.selection.getNativeRange(),d=void 0,_=void 0,O=void 0;if(null!=c&&c.start.node===t&&c.end.node===t){var S=[t,c.start.offset,c.end.offset];d=S[0],_=S[1],O=S[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==o.CONTENTS){var v=this.textNode.data.split(o.CONTENTS).join("");this.next instanceof a.default?(d=this.next.domNode,this.next.insertAt(0,v),this.textNode.data=o.CONTENTS):(this.textNode.data=v,this.parent.insertBefore(E.default.create(this.textNode),this),this.textNode=document.createTextNode(o.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=_){var p=[_,O].map(function(x){return Math.max(0,Math.min(d.data.length,x-1))}),h=P(p,2);return{startNode:d,startOffset:_=h[0],endNode:d,endOffset:O=h[1]}}}}},{key:"update",value:function(t,c){var d=this;if(t.some(function(O){return"characterData"===O.type&&O.target===d.textNode})){var _=this.restore();_&&(c.range=_)}}},{key:"value",value:function(){return""}}]),o}(E.default.Embed);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\ufeff",b.default=s},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var A=E(y(0)),w=y(4),e=E(w);function E(f){return f&&f.__esModule?f:{default:f}}var i=function(f){function u(){return function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),u}(A.default.Container);i.allowedChildren=[e.default,w.BlockEmbed,i],b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ColorStyle=b.ColorClass=b.ColorAttributor=void 0;var P=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),A=function s(r,o,l){null===r&&(r=Function.prototype);var t=Object.getOwnPropertyDescriptor(r,o);if(void 0===t){var c=Object.getPrototypeOf(r);return null===c?void 0:s(c,o,l)}if("value"in t)return t.value;var d=t.get;return void 0===d?void 0:d.call(l)},e=function E(s){return s&&s.__esModule?s:{default:s}}(y(0));var i=function(s){function r(){return function m(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function a(s,r){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?s:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function n(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(s,r):s.__proto__=r)}(r,s),P(r,[{key:"value",value:function(l){var t=A(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"value",this).call(this,l);return t.startsWith("rgb(")?"#"+(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(c){return("00"+parseInt(c).toString(16)).slice(-2)}).join(""):t}}]),r}(e.default.Attributor.Style),f=new e.default.Attributor.Class("color","ql-color",{scope:e.default.Scope.INLINE}),u=new i("color","color",{scope:e.default.Scope.INLINE});b.ColorAttributor=i,b.ColorClass=f,b.ColorStyle=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.sanitize=b.default=void 0;var P=function(){function u(s,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,r,o){return r&&u(s.prototype,r),o&&u(s,o),s}}(),A=function u(s,r,o){null===s&&(s=Function.prototype);var l=Object.getOwnPropertyDescriptor(s,r);if(void 0===l){var t=Object.getPrototypeOf(s);return null===t?void 0:u(t,r,o)}if("value"in l)return l.value;var c=l.get;return void 0===c?void 0:c.call(o)};var i=function(u){function s(){return function m(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function a(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?u:s}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function n(u,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}(s,u),P(s,[{key:"format",value:function(o,l){if(o!==this.statics.blotName||!l)return A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"format",this).call(this,o,l);l=this.constructor.sanitize(l),this.domNode.setAttribute("href",l)}}],[{key:"create",value:function(o){var l=A(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,o);return o=this.sanitize(o),l.setAttribute("href",o),l.setAttribute("rel","noopener noreferrer"),l.setAttribute("target","_blank"),l}},{key:"formats",value:function(o){return o.getAttribute("href")}},{key:"sanitize",value:function(o){return f(o,this.PROTOCOL_WHITELIST)?o:this.SANITIZED_URL}}]),s}(function E(u){return u&&u.__esModule?u:{default:u}}(y(6)).default);function f(u,s){var r=document.createElement("a");r.href=u;var o=r.href.slice(0,r.href.indexOf(":"));return s.indexOf(o)>-1}i.blotName="link",i.tagName="A",i.SANITIZED_URL="about:blank",i.PROTOCOL_WHITELIST=["http","https","mailto","tel"],b.default=i,b.sanitize=f},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},A=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),e=a(y(23)),m=a(y(107));function a(s){return s&&s.__esModule?s:{default:s}}var i=0;function f(s,r){s.setAttribute(r,"true"!==s.getAttribute(r))}var u=function(){function s(r){var o=this;(function n(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")})(this,s),this.select=r,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){o.togglePicker()}),this.label.addEventListener("keydown",function(l){switch(l.keyCode){case e.default.keys.ENTER:o.togglePicker();break;case e.default.keys.ESCAPE:o.escape(),l.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return A(s,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(o){var l=this,t=document.createElement("span");return t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item"),o.hasAttribute("value")&&t.setAttribute("data-value",o.getAttribute("value")),o.textContent&&t.setAttribute("data-label",o.textContent),t.addEventListener("click",function(){l.selectItem(t,!0)}),t.addEventListener("keydown",function(c){switch(c.keyCode){case e.default.keys.ENTER:l.selectItem(t,!0),c.preventDefault();break;case e.default.keys.ESCAPE:l.escape(),c.preventDefault()}}),t}},{key:"buildLabel",value:function(){var o=document.createElement("span");return o.classList.add("ql-picker-label"),o.innerHTML=m.default,o.tabIndex="0",o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),this.container.appendChild(o),o}},{key:"buildOptions",value:function(){var o=this,l=document.createElement("span");l.classList.add("ql-picker-options"),l.setAttribute("aria-hidden","true"),l.tabIndex="-1",l.id="ql-picker-options-"+i,i+=1,this.label.setAttribute("aria-controls",l.id),this.options=l,[].slice.call(this.select.options).forEach(function(t){var c=o.buildItem(t);l.appendChild(c),!0===t.selected&&o.selectItem(c)}),this.container.appendChild(l)}},{key:"buildPicker",value:function(){var o=this;[].slice.call(this.select.attributes).forEach(function(l){o.container.setAttribute(l.name,l.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var o=this;this.close(),setTimeout(function(){return o.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.container.querySelector(".ql-selected");if(o!==t&&(null!=t&&t.classList.remove("ql-selected"),null!=o&&(o.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(o.parentNode.children,o),o.hasAttribute("data-value")?this.label.setAttribute("data-value",o.getAttribute("data-value")):this.label.removeAttribute("data-value"),o.hasAttribute("data-label")?this.label.setAttribute("data-label",o.getAttribute("data-label")):this.label.removeAttribute("data-label"),l))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":P(Event))){var c=document.createEvent("Event");c.initEvent("change",!0,!0),this.select.dispatchEvent(c)}this.close()}}},{key:"update",value:function(){var o=void 0;if(this.select.selectedIndex>-1){var l=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];o=this.select.options[this.select.selectedIndex],this.selectItem(l)}else this.selectItem(null);var t=null!=o&&o!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}]),s}();b.default=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var A=L(y(0)),e=L(y(5)),E=y(4),m=L(E),n=L(y(16)),f=L(y(25)),s=L(y(24)),o=L(y(35)),t=L(y(6)),d=L(y(22)),O=L(y(7)),v=L(y(55)),h=L(y(42)),N=L(y(23));function L(D){return D&&D.__esModule?D:{default:D}}e.default.register({"blots/block":m.default,"blots/block/embed":E.BlockEmbed,"blots/break":n.default,"blots/container":f.default,"blots/cursor":s.default,"blots/embed":o.default,"blots/inline":t.default,"blots/scroll":d.default,"blots/text":O.default,"modules/clipboard":v.default,"modules/history":h.default,"modules/keyboard":N.default}),A.default.register(m.default,n.default,s.default,t.default,d.default,O.default),b.default=e.default},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=y(1),A=function(){function w(e){this.domNode=e,this.domNode[P.DATA_KEY]={blot:this}}return Object.defineProperty(w.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),w.create=function(e){if(null==this.tagName)throw new P.ParchmentError("Blot definition missing tagName");var E;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),E="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):E=document.createElement(this.tagName),this.className&&E.classList.add(this.className),E},w.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},w.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return P.create(e)},w.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[P.DATA_KEY]},w.prototype.deleteAt=function(e,E){this.isolate(e,E).remove()},w.prototype.formatAt=function(e,E,m,a){var n=this.isolate(e,E);if(null!=P.query(m,P.Scope.BLOT)&&a)n.wrap(m,a);else if(null!=P.query(m,P.Scope.ATTRIBUTE)){var i=P.create(this.statics.scope);n.wrap(i),i.format(m,a)}},w.prototype.insertAt=function(e,E,m){var a=null==m?P.create("text",E):P.create(E,m),n=this.split(e);this.parent.insertBefore(a,n)},w.prototype.insertInto=function(e,E){void 0===E&&(E=null),null!=this.parent&&this.parent.children.remove(this);var m=null;e.children.insertBefore(this,E),null!=E&&(m=E.domNode),(this.domNode.parentNode!=e.domNode||this.domNode.nextSibling!=m)&&e.domNode.insertBefore(this.domNode,m),this.parent=e,this.attach()},w.prototype.isolate=function(e,E){var m=this.split(e);return m.split(E),m},w.prototype.length=function(){return 1},w.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},w.prototype.optimize=function(e){null!=this.domNode[P.DATA_KEY]&&delete this.domNode[P.DATA_KEY].mutations},w.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},w.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},w.prototype.replaceWith=function(e,E){var m="string"==typeof e?P.create(e,E):e;return m.replace(this),m},w.prototype.split=function(e,E){return 0===e?this:this.next},w.prototype.update=function(e,E){},w.prototype.wrap=function(e,E){var m="string"==typeof e?P.create(e,E):e;return null!=this.parent&&this.parent.insertBefore(m,this.next),m.appendChild(this),m},w.blotName="abstract",w}();b.default=A},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=y(12),A=y(32),w=y(33),e=y(1),E=function(){function m(a){this.attributes={},this.domNode=a,this.build()}return m.prototype.attribute=function(a,n){n?a.add(this.domNode,n)&&(null!=a.value(this.domNode)?this.attributes[a.attrName]=a:delete this.attributes[a.attrName]):(a.remove(this.domNode),delete this.attributes[a.attrName])},m.prototype.build=function(){var a=this;this.attributes={};var n=P.default.keys(this.domNode),i=A.default.keys(this.domNode),f=w.default.keys(this.domNode);n.concat(i).concat(f).forEach(function(u){var s=e.query(u,e.Scope.ATTRIBUTE);s instanceof P.default&&(a.attributes[s.attrName]=s)})},m.prototype.copy=function(a){var n=this;Object.keys(this.attributes).forEach(function(i){var f=n.attributes[i].value(n.domNode);a.format(i,f)})},m.prototype.move=function(a){var n=this;this.copy(a),Object.keys(this.attributes).forEach(function(i){n.attributes[i].remove(n.domNode)}),this.attributes={}},m.prototype.values=function(){var a=this;return Object.keys(this.attributes).reduce(function(n,i){return n[i]=a.attributes[i].value(a.domNode),n},{})},m}();b.default=E},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});function w(E,m){return(E.getAttribute("class")||"").split(/\s+/).filter(function(n){return 0===n.indexOf(m+"-")})}Object.defineProperty(b,"__esModule",{value:!0});var e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return P(m,E),m.keys=function(a){return(a.getAttribute("class")||"").split(/\s+/).map(function(n){return n.split("-").slice(0,-1).join("-")})},m.prototype.add=function(a,n){return!!this.canAdd(a,n)&&(this.remove(a),a.classList.add(this.keyName+"-"+n),!0)},m.prototype.remove=function(a){w(a,this.keyName).forEach(function(i){a.classList.remove(i)}),0===a.classList.length&&a.removeAttribute("class")},m.prototype.value=function(a){var i=(w(a,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(a,i)?i:""},m}(y(12).default);b.default=e},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});function w(E){var m=E.split("-"),a=m.slice(1).map(function(n){return n[0].toUpperCase()+n.slice(1)}).join("");return m[0]+a}Object.defineProperty(b,"__esModule",{value:!0});var e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return P(m,E),m.keys=function(a){return(a.getAttribute("style")||"").split(";").map(function(n){return n.split(":")[0].trim()})},m.prototype.add=function(a,n){return!!this.canAdd(a,n)&&(a.style[w(this.keyName)]=n,!0)},m.prototype.remove=function(a){a.style[w(this.keyName)]="",a.getAttribute("style")||a.removeAttribute("style")},m.prototype.value=function(a){var n=a.style[w(this.keyName)];return this.canAdd(a,n)?n:""},m}(y(12).default);b.default=e},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function e(E,m){for(var a=0;a<m.length;a++){var n=m[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(E,n.key,n)}}return function(E,m,a){return m&&e(E.prototype,m),a&&e(E,a),E}}();var w=function(){function e(E,m){(function A(e,E){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.quill=E,this.options=m,this.modules={}}return P(e,[{key:"init",value:function(){var m=this;Object.keys(this.options.modules).forEach(function(a){null==m.modules[a]&&m.addModule(a)})}},{key:"addModule",value:function(m){var a=this.quill.constructor.import("modules/"+m);return this.modules[m]=new a(this.quill,this.options.modules[m]||{}),this.modules[m]}}]),e}();w.DEFAULTS={modules:{}},w.themes={default:w},b.default=w},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function r(o,l){for(var t=0;t<l.length;t++){var c=l[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,t){return l&&r(o.prototype,l),t&&r(o,t),o}}(),A=function r(o,l,t){null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,l);if(void 0===c){var d=Object.getPrototypeOf(o);return null===d?void 0:r(d,l,t)}if("value"in c)return c.value;var _=c.get;return void 0===_?void 0:_.call(t)},e=a(y(0)),m=a(y(7));function a(r){return r&&r.__esModule?r:{default:r}}var u="\ufeff",s=function(r){function o(l){!function n(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function i(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?r:o}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return t.contentNode=document.createElement("span"),t.contentNode.setAttribute("contenteditable",!1),[].slice.call(t.domNode.childNodes).forEach(function(c){t.contentNode.appendChild(c)}),t.leftGuard=document.createTextNode(u),t.rightGuard=document.createTextNode(u),t.domNode.appendChild(t.leftGuard),t.domNode.appendChild(t.contentNode),t.domNode.appendChild(t.rightGuard),t}return function f(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}(o,r),P(o,[{key:"index",value:function(t,c){return t===this.leftGuard?0:t===this.rightGuard?1:A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,t,c)}},{key:"restore",value:function(t){var c=void 0,d=void 0,_=t.data.split(u).join("");if(t===this.leftGuard)if(this.prev instanceof m.default){var O=this.prev.length();this.prev.insertAt(O,_),c={startNode:this.prev.domNode,startOffset:O+_.length}}else d=document.createTextNode(_),this.parent.insertBefore(e.default.create(d),this),c={startNode:d,startOffset:_.length};else t===this.rightGuard&&(this.next instanceof m.default?(this.next.insertAt(0,_),c={startNode:this.next.domNode,startOffset:_.length}):(d=document.createTextNode(_),this.parent.insertBefore(e.default.create(d),this.next),c={startNode:d,startOffset:_.length}));return t.data=u,c}},{key:"update",value:function(t,c){var d=this;t.forEach(function(_){if("characterData"===_.type&&(_.target===d.leftGuard||_.target===d.rightGuard)){var O=d.restore(_.target);O&&(c.range=O)}})}}]),o}(e.default.Embed);b.default=s},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AlignStyle=b.AlignClass=b.AlignAttribute=void 0;var A=function w(n){return n&&n.__esModule?n:{default:n}}(y(0));var e={scope:A.default.Scope.BLOCK,whitelist:["right","center","justify"]},E=new A.default.Attributor.Attribute("align","align",e),m=new A.default.Attributor.Class("align","ql-align",e),a=new A.default.Attributor.Style("align","text-align",e);b.AlignAttribute=E,b.AlignClass=m,b.AlignStyle=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BackgroundStyle=b.BackgroundClass=void 0;var A=function e(a){return a&&a.__esModule?a:{default:a}}(y(0)),w=y(26);var E=new A.default.Attributor.Class("background","ql-bg",{scope:A.default.Scope.INLINE}),m=new w.ColorAttributor("background","background-color",{scope:A.default.Scope.INLINE});b.BackgroundClass=E,b.BackgroundStyle=m},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DirectionStyle=b.DirectionClass=b.DirectionAttribute=void 0;var A=function w(n){return n&&n.__esModule?n:{default:n}}(y(0));var e={scope:A.default.Scope.BLOCK,whitelist:["rtl"]},E=new A.default.Attributor.Attribute("direction","dir",e),m=new A.default.Attributor.Class("direction","ql-direction",e),a=new A.default.Attributor.Style("direction","direction",e);b.DirectionAttribute=E,b.DirectionClass=m,b.DirectionStyle=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FontClass=b.FontStyle=void 0;var P=function(){function r(o,l){for(var t=0;t<l.length;t++){var c=l[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,t){return l&&r(o.prototype,l),t&&r(o,t),o}}(),A=function r(o,l,t){null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,l);if(void 0===c){var d=Object.getPrototypeOf(o);return null===d?void 0:r(d,l,t)}if("value"in c)return c.value;var _=c.get;return void 0===_?void 0:_.call(t)},e=function E(r){return r&&r.__esModule?r:{default:r}}(y(0));var i={scope:e.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new e.default.Attributor.Class("font","ql-font",i),u=function(r){function o(){return function m(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function a(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?r:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function n(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}(o,r),P(o,[{key:"value",value:function(t){return A(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),o}(e.default.Attributor.Style),s=new u("font","font-family",i);b.FontStyle=s,b.FontClass=f},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SizeStyle=b.SizeClass=void 0;var A=function w(m){return m&&m.__esModule?m:{default:m}}(y(0));var e=new A.default.Attributor.Class("size","ql-size",{scope:A.default.Scope.INLINE,whitelist:["small","large","huge"]}),E=new A.default.Attributor.Style("size","font-size",{scope:A.default.Scope.INLINE,whitelist:["10px","18px","32px"]});b.SizeClass=e,b.SizeStyle=E},function(J,b,y){"use strict";J.exports={align:{"":y(76),center:y(77),right:y(78),justify:y(79)},background:y(80),blockquote:y(81),bold:y(82),clean:y(83),code:y(58),"code-block":y(58),color:y(84),direction:{"":y(85),rtl:y(86)},float:{center:y(87),full:y(88),left:y(89),right:y(90)},formula:y(91),header:{1:y(92),2:y(93)},italic:y(94),image:y(95),indent:{"+1":y(96),"-1":y(97)},link:y(98),list:{ordered:y(99),bullet:y(100),check:y(101)},script:{sub:y(102),super:y(103)},strike:y(104),underline:y(105),video:y(106)}},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getLastChangeIndex=b.default=void 0;var P=function(){function l(t,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(t,_.key,_)}}return function(t,c,d){return c&&l(t.prototype,c),d&&l(t,d),t}}(),w=n(y(0)),E=n(y(5));function n(l){return l&&l.__esModule?l:{default:l}}var s=function(l){function t(c,d){!function i(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var _=function f(l,t){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?l:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c,d));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(E.default.events.EDITOR_CHANGE,function(O,S,v,p){O!==E.default.events.TEXT_CHANGE||_.ignoreChange||(_.options.userOnly&&p!==E.default.sources.USER?_.transform(S):_.record(S,v))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return function u(l,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);l.prototype=Object.create(t&&t.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(l,t):l.__proto__=t)}(t,l),P(t,[{key:"change",value:function(d,_){if(0!==this.stack[d].length){var O=this.stack[d].pop();this.stack[_].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[d],E.default.sources.USER),this.ignoreChange=!1;var S=o(O[d]);this.quill.setSelection(S)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(d,_){if(0!==d.ops.length){this.stack.redo=[];var O=this.quill.getContents().diff(_),S=Date.now();if(this.lastRecorded+this.options.delay>S&&this.stack.undo.length>0){var v=this.stack.undo.pop();O=O.compose(v.undo),d=v.redo.compose(d)}else this.lastRecorded=S;this.stack.undo.push({redo:d,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(d){this.stack.undo.forEach(function(_){_.undo=d.transform(_.undo,!0),_.redo=d.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=d.transform(_.undo,!0),_.redo=d.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(n(y(9)).default);function o(l){var t=l.reduce(function(d,_){return d+(_.delete||0)},0),c=l.length()-t;return function r(l){var t=l.ops[l.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(c){return null!=w.default.query(c,w.default.Scope.BLOCK)}))}(l)&&(c-=1),c}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},b.default=s,b.getLastChangeIndex=o},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.BaseTooltip=void 0;var P=function(){function q(R,Q){for(var H=0;H<Q.length;H++){var F=Q[H];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(R,F.key,F)}}return function(R,Q,H){return Q&&q(R.prototype,Q),H&&q(R,H),R}}(),A=function q(R,Q,H){null===R&&(R=Function.prototype);var F=Object.getOwnPropertyDescriptor(R,Q);if(void 0===F){var Z=Object.getPrototypeOf(R);return null===Z?void 0:q(Z,Q,H)}if("value"in F)return F.value;var Y=F.get;return void 0===Y?void 0:Y.call(H)},e=S(y(3)),m=S(y(2)),n=S(y(8)),f=S(y(23)),s=S(y(34)),o=S(y(59)),t=S(y(60)),d=S(y(28)),O=S(y(61));function S(q){return q&&q.__esModule?q:{default:q}}function v(q,R){if(!(q instanceof R))throw new TypeError("Cannot call a class as a function")}function p(q,R){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?q:R}function h(q,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);q.prototype=Object.create(R&&R.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(q,R):q.__proto__=R)}var x=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],L=[!1,"serif","monospace"],D=["1","2","3",!1],V=["small",!1,"large","huge"],$=function(q){function R(Q,H){v(this,R);var F=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,Q,H));return Q.emitter.listenDOM("click",document.body,function Y(G){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",Y);null!=F.tooltip&&!F.tooltip.root.contains(G.target)&&document.activeElement!==F.tooltip.textbox&&!F.quill.hasFocus()&&F.tooltip.hide(),null!=F.pickers&&F.pickers.forEach(function(X){X.container.contains(G.target)||X.close()})}),F}return h(R,q),P(R,[{key:"addModule",value:function(H){var F=A(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,H);return"toolbar"===H&&this.extendToolbar(F),F}},{key:"buildButtons",value:function(H,F){H.forEach(function(Z){(Z.getAttribute("class")||"").split(/\s+/).forEach(function(G){if(G.startsWith("ql-")&&(G=G.slice(3),null!=F[G]))if("direction"===G)Z.innerHTML=F[G][""]+F[G].rtl;else if("string"==typeof F[G])Z.innerHTML=F[G];else{var X=Z.value||"";null!=X&&F[G][X]&&(Z.innerHTML=F[G][X])}})})}},{key:"buildPickers",value:function(H,F){var Z=this;this.pickers=H.map(function(G){if(G.classList.contains("ql-align"))return null==G.querySelector("option")&&C(G,x),new t.default(G,F.align);if(G.classList.contains("ql-background")||G.classList.contains("ql-color")){var X=G.classList.contains("ql-background")?"background":"color";return null==G.querySelector("option")&&C(G,N,"background"===X?"#ffffff":"#000000"),new o.default(G,F[X])}return null==G.querySelector("option")&&(G.classList.contains("ql-font")?C(G,L):G.classList.contains("ql-header")?C(G,D):G.classList.contains("ql-size")&&C(G,V)),new d.default(G)}),this.quill.on(n.default.events.EDITOR_CHANGE,function(){Z.pickers.forEach(function(X){X.update()})})}}]),R}(s.default);$.DEFAULTS=(0,e.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,Q=this.container.querySelector("input.ql-image[type=file]");null==Q&&((Q=document.createElement("input")).setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(null!=Q.files&&null!=Q.files[0]){var H=new FileReader;H.onload=function(F){var Z=R.quill.getSelection(!0);R.quill.updateContents((new m.default).retain(Z.index).delete(Z.length).insert({image:F.target.result}),n.default.sources.USER),R.quill.setSelection(Z.index+1,n.default.sources.SILENT),Q.value=""},H.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(q){function R(Q,H){v(this,R);var F=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,Q,H));return F.textbox=F.root.querySelector('input[type="text"]'),F.listen(),F}return h(R,q),P(R,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(F){f.default.match(F,"enter")?(H.save(),F.preventDefault()):f.default.match(F,"escape")&&(H.cancel(),F.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",F=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=F?this.textbox.value=F:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var F=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,n.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,n.default.sources.USER)),this.quill.root.scrollTop=F;break;case"video":H=function I(q){var R=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":q}(H);case"formula":if(!H)break;var Z=this.quill.getSelection(!0);if(null!=Z){var Y=Z.index+Z.length;this.quill.insertEmbed(Y,this.root.getAttribute("data-mode"),H,n.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(Y+1," ",n.default.sources.USER),this.quill.setSelection(Y+2,n.default.sources.USER)}}this.textbox.value="",this.hide()}}]),R}(O.default);function C(q,R){var Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R.forEach(function(H){var F=document.createElement("option");H===Q?F.setAttribute("selected","selected"):F.setAttribute("value",H),q.appendChild(F)})}b.BaseTooltip=j,b.default=$},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function A(){this.head=this.tail=null,this.length=0}return A.prototype.append=function(){for(var w=[],e=0;e<arguments.length;e++)w[e]=arguments[e];this.insertBefore(w[0],null),w.length>1&&this.append.apply(this,w.slice(1))},A.prototype.contains=function(w){for(var e,E=this.iterator();e=E();)if(e===w)return!0;return!1},A.prototype.insertBefore=function(w,e){w&&(w.next=e,null!=e?(w.prev=e.prev,null!=e.prev&&(e.prev.next=w),e.prev=w,e===this.head&&(this.head=w)):null!=this.tail?(this.tail.next=w,w.prev=this.tail,this.tail=w):(w.prev=null,this.head=this.tail=w),this.length+=1)},A.prototype.offset=function(w){for(var e=0,E=this.head;null!=E;){if(E===w)return e;e+=E.length(),E=E.next}return-1},A.prototype.remove=function(w){this.contains(w)&&(null!=w.prev&&(w.prev.next=w.next),null!=w.next&&(w.next.prev=w.prev),w===this.head&&(this.head=w.next),w===this.tail&&(this.tail=w.prev),this.length-=1)},A.prototype.iterator=function(w){return void 0===w&&(w=this.head),function(){var e=w;return null!=w&&(w=w.next),e}},A.prototype.find=function(w,e){void 0===e&&(e=!1);for(var E,m=this.iterator();E=m();){var a=E.length();if(w<a||e&&w===a&&(null==E.next||0!==E.next.length()))return[E,w];w-=a}return[null,0]},A.prototype.forEach=function(w){for(var e,E=this.iterator();e=E();)w(e)},A.prototype.forEachAt=function(w,e,E){if(!(e<=0))for(var i,m=this.find(w),f=w-m[1],u=this.iterator(m[0]);(i=u())&&f<w+e;){var s=i.length();w>f?E(i,w-f,Math.min(e,f+s-w)):E(i,0,Math.min(s,w+e-f)),f+=s}},A.prototype.map=function(w){return this.reduce(function(e,E){return e.push(w(E)),e},[])},A.prototype.reduce=function(w,e){for(var E,m=this.iterator();E=m();)e=w(e,E);return e},A}();b.default=P},function(J,b,y){"use strict";var a,P=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])},function(n,i){function f(){this.constructor=n}a(n,i),n.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(b,"__esModule",{value:!0});var A=y(17),w=y(1),e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=function(a){function n(i){var f=a.call(this,i)||this;return f.scroll=f,f.observer=new MutationObserver(function(u){f.update(u)}),f.observer.observe(f.domNode,e),f.attach(),f}return P(n,a),n.prototype.detach=function(){a.prototype.detach.call(this),this.observer.disconnect()},n.prototype.deleteAt=function(i,f){this.update(),0===i&&f===this.length()?this.children.forEach(function(u){u.remove()}):a.prototype.deleteAt.call(this,i,f)},n.prototype.formatAt=function(i,f,u,s){this.update(),a.prototype.formatAt.call(this,i,f,u,s)},n.prototype.insertAt=function(i,f,u){this.update(),a.prototype.insertAt.call(this,i,f,u)},n.prototype.optimize=function(i,f){var u=this;void 0===i&&(i=[]),void 0===f&&(f={}),a.prototype.optimize.call(this,f);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)i.push(s.pop());for(var r=function(c,d){void 0===d&&(d=!0),null!=c&&c!==u&&null!=c.domNode.parentNode&&(null==c.domNode[w.DATA_KEY].mutations&&(c.domNode[w.DATA_KEY].mutations=[]),d&&r(c.parent))},o=function(c){null==c.domNode[w.DATA_KEY]||null==c.domNode[w.DATA_KEY].mutations||(c instanceof A.default&&c.children.forEach(o),c.optimize(f))},l=i,t=0;l.length>0;t+=1){if(t>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(function(c){var d=w.find(c.target,!0);null!=d&&(d.domNode===c.target&&("childList"===c.type?(r(w.find(c.previousSibling,!1)),[].forEach.call(c.addedNodes,function(_){var O=w.find(_,!1);r(O,!1),O instanceof A.default&&O.children.forEach(function(S){r(S,!1)})})):"attributes"===c.type&&r(d.prev)),r(d))}),this.children.forEach(o),s=(l=[].slice.call(this.observer.takeRecords())).slice();s.length>0;)i.push(s.pop())}},n.prototype.update=function(i,f){var u=this;void 0===f&&(f={}),(i=i||this.observer.takeRecords()).map(function(s){var r=w.find(s.target,!0);return null==r?null:null==r.domNode[w.DATA_KEY].mutations?(r.domNode[w.DATA_KEY].mutations=[s],r):(r.domNode[w.DATA_KEY].mutations.push(s),null)}).forEach(function(s){null==s||s===u||null==s.domNode[w.DATA_KEY]||s.update(s.domNode[w.DATA_KEY].mutations||[],f)}),null!=this.domNode[w.DATA_KEY].mutations&&a.prototype.update.call(this,this.domNode[w.DATA_KEY].mutations,f),this.optimize(i,f)},n.blotName="scroll",n.defaultChild="block",n.scope=w.Scope.BLOCK_BLOT,n.tagName="DIV",n}(A.default);b.default=m},function(J,b,y){"use strict";var m,P=this&&this.__extends||(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)n.hasOwnProperty(i)&&(a[i]=n[i])},function(a,n){function i(){this.constructor=a}m(a,n),a.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)});Object.defineProperty(b,"__esModule",{value:!0});var A=y(18),w=y(1);var E=function(m){function a(){return null!==m&&m.apply(this,arguments)||this}return P(a,m),a.formats=function(n){if(n.tagName!==a.tagName)return m.formats.call(this,n)},a.prototype.format=function(n,i){var f=this;n!==this.statics.blotName||i?m.prototype.format.call(this,n,i):(this.children.forEach(function(u){u instanceof A.default||(u=u.wrap(a.blotName,!0)),f.attributes.copy(u)}),this.unwrap())},a.prototype.formatAt=function(n,i,f,u){null!=this.formats()[f]||w.query(f,w.Scope.ATTRIBUTE)?this.isolate(n,i).format(f,u):m.prototype.formatAt.call(this,n,i,f,u)},a.prototype.optimize=function(n){m.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var f=this.next;f instanceof a&&f.prev===this&&function e(m,a){if(Object.keys(m).length!==Object.keys(a).length)return!1;for(var n in m)if(m[n]!==a[n])return!1;return!0}(i,f.formats())&&(f.moveChildren(this),f.remove())},a.blotName="inline",a.scope=w.Scope.INLINE_BLOT,a.tagName="SPAN",a}(A.default);b.default=E},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(b,"__esModule",{value:!0});var A=y(18),w=y(1),e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return P(m,E),m.formats=function(a){var n=w.query(m.blotName).tagName;if(a.tagName!==n)return E.formats.call(this,a)},m.prototype.format=function(a,n){null!=w.query(a,w.Scope.BLOCK)&&(a!==this.statics.blotName||n?E.prototype.format.call(this,a,n):this.replaceWith(m.blotName))},m.prototype.formatAt=function(a,n,i,f){null!=w.query(i,w.Scope.BLOCK)?this.format(i,f):E.prototype.formatAt.call(this,a,n,i,f)},m.prototype.insertAt=function(a,n,i){if(null==i||null!=w.query(n,w.Scope.INLINE))E.prototype.insertAt.call(this,a,n,i);else{var f=this.split(a),u=w.create(n,i);f.parent.insertBefore(u,f)}},m.prototype.update=function(a,n){navigator.userAgent.match(/Trident/)?this.build():E.prototype.update.call(this,a,n)},m.blotName="block",m.scope=w.Scope.BLOCK_BLOT,m.tagName="P",m}(A.default);b.default=e},function(J,b,y){"use strict";var e,P=this&&this.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,m){E.__proto__=m}||function(E,m){for(var a in m)m.hasOwnProperty(a)&&(E[a]=m[a])},function(E,m){function a(){this.constructor=E}e(E,m),E.prototype=null===m?Object.create(m):(a.prototype=m.prototype,new a)});Object.defineProperty(b,"__esModule",{value:!0});var w=function(e){function E(){return null!==e&&e.apply(this,arguments)||this}return P(E,e),E.formats=function(m){},E.prototype.format=function(m,a){e.prototype.formatAt.call(this,0,this.length(),m,a)},E.prototype.formatAt=function(m,a,n,i){0===m&&a===this.length()?this.format(n,i):e.prototype.formatAt.call(this,m,a,n,i)},E.prototype.formats=function(){return this.statics.formats(this.domNode)},E}(y(19).default);b.default=w},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(b,"__esModule",{value:!0});var A=y(19),w=y(1),e=function(E){function m(a){var n=E.call(this,a)||this;return n.text=n.statics.value(n.domNode),n}return P(m,E),m.create=function(a){return document.createTextNode(a)},m.value=function(a){var n=a.data;return n.normalize&&(n=n.normalize()),n},m.prototype.deleteAt=function(a,n){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+n)},m.prototype.index=function(a,n){return this.domNode===a?n:-1},m.prototype.insertAt=function(a,n,i){null==i?(this.text=this.text.slice(0,a)+n+this.text.slice(a),this.domNode.data=this.text):E.prototype.insertAt.call(this,a,n,i)},m.prototype.length=function(){return this.text.length},m.prototype.optimize=function(a){E.prototype.optimize.call(this,a),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof m&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},m.prototype.position=function(a,n){return void 0===n&&(n=!1),[this.domNode,a]},m.prototype.split=function(a,n){if(void 0===n&&(n=!1),!n){if(0===a)return this;if(a===this.length())return this.next}var i=w.create(this.domNode.splitText(a));return this.parent.insertBefore(i,this.next),this.text=this.statics.value(this.domNode),i},m.prototype.update=function(a,n){var i=this;a.some(function(f){return"characterData"===f.type&&f.target===i.domNode})&&(this.text=this.statics.value(this.domNode))},m.prototype.value=function(){return this.text},m.blotName="text",m.scope=w.Scope.INLINE_BLOT,m}(A.default);b.default=e},function(J,b,y){"use strict";var P=document.createElement("div");if(P.classList.toggle("test-class",!1),P.classList.contains("test-class")){var A=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(w,e){return arguments.length>1&&!this.contains(w)==!e?e:A.call(this,w)}}String.prototype.startsWith||(String.prototype.startsWith=function(w,e){return this.substr(e=e||0,w.length)===w}),String.prototype.endsWith||(String.prototype.endsWith=function(w,e){var E=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>E.length)&&(e=E.length);var m=E.indexOf(w,e-=w.length);return-1!==m&&m===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n,E=Object(this),m=E.length>>>0,a=arguments[1],i=0;i<m;i++)if(e.call(a,n=E[i],i,E))return n}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(J,b){var y=-1,P=1,A=0;function w(t,c,d){if(t==c)return t?[[A,t]]:[];(d<0||t.length<d)&&(d=null);var _=a(t,c),O=t.substring(0,_);_=n(t=t.substring(_),c=c.substring(_));var S=t.substring(t.length-_),v=function e(t,c){var d;if(!t)return[[P,c]];if(!c)return[[y,t]];var _=t.length>c.length?t:c,O=t.length>c.length?c:t,S=_.indexOf(O);if(-1!=S)return d=[[P,_.substring(0,S)],[A,O],[P,_.substring(S+O.length)]],t.length>c.length&&(d[0][0]=d[2][0]=y),d;if(1==O.length)return[[y,t],[P,c]];var v=function i(t,c){var d=t.length>c.length?t:c,_=t.length>c.length?c:t;if(d.length<4||2*_.length<d.length)return null;function O(V,$,j){for(var R,Q,H,F,I=V.substring(j,j+Math.floor(V.length/4)),C=-1,q="";-1!=(C=$.indexOf(I,C+1));){var Z=a(V.substring(j),$.substring(C)),Y=n(V.substring(0,j),$.substring(0,C));q.length<Y+Z&&(q=$.substring(C-Y,C)+$.substring(C,C+Z),R=V.substring(0,j-Y),Q=V.substring(j+Z),H=$.substring(0,C-Y),F=$.substring(C+Z))}return 2*q.length>=V.length?[R,Q,H,F,q]:null}var p,h,x,N,L,S=O(d,_,Math.ceil(d.length/4)),v=O(d,_,Math.ceil(d.length/2));return S||v?(p=v?S&&S[4].length>v[4].length?S:v:S,t.length>c.length?(h=p[0],x=p[1],N=p[2],L=p[3]):(N=p[0],L=p[1],h=p[2],x=p[3]),[h,x,N,L,p[4]]):null}(t,c);if(v){var h=v[1],N=v[3],L=v[4],D=w(v[0],v[2]),V=w(h,N);return D.concat([[A,L]],V)}return function E(t,c){for(var d=t.length,_=c.length,O=Math.ceil((d+_)/2),S=O,v=2*O,p=new Array(v),h=new Array(v),x=0;x<v;x++)p[x]=-1,h[x]=-1;p[S+1]=0,h[S+1]=0;for(var N=d-_,L=N%2!=0,D=0,V=0,$=0,j=0,I=0;I<O;I++){for(var C=-I+D;C<=I-V;C+=2){for(var q=S+C,Q=(R=C==-I||C!=I&&p[q-1]<p[q+1]?p[q+1]:p[q-1]+1)-C;R<d&&Q<_&&t.charAt(R)==c.charAt(Q);)R++,Q++;if(p[q]=R,R>d)V+=2;else if(Q>_)D+=2;else if(L&&(H=S+N-C)>=0&&H<v&&-1!=h[H]&&R>=(F=d-h[H]))return m(t,c,R,Q)}for(var Z=-I+$;Z<=I-j;Z+=2){for(var F,H=S+Z,Y=(F=Z==-I||Z!=I&&h[H-1]<h[H+1]?h[H+1]:h[H-1]+1)-Z;F<d&&Y<_&&t.charAt(d-F-1)==c.charAt(_-Y-1);)F++,Y++;if(h[H]=F,F>d)j+=2;else if(Y>_)$+=2;else if(!L){var R;if((q=S+N-Z)>=0&&q<v&&-1!=p[q]&&(Q=S+(R=p[q])-q,R>=(F=d-F)))return m(t,c,R,Q)}}}return[[y,t],[P,c]]}(t,c)}(t=t.substring(0,t.length-_),c=c.substring(0,c.length-_));return O&&v.unshift([A,O]),S&&v.push([A,S]),f(v),null!=d&&(v=function r(t,c){var d=function s(t,c){if(0===c)return[A,t];for(var d=0,_=0;_<t.length;_++){var O=t[_];if(O[0]===y||O[0]===A){var S=d+O[1].length;if(c===S)return[_+1,t];if(c<S){t=t.slice();var v=c-d,p=[O[0],O[1].slice(0,v)],h=[O[0],O[1].slice(v)];return t.splice(_,1,p,h),[_+1,t]}d=S}}throw new Error("cursor_pos is out of bounds!")}(t,c),_=d[1],O=d[0],S=_[O],v=_[O+1];if(null==S)return t;if(S[0]!==A)return t;if(null!=v&&S[1]+v[1]===v[1]+S[1])return _.splice(O,2,v,S),l(_,O,2);if(null!=v&&0===v[1].indexOf(S[1])){_.splice(O,2,[v[0],S[1]],[0,S[1]]);var p=v[1].slice(S[1].length);return p.length>0&&_.splice(O+2,0,[v[0],p]),l(_,O,3)}return t}(v,d)),function o(t){for(var c=!1,d=function(v){return v.charCodeAt(0)>=56320&&v.charCodeAt(0)<=57343},_=function(v){return v.charCodeAt(v.length-1)>=55296&&v.charCodeAt(v.length-1)<=56319},O=2;O<t.length;O+=1)t[O-2][0]===A&&_(t[O-2][1])&&t[O-1][0]===y&&d(t[O-1][1])&&t[O][0]===P&&d(t[O][1])&&(c=!0,t[O-1][1]=t[O-2][1].slice(-1)+t[O-1][1],t[O][1]=t[O-2][1].slice(-1)+t[O][1],t[O-2][1]=t[O-2][1].slice(0,-1));if(!c)return t;var S=[];for(O=0;O<t.length;O+=1)t[O][1].length>0&&S.push(t[O]);return S}(v)}function m(t,c,d,_){var O=t.substring(0,d),S=c.substring(0,_),v=t.substring(d),p=c.substring(_),h=w(O,S),x=w(v,p);return h.concat(x)}function a(t,c){if(!t||!c||t.charAt(0)!=c.charAt(0))return 0;for(var d=0,_=Math.min(t.length,c.length),O=_,S=0;d<O;)t.substring(S,O)==c.substring(S,O)?S=d=O:_=O,O=Math.floor((_-d)/2+d);return O}function n(t,c){if(!t||!c||t.charAt(t.length-1)!=c.charAt(c.length-1))return 0;for(var d=0,_=Math.min(t.length,c.length),O=_,S=0;d<O;)t.substring(t.length-O,t.length-S)==c.substring(c.length-O,c.length-S)?S=d=O:_=O,O=Math.floor((_-d)/2+d);return O}function f(t){t.push([A,""]);for(var v,c=0,d=0,_=0,O="",S="";c<t.length;)switch(t[c][0]){case P:_++,S+=t[c][1],c++;break;case y:d++,O+=t[c][1],c++;break;case A:d+_>1?(0!==d&&0!==_&&(0!==(v=a(S,O))&&(c-d-_>0&&t[c-d-_-1][0]==A?t[c-d-_-1][1]+=S.substring(0,v):(t.splice(0,0,[A,S.substring(0,v)]),c++),S=S.substring(v),O=O.substring(v)),0!==(v=n(S,O))&&(t[c][1]=S.substring(S.length-v)+t[c][1],S=S.substring(0,S.length-v),O=O.substring(0,O.length-v))),0===d?t.splice(c-_,d+_,[P,S]):0===_?t.splice(c-d,d+_,[y,O]):t.splice(c-d-_,d+_,[y,O],[P,S]),c=c-d-_+(d?1:0)+(_?1:0)+1):0!==c&&t[c-1][0]==A?(t[c-1][1]+=t[c][1],t.splice(c,1)):c++,_=0,d=0,O="",S=""}""===t[t.length-1][1]&&t.pop();var p=!1;for(c=1;c<t.length-1;)t[c-1][0]==A&&t[c+1][0]==A&&(t[c][1].substring(t[c][1].length-t[c-1][1].length)==t[c-1][1]?(t[c][1]=t[c-1][1]+t[c][1].substring(0,t[c][1].length-t[c-1][1].length),t[c+1][1]=t[c-1][1]+t[c+1][1],t.splice(c-1,1),p=!0):t[c][1].substring(0,t[c+1][1].length)==t[c+1][1]&&(t[c-1][1]+=t[c+1][1],t[c][1]=t[c][1].substring(t[c+1][1].length)+t[c+1][1],t.splice(c+1,1),p=!0)),c++;p&&f(t)}var u=w;function l(t,c,d){for(var _=c+d-1;_>=0&&_>=c-1;_--)if(_+1<t.length){var O=t[_],S=t[_+1];O[0]===S[1]&&t.splice(_,2,[O[0],O[1]+S[1]])}return t}u.INSERT=P,u.DELETE=y,u.EQUAL=A,J.exports=u},function(J,b){function y(P){var A=[];for(var w in P)A.push(w);return A}(J.exports="function"==typeof Object.keys?Object.keys:y).shim=y},function(J,b){var y="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function P(w){return"[object Arguments]"==Object.prototype.toString.call(w)}function A(w){return w&&"object"==typeof w&&"number"==typeof w.length&&Object.prototype.hasOwnProperty.call(w,"callee")&&!Object.prototype.propertyIsEnumerable.call(w,"callee")||!1}(b=J.exports=y?P:A).supported=P,b.unsupported=A},function(J,b){"use strict";var y=Object.prototype.hasOwnProperty,P="~";function A(){}function w(E,m,a){this.fn=E,this.context=m,this.once=a||!1}function e(){this._events=new A,this._eventsCount=0}Object.create&&(A.prototype=Object.create(null),(new A).__proto__||(P=!1)),e.prototype.eventNames=function(){var a,n,m=[];if(0===this._eventsCount)return m;for(n in a=this._events)y.call(a,n)&&m.push(P?n.slice(1):n);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(a)):m},e.prototype.listeners=function(m,a){var i=this._events[P?P+m:m];if(a)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var f=0,u=i.length,s=new Array(u);f<u;f++)s[f]=i[f].fn;return s},e.prototype.emit=function(m,a,n,i,f,u){var s=P?P+m:m;if(!this._events[s])return!1;var l,t,r=this._events[s],o=arguments.length;if(r.fn){switch(r.once&&this.removeListener(m,r.fn,void 0,!0),o){case 1:return r.fn.call(r.context),!0;case 2:return r.fn.call(r.context,a),!0;case 3:return r.fn.call(r.context,a,n),!0;case 4:return r.fn.call(r.context,a,n,i),!0;case 5:return r.fn.call(r.context,a,n,i,f),!0;case 6:return r.fn.call(r.context,a,n,i,f,u),!0}for(t=1,l=new Array(o-1);t<o;t++)l[t-1]=arguments[t];r.fn.apply(r.context,l)}else{var d,c=r.length;for(t=0;t<c;t++)switch(r[t].once&&this.removeListener(m,r[t].fn,void 0,!0),o){case 1:r[t].fn.call(r[t].context);break;case 2:r[t].fn.call(r[t].context,a);break;case 3:r[t].fn.call(r[t].context,a,n);break;case 4:r[t].fn.call(r[t].context,a,n,i);break;default:if(!l)for(d=1,l=new Array(o-1);d<o;d++)l[d-1]=arguments[d];r[t].fn.apply(r[t].context,l)}}return!0},e.prototype.on=function(m,a,n){var i=new w(a,n||this),f=P?P+m:m;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],i]:this._events[f].push(i):(this._events[f]=i,this._eventsCount++),this},e.prototype.once=function(m,a,n){var i=new w(a,n||this,!0),f=P?P+m:m;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],i]:this._events[f].push(i):(this._events[f]=i,this._eventsCount++),this},e.prototype.removeListener=function(m,a,n,i){var f=P?P+m:m;if(!this._events[f])return this;if(!a)return 0==--this._eventsCount?this._events=new A:delete this._events[f],this;var u=this._events[f];if(u.fn)u.fn===a&&(!i||u.once)&&(!n||u.context===n)&&(0==--this._eventsCount?this._events=new A:delete this._events[f]);else{for(var s=0,r=[],o=u.length;s<o;s++)(u[s].fn!==a||i&&!u[s].once||n&&u[s].context!==n)&&r.push(u[s]);r.length?this._events[f]=1===r.length?r[0]:r:0==--this._eventsCount?this._events=new A:delete this._events[f]}return this},e.prototype.removeAllListeners=function(m){var a;return m?this._events[a=P?P+m:m]&&(0==--this._eventsCount?this._events=new A:delete this._events[a]):(this._events=new A,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this},e.prefixed=P,e.EventEmitter=e,typeof J<"u"&&(J.exports=e)},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.matchText=b.matchSpacing=b.matchNewline=b.matchBlot=b.matchAttributor=b.default=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},A=function(W,ne){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return function K(W,ne){var ie=[],ee=!0,ue=!1,fe=void 0;try{for(var _e,ce=W[Symbol.iterator]();!(ee=(_e=ce.next()).done)&&(ie.push(_e.value),!ne||ie.length!==ne);ee=!0);}catch(Oe){ue=!0,fe=Oe}finally{try{!ee&&ce.return&&ce.return()}finally{if(ue)throw fe}}return ie}(W,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function K(W,ne){for(var ie=0;ie<ne.length;ie++){var ee=ne[ie];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(W,ee.key,ee)}}return function(W,ne,ie){return ne&&K(W.prototype,ne),ie&&K(W,ie),W}}(),E=h(y(3)),a=h(y(2)),i=h(y(0)),u=h(y(5)),r=h(y(10)),l=h(y(9)),t=y(36),c=y(37),_=h(y(13)),O=y(26),S=y(38),v=y(39),p=y(40);function h(K){return K&&K.__esModule?K:{default:K}}function x(K,W,ne){return W in K?Object.defineProperty(K,W,{value:ne,enumerable:!0,configurable:!0,writable:!0}):K[W]=ne,K}var V=(0,r.default)("quill:clipboard"),$="__ql-matcher",j=[[Node.TEXT_NODE,ve],[Node.TEXT_NODE,de],["br",function re(K,W){return H(W,"\n")||W.insert("\n"),W}],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,G],[Node.ELEMENT_NODE,function pe(K,W){var ne={},ie=K.style||{};return ie.fontStyle&&"italic"===Q(K).fontStyle&&(ne.italic=!0),ie.fontWeight&&(Q(K).fontWeight.startsWith("bold")||parseInt(Q(K).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(W=R(W,ne)),parseFloat(ie.textIndent||0)>0&&(W=(new a.default).insert("\t").concat(W)),W}],["li",function se(K,W){var ne=i.default.query(K);if(null==ne||"list-item"!==ne.blotName||!H(W,"\n"))return W;for(var ie=-1,ee=K.parentNode;!ee.classList.contains("ql-clipboard");)"list"===(i.default.query(ee)||{}).blotName&&(ie+=1),ee=ee.parentNode;return ie<=0?W:W.compose((new a.default).retain(W.length()-1).retain(1,{indent:ie}))}],["b",Y.bind(Y,"bold")],["i",Y.bind(Y,"italic")],["style",function ae(){return new a.default}]],I=[t.AlignAttribute,S.DirectionAttribute].reduce(function(K,W){return K[W.keyName]=W,K},{}),C=[t.AlignStyle,c.BackgroundStyle,O.ColorStyle,S.DirectionStyle,v.FontStyle,p.SizeStyle].reduce(function(K,W){return K[W.keyName]=W,K},{}),q=function(K){function W(ne,ie){!function N(K,W){if(!(K instanceof W))throw new TypeError("Cannot call a class as a function")}(this,W);var ee=function L(K,W){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||"object"!=typeof W&&"function"!=typeof W?K:W}(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ne,ie));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],j.concat(ee.options.matchers).forEach(function(ue){var fe=A(ue,2),_e=fe[1];!ie.matchVisual&&_e===he||ee.addMatcher(fe[0],_e)}),ee}return function D(K,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function, not "+typeof W);K.prototype=Object.create(W&&W.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(K,W):K.__proto__=W)}(W,K),w(W,[{key:"addMatcher",value:function(ie,ee){this.matchers.push([ie,ee])}},{key:"convert",value:function(ie){if("string"==typeof ie)return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[_.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(ue,x({},_.default.blotName,ee[_.default.blotName]))}var fe=this.prepareMatching(),ce=A(fe,2),me=Z(this.container,ce[0],ce[1]);return H(me,"\n")&&null==me.ops[me.ops.length-1].attributes&&(me=me.compose((new a.default).retain(me.length()-1).delete(1))),V.log("convert",this.container.innerHTML,me),this.container.innerHTML="",me}},{key:"dangerouslyPasteHTML",value:function(ie,ee){var ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof ie)this.quill.setContents(this.convert(ie),ee),this.quill.setSelection(0,u.default.sources.SILENT);else{var fe=this.convert(ee);this.quill.updateContents((new a.default).retain(ie).concat(fe),ue),this.quill.setSelection(ie+fe.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var ee=this;if(!ie.defaultPrevented&&this.quill.isEnabled()){var ue=this.quill.getSelection(),fe=(new a.default).retain(ue.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout(function(){fe=fe.concat(ee.convert()).delete(ue.length),ee.quill.updateContents(fe,u.default.sources.USER),ee.quill.setSelection(fe.length()-ue.length,u.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=ce,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,ee=[],ue=[];return this.matchers.forEach(function(fe){var ce=A(fe,2),_e=ce[0],Oe=ce[1];switch(_e){case Node.TEXT_NODE:ue.push(Oe);break;case Node.ELEMENT_NODE:ee.push(Oe);break;default:[].forEach.call(ie.container.querySelectorAll(_e),function(me){me[$]=me[$]||[],me[$].push(Oe)})}}),[ee,ue]}}]),W}(l.default);function R(K,W,ne){return"object"===(typeof W>"u"?"undefined":P(W))?Object.keys(W).reduce(function(ie,ee){return R(ie,ee,W[ee])},K):K.reduce(function(ie,ee){return ee.attributes&&ee.attributes[W]?ie.push(ee):ie.insert(ee.insert,(0,E.default)({},x({},W,ne),ee.attributes))},new a.default)}function Q(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var W="__ql-computed-style";return K[W]||(K[W]=window.getComputedStyle(K))}function H(K,W){for(var ne="",ie=K.ops.length-1;ie>=0&&ne.length<W.length;--ie){var ee=K.ops[ie];if("string"!=typeof ee.insert)break;ne=ee.insert+ne}return ne.slice(-1*W.length)===W}function F(K){if(0===K.childNodes.length)return!1;var W=Q(K);return["block","list-item"].indexOf(W.display)>-1}function Z(K,W,ne){return K.nodeType===K.TEXT_NODE?ne.reduce(function(ie,ee){return ee(K,ie)},new a.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(ie,ee){var ue=Z(ee,W,ne);return ee.nodeType===K.ELEMENT_NODE&&(ue=W.reduce(function(fe,ce){return ce(ee,fe)},ue),ue=(ee[$]||[]).reduce(function(fe,ce){return ce(ee,fe)},ue)),ie.concat(ue)},new a.default):new a.default}function Y(K,W,ne){return R(ne,K,!0)}function G(K,W){var ne=i.default.Attributor.Attribute.keys(K),ie=i.default.Attributor.Class.keys(K),ee=i.default.Attributor.Style.keys(K),ue={};return ne.concat(ie).concat(ee).forEach(function(fe){var ce=i.default.query(fe,i.default.Scope.ATTRIBUTE);null!=ce&&(ue[ce.attrName]=ce.value(K),ue[ce.attrName])||(null!=(ce=I[fe])&&(ce.attrName===fe||ce.keyName===fe)&&(ue[ce.attrName]=ce.value(K)||void 0),null!=(ce=C[fe])&&(ce.attrName===fe||ce.keyName===fe)&&(ue[(ce=C[fe]).attrName]=ce.value(K)||void 0))}),Object.keys(ue).length>0&&(W=R(W,ue)),W}function X(K,W){var ne=i.default.query(K);if(null==ne)return W;if(ne.prototype instanceof i.default.Embed){var ie={},ee=ne.value(K);null!=ee&&(ie[ne.blotName]=ee,W=(new a.default).insert(ie,ne.formats(K)))}else"function"==typeof ne.formats&&(W=R(W,ne.blotName,ne.formats(K)));return W}function de(K,W){return H(W,"\n")||(F(K)||W.length()>0&&K.nextSibling&&F(K.nextSibling))&&W.insert("\n"),W}function he(K,W){if(F(K)&&null!=K.nextElementSibling&&!H(W,"\n\n")){var ne=K.offsetHeight+parseFloat(Q(K).marginTop)+parseFloat(Q(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+1.5*ne&&W.insert("\n")}return W}function ve(K,W){var ne=K.data;if("O:P"===K.parentNode.tagName)return W.insert(ne.trim());if(0===ne.trim().length&&K.parentNode.classList.contains("ql-clipboard"))return W;if(!Q(K.parentNode).whiteSpace.startsWith("pre")){var ie=function(ue,fe){return(fe=fe.replace(/[^\u00a0]/g,"")).length<1&&ue?" ":fe};ne=(ne=ne.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,ie.bind(ie,!0)),(null==K.previousSibling&&F(K.parentNode)||null!=K.previousSibling&&F(K.previousSibling))&&(ne=ne.replace(/^\s+/,ie.bind(ie,!1))),(null==K.nextSibling&&F(K.parentNode)||null!=K.nextSibling&&F(K.nextSibling))&&(ne=ne.replace(/\s+$/,ie.bind(ie,!1)))}return W.insert(ne)}q.DEFAULTS={matchers:[],matchVisual:!0},b.default=q,b.matchAttributor=G,b.matchBlot=X,b.matchNewline=de,b.matchSpacing=he,b.matchText=ve},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),A=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(){return function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,[{key:"optimize",value:function(r){A(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,r),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return A(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(6)).default);i.blotName="bold",i.tagName=["STRONG","B"],b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.addControls=b.default=void 0;var P=function(h,x){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return function p(h,x){var N=[],L=!0,D=!1,V=void 0;try{for(var j,$=h[Symbol.iterator]();!(L=(j=$.next()).done)&&(N.push(j.value),!x||N.length!==x);L=!0);}catch(I){D=!0,V=I}finally{try{!L&&$.return&&$.return()}finally{if(D)throw V}}return N}(h,x);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function(){function p(h,x){for(var N=0;N<x.length;N++){var L=x[N];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(h,L.key,L)}}return function(h,x,N){return x&&p(h.prototype,x),N&&p(h,N),h}}(),e=r(y(2)),m=r(y(0)),n=r(y(5)),f=r(y(10)),s=r(y(9));function r(p){return p&&p.__esModule?p:{default:p}}function t(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?p:h}var d=(0,f.default)("quill:toolbar"),_=function(p){function h(x,N){!function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h);var V,L=t(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,x,N));if(Array.isArray(L.options.container)){var D=document.createElement("div");S(D,L.options.container),x.container.parentNode.insertBefore(D,x.container),L.container=D}else L.container="string"==typeof L.options.container?document.querySelector(L.options.container):L.options.container;return L.container instanceof HTMLElement?(L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function($){L.addHandler($,L.options.handlers[$])}),[].forEach.call(L.container.querySelectorAll("button, select"),function($){L.attach($)}),L.quill.on(n.default.events.EDITOR_CHANGE,function($,j){$===n.default.events.SELECTION_CHANGE&&L.update(j)}),L.quill.on(n.default.events.SCROLL_OPTIMIZE,function(){var $=L.quill.selection.getRange(),j=P($,1);L.update(j[0])}),L):(V=d.error("Container required for toolbar",L.options),t(L,V))}return function c(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}(h,p),A(h,[{key:"addHandler",value:function(N,L){this.handlers[N]=L}},{key:"attach",value:function(N){var L=this,D=[].find.call(N.classList,function($){return 0===$.indexOf("ql-")});if(D){if(D=D.slice(3),"BUTTON"===N.tagName&&N.setAttribute("type","button"),null==this.handlers[D]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[D])return void d.warn("ignoring attaching to disabled format",D,N);if(null==m.default.query(D))return void d.warn("ignoring attaching to nonexistent format",D,N)}N.addEventListener("SELECT"===N.tagName?"change":"click",function($){var j=void 0;if("SELECT"===N.tagName){if(N.selectedIndex<0)return;var I=N.options[N.selectedIndex];j=!I.hasAttribute("selected")&&(I.value||!1)}else j=!N.classList.contains("ql-active")&&(N.value||!N.hasAttribute("value")),$.preventDefault();L.quill.focus();var C=L.quill.selection.getRange(),R=P(C,1)[0];if(null!=L.handlers[D])L.handlers[D].call(L,j);else if(m.default.query(D).prototype instanceof m.default.Embed){if(!(j=prompt("Enter "+D)))return;L.quill.updateContents((new e.default).retain(R.index).delete(R.length).insert(function o(p,h,x){return h in p?Object.defineProperty(p,h,{value:x,enumerable:!0,configurable:!0,writable:!0}):p[h]=x,p}({},D,j)),n.default.sources.USER)}else L.quill.format(D,j,n.default.sources.USER);L.update(R)}),this.controls.push([D,N])}}},{key:"update",value:function(N){var L=null==N?{}:this.quill.getFormat(N);this.controls.forEach(function(D){var V=P(D,2),$=V[0],j=V[1];if("SELECT"===j.tagName){var I=void 0;if(null==N)I=null;else if(null==L[$])I=j.querySelector("option[selected]");else if(!Array.isArray(L[$])){var C=L[$];"string"==typeof C&&(C=C.replace(/\"/g,'\\"')),I=j.querySelector('option[value="'+C+'"]')}null==I?(j.value="",j.selectedIndex=-1):I.selected=!0}else if(null==N)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var q=L[$]===j.getAttribute("value")||null!=L[$]&&L[$].toString()===j.getAttribute("value")||null==L[$]&&!j.getAttribute("value");j.classList.toggle("ql-active",q)}else j.classList.toggle("ql-active",null!=L[$])})}}]),h}(s.default);function O(p,h,x){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+h),null!=x&&(N.value=x),p.appendChild(N)}function S(p,h){Array.isArray(h[0])||(h=[h]),h.forEach(function(x){var N=document.createElement("span");N.classList.add("ql-formats"),x.forEach(function(L){if("string"==typeof L)O(N,L);else{var D=Object.keys(L)[0],V=L[D];Array.isArray(V)?function v(p,h,x){var N=document.createElement("select");N.classList.add("ql-"+h),x.forEach(function(L){var D=document.createElement("option");!1!==L?D.setAttribute("value",L):D.setAttribute("selected","selected"),N.appendChild(D)}),p.appendChild(N)}(N,D,V):O(N,D,V)}}),p.appendChild(N)})}_.DEFAULTS={},_.DEFAULTS={container:null,handlers:{clean:function(){var h=this,x=this.quill.getSelection();if(null!=x)if(0==x.length){var N=this.quill.getFormat();Object.keys(N).forEach(function(L){null!=m.default.query(L,m.default.Scope.INLINE)&&h.quill.format(L,!1)})}else this.quill.removeFormat(x,n.default.sources.USER)},direction:function(h){var x=this.quill.getFormat().align;"rtl"===h&&null==x?this.quill.format("align","right",n.default.sources.USER):!h&&"right"===x&&this.quill.format("align",!1,n.default.sources.USER),this.quill.format("direction",h,n.default.sources.USER)},indent:function(h){var x=this.quill.getSelection(),N=this.quill.getFormat(x),L=parseInt(N.indent||0);if("+1"===h||"-1"===h){var D="+1"===h?1:-1;"rtl"===N.direction&&(D*=-1),this.quill.format("indent",L+D,n.default.sources.USER)}},link:function(h){!0===h&&(h=prompt("Enter link URL:")),this.quill.format("link",h,n.default.sources.USER)},list:function(h){var x=this.quill.getSelection(),N=this.quill.getFormat(x);this.quill.format("list","check"===h?"checked"!==N.list&&"unchecked"!==N.list&&"unchecked":h,n.default.sources.USER)}}},b.default=_,b.addControls=S},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),A=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(s,r){!function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var o=function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s));return o.label.innerHTML=r,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(l){l.classList.add("ql-primary")}),o}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,[{key:"buildItem",value:function(r){var o=A(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"buildItem",this).call(this,r);return o.style.backgroundColor=r.getAttribute("value")||"",o}},{key:"selectItem",value:function(r,o){A(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"selectItem",this).call(this,r,o);var l=this.label.querySelector(".ql-color-label"),t=r&&r.getAttribute("data-value")||"";l&&("line"===l.tagName?l.style.stroke=t:l.style.fill=t)}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(28)).default);b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),A=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(s,r){!function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var o=function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),function(l){l.innerHTML=r[l.getAttribute("data-value")||""]}),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,[{key:"selectItem",value:function(r,o){A(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"selectItem",this).call(this,r,o),this.label.innerHTML=(r=r||this.defaultItem).innerHTML}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(28)).default);b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function e(E,m){for(var a=0;a<m.length;a++){var n=m[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(E,n.key,n)}}return function(E,m,a){return m&&e(E.prototype,m),a&&e(E,a),E}}();var w=function(){function e(E,m){var a=this;(function A(e,E){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.quill=E,this.boundsContainer=m||document.body,this.root=E.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return P(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(m){var a=m.left+m.width/2-this.root.offsetWidth/2,n=m.bottom+this.quill.root.scrollTop;this.root.style.left=a+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),u=0;return f.right>i.right&&(this.root.style.left=a+(u=i.right-f.right)+"px"),f.left<i.left&&(this.root.style.left=a+(u=i.left-f.left)+"px"),f.bottom>i.bottom&&(this.root.style.top=n-(m.bottom-m.top+(f.bottom-f.top))+"px",this.root.classList.add("ql-flip")),u}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();b.default=w},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(p,h){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function v(p,h){var x=[],N=!0,L=!1,D=void 0;try{for(var $,V=p[Symbol.iterator]();!(N=($=V.next()).done)&&(x.push($.value),!h||x.length!==h);N=!0);}catch(j){L=!0,D=j}finally{try{!N&&V.return&&V.return()}finally{if(L)throw D}}return x}(p,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},A=function v(p,h,x){null===p&&(p=Function.prototype);var N=Object.getOwnPropertyDescriptor(p,h);if(void 0===N){var L=Object.getPrototypeOf(p);return null===L?void 0:v(L,h,x)}if("value"in N)return N.value;var D=N.get;return void 0===D?void 0:D.call(x)},w=function(){function v(p,h){for(var x=0;x<h.length;x++){var N=h[x];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}return function(p,h,x){return h&&v(p.prototype,h),x&&v(p,x),p}}(),E=l(y(3)),a=l(y(8)),n=y(43),i=l(n),u=l(y(27)),s=y(15),o=l(y(41));function l(v){return v&&v.__esModule?v:{default:v}}function t(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?v:p}function d(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(v){function p(h,x){t(this,p),null!=x.modules.toolbar&&null==x.modules.toolbar.container&&(x.modules.toolbar.container=_);var N=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h,x));return N.quill.container.classList.add("ql-snow"),N}return d(p,v),w(p,[{key:"extendToolbar",value:function(x){x.container.classList.add("ql-snow"),this.buildButtons([].slice.call(x.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(x.container.querySelectorAll("select")),o.default),this.tooltip=new S(this.quill,this.options.bounds),x.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,L){x.handlers.link.call(x,!L.format.link)})}}]),p}(i.default);O.DEFAULTS=(0,E.default)(!0,{},i.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(p){if(p){var h=this.quill.getSelection();if(null==h||0==h.length)return;var x=this.quill.getText(h);/^\S+@\S+\.\S+$/.test(x)&&0!==x.indexOf("mailto:")&&(x="mailto:"+x),this.quill.theme.tooltip.edit("link",x)}else this.quill.format("link",!1)}}}}});var S=function(v){function p(h,x){t(this,p);var N=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h,x));return N.preview=N.root.querySelector("a.ql-preview"),N}return d(p,v),w(p,[{key:"listen",value:function(){var x=this;A(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){x.root.classList.contains("ql-editing")?x.save():x.edit("link",x.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(null!=x.linkRange){var L=x.linkRange;x.restoreFocus(),x.quill.formatText(L,"link",!1,a.default.sources.USER),delete x.linkRange}N.preventDefault(),x.hide()}),this.quill.on(a.default.events.SELECTION_CHANGE,function(N,L,D){if(null!=N){if(0===N.length&&D===a.default.sources.USER){var V=x.quill.scroll.descendant(u.default,N.index),$=P(V,2),j=$[0];if(null!=j){x.linkRange=new s.Range(N.index-$[1],j.length());var C=u.default.formats(j.domNode);return x.preview.textContent=C,x.preview.setAttribute("href",C),x.show(),void x.position(x.quill.getBounds(x.linkRange))}}else delete x.linkRange;x.hide()}})}},{key:"show",value:function(){A(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),p}(n.BaseTooltip);S.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),b.default=O},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var A=ee(y(29)),w=y(36),e=y(38),E=y(64),a=ee(y(65)),i=ee(y(66)),f=y(67),u=ee(f),s=y(37),r=y(26),o=y(39),l=y(40),c=ee(y(56)),_=ee(y(68)),S=ee(y(27)),p=ee(y(69)),x=ee(y(70)),L=ee(y(71)),V=ee(y(72)),j=ee(y(73)),I=y(13),C=ee(I),R=ee(y(74)),H=ee(y(75)),Z=ee(y(57)),G=ee(y(41)),re=ee(y(28)),se=ee(y(59)),he=ee(y(60)),ve=ee(y(61)),W=ee(y(108)),ie=ee(y(62));function ee(ue){return ue&&ue.__esModule?ue:{default:ue}}A.default.register({"attributors/attribute/direction":e.DirectionAttribute,"attributors/class/align":w.AlignClass,"attributors/class/background":s.BackgroundClass,"attributors/class/color":r.ColorClass,"attributors/class/direction":e.DirectionClass,"attributors/class/font":o.FontClass,"attributors/class/size":l.SizeClass,"attributors/style/align":w.AlignStyle,"attributors/style/background":s.BackgroundStyle,"attributors/style/color":r.ColorStyle,"attributors/style/direction":e.DirectionStyle,"attributors/style/font":o.FontStyle,"attributors/style/size":l.SizeStyle},!0),A.default.register({"formats/align":w.AlignClass,"formats/direction":e.DirectionClass,"formats/indent":E.IndentClass,"formats/background":s.BackgroundStyle,"formats/color":r.ColorStyle,"formats/font":o.FontClass,"formats/size":l.SizeClass,"formats/blockquote":a.default,"formats/code-block":C.default,"formats/header":i.default,"formats/list":u.default,"formats/bold":c.default,"formats/code":I.Code,"formats/italic":_.default,"formats/link":S.default,"formats/script":p.default,"formats/strike":x.default,"formats/underline":L.default,"formats/image":V.default,"formats/video":j.default,"formats/list/item":f.ListItem,"modules/formula":R.default,"modules/syntax":H.default,"modules/toolbar":Z.default,"themes/bubble":W.default,"themes/snow":ie.default,"ui/icons":G.default,"ui/picker":re.default,"ui/icon-picker":he.default,"ui/color-picker":se.default,"ui/tooltip":ve.default},!0),b.default=A.default},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IndentClass=void 0;var P=function(){function u(s,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,r,o){return r&&u(s.prototype,r),o&&u(s,o),s}}(),A=function u(s,r,o){null===s&&(s=Function.prototype);var l=Object.getOwnPropertyDescriptor(s,r);if(void 0===l){var t=Object.getPrototypeOf(s);return null===t?void 0:u(t,r,o)}if("value"in l)return l.value;var c=l.get;return void 0===c?void 0:c.call(o)},e=function E(u){return u&&u.__esModule?u:{default:u}}(y(0));var i=function(u){function s(){return function m(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function a(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?u:s}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function n(u,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}(s,u),P(s,[{key:"add",value:function(o,l){if("+1"===l||"-1"===l){var t=this.value(o)||0;l="+1"===l?t+1:t-1}return 0===l?(this.remove(o),!0):A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"add",this).call(this,o,l)}},{key:"canAdd",value:function(o,l){return A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,o,l)||A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,o,parseInt(l))}},{key:"value",value:function(o){return parseInt(A(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"value",this).call(this,o))||void 0}}]),s}(e.default.Attributor.Class),f=new i("indent","ql-indent",{scope:e.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});b.IndentClass=f},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(4)).default);a.blotName="blockquote",a.tagName="blockquote",b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function i(f,u){for(var s=0;s<u.length;s++){var r=u[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}return function(f,u,s){return u&&i(f.prototype,u),s&&i(f,s),f}}();var n=function(i){function f(){return function E(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function m(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?i:f}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function a(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}(f,i),P(f,null,[{key:"formats",value:function(s){return this.tagName.indexOf(s.tagName)+1}}]),f}(function e(i){return i&&i.__esModule?i:{default:i}}(y(4)).default);n.blotName="header",n.tagName=["H1","H2","H3","H4","H5","H6"],b.default=n},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.ListItem=void 0;var P=function(){function t(c,d){for(var _=0;_<d.length;_++){var O=d[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(c,O.key,O)}}return function(c,d,_){return d&&t(c.prototype,d),_&&t(c,_),c}}(),A=function t(c,d,_){null===c&&(c=Function.prototype);var O=Object.getOwnPropertyDescriptor(c,d);if(void 0===O){var S=Object.getPrototypeOf(c);return null===S?void 0:t(S,d,_)}if("value"in O)return O.value;var v=O.get;return void 0===v?void 0:v.call(_)},e=i(y(0)),m=i(y(4)),n=i(y(25));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function s(t,c){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?t:c}function r(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(t,c):t.__proto__=c)}var o=function(t){function c(){return u(this,c),s(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return r(c,t),P(c,[{key:"format",value:function(_,O){_!==l.blotName||O?A(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,_,O):this.replaceWith(e.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():A(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,O){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,O),this):(this.parent.unwrap(),A(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replaceWith",this).call(this,_,O))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:A(c.__proto__||Object.getPrototypeOf(c),"formats",this).call(this,_)}}]),c}(m.default);o.blotName="list-item",o.tagName="LI";var l=function(t){function c(d){u(this,c);var _=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,d)),O=function(v){if(v.target.parentNode===d){var p=_.statics.formats(d),h=e.default.find(v.target);"checked"===p?h.format("list","unchecked"):"unchecked"===p&&h.format("list","checked")}};return d.addEventListener("touchstart",O),d.addEventListener("mousedown",O),_}return r(c,t),P(c,null,[{key:"create",value:function(_){var O="ordered"===_?"OL":"UL",S=A(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,O);return("checked"===_||"unchecked"===_)&&S.setAttribute("data-checked","checked"===_),S}},{key:"formats",value:function(_){return"OL"===_.tagName?"ordered":"UL"===_.tagName?_.hasAttribute("data-checked")?"true"===_.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),P(c,[{key:"format",value:function(_,O){this.children.length>0&&this.children.tail.format(_,O)}},{key:"formats",value:function(){return function f(t,c,d){return c in t?Object.defineProperty(t,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):t[c]=d,t}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,O){if(_ instanceof o)A(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"insertBefore",this).call(this,_,O);else{var S=null==O?this.length():O.offset(this),v=this.split(S);v.parent.insertBefore(_,v)}}},{key:"optimize",value:function(_){A(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,_);var O=this.next;null!=O&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var O=e.default.create(this.statics.defaultChild);_.moveChildren(O),this.appendChild(O)}A(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replace",this).call(this,_)}}]),c}(n.default);l.blotName="list",l.scope=e.default.Scope.BLOCK_BLOT,l.tagName=["OL","UL"],l.defaultChild="list-item",l.allowedChildren=[o],b.ListItem=o,b.default=l},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(56)).default);a.blotName="italic",a.tagName=["EM","I"],b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),A=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(){return function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,null,[{key:"create",value:function(r){return"super"===r?document.createElement("sup"):"sub"===r?document.createElement("sub"):A(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,r)}},{key:"formats",value:function(r){return"SUB"===r.tagName?"sub":"SUP"===r.tagName?"super":void 0}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(6)).default);i.blotName="script",i.tagName=["SUB","SUP"],b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(6)).default);a.blotName="strike",a.tagName="S",b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(6)).default);a.blotName="underline",a.tagName="U",b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),A=function s(r,o,l){null===r&&(r=Function.prototype);var t=Object.getOwnPropertyDescriptor(r,o);if(void 0===t){var c=Object.getPrototypeOf(r);return null===c?void 0:s(c,o,l)}if("value"in t)return t.value;var d=t.get;return void 0===d?void 0:d.call(l)},e=function m(s){return s&&s.__esModule?s:{default:s}}(y(0)),E=y(27);var f=["alt","height","width"],u=function(s){function r(){return function a(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function n(s,r){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?s:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function i(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(s,r):s.__proto__=r)}(r,s),P(r,[{key:"format",value:function(l,t){f.indexOf(l)>-1?t?this.domNode.setAttribute(l,t):this.domNode.removeAttribute(l):A(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,l,t)}}],[{key:"create",value:function(l){var t=A(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,l);return"string"==typeof l&&t.setAttribute("src",this.sanitize(l)),t}},{key:"formats",value:function(l){return f.reduce(function(t,c){return l.hasAttribute(c)&&(t[c]=l.getAttribute(c)),t},{})}},{key:"match",value:function(l){return/\.(jpe?g|gif|png)$/.test(l)||/^data:image\/.+;base64/.test(l)}},{key:"sanitize",value:function(l){return(0,E.sanitize)(l,["http","https","data"])?l:"//:0"}},{key:"value",value:function(l){return l.getAttribute("src")}}]),r}(e.default.Embed);u.blotName="image",u.tagName="IMG",b.default=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),A=function s(r,o,l){null===r&&(r=Function.prototype);var t=Object.getOwnPropertyDescriptor(r,o);if(void 0===t){var c=Object.getPrototypeOf(r);return null===c?void 0:s(c,o,l)}if("value"in t)return t.value;var d=t.get;return void 0===d?void 0:d.call(l)},w=y(4),E=function m(s){return s&&s.__esModule?s:{default:s}}(y(27));var f=["height","width"],u=function(s){function r(){return function a(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function n(s,r){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?s:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function i(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(s,r):s.__proto__=r)}(r,s),P(r,[{key:"format",value:function(l,t){f.indexOf(l)>-1?t?this.domNode.setAttribute(l,t):this.domNode.removeAttribute(l):A(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,l,t)}}],[{key:"create",value:function(l){var t=A(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,l);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen",!0),t.setAttribute("src",this.sanitize(l)),t}},{key:"formats",value:function(l){return f.reduce(function(t,c){return l.hasAttribute(c)&&(t[c]=l.getAttribute(c)),t},{})}},{key:"sanitize",value:function(l){return E.default.sanitize(l)}},{key:"value",value:function(l){return l.getAttribute("src")}}]),r}(w.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",b.default=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.FormulaBlot=void 0;var P=function(){function l(t,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(t,_.key,_)}}return function(t,c,d){return c&&l(t.prototype,c),d&&l(t,d),t}}(),A=function l(t,c,d){null===t&&(t=Function.prototype);var _=Object.getOwnPropertyDescriptor(t,c);if(void 0===_){var O=Object.getPrototypeOf(t);return null===O?void 0:l(O,c,d)}if("value"in _)return _.value;var S=_.get;return void 0===S?void 0:S.call(d)},e=i(y(35)),m=i(y(5)),n=i(y(9));function i(l){return l&&l.__esModule?l:{default:l}}function f(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}function u(l,t){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?l:t}function s(l,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);l.prototype=Object.create(t&&t.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(l,t):l.__proto__=t)}var r=function(l){function t(){return f(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,l),P(t,null,[{key:"create",value:function(d){var _=A(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,d);return"string"==typeof d&&(window.katex.render(d,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",d)),_}},{key:"value",value:function(d){return d.getAttribute("data-value")}}]),t}(e.default);r.blotName="formula",r.className="ql-formula",r.tagName="SPAN";var o=function(l){function t(){f(this,t);var c=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return c}return s(t,l),P(t,null,[{key:"register",value:function(){m.default.register(r,!0)}}]),t}(n.default);b.FormulaBlot=r,b.default=o},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.CodeToken=b.CodeBlock=void 0;var P=function(){function d(_,O){for(var S=0;S<O.length;S++){var v=O[S];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,O,S){return O&&d(_.prototype,O),S&&d(_,S),_}}(),A=function d(_,O,S){null===_&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,O);if(void 0===v){var p=Object.getPrototypeOf(_);return null===p?void 0:d(p,O,S)}if("value"in v)return v.value;var h=v.get;return void 0===h?void 0:h.call(S)},e=u(y(0)),m=u(y(5)),n=u(y(9));function u(d){return d&&d.__esModule?d:{default:d}}function s(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function r(d,_){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?d:_}function o(d,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);d.prototype=Object.create(_&&_.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(d,_):d.__proto__=_)}var l=function(d){function _(){return s(this,_),r(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,d),P(_,[{key:"replaceWith",value:function(S){this.domNode.textContent=this.domNode.textContent,this.attach(),A(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,S)}},{key:"highlight",value:function(S){var v=this.domNode.textContent;this.cachedText!==v&&((v.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=S(v),this.domNode.normalize(),this.attach()),this.cachedText=v)}}]),_}(u(y(13)).default);l.className="ql-syntax";var t=new e.default.Attributor.Class("token","hljs",{scope:e.default.Scope.INLINE}),c=function(d){function _(O,S){s(this,_);var v=r(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,S));if("function"!=typeof v.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var p=null;return v.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(p),p=setTimeout(function(){v.highlight(),p=null},v.options.interval)}),v.highlight(),v}return o(_,d),P(_,null,[{key:"register",value:function(){m.default.register(t,!0),m.default.register(l,!0)}}]),P(_,[{key:"highlight",value:function(){var S=this;if(!this.quill.selection.composing){this.quill.update(m.default.sources.USER);var v=this.quill.getSelection();this.quill.scroll.descendants(l).forEach(function(p){p.highlight(S.options.highlight)}),this.quill.update(m.default.sources.SILENT),null!=v&&this.quill.setSelection(v,m.default.sources.SILENT)}}}]),_}(n.default);c.DEFAULTS={highlight:null==window.hljs?null:function(d){return window.hljs.highlightAuto(d).value},interval:1e3},b.CodeBlock=l,b.CodeToken=t,b.default=c},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(J,b){J.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(J,b){J.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(J,b){J.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(J,b){J.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.BubbleTooltip=void 0;var P=function _(O,S,v){null===O&&(O=Function.prototype);var p=Object.getOwnPropertyDescriptor(O,S);if(void 0===p){var h=Object.getPrototypeOf(O);return null===h?void 0:_(h,S,v)}if("value"in p)return p.value;var x=p.get;return void 0===x?void 0:x.call(v)},A=function(){function _(O,S){for(var v=0;v<S.length;v++){var p=S[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(O,p.key,p)}}return function(O,S,v){return S&&_(O.prototype,S),v&&_(O,v),O}}(),e=s(y(3)),m=s(y(8)),a=y(43),n=s(a),i=y(15),u=s(y(41));function s(_){return _&&_.__esModule?_:{default:_}}function r(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function o(_,O){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?_:O}function l(_,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(_,O):_.__proto__=O)}var t=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],c=function(_){function O(S,v){r(this,O),null!=v.modules.toolbar&&null==v.modules.toolbar.container&&(v.modules.toolbar.container=t);var p=o(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,S,v));return p.quill.container.classList.add("ql-bubble"),p}return l(O,_),A(O,[{key:"extendToolbar",value:function(v){this.tooltip=new d(this.quill,this.options.bounds),this.tooltip.root.appendChild(v.container),this.buildButtons([].slice.call(v.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(v.container.querySelectorAll("select")),u.default)}}]),O}(n.default);c.DEFAULTS=(0,e.default)(!0,{},n.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var d=function(_){function O(S,v){r(this,O);var p=o(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,S,v));return p.quill.on(m.default.events.EDITOR_CHANGE,function(h,x,N,L){if(h===m.default.events.SELECTION_CHANGE)if(null!=x&&x.length>0&&L===m.default.sources.USER){p.show(),p.root.style.left="0px",p.root.style.width="",p.root.style.width=p.root.offsetWidth+"px";var D=p.quill.getLines(x.index,x.length);if(1===D.length)p.position(p.quill.getBounds(x));else{var V=D[D.length-1],$=p.quill.getIndex(V),j=Math.min(V.length()-1,x.index+x.length-$),I=p.quill.getBounds(new i.Range($,j));p.position(I)}}else document.activeElement!==p.textbox&&p.quill.hasFocus()&&p.hide()}),p}return l(O,_),A(O,[{key:"listen",value:function(){var v=this;P(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){v.root.classList.remove("ql-editing")}),this.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!v.root.classList.contains("ql-hidden")){var p=v.quill.getSelection();null!=p&&v.position(v.quill.getBounds(p))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(v){var p=P(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,v),h=this.root.querySelector(".ql-tooltip-arrow");if(h.style.marginLeft="",0===p)return p;h.style.marginLeft=-1*p-h.offsetWidth/2+"px"}}]),O}(a.BaseTooltip);d.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),b.BubbleTooltip=d,b.default=c},function(J,b,y){J.exports=y(63)}]).default},336:(ke,J,b)=>{"use strict";b.d(J,{c:()=>l});var y=b(9376),P=b(91),A=b(1413),w=b(5879),e=b(6223),E=b(5545),m=b(9397);const a=["key"],n=["allOf"];function f(t){return""===t||null==t}function u(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)}function s(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&Math.floor(t)===t}function r(t){return"object"==typeof t&&(t.hasOwnProperty("const")||t.enum&&1===t.enum.length)}function o(t){if(!t.fieldGroup)return(0,E._S)(t)&&void 0!==(0,E.Hl)(t)?1:0;const c=t.fieldGroup.reduce((d,_)=>o(_)+d,0);if(0===c&&(0,E._S)(t)){const d=(0,E.Hl)(t);if(null===d||void 0!==d&&(t.fieldArray&&Array.isArray(d)||!t.fieldArray&&u(d)))return 1}return c}let l=(()=>{class t{toFieldConfig(d,_){return d=(0,E.kg)(d),this._toFieldConfig(d,(0,A.Z)({schema:d},_||{}))}_toFieldConfig(d,_){var O;let{key:S}=_,v=(0,P.Z)(_,a);d=this.resolveSchema(d,v);const p=this.guessSchemaType(d);let h={type:p[0],defaultValue:d.default,props:{label:d.title,readonly:d.readOnly,description:d.description}};switch(null!=S&&(h.key=S),!v.ignoreDefault&&(d.readOnly||v.readOnly)&&(h.props.disabled=!0,v=(0,A.Z)((0,A.Z)({},v),{},{readOnly:!0})),v.resetOnHide&&(h.resetOnHide=!0),S&&v.strict&&this.addValidator(h,"type",(x,N)=>{const L=(0,E.Hl)(N);if(null!=L)switch(h.type){case"string":return"string"==typeof L;case"integer":return s(L);case"number":return"number"==typeof L;case"object":return u(L);case"array":return Array.isArray(L)}return!0}),!1===v.shareFormControl&&(h.shareFormControl=!1),v.ignoreDefault&&delete h.defaultValue,this.addValidator(h,"type",{schemaType:p,expression:({value:x})=>{if(void 0===x||null===x&&-1!==p.indexOf("null"))return!0;switch(p[0]){case"null":return null===typeof x;case"string":return"string"==typeof x;case"integer":return s(x);case"number":return"number"==typeof x;case"object":return u(x);case"array":return Array.isArray(x)}return!0}}),h.type){case"number":case"integer":h.parsers=[x=>f(x)?x:Number(x)],d.hasOwnProperty("minimum")&&(h.props.min=d.minimum),d.hasOwnProperty("maximum")&&(h.props.max=d.maximum),d.hasOwnProperty("exclusiveMinimum")&&(h.props.exclusiveMinimum=d.exclusiveMinimum,this.addValidator(h,"exclusiveMinimum",({value:x})=>f(x)||x>d.exclusiveMinimum)),d.hasOwnProperty("exclusiveMaximum")&&(h.props.exclusiveMaximum=d.exclusiveMaximum,this.addValidator(h,"exclusiveMaximum",({value:x})=>f(x)||x<d.exclusiveMaximum)),d.hasOwnProperty("multipleOf")&&(h.props.step=d.multipleOf,this.addValidator(h,"multipleOf",({value:x})=>{if(f(x)||"number"!=typeof x||0===x||d.multipleOf<=0)return!0;const N=Math.pow(10,function i(t){if(!isFinite(t))return 0;let c=1,d=0;for(;Math.round(t*c)/c!==t;)c*=10,d++;return d}(d.multipleOf));return Math.round(x*N)%Math.round(d.multipleOf*N)==0}));break;case"string":h.parsers=[x=>(-1!==p.indexOf("null")?x=f(x)?null:x:h.props.required||(x=""===x?void 0:x),x)],["minLength","maxLength","pattern"].forEach(x=>{d.hasOwnProperty(x)&&(h.props[x]=d[x])});break;case"object":{h.fieldGroup||(h.fieldGroup=[]);const{propDeps:x,schemaDeps:N}=this.resolveDependencies(d);Object.keys(d.properties||{}).forEach(L=>{const D=Array.isArray(d.required)&&-1!==d.required.indexOf(L),V=this._toFieldConfig(d.properties[L],(0,A.Z)((0,A.Z)({},v),{},{key:L,isOptional:v.isOptional||!D}));if(h.fieldGroup.push(V),(D||x[L])&&(V.expressions=(0,A.Z)((0,A.Z)({},V.expressions||{}),{},{"props.required":$=>{let j=$.parent;const I=$.fieldGroup&&null!=$.key?j.model:$.model;for(;null==j.key&&j.parent;)j=j.parent;return!!(I||j&&j.props&&j.props.required)&&(!(!Array.isArray(d.required)||-1===d.required.indexOf(L))||x[L]&&$.model&&x[L].some(q=>!f($.model[q])))}})),N[L]){const $=I=>I.hasOwnProperty("const")?I.const:I.enum[0],j=N[L].oneOf;j&&j.every(I=>I.properties&&I.properties[L]&&r(I.properties[L]))?j.forEach(I=>{const C=I.properties,{[L]:q}=C,R=(0,P.Z)(C,[L].map(y.Z));h.fieldGroup.push((0,A.Z)((0,A.Z)({},this._toFieldConfig((0,A.Z)((0,A.Z)({},I),{},{properties:R}),(0,A.Z)((0,A.Z)({},v),{},{shareFormControl:!1,resetOnHide:!0}))),{},{expressions:{hide:Q=>!Q.model||$(q)!==Q.model[L]}}))}):h.fieldGroup.push((0,A.Z)((0,A.Z)({},this._toFieldConfig(N[L],v)),{},{expressions:{hide:I=>!I.model||f(I.model[L])}}))}}),d.oneOf&&h.fieldGroup.push(this.resolveMultiSchema("oneOf",d.oneOf,(0,A.Z)((0,A.Z)({},v),{},{shareFormControl:!1}))),d.anyOf&&h.fieldGroup.push(this.resolveMultiSchema("anyOf",d.anyOf,v));break}case"array":d.hasOwnProperty("minItems")&&(h.props.minItems=d.minItems,this.addValidator(h,"minItems",(x,N)=>{const L=(0,E.Hl)(N);return f(L)||L.length>=d.minItems}),!v.isOptional&&d.minItems>0&&void 0===h.defaultValue&&(h.defaultValue=Array.from(new Array(d.minItems)))),d.hasOwnProperty("maxItems")&&(h.props.maxItems=d.maxItems,this.addValidator(h,"maxItems",(x,N)=>{const L=(0,E.Hl)(N);return f(L)||L.length<=d.maxItems})),d.hasOwnProperty("uniqueItems")&&(h.props.uniqueItems=d.uniqueItems,this.addValidator(h,"uniqueItems",(x,N)=>{const L=(0,E.Hl)(N);return!(!f(L)&&d.uniqueItems)||Array.from(new Set(L.map(V=>JSON.stringify(V,($,j)=>u(j)?Object.keys(V).sort().reduce((I,C)=>(I[C]=V[C],I),{}):j)))).length===L.length})),d.items&&!Array.isArray(d.items)&&(d.items=this.resolveSchema(d.items,v)),this.isEnum(d)||(h.fieldArray=x=>{const N=d.items;if(!Array.isArray(N)){if(!N)return{};const $=N.oneOf||N.anyOf,j=this._toFieldConfig(N,$?(0,A.Z)((0,A.Z)({},v),{},{key:`${x.fieldGroup.length}`}):v);return $&&!(0,E._S)(j)&&(j.key=null),j.props.required=!0,j}const L=x.fieldGroup?x.fieldGroup.length:0,D=N[L]?N[L]:d.additionalItems,V=D?this._toFieldConfig(D,v):{};return V.props&&(V.props.required=!0),N[L]&&(V.props.removable=!1),V})}if(d.hasOwnProperty("const")&&(h.props.const=d.const,this.addValidator(h,"const",({value:x})=>x===d.const),h.type||(h.defaultValue=d.const)),this.isEnum(d)){const x=this.toEnumOptions(d),N="array"===h.type;h.type="enum",h.props.multiple=N,h.props.options=x;const L=x.map(D=>D.value);this.addValidator(h,"enum",({value:D})=>void 0===D||(N?!!Array.isArray(D)&&D.every(V=>L.includes(V)):L.includes(D)))}return d.oneOf&&!h.type&&(delete h.key,h.fieldGroup=[this.resolveMultiSchema("oneOf",d.oneOf,(0,A.Z)((0,A.Z)({},v),{},{key:S,shareFormControl:!1}))]),d.oneOf&&!h.type&&(delete h.key,h.fieldGroup=[this.resolveMultiSchema("oneOf",d.oneOf,(0,A.Z)((0,A.Z)({},v),{},{key:S,shareFormControl:!1}))]),null!==(O=d.widget)&&void 0!==O&&O.formlyConfig&&(h=this.mergeFields(h,d.widget.formlyConfig)),h.templateOptions=h.props,v.map?v.map(h,d):h}resolveSchema(d,_){return d&&d.$ref&&(d=this.resolveDefinition(d,_)),d&&d.allOf&&(d=this.resolveAllOf(d,_)),d}resolveAllOf(d,_){let{allOf:O}=d,S=(0,P.Z)(d,n);if(!O.length)throw Error(`allOf array can not be empty ${O}.`);return O.reduce((v,p)=>(p=this.resolveSchema(p,_),v.required&&p.required&&(v.required=[...v.required,...p.required]),p.uniqueItems&&(v.uniqueItems=p.uniqueItems),["maxLength","maximum","exclusiveMaximum","maxItems","maxProperties"].forEach(h=>{!f(v[h])&&!f(p[h])&&(v[h]=v[h]<p[h]?v[h]:p[h])}),["minLength","minimum","exclusiveMinimum","minItems","minProperties"].forEach(h=>{!f(v[h])&&!f(p[h])&&(v[h]=v[h]>p[h]?v[h]:p[h])}),(0,E.Du)(v,p)),S)}resolveMultiSchema(d,_,O){return{type:"multischema",fieldGroup:[{type:"enum",defaultValue:-1,props:{multiple:"anyOf"===d,options:_.map((S,v)=>({label:S.title,value:v,disabled:S.readOnly}))},hooks:{onInit:S=>S.formControl.valueChanges.pipe((0,m.b)(()=>S.options.detectChanges(S.parent)))}},{fieldGroup:_.map((S,v)=>(0,A.Z)((0,A.Z)({},this._toFieldConfig(S,(0,A.Z)((0,A.Z)({},O),{},{resetOnHide:!0}))),{},{expressions:{hide:(p,h)=>{const x=p.parent.parent.fieldGroup[0].formControl;if(-1===x.value||h){let N=p.parent.fieldGroup.map((L,D)=>[L,D,this.isFieldValid(L,D,_,O)]).sort(([L,,D],[V,,$])=>{if(D!==$)return $?1:-1;const j=o(L),I=o(V);return j===I&&L.props.disabled===V.props.disabled?0:I>j?1:-1}).map(([,L])=>L);if("anyOf"===d){const L=N.filter(D=>o(p.parent.fieldGroup[D]));N=L.length>0?L:[N[0]||0]}N=N.length>0?N:[0],x.setValue("anyOf"===d?N:N[0])}return Array.isArray(x.value)?-1===x.value.indexOf(v):x.value!==v}}}))}]}}resolveDefinition(d,_){const[O,S]=d.$ref.split("#/");if(O)throw Error(`Remote schemas for ${d.$ref} not supported yet.`);const v=S?S.split("/").reduce((p,h)=>null!=p&&p.hasOwnProperty(h)?p[h]:null,_.schema):null;if(!v)throw Error(`Cannot find a definition for ${d.$ref}.`);return v.$ref?this.resolveDefinition(v,_):(0,A.Z)((0,A.Z)({},v),["title","description","default","widget"].reduce((p,h)=>(d.hasOwnProperty(h)&&(p[h]=d[h]),p),{}))}resolveDependencies(d){const _={},O={};return Object.keys(d.dependencies||{}).forEach(S=>{const v=d.dependencies[S];Array.isArray(v)?v.forEach(p=>{_[p]?_[p].push(S):_[p]=[S]}):O[S]=v}),{propDeps:_,schemaDeps:O}}guessSchemaType(d){const _=null==d?void 0:d.type;return!_&&null!=d&&d.properties?["object"]:Array.isArray(_)?1===_.length?_:2===_.length&&-1!==_.indexOf("null")?_.sort(O=>"null"==O?1:-1):_:_?[_]:[]}addValidator(d,_,O){d.validators=d.validators||{},d.validators[_]=O}isEnum(d){return!!d.enum||d.anyOf&&d.anyOf.every(r)||d.oneOf&&d.oneOf.every(r)||d.uniqueItems&&d.items&&!Array.isArray(d.items)&&this.isEnum(d.items)}toEnumOptions(d){if(d.enum)return d.enum.map(O=>({value:O,label:O}));const _=O=>{const S=O.hasOwnProperty("const")?O.const:O.enum[0],v={value:S,label:O.title||S};return O.readOnly&&(v.disabled=!0),v};return d.anyOf?d.anyOf.map(_):d.oneOf?d.oneOf.map(_):this.toEnumOptions(d.items)}isFieldValid(d,_,O,S){const v=O[_];v._field||Object.defineProperty(v,"_field",{enumerable:!1,writable:!0,configurable:!0});let p=v._field;const h=d.model?(0,E.kg)(d.model):d.fieldArray?[]:{};return p?(p.model=h,d.options.build(p)):p=v._field=d.options.build({form:Array.isArray(h)?new e.Oe([]):new e.cw({}),fieldGroup:[this._toFieldConfig(v,(0,A.Z)((0,A.Z)({},S),{},{resetOnHide:!0,ignoreDefault:!0,map:null,strict:!0}))],model:h,options:{}}),p.form.valid}mergeFields(d,_){for(let O in _){const S="templateOptions"===O?"props":O;u(d[S])&&u(_[O])?d[S]=this.mergeFields(d[S],_[O]):null!=_[O]&&(d[S]=_[O])}return d}}return t.\u0275fac=function(d){return new(d||t)},t.\u0275prov=w.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);