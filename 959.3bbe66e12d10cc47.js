"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[959],{554:(J,W,p)=>{p.d(W,{R:()=>D});var v=p(4020),_=p(5879),f=p(6814);const l=function(h){return{"d-none d-md-inline-block":h}};function C(h,M){if(1&h&&(_.O4$(),_.kcU(),_._UZ(0,"span",8),_.ALo(1,"slice")),2&h){const R=_.oxw();_.Gre("text mb-0 ",R.fontSizes[R.svgSize],""),_.Q6J("ngClass",_.VKq(8,l,R.responsive))("innerText",_.xi3(1,5,R.appName,1))}}function r(h,M){if(1&h&&(_.O4$(),_.kcU(),_.TgZ(0,"div",9),_._UZ(1,"div",10)(2,"div",11),_.qZA()),2&h){const R=_.oxw();_.xp6(2),_.Q6J("innerHTML",R.subtext,_.oJD)}}const O=function(h,M,R){return{"touch-device":h,responsive:M,"has-subtext":R}};let D=(()=>{class h{constructor(){this.svgSize="md",this.responsive=!0,this.subtext="",this.svgClass=[],this.onlySvg=!1,this.appName=v.lW,this.touchDevice=v.eX,this.svgWidths={lg:26,xl:36,md:24},this.fontSizes={lg:"h4",xl:"h1",md:"h5"}}ngOnInit(){}}return h.\u0275fac=function(R){return new(R||h)},h.\u0275cmp=_.Xpm({type:h,selectors:[["app-logo"]],inputs:{svgSize:"svgSize",responsive:"responsive",subtext:"subtext",svgClass:"svgClass",onlySvg:"onlySvg"},decls:9,vars:10,consts:[[1,"logo","d-flex","justify-content-center","align-items-center",3,"ngClass"],[1,"d-inline-block"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16.4 22.7",3,"ngClass"],["d","M15.4 7.2a1 1 90 00-1 1 6.2 6.2 90 11-2.58-5.035L7.493 7.493A1 1 90 008.907 8.907l5.8-5.8L14 2.4a8.2 8.2 90 102.4 5.8A1 1 90 0015.4 7.2Z"],["d","M10.35 18h-4.5a1 1 90 000 2h4.5a1 1 90 000-2Z"],["d","M9.35 20.7h-2.5a1 1 90 000 2h2.5a1 1 90 000-2Z"],[3,"class","ngClass","innerText",4,"ngIf"],["class","d-flex flex-column align-items-center",4,"ngIf"],[3,"ngClass","innerText"],[1,"d-flex","flex-column","align-items-center"],[1,"sub-border"],[1,"subtext",3,"innerHTML"]],template:function(R,j){1&R&&(_.TgZ(0,"div",0)(1,"div",1),_.O4$(),_.TgZ(2,"svg",2)(3,"g"),_._UZ(4,"path",3)(5,"path",4)(6,"path",5),_.qZA()()(),_.YNc(7,C,2,10,"span",6),_.qZA(),_.YNc(8,r,3,1,"div",7)),2&R&&(_.Q6J("ngClass",_.kEZ(6,O,j.touchDevice,j.responsive,j.subtext.length>0)),_.xp6(2),_.Udp("width",j.svgWidths[j.svgSize]+"px"),_.Q6J("ngClass",j.svgClass),_.xp6(5),_.Q6J("ngIf",!j.onlySvg),_.xp6(1),_.Q6J("ngIf",j.subtext))},dependencies:[f.mk,f.O5,f.OU],styles:[".has-subtext[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.4rem!important}.has-subtext[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:26px!important}.sub-border[_ngcontent-%COMP%]{border-bottom:1px solid;width:100px;margin-top:.175rem;margin-bottom:.45rem}.text[_ngcontent-%COMP%], .subtext[_ngcontent-%COMP%]{font-family:Nunito,sans-serif}.text[_ngcontent-%COMP%]{margin-left:.175rem}svg[_ngcontent-%COMP%]{fill:currentColor}.logo[_ngcontent-%COMP%]:not(.responsive)   .text[_ngcontent-%COMP%]{display:inline-block}.logo[_ngcontent-%COMP%]:not(.touch-device)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s,stroke-width .3s}.logo[_ngcontent-%COMP%]:not(.touch-device)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(3){transition-delay:.6s}.logo[_ngcontent-%COMP%]:not(.touch-device)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(2){transition-delay:.3s}.logo[_ngcontent-%COMP%]:not(.touch-device):hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:not(:first-of-type){fill:var(--ei-gray-500)}.logo[_ngcontent-%COMP%]:not(.touch-device):hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:first-of-type{transition-delay:.6s;fill:#ffe507}.logo[_ngcontent-%COMP%]:not(.touch-device):hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(3){transition-delay:initial}@media (min-width: 350px){.has-subtext[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:2.1rem!important}.has-subtext[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:36px!important}}"]}),h})()},2740:(J,W,p)=>{p.d(W,{h:()=>f});var v=p(6814),_=p(5879);let f=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[v.ez]}),l})()},4464:(J,W,p)=>{p.d(W,{z:()=>j});var v=p(1413),_=p(4707),f=p(5879),l=p(3946),C=p(6814);const r=["modal"];function O(I,Z){if(1&I){const k=f.EpF();f.TgZ(0,"button",7),f.NdJ("click",function(){f.CHM(k);const U=f.oxw(2);return f.KtG(U.close(U.closeReasons.CROSS))}),f.qZA()}}function D(I,Z){if(1&I){const k=f.EpF();f.TgZ(0,"button",8),f.NdJ("click",function(){f.CHM(k);const U=f.oxw(2);return f.KtG(U.close(U.closeReasons.CANCEL))}),f._uU(1," Chiudi "),f.qZA()}}function h(I,Z){if(1&I&&(f.TgZ(0,"div",1),f._UZ(1,"h5",2),f.YNc(2,O,1,0,"button",3),f.qZA(),f.TgZ(3,"div",4),f.Hsn(4),f.qZA(),f.TgZ(5,"div",5),f.Hsn(6,1),f.YNc(7,D,2,0,"button",6),f.qZA()),2&I){const k=f.oxw();f.xp6(1),f.Q6J("innerHTML",k.title,f.oJD),f.xp6(1),f.Q6J("ngIf",!k.disableCrossButton),f.xp6(1),f.Q6J("ngClass",k.bodyClass),f.xp6(4),f.Q6J("ngIf",!k.disableCloseButton)}}const M=["*",[["","footer",""]]],R=["*","[footer]"];let j=(()=>{class I{constructor(k){this.modalService=k,this.title="",this.options={},this.size="lg",this.disableCloseButton=!1,this.disableCrossButton=!1,this.bodyClass="",this.hidden=new f.vpe,this.closeReasons=_.$,this.defaultOptions={}}ngOnInit(){}setDefaultOptions(){this.options.hasOwnProperty("scrollable")||(this.defaultOptions.scrollable=!0),this.size&&(this.defaultOptions.size=this.size)}open(){this.setDefaultOptions(),this.modal=this.modalService.open(this.modalTemplateRef,(0,v.Z)((0,v.Z)({},this.defaultOptions),this.options));const k=this.modal.hidden.subscribe(()=>{k.unsubscribe(),this.hidden.emit()});return this.modal}close(k){this.modal&&this.modal.close(k)}}return I.\u0275fac=function(k){return new(k||I)(f.Y36(l.FF))},I.\u0275cmp=f.Xpm({type:I,selectors:[["app-modal"]],viewQuery:function(k,A){if(1&k&&f.Gf(r,5),2&k){let U;f.iGM(U=f.CRH())&&(A.modalTemplateRef=U.first)}},inputs:{title:"title",options:"options",size:"size",disableCloseButton:"disableCloseButton",disableCrossButton:"disableCrossButton",bodyClass:"bodyClass"},outputs:{hidden:"hidden"},ngContentSelectors:R,decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title","mw-100","text-truncate","pe-1",3,"innerHTML"],["type","button","class","btn-close","aria-label","Close",3,"click",4,"ngIf"],["ngbAutofocus","",1,"modal-body",3,"ngClass"],[1,"modal-footer"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(k,A){1&k&&(f.F$t(M),f.YNc(0,h,8,4,"ng-template",null,0,f.W1O))},dependencies:[C.mk,C.O5],styles:[".modal-body[_ngcontent-%COMP%]{outline:none!important}"]}),I})()},4610:(J,W,p)=>{p.d(W,{z:()=>f});var v=p(6814),_=p(5879);let f=(()=>{class l{}return l.\u0275fac=function(r){return new(r||l)},l.\u0275mod=_.oAB({type:l}),l.\u0275inj=_.cJS({imports:[v.ez]}),l})()},4707:(J,W,p)=>{p.d(W,{$:()=>v});var v=function(_){return _.CROSS="cross",_.CANCEL="cancel",_}(v||{})},3543:(J,W,p)=>{p.d(W,{C:()=>r});var v=p(7165),_=p(5619),f=p(5879),l=p(6814);let C=(()=>{class O{constructor(h,M){this.document=h,this.platformId=M,this.documentIsAccessible=(0,l.NF)(this.platformId)}static getCookieRegExp(h){const M=h.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+M+"|;\\s*"+M+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(h){try{return decodeURIComponent(h)}catch(M){return h}}check(h){return!!this.documentIsAccessible&&(h=encodeURIComponent(h),O.getCookieRegExp(h).test(this.document.cookie))}get(h){if(this.documentIsAccessible&&this.check(h)){h=encodeURIComponent(h);const R=O.getCookieRegExp(h).exec(this.document.cookie);return R[1]?O.safeDecodeURIComponent(R[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const h={},M=this.document;return M.cookie&&""!==M.cookie&&M.cookie.split(";").forEach(R=>{const[j,I]=R.split("=");h[O.safeDecodeURIComponent(j.replace(/^ /,""))]=O.safeDecodeURIComponent(I)}),h}set(h,M,R,j,I,Z,k){if(!this.documentIsAccessible)return;if("number"==typeof R||R instanceof Date||j||I||Z||k)return void this.set(h,M,{expires:R,path:j,domain:I,secure:Z,sameSite:k||"Lax"});let A=encodeURIComponent(h)+"="+encodeURIComponent(M)+";";const U=R||{};U.expires&&(A+="number"==typeof U.expires?"expires="+new Date((new Date).getTime()+1e3*U.expires*60*60*24).toUTCString()+";":"expires="+U.expires.toUTCString()+";"),U.path&&(A+="path="+U.path+";"),U.domain&&(A+="domain="+U.domain+";"),!1===U.secure&&"None"===U.sameSite&&(U.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${h} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),U.secure&&(A+="secure;"),U.sameSite||(U.sameSite="Lax"),A+="sameSite="+U.sameSite+";",this.document.cookie=A}delete(h,M,R,j,I="Lax"){this.documentIsAccessible&&this.set(h,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:M,domain:R,secure:j,sameSite:I})}deleteAll(h,M,R,j="Lax"){if(!this.documentIsAccessible)return;const I=this.getAll();for(const Z in I)I.hasOwnProperty(Z)&&this.delete(Z,h,M,R,j)}}return O.\u0275fac=function(h){return new(h||O)(f.LFG(l.K0),f.LFG(f.Lbi))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})(),r=(()=>{class O{constructor(h){this.cookieService=h,this.choiceSubject=new _.X(this.choice)}get choice(){const h=this.cookieService.get(v.RY.COOKIE_CONSENT);if(h)try{return JSON.parse(h)}catch(M){return}}set choice(h){!h&&this.cookieService.check(v.RY.COOKIE_CONSENT)?this.cookieService.delete(v.RY.COOKIE_CONSENT,"/",void 0,!1,"Strict"):this.cookieService.set(v.RY.COOKIE_CONSENT,JSON.stringify(h),{expires:360,path:"/",sameSite:"Strict"}),this.choiceSubject.next(h)}get choiceObservable(){return this.choiceSubject.asObservable()}}return O.\u0275fac=function(h){return new(h||O)(f.LFG(C))},O.\u0275prov=f.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()},463:(J,W,p)=>{p.d(W,{y:()=>C});var v=p(3543),_=p(7165),f=p(7867),l=p(5879);let C=(()=>{class r{constructor(D,h){this.cookieConsentService=D,this.localStorageService=h,this.storage=null}getItem(D){return null===this.storage&&(this.storage=this.data),this.storage[D]}get data(){const D=this.localStorageService.getItem(_.dR.PREFERENCES);if(!D)return{};try{return JSON.parse(D)}catch(h){return{}}}setItem(D,h){var M;null===this.storage&&(this.storage=this.data),h?this.storage[D]=h:delete this.storage[D],null!==(M=this.cookieConsentService.choice)&&void 0!==M&&M.preferences&&this.localStorageService.setItem(_.dR.PREFERENCES,JSON.stringify(this.storage))}clearAll(){this.localStorageService.removeItem(_.dR.PREFERENCES)}resetItemsOnProfileChange(){const D=this.getItem(_.Ye.UPLOAD);D&&(D.lastPath=[],this.setItem(_.Ye.UPLOAD,D))}}return r.\u0275fac=function(D){return new(D||r)(l.LFG(v.C),l.LFG(f.n2))},r.\u0275prov=l.Yz7({token:r,factory:r.\u0275fac,providedIn:"root"}),r})()},5461:(J,W,p)=>{p.d(W,{uj:()=>Ce,ZU:()=>X,q:()=>$,qp:()=>V,Gw:()=>le,h2:()=>ye,TF:()=>w,MO:()=>x,tZ:()=>ve,_k:()=>S,rp:()=>g,HN:()=>m});var v=p(6814),_=p(7867),f=p(5545),l=p(6223),C=p(3946),r=p(5879);function D(u,E){if(!isNaN(Number(E)))return u.getNext(u.getToday(),"d",Number(E))}function h(u,E,d){var y;const N=u.isValid(E)?E:D(u,E)||void 0;return{min:N,max:(d=u.isValid(d)?d:D(u,d)||void 0)&&(!N||null!==(y=C.qj.from(d))&&void 0!==y&&y.after(N))?d:void 0}}var M=p(9515);const R=function(){return["bottom-end","top-end","auto"]};let j=(()=>{class u extends f.fS{constructor(d,y){super(),this.translateService=d,this.ngbCalendar=y,this.placeholder=this.translateService.instant("COMPONENTS.CUSTOM_FORM.DATEPICKER.DATE_FORMAT.PLACEHOLDER")}ngOnInit(){const d=this.field.props.startDate;!this.field.formControl.value&&typeof d<"u"&&this.field.formControl.setValue(D(this.ngbCalendar,d));const y=h(this.ngbCalendar,this.field.props.minDate,this.field.props.maxDate);this.field.props.minDate=y.min,this.field.props.maxDate=y.max}}return u.\u0275fac=function(d){return new(d||u)(r.Y36(M.sK),r.Y36(C.vL))},u.\u0275cmp=r.Xpm({type:u,selectors:[["formly-field-datepicker"]],features:[r.qOj],decls:7,vars:10,consts:[[1,"input-group"],["ngbDatepicker","",1,"form-control",3,"placeholder","formControl","formlyAttributes","minDate","maxDate","positionTarget","placement"],["d","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","d-flex","align-items-center",3,"click"],["dpButton",""],[1,"material-icons-outlined","d-block"]],template:function(d,y){if(1&d){const N=r.EpF();r.TgZ(0,"div",0),r._UZ(1,"input",1,2),r.TgZ(3,"button",3,4),r.NdJ("click",function(){r.CHM(N);const re=r.MAs(2);return r.KtG(re.toggle())}),r.TgZ(5,"span",5),r._uU(6," calendar_month "),r.qZA()()()}if(2&d){const N=r.MAs(4);r.xp6(1),r.ekj("is-invalid",y.showError),r.Q6J("placeholder",y.placeholder)("formControl",y.formControl)("formlyAttributes",y.field)("minDate",y.field.props.minDate)("maxDate",y.field.props.maxDate)("positionTarget",N)("placement",r.DdM(9,R))}},dependencies:[f.JD,l.Fj,l.JJ,C.J4,l.oH],encapsulation:2,changeDetection:0}),u})();var I=p(1413),Z=p(1088),k=p(8645),A=p(9773),U=p(2438),q=p(3620);const Q=["dpFromDate"],he=["dpToDate"],ie=function(u,E){return{focused:u,"text-muted outside":E}};function F(u,E){if(1&u){const d=r.EpF();r.TgZ(0,"span",16),r.NdJ("mouseenter",function(){const z=r.CHM(d).$implicit,re=r.oxw();return r.KtG(re.hoveredDate=z)})("mouseleave",function(){r.CHM(d);const N=r.oxw();return r.KtG(N.hoveredDate=null)}),r._uU(1),r.qZA()}if(2&u){const d=E.$implicit,y=E.focused,N=E.disabled,z=r.oxw();r.ekj("range",z.isRange(d))("faded",z.isHovered(d)||z.isInside(d)),r.Q6J("ngClass",r.WLB(6,ie,y,N)),r.xp6(1),r.hij(" ",d.day," ")}}const P=function(){return["bottom-end","top-end","bottom","top","auto"]};let G=(()=>{class u extends f.fS{constructor(d,y,N,z,re,Ee){super(),this.ngbCalendar=d,this.formatter=y,this.translateService=N,this.breakpointObserver=z,this.changeDetectorRef=re,this.dateAdapterService=Ee,this.hoveredDate=null,this.fromDate=null,this.toDate=null,this.placeholder="",this.numberOfCalendar=1,this.componentDestroyed=new k.x,this.placeholder=this.translateService.instant("COMPONENTS.CUSTOM_FORM.DATEPICKER.DATE_FORMAT.PLACEHOLDER")}ngOnInit(){this.field.validation=(0,I.Z)((0,I.Z)({},this.field.validation||{}),{},{show:!0}),this.breakpointObserver.observe([Z.u3.XSmall]).pipe((0,A.R)(this.componentDestroyed)).subscribe(d=>{const y=d.matches?1:2;this.numberOfCalendar!==y&&(this.numberOfCalendar=y,this.changeDetectorRef.detectChanges())}),this.initialize()}initialize(){const d=h(this.ngbCalendar,this.field.props.minDate,this.field.props.maxDate);if(this.field.props.minDate=d.min,this.field.props.maxDate=d.max,this.maxRangeLength=this.field.props.maxLength&&this.field.props.maxLength>1?this.field.props.maxLength:void 0,this.field.formControl.value){const y=this.field.formControl.value;this.fromDate=y.start,this.toDate=y.end}else{const y=this.ngbCalendar.getPrev(this.ngbCalendar.getToday(),"d",6),N=this.ngbCalendar.getToday();this.fromDate=C.qj.from(D(this.ngbCalendar,this.field.props.startDate))||y;const z=C.qj.from(D(this.ngbCalendar,this.field.props.endDate));this.toDate=z&&z.after(this.fromDate)?z:N.after(this.fromDate)?N:this.ngbCalendar.getNext(this.fromDate,"d",6),this.updateFieldModel()}}ngAfterViewInit(){this.setInputEvent(this.fromDateInputRef.nativeElement,d=>{this.fromDate=d,this.updateFieldModel()}),this.setInputEvent(this.toDateInputRef.nativeElement,d=>{this.toDate=d,this.updateFieldModel()})}validateInput(d){const y=this.formatter.parse(d);return y&&this.ngbCalendar.isValid(C.qj.from(y))?C.qj.from(y):null}setInputEvent(d,y){(0,U.R)(d,"input").pipe((0,A.R)(this.componentDestroyed),(0,q.b)(1e3)).subscribe(()=>{if(!d.value)return void y(null);const N=this.validateInput(d.value);N?y(N):this.setFormControlError({invalid:d.value})})}onDateSelection(d,y=!1){!this.fromDate&&!this.toDate||y&&(!this.toDate||d.before(this.toDate))?this.fromDate=d:this.fromDate&&!this.toDate&&d&&d.after(this.fromDate)?this.toDate=d:(this.toDate=null,this.fromDate=d),this.updateFieldModel()}updateFieldModel(){this.field.formControl.setValue({start:this.fromDate,end:this.toDate}),this.checkFieldErrors()}checkFieldErrors(){var d,y;this.fromDate&&!this.toDate||this.toDate&&!this.fromDate?this.setFormControlError({range:!0}):!this.props.required||this.fromDate||this.toDate?this.field.props.minDate&&null!==(d=C.qj.from(this.field.props.minDate))&&void 0!==d&&d.after(this.fromDate)?this.setFormControlError({minDate:{minDate:this.field.props.minDate}}):this.field.props.maxDate&&null!==(y=C.qj.from(this.field.props.maxDate))&&void 0!==y&&y.before(this.toDate)?this.setFormControlError({maxDate:{maxDate:this.field.props.maxDate}}):this.setFormControlError(null):this.formControl.setErrors({required:!0}),this.fromDate&&this.toDate&&(this.toDate.before(this.fromDate)?this.setFormControlError({order:!0}):this.maxRangeLength&&this.dateAdapterService.toModel(this.toDate).getTime()-this.dateAdapterService.toModel(this.fromDate).getTime()>24*this.maxRangeLength*60*60*1e3&&this.setFormControlError({rangeLength:this.maxRangeLength}))}setFormControlError(d){this.formControl.setErrors(d?{ngbDate:d}:null)}isHovered(d){return this.fromDate&&!this.toDate&&this.hoveredDate&&d.after(this.fromDate)&&d.before(this.hoveredDate)}isInside(d){return this.toDate&&d.after(this.fromDate)&&d.before(this.toDate)}isRange(d){return d.equals(this.fromDate)||this.toDate&&d.equals(this.toDate)||this.isInside(d)||this.isHovered(d)}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}}return u.\u0275fac=function(d){return new(d||u)(r.Y36(C.vL),r.Y36(_.KN),r.Y36(M.sK),r.Y36(Z.Yg),r.Y36(r.sBO),r.Y36(_.z3))},u.\u0275cmp=r.Xpm({type:u,selectors:[["formly-field-datepicker-range"]],viewQuery:function(d,y){if(1&d&&(r.Gf(Q,5),r.Gf(he,5)),2&d){let N;r.iGM(N=r.CRH())&&(y.fromDateInputRef=N.first),r.iGM(N=r.CRH())&&(y.toDateInputRef=N.first)}},features:[r.qOj],decls:23,vars:17,consts:[[1,"d-sm-flex"],[1,"flex-grow-1","me-sm-3"],[1,"dp-hidden","position-absolute"],[1,"input-group"],["name","datepicker","ngbDatepicker","","outsideDays","hidden","tabindex","-1",1,"form-control",3,"autoClose","displayMonths","dayTemplate","startDate","minDate","maxDate","positionTarget","placement","dateSelect"],["datepicker","ngbDatepicker"],["t",""],[1,"input-group-text"],["name","dpFromDate",1,"form-control",3,"placeholder","value"],["dpFromDate",""],["type","button",1,"btn","btn-outline-secondary","d-flex","align-items-center",3,"click"],["dpButton",""],[1,"material-icons-outlined","d-block"],[1,"flex-grow-1","mt-3","mt-sm-0"],["name","dpToDate",1,"form-control",3,"placeholder","value"],["dpToDate",""],[1,"custom-day",3,"ngClass","mouseenter","mouseleave"]],template:function(d,y){if(1&d){const N=r.EpF();r.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),r.NdJ("dateSelect",function(re){return y.onDateSelection(re)}),r.qZA(),r.YNc(6,F,2,9,"ng-template",null,6,r.W1O),r.qZA()(),r.TgZ(8,"div",3)(9,"span",7),r._uU(10,"Dal:"),r.qZA(),r._UZ(11,"input",8,9),r.TgZ(13,"button",10,11),r.NdJ("click",function(){r.CHM(N);const re=r.MAs(5);return r.KtG(re.toggle())}),r.TgZ(15,"span",12),r._uU(16," calendar_month "),r.qZA()()()(),r.TgZ(17,"div",13)(18,"div",3)(19,"span",7),r._uU(20,"Al:"),r.qZA(),r._UZ(21,"input",14,15),r.qZA()()()}if(2&d){const N=r.MAs(7),z=r.MAs(14);r.xp6(4),r.Q6J("autoClose","outside")("displayMonths",y.numberOfCalendar)("dayTemplate",N)("startDate",y.fromDate)("minDate",y.field.props.minDate)("maxDate",y.field.props.maxDate)("positionTarget",z)("placement",r.DdM(16,P)),r.xp6(7),r.ekj("is-invalid",y.showError),r.Q6J("placeholder",y.placeholder)("value",y.formatter.format(y.fromDate)),r.xp6(10),r.ekj("is-invalid",y.showError),r.Q6J("placeholder",y.placeholder)("value",y.formatter.format(y.toDate))}},dependencies:[v.mk,C.J4],styles:[".dp-hidden[_ngcontent-%COMP%]{width:0;margin:0;border:none;padding:0}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.outside[_ngcontent-%COMP%]{opacity:.5}.custom-day[_ngcontent-%COMP%]:not(.text-muted).range:not(.faded), .custom-day[_ngcontent-%COMP%]:not(.text-muted):not(.faded):hover{background-color:#4864fe!important;color:#fff;border-radius:.25rem;border:0!important}.custom-day[_ngcontent-%COMP%]:not(.text-muted).faded{background-color:#dae0ff}.custom-day[_ngcontent-%COMP%]:not(.text-muted):not(.range).focused{background-color:var(--ei-gray-100);border-radius:.25rem;border:1px solid #dee2e6}"],changeDetection:0}),u})();function B(){const u=(0,r.f3M)(r.lqb);return{validationMessages:[{name:"ngbDate",message:E=>(0,r.r_H)(u,()=>function O(u){const E=(0,r.f3M)(_.KN);return u.invalid?`La data "${u.invalid}" non rispetta il formato richiesto o non \xe8 valida!`:u.minDate?`La data deve essere successiva o uguale al ${E.format(u.minDate.minDate)}!`:u.maxDate?`La data deve essere precedente o uguale al ${E.format(u.maxDate.maxDate)}!`:u.range?"Devono essere specificate sia la data di inizio che la data di fine del periodo!":u.order?"La data di inzio non pu\xf2 essere successiva alla data di fine!":u.rangeLength?`Il periodo non pu\xf2 essere maggiore di ${u.rangeLength} giorni!`:"La data inserita non \xe8 valida!"}(E))}],types:[{name:"datepicker",component:j,wrappers:["form-field"]},{name:"datepicker-range",component:G,wrappers:["form-field"]}]}}let X=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=r.oAB({type:u}),u.\u0275inj=r.cJS({providers:[{provide:C.wf,useExisting:_.Ah},{provide:C.NG,useExisting:_.KN},{provide:f.l7,multi:!0,useFactory:B}],imports:[v.ez,f.X0.forChild(),l.u5,C.M,l.UX]}),u})();function de(u,E){1&u&&r.GkF(0)}const te=function(u,E){return{$implicit:u,props:E}};function ne(u,E){if(1&u&&(r.ynx(0),r.YNc(1,de,1,0,"ng-container",8),r.BQk()),2&u){const d=r.oxw(2);r.xp6(1),r.Q6J("ngTemplateOutlet",d.customLabelTemplate)("ngTemplateOutletContext",r.WLB(2,te,d.id,d.props))}}function L(u,E){1&u&&(r.TgZ(0,"span",12),r._uU(1," *"),r.qZA())}function Y(u,E){if(1&u&&(r.TgZ(0,"div")(1,"label",9),r._UZ(2,"span",10),r.YNc(3,L,2,0,"span",11),r.qZA()()),2&u){const d=r.oxw(3);r.xp6(1),r.uIk("for",d.id),r.xp6(1),r.Q6J("innerHTML",d.parsedLabel,r.oJD),r.xp6(1),r.Q6J("ngIf",d.props.required&&!0!==d.props.hideRequiredMarker)}}function ue(u,E){if(1&u&&r.YNc(0,Y,4,3,"div",2),2&u){const d=r.oxw(2);r.Q6J("ngIf",d.props.label&&!0!==d.props.hideLabel)}}function fe(u,E){if(1&u&&(r.YNc(0,ne,2,5,"ng-container",6),r.YNc(1,ue,1,1,"ng-template",null,7,r.W1O)),2&u){const d=r.MAs(2),y=r.oxw();r.Q6J("ngIf",y.hasCustomLabelTemplate)("ngIfElse",d)}}function be(u,E){if(1&u&&(r.ynx(0),r.GkF(1,13),r.BQk()),2&u){r.oxw();const d=r.MAs(1);r.xp6(1),r.Q6J("ngTemplateOutlet",d)}}function ae(u,E){}function pe(u,E){if(1&u&&(r.ynx(0),r.GkF(1,13),r.BQk()),2&u){r.oxw();const d=r.MAs(1);r.xp6(1),r.Q6J("ngTemplateOutlet",d)}}function oe(u,E){if(1&u&&(r.TgZ(0,"div",14),r._UZ(1,"formly-validation-message",15),r.qZA()),2&u){const d=r.oxw();r.Udp("display","block"),r.xp6(1),r.Q6J("field",d.field)}}function ge(u,E){if(1&u&&r._UZ(0,"div",16),2&u){const d=r.oxw();r.Q6J("innerHTML",d.parsedDescription,r.oJD)}}let Ce=(()=>{class u extends f.n2{constructor(d){super(),this.customFormUtilsService=d,this.hasCustomLabelTemplate=!1,this.parsedDescription="",this.parsedLabel=""}ngOnInit(){this.hasCustomLabelTemplate=!(!this.props.customLabelTemplate||!this.props.customLabelTemplate.elementRef),this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):"",this.parsedLabel=!this.hasCustomLabelTemplate&&this.props.label?this.customFormUtilsService.parseBBCode(this.props.label):""}get customLabelTemplate(){return this.props.customLabelTemplate}}return u.\u0275fac=function(d){return new(d||u)(r.Y36(_.d6))},u.\u0275cmp=r.Xpm({type:u,selectors:[["formly-custom-wrapper-form-field"]],features:[r.qOj],decls:9,vars:8,consts:[["labelTemplate",""],[1,"mb-3"],[4,"ngIf"],["fieldComponent",""],["class","invalid-feedback",3,"display",4,"ngIf"],["class","form-text text-muted",3,"innerHTML",4,"ngIf"],[4,"ngIf","ngIfElse"],["stringLabel",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-label"],[3,"innerHTML"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[3,"ngTemplateOutlet"],[1,"invalid-feedback"],[3,"field"],[1,"form-text","text-muted",3,"innerHTML"]],template:function(d,y){1&d&&(r.YNc(0,fe,3,2,"ng-template",null,0,r.W1O),r.TgZ(2,"div",1),r.YNc(3,be,2,1,"ng-container",2),r.YNc(4,ae,0,0,"ng-template",null,3,r.W1O),r.YNc(6,pe,2,1,"ng-container",2),r.YNc(7,oe,2,3,"div",4),r.YNc(8,ge,1,1,"div",5),r.qZA()),2&d&&(r.xp6(2),r.ekj("form-floating","floating"===y.props.labelPosition)("has-error",y.showError),r.xp6(1),r.Q6J("ngIf","floating"!==y.props.labelPosition),r.xp6(3),r.Q6J("ngIf","floating"===y.props.labelPosition),r.xp6(1),r.Q6J("ngIf",y.showError),r.xp6(1),r.Q6J("ngIf",y.parsedDescription))},dependencies:[v.O5,v.tP,f.M2],encapsulation:2}),u})(),$=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=r.oAB({type:u}),u.\u0275inj=r.cJS({imports:[v.ez]}),u})();function ve(u=!1){return{show:!0,itemSize:20,emphasis:{iconStyle:{borderColor:"var(--ei-primary)"}},feature:(0,I.Z)((0,I.Z)({},{saveAsImage:{title:""}}),u?{dataZoom:{show:!0,yAxisIndex:!1}}:{})}}function x(u="Caricamento"){return{text:`${u}...`,color:"var(--ei-primary)",textColor:"inherit",zlevel:2,lineWidth:3,fontFamily:"inherit",maskColor:"rgba(255, 255, 255, 0.95)",fontSize:14}}function m(u,E){return u.reduce((d,y)=>d+y[E],0)}function g(u){return Math.round(100*u*100)/100}var b=p(2641);function w(u,E,d,y,N=!0){return{toolbox:ve(),grid:{containLabel:!1},tooltip:(0,I.Z)({trigger:"item",textStyle:{color:"inherit"}},y?{valueFormatter:z=>y(z)}:{}),legend:(0,I.Z)((0,I.Z)({},N?{show:!1}:{orient:"vertical",right:"2%",top:"middle"}),{},{formatter:z=>z.toUpperCase()}),dataset:[{source:u}],series:{name:E,type:"pie",radius:["45%","90%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#FFF",borderWidth:5},label:{show:!1,position:"inside",formatter:"{d}%"},emphasis:{label:{show:!0}},startAngle:0,markPoint:{tooltip:{show:!0},label:{show:!0,formatter:z=>z.value,color:"black",fontSize:25,fontWeight:"bold"},data:[{name:"Totale",value:d,symbol:"circle",itemStyle:{color:"transparent"},x:"50%",y:"50%"}]}}}}function S(u,E){return{tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985",formatter:d=>"y"===d.axisDimension?(0,b.o)(d.value):d.value}},valueFormatter:d=>(0,b.o)(d)},legend:{show:E.length>1,data:E.map(d=>d.name),width:"80%",align:"left",left:0},grid:{left:"3%",right:"4%",bottom:"3%",top:E.length>1?70:60,containLabel:!0},toolbox:ve(!0),xAxis:{type:"category",boundaryGap:!1,data:u},yAxis:{type:"value",axisLabel:{formatter:d=>(0,b.o)(d)}},series:E.map(d=>(0,I.Z)((0,I.Z)({},{type:"line",emphasis:{focus:"series"},name:d.name,data:d.data}),E.length>1?{}:{areaStyle:{opacity:.3}}))}}let V=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=r.oAB({type:u}),u.\u0275inj=r.cJS({imports:[v.ez]}),u})(),le=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=r.oAB({type:u}),u.\u0275inj=r.cJS({imports:[v.ez]}),u})();var se=p(7827),ce=p(5063);let ye=(()=>{class u{}return u.\u0275fac=function(d){return new(d||u)},u.\u0275mod=r.oAB({type:u}),u.\u0275inj=r.cJS({imports:[v.ez,se.mZ,ce.g]}),u})()},9473:(J,W,p)=>{p.d(W,{R:()=>r});var v=p(5879),_=p(6814);function f(O,D){1&O&&v._UZ(0,"div",3)}function l(O,D){if(1&O&&(v.TgZ(0,"small",4),v._uU(1),v.TgZ(2,"span",5)(3,"span"),v._uU(4,"."),v.qZA(),v.TgZ(5,"span"),v._uU(6,"."),v.qZA(),v.TgZ(7,"span"),v._uU(8,"."),v.qZA()()()),2&O){const h=v.oxw();v.xp6(1),v.Oqu(h.message)}}const C=function(O){return{"only-message":O}};let r=(()=>{class O{constructor(){this.message="Caricamento",this.onlyMessage=!1}ngOnInit(){}}return O.\u0275fac=function(h){return new(h||O)},O.\u0275cmp=v.Xpm({type:O,selectors:[["app-loader"]],inputs:{message:"message",onlyMessage:"onlyMessage"},decls:3,vars:5,consts:[[1,"loader-container","d-flex","flex-column","align-items-center","justify-content-center",3,"ngClass"],["class","loader-animation position-relative",4,"ngIf"],["class","loader-description d-block",4,"ngIf"],[1,"loader-animation","position-relative"],[1,"loader-description","d-block"],[1,"dots-animated"]],template:function(h,M){1&h&&(v.TgZ(0,"div",0),v.YNc(1,f,1,0,"div",1),v.YNc(2,l,9,1,"small",2),v.qZA()),2&h&&(v.Q6J("ngClass",v.VKq(3,C,M.onlyMessage)),v.xp6(1),v.Q6J("ngIf",!M.onlyMessage),v.xp6(1),v.Q6J("ngIf",M.message))},dependencies:[_.mk,_.O5],styles:['.loader-container[_ngcontent-%COMP%]:not(.only-message){padding-top:.175rem}.loader-container[_ngcontent-%COMP%]:not(.only-message)   .loader-description[_ngcontent-%COMP%]{margin-top:.5rem}.loader-animation[_ngcontent-%COMP%]{width:60px;height:60px}.loader-animation[_ngcontent-%COMP%]:before, .loader-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:30px;height:30px;border-radius:.35rem;background-color:var(--ei-gray-700)}.loader-animation[_ngcontent-%COMP%]:before{top:0;left:0;animation:_ngcontent-%COMP%_loader-before-animation 2.4s cubic-bezier(0,0,.24,1.21) infinite}.loader-animation[_ngcontent-%COMP%]:after{bottom:0;right:0;animation:_ngcontent-%COMP%_loader-after-animation 2.4s cubic-bezier(0,0,.24,1.21) infinite}@keyframes _ngcontent-%COMP%_loader-after-animation{0%,to{transform:none}25%{transform:translate(-100%)}50%{transform:translate(-100%) translateY(-100%)}75%{transform:translateY(-100%)}}@keyframes _ngcontent-%COMP%_loader-before-animation{0%,to{transform:none}25%{transform:translate(100%)}50%{transform:translate(100%) translateY(100%)}75%{transform:translateY(100%)}}.dots-animated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_dots-animation;animation-duration:1.4s;animation-iteration-count:infinite;animation-fill-mode:both}.dots-animated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.dots-animated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_dots-animation{0%{opacity:.2}20%{opacity:1}to{opacity:.2}}']}),O})()},2641:(J,W,p)=>{function v(_){return _.toLocaleString()}p.d(W,{o:()=>v})},5063:(J,W,p)=>{p.d(W,{g:()=>_});var v=p(5879);let _=(()=>{class f{}return f.\u0275fac=function(C){return new(C||f)},f.\u0275mod=v.oAB({type:f}),f.\u0275inj=v.cJS({}),f})()},2495:(J,W,p)=>{p.d(W,{Eq:()=>C,HM:()=>r,Ig:()=>_,fI:()=>O,su:()=>f});var v=p(5879);function _(h){return null!=h&&"false"!=`${h}`}function f(h,M=0){return function l(h){return!isNaN(parseFloat(h))&&!isNaN(Number(h))}(h)?Number(h):M}function C(h){return Array.isArray(h)?h:[h]}function r(h){return null==h?"":"string"==typeof h?h:`${h}px`}function O(h){return h instanceof v.SBq?h.nativeElement:h}},1088:(J,W,p)=>{p.d(W,{Yg:()=>he,u3:()=>F});var v=p(5879),_=p(2495),f=p(8645),l=p(2572),C=p(5211),r=p(5592),O=p(8180),D=p(836),h=p(3620),M=p(7398),R=p(7921),j=p(9773),I=p(2831);const k=new Set;let A,U=(()=>{class P{constructor(B,X){this._platform=B,this._nonce=X,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):Q}matchMedia(B){return(this._platform.WEBKIT||this._platform.BLINK)&&function q(P,G){if(!k.has(P))try{A||(A=document.createElement("style"),G&&(A.nonce=G),A.setAttribute("type","text/css"),document.head.appendChild(A)),A.sheet&&(A.sheet.insertRule(`@media ${P} {body{ }}`,0),k.add(P))}catch(B){console.error(B)}}(B,this._nonce),this._matchMedia(B)}}return P.\u0275fac=function(B){return new(B||P)(v.LFG(I.t4),v.LFG(v.Ojb,8))},P.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function Q(P){return{matches:"all"===P||""===P,media:P,addListener:()=>{},removeListener:()=>{}}}let he=(()=>{class P{constructor(B,X){this._mediaMatcher=B,this._zone=X,this._queries=new Map,this._destroySubject=new f.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(B){return ie((0,_.Eq)(B)).some(de=>this._registerQuery(de).mql.matches)}observe(B){const de=ie((0,_.Eq)(B)).map(ne=>this._registerQuery(ne).observable);let te=(0,l.a)(de);return te=(0,C.z)(te.pipe((0,O.q)(1)),te.pipe((0,D.T)(1),(0,h.b)(0))),te.pipe((0,M.U)(ne=>{const L={matches:!1,breakpoints:{}};return ne.forEach(({matches:Y,query:ue})=>{L.matches=L.matches||Y,L.breakpoints[ue]=Y}),L}))}_registerQuery(B){if(this._queries.has(B))return this._queries.get(B);const X=this._mediaMatcher.matchMedia(B),te={observable:new r.y(ne=>{const L=Y=>this._zone.run(()=>ne.next(Y));return X.addListener(L),()=>{X.removeListener(L)}}).pipe((0,R.O)(X),(0,M.U)(({matches:ne})=>({query:B,matches:ne})),(0,j.R)(this._destroySubject)),mql:X};return this._queries.set(B,te),te}}return P.\u0275fac=function(B){return new(B||P)(v.LFG(U),v.LFG(v.R0b))},P.\u0275prov=v.Yz7({token:P,factory:P.\u0275fac,providedIn:"root"}),P})();function ie(P){return P.map(G=>G.split(",")).reduce((G,B)=>G.concat(B)).map(G=>G.trim())}const F={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2831:(J,W,p)=>{p.d(W,{Mq:()=>Z,Oy:()=>ie,_i:()=>k,ht:()=>Q,i$:()=>R,kV:()=>q,sA:()=>he,t4:()=>l});var v=p(5879),_=p(6814);let f;try{f=typeof Intl<"u"&&Intl.v8BreakIterator}catch(F){f=!1}let h,j,I,A,l=(()=>{class F{constructor(G){this._platformId=G,this.isBrowser=this._platformId?(0,_.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!f)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return F.\u0275fac=function(G){return new(G||F)(v.LFG(v.Lbi))},F.\u0275prov=v.Yz7({token:F,factory:F.\u0275fac,providedIn:"root"}),F})();function R(F){return function M(){if(null==h&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>h=!0}))}finally{h=h||!1}return h}()?F:!!F.capture}function Z(){if(null==I){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return I=!1,I;if("scrollBehavior"in document.documentElement.style)I=!0;else{const F=Element.prototype.scrollTo;I=!!F&&!/\{\s*\[native code\]\s*\}/.test(F.toString())}}return I}function k(){if("object"!=typeof document||!document)return 0;if(null==j){const F=document.createElement("div"),P=F.style;F.dir="rtl",P.width="1px",P.overflow="auto",P.visibility="hidden",P.pointerEvents="none",P.position="absolute";const G=document.createElement("div"),B=G.style;B.width="2px",B.height="1px",F.appendChild(G),document.body.appendChild(F),j=0,0===F.scrollLeft&&(F.scrollLeft=1,j=0===F.scrollLeft?1:2),F.remove()}return j}function q(F){if(function U(){if(null==A){const F=typeof document<"u"?document.head:null;A=!(!F||!F.createShadowRoot&&!F.attachShadow)}return A}()){const P=F.getRootNode?F.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&P instanceof ShadowRoot)return P}return null}function Q(){let F=typeof document<"u"&&document?document.activeElement:null;for(;F&&F.shadowRoot;){const P=F.shadowRoot.activeElement;if(P===F)break;F=P}return F}function he(F){return F.composedPath?F.composedPath()[0]:F.target}function ie(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},5545:(J,W,p)=>{p.d(W,{Du:()=>pe,Hl:()=>ae,JD:()=>Te,M2:()=>Re,T7:()=>Pe,X0:()=>We,_S:()=>L,cw:()=>Ee,fS:()=>Oe,hv:()=>Ae,kg:()=>g,l7:()=>se,n2:()=>we});var v=p(9376),_=p(91),f=p(1413),l=p(5879),C=p(6223),r=p(2664),O=p(3019),D=p(2096),h=p(5592),M=p(8645),R=p(3997),j=p(7921),I=p(3620),Z=p(2181),k=p(4664),A=p(8180),U=p(9397),q=p(7398),Q=p(6814),he=p(6593);const ie=["expression"],F=["errorPath"],P=["container"];function G(s,n){}function B(s,n){1&s&&l._UZ(0,"formly-field",1),2&s&&l.Q6J("field",n.$implicit)}const X=["*"],de=["fieldComponent"];function ne(s,n,e){if(n.id)return n.id;let t=n.type;return!t&&n.template&&(t="template"),t instanceof l.DyG&&(t=t.prototype.constructor.name),[s,t,n.key,e].join("_")}function L(s){return!oe(s.key)&&""!==s.key}function Y(s){var n;if(!L(s))return[];if((null===(n=s._keyPath)||void 0===n?void 0:n.key)!==s.key){let e=[];if("string"==typeof s.key){const t=-1===s.key.indexOf("[")?s.key:s.key.replace(/\[(\w+)\]/g,".$1");e=-1!==t.indexOf(".")?t.split("."):[t]}else e=Array.isArray(s.key)?s.key.slice(0):[`${s.key}`];b(s,"_keyPath",{key:s.key,path:e})}return s._keyPath.path.slice(0)}const ue=["required","pattern","minLength","maxLength","min","max"];function fe(s,n){let e=Y(s);if(0===e.length)return;let t=s;for(;t.parent;)t=t.parent,e=[...Y(t),...e];if(void 0===n&&s.resetOnHide){const o=e.pop();delete e.reduce((a,c)=>a[c]||{},t.model)[o]}else!function be(s,n,e){for(let t=0;t<n.length-1;t++){const o=n[t];(!s[o]||!x(s[o]))&&(s[o]=/^\d+$/.test(n[t+1])?[]:{}),s=s[o]}s[n[n.length-1]]=g(e)}(t.model,e,n)}function ae(s){let n=s.parent?s.parent.model:s.model;for(const e of Y(s)){if(!n)return n;n=n[e]}return n}function pe(s,...n){return n.forEach(e=>{for(const t in e)oe(s[t])||Ce(s[t])?s[t]=g(e[t]):ve(s[t],e[t])&&pe(s[t],e[t])}),s}function oe(s){return null==s}function ge(s){return void 0===s}function Ce(s){return""===s}function $(s){return"function"==typeof s}function ve(s,n){return x(s)&&x(n)&&Object.getPrototypeOf(s)===Object.getPrototypeOf(n)&&!(Array.isArray(s)||Array.isArray(n))}function x(s){return null!=s&&"object"==typeof s}function g(s){if(!x(s)||(0,r.b)(s)||s instanceof l.Rgc||s.changingThisBreaksApplicationSecurity||-1!==["RegExp","FileList","File","Blob"].indexOf(s.constructor.name))return s;if(s instanceof Set)return new Set(s);if(s instanceof Map)return new Map(s);if(s._isAMomentObject&&$(s.clone))return s.clone();if(s instanceof C.TO)return null;if(s instanceof Date)return new Date(s.getTime());if(Array.isArray(s))return s.slice(0).map(t=>g(t));const n=Object.getPrototypeOf(s);let e=Object.create(n);return e=Object.setPrototypeOf(e,n),Object.keys(s).reduce((t,o)=>{const i=Object.getOwnPropertyDescriptor(s,o);return i.get?Object.defineProperty(t,o,i):t[o]=g(s[o]),t},e)}function b(s,n,e){Object.defineProperty(s,n,{enumerable:!1,writable:!0,configurable:!0}),s[n]=e}function w(s,n,e){let t=[];const o=()=>{t.forEach(a=>a()),t=[]},i=S(s,n,({firstChange:a,currentValue:c})=>{!a&&e(),o(),x(c)&&"Object"===c.constructor.name&&Object.keys(c).forEach(T=>{t.push(w(s,[...n,T],e))})});return()=>{i.unsubscribe(),o()}}function S(s,n,e){s._observers||b(s,"_observers",{});let t=s;for(let c=0;c<n.length-1;c++)(!t[n[c]]||!x(t[n[c]]))&&(t[n[c]]=/^\d+$/.test(n[c+1])?[]:{}),t=t[n[c]];const o=n[n.length-1],i=n.join(".");s._observers[i]||(s._observers[i]={value:t[o],onChange:[]});const a=s._observers[i];if(t[o]!==a.value&&(a.value=t[o]),-1===a.onChange.indexOf(e)&&(a.onChange.push(e),e({currentValue:a.value,firstChange:!0}),a.onChange.length>=1&&x(t))){const{enumerable:c}=Object.getOwnPropertyDescriptor(t,o)||{enumerable:!0};Object.defineProperty(t,o,{enumerable:c,configurable:!0,get:()=>a.value,set:T=>{if(T!==a.value){const H=a.value;a.value=T,a.onChange.forEach(K=>K({previousValue:H,currentValue:T,firstChange:!1}))}}})}return{setValue(c){if(c===a.value)return;const T=a.value;a.value=c,a.onChange.forEach(H=>{H!==e&&H({previousValue:T,currentValue:c,firstChange:!1})})},unsubscribe(){a.onChange=a.onChange.filter(c=>c!==e),0===a.onChange.length&&delete s._observers[i]}}}function V(s,n){if(n=Array.isArray(n)?n.join("."):n,s.fieldGroup)for(let e=0,t=s.fieldGroup.length;e<t;e++){const o=s.fieldGroup[e],i=Array.isArray(o.key)?o.key.join("."):o.key;if(i===n)return o;if(o.fieldGroup&&(oe(i)||0===n.indexOf(`${i}.`))){const a=V(o,oe(i)?n:n.slice(i.length+1));if(a)return a}}}function le(s){var n;null===(n=s._componentRefs)||void 0===n||n.forEach(e=>{e instanceof l.UuU?e.injector.get(l.sBO).markForCheck():e.markForCheck()})}const se=new l.OlP("FORMLY_CONFIG");let ce=(()=>{class s{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.extras={checkExpressionOn:"modelChange",lazyRender:!0,resetFieldOnHide:!0,renderFormlyFieldElement:!0,showError(e){var t,o,i,a;return(null===(t=e.formControl)||void 0===t?void 0:t.invalid)&&((null===(o=e.formControl)||void 0===o?void 0:o.touched)||(null===(i=e.options.parentForm)||void 0===i?void 0:i.submitted)||!(null===(a=e.field.validation)||void 0===a||!a.show))}},this.extensions={},this.presets={},this.extensionsByPriority={}}addConfig(e){e.types&&e.types.forEach(t=>this.setType(t)),e.validators&&e.validators.forEach(t=>this.setValidator(t)),e.wrappers&&e.wrappers.forEach(t=>this.setWrapper(t)),e.validationMessages&&e.validationMessages.forEach(t=>this.addValidatorMessage(t.name,t.message)),e.extensions&&this.setSortedExtensions(e.extensions),e.extras&&(this.extras=(0,f.Z)((0,f.Z)({},this.extras),e.extras)),e.presets&&(this.presets=(0,f.Z)((0,f.Z)({},this.presets),e.presets.reduce((t,o)=>(0,f.Z)((0,f.Z)({},t),{},{[o.name]:o.config}),{})))}setType(e){Array.isArray(e)?e.forEach(t=>this.setType(t)):(this.types[e.name]||(this.types[e.name]={name:e.name}),["component","extends","defaultOptions","wrappers"].forEach(t=>{e.hasOwnProperty(t)&&(this.types[e.name][t]=e[t])}))}getType(e,t=!1){if(e instanceof l.DyG)return{component:e,name:e.prototype.constructor.name};if(!this.types[e]){if(t)throw new Error(`[Formly Error] The type "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return null}return this.mergeExtendedType(e),this.types[e]}getMergedField(e={}){var t;const o=this.getType(e.type);if(!o)return;o.defaultOptions&&pe(e,o.defaultOptions);const i=o.extends&&this.getType(o.extends).defaultOptions;i&&pe(e,i),null!=e&&e.optionsTypes&&e.optionsTypes.forEach(c=>{const T=this.getType(c).defaultOptions;T&&pe(e,T)});const a=this.resolveFieldTypeRef(e);null!=a&&null!==(t=a.instance)&&void 0!==t&&t.defaultOptions&&pe(e,a.instance.defaultOptions),!e.wrappers&&o.wrappers&&(e.wrappers=[...o.wrappers])}resolveFieldTypeRef(e={}){const t=this.getType(e.type);if(!t)return null;if(!t.component||t._componentRef)return t._componentRef;const{_viewContainerRef:o,_injector:i}=e.options;if(!o||!i)return null;const a=o.createComponent(t.component,{injector:i});b(t,"_componentRef",a);try{a.destroy()}catch(c){console.error(`An error occurred while destroying the Formly component type "${e.type}"`,c)}return t._componentRef}setWrapper(e){this.wrappers[e.name]=e,e.types&&e.types.forEach(t=>{this.setTypeWrapper(t,e.name)})}getWrapper(e){if(e instanceof l.DyG)return{component:e,name:e.prototype.constructor.name};if(!this.wrappers[e])throw new Error(`[Formly Error] The wrapper "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[e]}setTypeWrapper(e,t){this.types[e]||(this.types[e]={}),this.types[e].wrappers||(this.types[e].wrappers=[]),-1===this.types[e].wrappers.indexOf(t)&&this.types[e].wrappers.push(t)}setValidator(e){this.validators[e.name]=e}getValidator(e){if(!this.validators[e])throw new Error(`[Formly Error] The validator "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[e]}addValidatorMessage(e,t){this.messages[e]=t}getValidatorMessage(e){return this.messages[e]}setSortedExtensions(e){e.forEach(t=>{var o;const i=null!==(o=t.priority)&&void 0!==o?o:1;this.extensionsByPriority[i]=(0,f.Z)((0,f.Z)({},this.extensionsByPriority[i]),{},{[t.name]:t.extension})}),this.extensions=Object.keys(this.extensionsByPriority).map(Number).sort((t,o)=>t-o).reduce((t,o)=>(0,f.Z)((0,f.Z)({},t),this.extensionsByPriority[o]),{})}mergeExtendedType(e){if(!this.types[e].extends)return;const t=this.getType(this.types[e].extends);this.types[e].component||(this.types[e].component=t.component),this.types[e].wrappers||(this.types[e].wrappers=t.wrappers)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),ye=(()=>{class s{constructor(e,t,o,i){this.config=e,this.injector=t,this.viewContainerRef=o,this.parentForm=i}buildForm(e,t=[],o,i){this.build({fieldGroup:t,model:o,form:e,options:i})}build(e){if(!this.config.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");e.parent?this._build(e):(this._setOptions(e),function te(s,n){const e=s._updateTreeValidity.bind(s);s._updateTreeValidity=()=>{},n(),s._updateTreeValidity=e}(e.form,()=>{var t,o;this._build(e);const i=e.options;null===(t=i.checkExpressions)||void 0===t||t.call(i,e,!0),null===(o=i.detectChanges)||void 0===o||o.call(i,e)}))}_build(e){var t;if(!e)return;const o=Object.values(this.config.extensions);o.forEach(i=>{var a;return null===(a=i.prePopulate)||void 0===a?void 0:a.call(i,e)}),o.forEach(i=>{var a;return null===(a=i.onPopulate)||void 0===a?void 0:a.call(i,e)}),null===(t=e.fieldGroup)||void 0===t||t.forEach(i=>this._build(i)),o.forEach(i=>{var a;return null===(a=i.postPopulate)||void 0===a?void 0:a.call(i,e)})}_setOptions(e){e.form=e.form||new C.cw({}),e.model=e.model||{},e.options=e.options||{};const t=e.options;t._viewContainerRef||b(t,"_viewContainerRef",this.viewContainerRef),t._injector||b(t,"_injector",this.injector),t.build||(t._buildForm=()=>{console.warn("Formly: 'options._buildForm' is deprecated since v6.0, use 'options.build' instead."),this.build(e)},t.build=(o=e)=>(this.build(o),o)),!t.parentForm&&this.parentForm&&(b(t,"parentForm",this.parentForm),S(t,["parentForm","submitted"],({firstChange:o})=>{o||(t.checkExpressions(e),t.detectChanges(e))}))}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(ce),l.LFG(l.zs3),l.LFG(l.s_b,8),l.LFG(C.sg,8))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function u(s,n=!1){const e=s.formControl,t=e._fields?e._fields.indexOf(s):-1;-1!==t&&e._fields.splice(t,1);const o=e.parent;if(!o)return;const i={emitEvent:n};if(o instanceof C.Oe){const a=o.controls.findIndex(c=>c===e);-1!==a&&o.removeAt(a,i)}else if(o instanceof C.cw){const a=Y(s),c=a[a.length-1];o.get([c])===e&&o.removeControl(c,i)}e.setParent(null)}function E(s){var n;return s.formControl?s.formControl:!1===s.shareFormControl?null:null===(n=s.form)||void 0===n?void 0:n.get(Y(s))}function d(s,n,e=!1){if((n=n||s.formControl)._fields||b(n,"_fields",[]),-1===n._fields.indexOf(s)&&n._fields.push(s),!s.formControl&&n){b(s,"formControl",n),n.setValidators(null),n.setAsyncValidators(null),s.props.disabled=!!s.props.disabled;const c=S(s,["props","disabled"],({firstChange:T,currentValue:H})=>{T||(H?s.formControl.disable():s.formControl.enable())});n instanceof C.NI&&n.registerOnDisabledChange(c.setValue)}if(!s.form||!L(s))return;let t=s.form;const o=Y(s),i=ae(s);(!oe(n.value)||!oe(i))&&n.value!==i&&n instanceof C.NI&&n.patchValue(i);for(let c=0;c<o.length-1;c++){const T=o[c];t.get([T])||t.setControl(T,new C.cw({}),{emitEvent:e}),t=t.get([T])}const a=o[o.length-1];!s._hide&&t.get([a])!==n&&t.setControl(a,n,{emitEvent:e})}function y(s,n=!1){const e=s.status,t=s.value;s.updateValueAndValidity({emitEvent:!1,onlySelf:n}),e!==s.status&&s.statusChanges.emit(s.status),t!==s.value&&s.valueChanges.emit(s.value)}function N(s){null==s||delete s._fields,s.setValidators(null),s.setAsyncValidators(null),(s instanceof C.cw||s instanceof C.Oe)&&Object.values(s.controls).forEach(n=>N(n))}let z=(()=>{class s{constructor(e){this.ref=e}ngOnChanges(){this.name=this.name||"formly-group"}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(l.Rgc))},s.\u0275dir=l.lG2({type:s,selectors:[["","formlyTemplate",""]],inputs:{name:["formlyTemplate","name"]},features:[l.TTD]}),s})(),re=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac}),s})(),Ee=(()=>{class s{constructor(e,t,o,i,a){this.config=e,this.renderer=t,this._elementRef=o,this.hostContainerRef=i,this.form=a,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.valueChangesUnsubscribe=()=>{}}get containerRef(){return this.config.extras.renderFormlyFieldElement?this.viewContainerRef:this.hostContainerRef}get elementRef(){var e;return this.config.extras.renderFormlyFieldElement?this._elementRef:(null===(e=this.componentRefs)||void 0===e?void 0:e[0])instanceof l.UuU?this.componentRefs[0].location:null}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngDoCheck(){this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e.unsubscribe()),this.hooksObservers.forEach(e=>e()),this.valueChangesUnsubscribe(),this.triggerHook("onDestroy")}renderField(e,t,o=[]){var i,a;if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),o=null===(a=this.field)||void 0===a?void 0:a.wrappers),(null===(i=o)||void 0===i?void 0:i.length)>0){const[T,...H]=o,{component:K}=this.config.getWrapper(T),ee=e.createComponent(K);this.attachComponentRef(ee,t),S(ee.instance,["fieldComponent"],({currentValue:me,previousValue:_e,firstChange:xe})=>{if(me){if(_e&&_e._lContainer===me._lContainer)return;const Me=_e?_e.detach():null;Me&&!Me.destroyed?me.insert(Me):this.renderField(me,t,H),!xe&&ee.changeDetectorRef.detectChanges()}})}else if(null!=t&&t.type){var c;const T=null===(c=this.form)||void 0===c||null===(c=c.templates)||void 0===c?void 0:c.find(K=>K.name===t.type);let H;if(T)H=e.createEmbeddedView(T.ref,{$implicit:t});else{const{component:K}=this.config.getType(t.type,!0);H=e.createComponent(K)}this.attachComponentRef(H,t)}}triggerHook(e,t){var o;if(("onInit"===e||"onChanges"===e&&t.field&&!t.field.firstChange)&&(this.valueChangesUnsubscribe=this.fieldChanges(this.field)),null!==(o=this.field)&&void 0!==o&&null!==(o=o.hooks)&&void 0!==o&&o[e]&&(!t||t.field)){const i=this.field.hooks[e](this.field);if((0,r.b)(i)&&-1!==["onInit","afterContentInit","afterViewInit"].indexOf(e)){const a=i.subscribe();this.hooksObservers.push(()=>a.unsubscribe())}}"onChanges"===e&&t.field&&(this.resetRefs(t.field.previousValue),this.render())}attachComponentRef(e,t){this.componentRefs.push(e),t._componentRefs.push(e),e instanceof l.UuU&&Object.assign(e.instance,{field:t})}render(){if(this.field){if(!this.field.options)return void(this.detectFieldBuild=!0);this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e.unsubscribe()),this.hostObservers=[S(this.field,["hide"],({firstChange:e,currentValue:t})=>{const o=this.containerRef;!1===this.config.extras.lazyRender?(e&&this.renderField(o,this.field),(!e||e&&t)&&this.elementRef&&this.renderer.setStyle(this.elementRef.nativeElement,"display",t?"none":"")):t?(o.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(o,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)),!e&&this.field.options.detectChanges(this.field)}),S(this.field,["className"],({firstChange:e,currentValue:t})=>{(!e||e&&t)&&(!this.config.extras.lazyRender||!0!==this.field.hide)&&this.elementRef&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",t)}),...["touched","pristine","status"].map(e=>S(this.field,["formControl",e],({firstChange:t})=>!t&&le(this.field)))]}}resetRefs(e){e&&(e._localFields?e._localFields=[]:b(this.field,"_localFields",[]),e._componentRefs?e._componentRefs=e._componentRefs.filter(t=>-1===this.componentRefs.indexOf(t)):b(this.field,"_componentRefs",[])),this.componentRefs=[]}fieldChanges(e){if(this.valueChangesUnsubscribe(),!e)return()=>{};const t=[w(e,["props"],()=>e.options.detectChanges(e))];e.options&&t.push(w(e.options,["formState"],()=>e.options.detectChanges(e)));for(const i of Object.keys(e._expressions||{})){const a=S(e,["_expressions",i],({currentValue:c,previousValue:T})=>{null!=T&&T.subscription&&(T.subscription.unsubscribe(),T.subscription=null),(0,r.b)(c.value$)&&(c.subscription=c.value$.subscribe())});t.push(()=>{var c;null!==(c=e._expressions[i])&&void 0!==c&&c.subscription&&e._expressions[i].subscription.unsubscribe(),a.unsubscribe()})}for(const i of[["focus"],["template"],["fieldGroupClassName"],["validation","show"]]){const a=S(e,i,({firstChange:c})=>!c&&e.options.detectChanges(e));t.push(()=>a.unsubscribe())}if(e.formControl&&!e.fieldGroup){const i=e.formControl;let a=i.valueChanges.pipe((0,R.x)((K,ee)=>!(K!==ee||Array.isArray(K)||x(K))));i.value!==ae(e)&&(a=a.pipe((0,j.O)(i.value)));const{updateOn:c,debounce:T}=e.modelOptions;(!c||"change"===c)&&(null==T?void 0:T.default)>0&&(a=i.valueChanges.pipe((0,I.b)(T.default)));const H=a.subscribe(K=>{var ee,me;(null===(ee=i._fields)||void 0===ee?void 0:ee.length)>1&&i instanceof C.NI&&i.patchValue(K,{emitEvent:!1,onlySelf:!0}),null===(me=e.parsers)||void 0===me||me.forEach(_e=>K=_e(K)),K===e.formControl.value?(L(e)&&fe(e,K),e.options.fieldChanges.next({value:K,field:e,type:"valueChanges"})):e.formControl.setValue(K)});t.push(()=>H.unsubscribe())}let o=[];return S(e,["_localFields"],({currentValue:i})=>{o.forEach(a=>a()),o=(i||[]).map(a=>this.fieldChanges(a))}),()=>{t.forEach(i=>i()),o.forEach(i=>i())}}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(ce),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(re,8))},s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-field"]],viewQuery:function(e,t){if(1&e&&l.Gf(P,7,l.s_b),2&e){let o;l.iGM(o=l.CRH())&&(t.viewContainerRef=o.first)}},inputs:{field:"field"},features:[l.TTD],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&l.YNc(0,G,0,0,"ng-template",null,0,l.W1O)},styles:["[_nghost-%COMP%]:empty{display:none}"]}),s})(),Pe=(()=>{class s{constructor(e,t,o,i){this.builder=e,this.config=t,this.ngZone=o,this.fieldTemplates=i,this.modelChange=new l.vpe,this.field={type:"formly-group"},this._modelChangeValue={},this.valueChangesUnsubscribe=()=>{}}set form(e){this.field.form=e}get form(){return this.field.form}set model(e){this.config.extras.immutable&&this._modelChangeValue===e||this.setField({model:e})}get model(){return this.field.model}set fields(e){this.setField({fieldGroup:e})}get fields(){return this.field.fieldGroup}set options(e){this.setField({options:e})}get options(){return this.field.options}set templates(e){this.fieldTemplates.templates=e}ngDoCheck(){"changeDetectionCheck"===this.config.extras.checkExpressionOn&&this.checkExpressionChange()}ngOnChanges(e){e.fields&&this.form&&N(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.valueChangesUnsubscribe(),this.builder.build(this.field),this.valueChangesUnsubscribe=this.valueChanges())}ngOnDestroy(){this.valueChangesUnsubscribe()}checkExpressionChange(){var e,t;null===(e=(t=this.field.options).checkExpressions)||void 0===e||e.call(t,this.field)}valueChanges(){this.valueChangesUnsubscribe();const e=this.field.options.fieldChanges.pipe((0,Z.h)(({field:t,type:o})=>L(t)&&"valueChanges"===o),(0,k.w)(()=>this.ngZone.onStable.asObservable().pipe((0,A.q)(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=g(this.model))}));return()=>e.unsubscribe()}setField(e){this.config.extras.immutable?this.field=(0,f.Z)((0,f.Z)({},this.field),g(e)):Object.keys(e).forEach(t=>this.field[t]=e[t])}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(ye),l.Y36(ce),l.Y36(l.R0b),l.Y36(re))},s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-form"]],contentQueries:function(e,t,o){if(1&e&&l.Suo(o,z,4),2&e){let i;l.iGM(i=l.CRH())&&(t.templates=i)}},inputs:{form:"form",model:"model",fields:"fields",options:"options"},outputs:{modelChange:"modelChange"},features:[l._Bn([ye,re]),l.TTD],decls:1,vars:1,consts:[[3,"field"]],template:function(e,t){1&e&&l._UZ(0,"formly-field",0),2&e&&l.Q6J("field",t.field)},dependencies:[Ee],encapsulation:2,changeDetection:0}),s})(),Te=(()=>{class s{constructor(e,t,o){this.renderer=e,this.elementRef=t,this.uiAttributesCache={},this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change"],callback:(i,a)=>{switch(i){case"focus":return this.onFocus(a);case"blur":return this.onBlur(a);case"change":return this.onChange(a);default:return this.props[i](this.field,a)}}},this.document=o}get props(){return this.field.props||{}}get fieldAttrElements(){var e;return(null===(e=this.field)||void 0===e?void 0:e._elementRefs)||[]}ngOnChanges(e){var t;e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(o=>o()),this.uiEvents.events.forEach(o=>{var i;(null!==(i=this.props)&&void 0!==i&&i[o]||-1!==["focus","blur","change"].indexOf(o))&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,o,a=>this.uiEvents.callback(o,a)))}),null!==(t=this.props)&&void 0!==t&&t.attributes&&S(this.field,["props","attributes"],({currentValue:o,previousValue:i})=>{i&&Object.keys(i).forEach(a=>this.removeAttribute(a)),o&&Object.keys(o).forEach(a=>{null!=o[a]&&this.setAttribute(a,o[a])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),1===this.fieldAttrElements.length&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),this.focusObserver=S(this.field,["focus"],({currentValue:o})=>{this.toggleFocus(o)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){const e=this.elementRef.nativeElement;this.uiAttributes=[...ue,"tabindex","placeholder","readonly","disabled","step"].filter(t=>!e.hasAttribute||!e.hasAttribute(t))}this.uiAttributes.forEach(e=>{const t=this.props[e];this.uiAttributesCache[e]!==t&&(!this.props.attributes||!this.props.attributes.hasOwnProperty(e.toLowerCase()))&&(this.uiAttributesCache[e]=t,t||0===t?this.setAttribute(e,!0===t?e:`${t}`):this.removeAttribute(e))})}ngOnDestroy(){var e;this.uiEvents.listeners.forEach(t=>t()),this.detachElementRef(this.field),null===(e=this.focusObserver)||void 0===e||e.unsubscribe()}toggleFocus(e){const t=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!t||!t.nativeElement.focus)return;const o=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:i})=>this.document.activeElement===i||i.contains(this.document.activeElement));e&&!o?Promise.resolve().then(()=>t.nativeElement.focus()):!e&&o&&Promise.resolve().then(()=>t.nativeElement.blur())}onFocus(e){var t,o,i;null===(t=this.focusObserver)||void 0===t||t.setValue(!0),null===(o=(i=this.props).focus)||void 0===o||o.call(i,this.field,e)}onBlur(e){var t,o,i;null===(t=this.focusObserver)||void 0===t||t.setValue(!1),null===(o=(i=this.props).blur)||void 0===o||o.call(i,this.field,e)}onHostChange(e){e instanceof Event||this.onChange(e)}onChange(e){var t,o,i;null===(t=(o=this.props).change)||void 0===t||t.call(o,this.field,e),null===(i=this.field.formControl)||void 0===i||i.markAsDirty()}attachElementRef(e){var t;e&&(-1===(null===(t=e._elementRefs)||void 0===t?void 0:t.indexOf(this.elementRef))?e._elementRefs.push(this.elementRef):b(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){const t=null!=e&&e._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;-1!==t&&e._elementRefs.splice(t,1)}setAttribute(e,t){this.renderer.setAttribute(this.elementRef.nativeElement,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(Q.K0))},s.\u0275dir=l.lG2({type:s,selectors:[["","formlyAttributes",""]],hostBindings:function(e,t){1&e&&l.NdJ("change",function(i){return t.onHostChange(i)})},inputs:{field:["formlyAttributes","field"],id:"id"},features:[l.TTD]}),s})(),Oe=(()=>{class s{constructor(){this.field={}}set controls(e){this.field._localFields=e.map(o=>o.control._fields||[]).flat().filter(o=>o.formControl!==this.field.formControl)}get model(){return this.field.model}get form(){return this.field.form}get options(){return this.field.options}get key(){return this.field.key}get formControl(){return this.field.formControl}get props(){return this.field.props||{}}get to(){return this.props}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){var e;return(null===(e=this.options)||void 0===e?void 0:e.formState)||{}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=l.lG2({type:s,viewQuery:function(e,t){if(1&e&&l.Gf(C.a5,5),2&e){let o;l.iGM(o=l.CRH())&&(t.controls=o)}},inputs:{field:"field"}}),s})(),Ie=(()=>{class s extends Oe{}return s.\u0275fac=function(){let n;return function(t){return(n||(n=l.n5z(s)))(t||s)}}(),s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-group"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Tol(t.field.fieldGroupClassName||"")},features:[l.qOj],ngContentSelectors:X,decls:2,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(e,t){1&e&&(l.F$t(),l.YNc(0,B,1,1,"formly-field",0),l.Hsn(1)),2&e&&l.Q6J("ngForOf",t.field.fieldGroup)},dependencies:[Ee,Q.sg],encapsulation:2,changeDetection:0}),s})(),Re=(()=>{class s{constructor(e){this.config=e}ngOnChanges(){const e=ue.map(t=>`templateOptions.${t}`);this.errorMessage$=(0,O.T)(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe((0,Z.h)(({field:t,type:o,property:i})=>t===this.field&&"expressionChanges"===o&&(-1!==i.indexOf("validation")||-1!==e.indexOf(i)))):(0,D.of)(null)).pipe((0,j.O)(null),(0,k.w)(()=>(0,r.b)(this.errorMessage)?this.errorMessage:(0,D.of)(this.errorMessage)))}get errorMessage(){const e=this.field.formControl;for(const a in e.errors)if(e.errors.hasOwnProperty(a)){var t,o,i;let c=this.config.getValidatorMessage(a);if(x(e.errors[a])){if(e.errors[a].errorPath)return;e.errors[a].message&&(c=e.errors[a].message)}return null!==(t=this.field.validation)&&void 0!==t&&null!==(t=t.messages)&&void 0!==t&&t[a]&&(c=this.field.validation.messages[a]),null!==(o=this.field.validators)&&void 0!==o&&null!==(o=o[a])&&void 0!==o&&o.message&&(c=this.field.validators[a].message),null!==(i=this.field.asyncValidators)&&void 0!==i&&null!==(i=i[a])&&void 0!==i&&i.message&&(c=this.field.asyncValidators[a].message),"function"==typeof c?c(e.errors[a],this.field):c}}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(ce))},s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-validation-message"]],inputs:{field:"field"},features:[l.TTD],decls:2,vars:3,template:function(e,t){1&e&&(l._uU(0),l.ALo(1,"async")),2&e&&l.Oqu(l.lcZ(1,1,t.errorMessage$))},dependencies:[Q.Ov],encapsulation:2,changeDetection:0}),s})(),Ae=(()=>{class s extends Oe{onPopulate(e){L(e)&&d(e,E(e)||new C.Oe([],{updateOn:e.modelOptions.updateOn})),e.fieldGroup=e.fieldGroup||[];const t=Array.isArray(e.model)?e.model.length:0;if(e.fieldGroup.length>t)for(let o=e.fieldGroup.length-1;o>=t;--o)u(e.fieldGroup[o],!0),e.fieldGroup.splice(o,1);for(let o=e.fieldGroup.length;o<t;o++){const i=(0,f.Z)((0,f.Z)({},g("function"==typeof e.fieldArray?e.fieldArray(e):e.fieldArray)),{},{key:`${o}`});e.fieldGroup.push(i)}}add(e,t,{markAsDirty:o}={markAsDirty:!0}){e=null==e?this.field.fieldGroup.length:e,this.model||fe(this.field,[]),this.model.splice(e,0,t?g(t):void 0),this._build(),o&&this.formControl.markAsDirty()}remove(e,{markAsDirty:t}={markAsDirty:!0}){this.model.splice(e,1);const o=this.field.fieldGroup[e];this.field.fieldGroup.splice(e,1),this.field.fieldGroup.forEach((i,a)=>i.key=`${a}`),u(o,!0),this._build(),t&&this.formControl.markAsDirty()}_build(){var e;(null!==(e=this.field.formControl._fields)&&void 0!==e?e:[this.field]).forEach(o=>this.options.build(o)),this.options.fieldChanges.next({field:this.field,value:ae(this.field),type:"valueChanges"})}}return s.\u0275fac=function(){let n;return function(t){return(n||(n=l.n5z(s)))(t||s)}}(),s.\u0275dir=l.lG2({type:s,features:[l.qOj]}),s})(),we=(()=>{class s extends Oe{set _staticContent(e){this.fieldComponent=e}}return s.\u0275fac=function(){let n;return function(t){return(n||(n=l.n5z(s)))(t||s)}}(),s.\u0275dir=l.lG2({type:s,viewQuery:function(e,t){if(1&e&&(l.Gf(de,5,l.s_b),l.Gf(de,7,l.s_b)),2&e){let o;l.iGM(o=l.CRH())&&(t.fieldComponent=o.first),l.iGM(o=l.CRH())&&(t._staticContent=o.first)}},features:[l.qOj]}),s})(),Le=(()=>{class s extends Oe{constructor(e){super(),this.sanitizer=e,this.innerHtml={}}get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.props.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(he.H7))},s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-template"]],features:[l.qOj],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&l._UZ(0,"div",0),2&e&&l.Q6J("innerHtml",t.template,l.oJD)},encapsulation:2,changeDetection:0}),s})();class Be{onPopulate(n){if(n._expressions)return;b(n,"_expressions",{}),S(n,["hide"],({currentValue:t,firstChange:o})=>{b(n,"_hide",!!t),(!o||o&&!0===t)&&(n.props.hidden=t,n.options._hiddenFieldsForCheck.push(n))}),n.hideExpression&&S(n,["hideExpression"],({currentValue:t})=>{n._expressions.hide=this.parseExpressions(n,"hide","boolean"==typeof t?()=>t:t)});const e=(t,o)=>{"string"==typeof o||$(o)?n._expressions[t]=this.parseExpressions(n,t,o):o instanceof h.y&&(n._expressions[t]={value$:o.pipe((0,U.b)(i=>{this.evalExpr(n,t,i),n.options.detectChanges(n)}))})};n.expressions=n.expressions||{};for(const t of Object.keys(n.expressions))S(n,["expressions",t],({currentValue:o})=>{e(t,$(o)?(...i)=>o(n,i[3]):o)});n.expressionProperties=n.expressionProperties||{};for(const t of Object.keys(n.expressionProperties))S(n,["expressionProperties",t],({currentValue:o})=>e(t,o))}postPopulate(n){if(!n.parent&&!n.options.checkExpressions){let e=!1;n.options.checkExpressions=(t,o)=>{if(e)return;e=!0;const i=this.checkExpressions(t,o),a=n.options;a._hiddenFieldsForCheck.sort(c=>c.hide?-1:1).forEach(c=>this.changeHideState(c,c.hide,!o)),a._hiddenFieldsForCheck=[],i&&(this.checkExpressions(n),n.options&&n.options.detectChanges&&n.options.detectChanges(n)),e=!1},n.options._checkField=(t,o)=>{console.warn("Formly: 'options._checkField' is deprecated since v6.0, use 'options.checkExpressions' instead."),n.options.checkExpressions(t,o)}}}parseExpressions(n,e,t){let o,i;if(n.parent&&["hide","props.disabled"].includes(e)){const a=c=>"hide"===e?c.hide:c.props.disabled;o=()=>{let c=n.parent;for(;c.parent&&!a(c);)c=c.parent;return a(c)}}return"string"==typeof(t=t||(()=>!1))&&(t=function Se(s,n){try{return Function(...n,`return ${s};`)}catch(e){console.error(e)}}(t,["model","formState","field"])),{callback:a=>{try{const c=function ke(s,n,e){return"function"==typeof s?s.apply(n,e):!!s}(o?(...T)=>o(n)||t(...T):t,{field:n},[n.model,n.options.formState,n,a]);return!(!a&&(i===c||x(c)&&!(0,r.b)(c)&&JSON.stringify(c)===JSON.stringify(i))||(i=c,this.evalExpr(n,e,c),0))}catch(c){throw c.message=`[Formly Error] [Expression "${e}"] ${c.message}`,c}}}}checkExpressions(n,e=!1){var t;if(!n)return!1;let o=!1;if(n._expressions)for(const c of Object.keys(n._expressions)){var i,a;null!==(i=(a=n._expressions[c]).callback)&&void 0!==i&&i.call(a,e)&&(o=!0)}return null===(t=n.fieldGroup)||void 0===t||t.forEach(c=>this.checkExpressions(c,e)&&(o=!0)),o}changeDisabledState(n,e){n.fieldGroup&&n.fieldGroup.filter(t=>!t._expressions.hasOwnProperty("props.disabled")).forEach(t=>this.changeDisabledState(t,e)),L(n)&&n.props.disabled!==e&&(n.props.disabled=e)}changeHideState(n,e,t){if(n.fieldGroup&&n.fieldGroup.filter(c=>!c._expressions.hide).forEach(c=>this.changeHideState(c,e,t)),n.formControl&&L(n)){var o;b(n,"_hide",!(!e&&!n.hide));const c=n.formControl;if((null===(o=c._fields)||void 0===o?void 0:o.length)>1&&y(c),!0!==e||c._fields&&!c._fields.every(T=>!!T._hide)){if(!1===e){var i,a;n.resetOnHide&&!ge(n.defaultValue)&&ge(ae(n))&&fe(n,n.defaultValue),d(n,void 0,!0),n.resetOnHide&&n.fieldArray&&(null===(i=n.fieldGroup)||void 0===i?void 0:i.length)!==(null===(a=n.model)||void 0===a?void 0:a.length)&&n.options.build(n)}}else u(n,!0),t&&n.resetOnHide&&(fe(n,void 0),n.formControl.reset({value:void 0,disabled:n.formControl.disabled}),n.options.fieldChanges.next({value:void 0,field:n,type:"valueChanges"}),n.fieldGroup&&n.formControl instanceof C.Oe&&(n.fieldGroup.length=0))}n.options.fieldChanges&&n.options.fieldChanges.next({field:n,type:"hidden",value:e})}evalExpr(n,e,t){if(0===e.indexOf("model.")){const o=e.replace(/^model\./,""),i=n.fieldGroup?n:n.parent;let a=(null==n?void 0:n.key)===o?n.formControl:n.form.get(o);!a&&n.get(o)&&(a=n.get(o).formControl),fe({key:o,parent:i,model:n.model},t),a&&(!oe(a.value)||!oe(t))&&a.value!==t&&a.patchValue(t)}else{try{let o=n;const i=this._evalExpressionPath(n,e),a=i.length-1;for(let c=0;c<a;c++)o=o[i[c]];o[i[a]]=t}catch(o){throw o.message=`[Formly Error] [Expression "${e}"] ${o.message}`,o}["templateOptions.disabled","props.disabled"].includes(e)&&L(n)&&this.changeDisabledState(n,t)}this.emitExpressionChanges(n,e,t)}emitExpressionChanges(n,e,t){n.options.fieldChanges&&n.options.fieldChanges.next({field:n,type:"expressionChanges",property:e,value:t})}_evalExpressionPath(n,e){if(n._expressions[e]&&n._expressions[e].paths)return n._expressions[e].paths;let t=[];return-1===e.indexOf("[")?t=e.split("."):e.split(/[[\]]{1,2}/).filter(o=>o).forEach(o=>{const i=o.match(/['|"](.*?)['|"]/);i?t.push(i[1]):t.push(...o.split(".").filter(a=>a))}),n._expressions[e]&&(n._expressions[e].paths=t),t}}class je{constructor(n){this.config=n}onPopulate(n){this.initFieldValidation(n,"validators"),this.initFieldValidation(n,"asyncValidators")}initFieldValidation(n,e){const t=[];if("validators"===e&&!(n.hasOwnProperty("fieldGroup")&&!L(n))&&t.push(this.getPredefinedFieldValidation(n)),n[e])for(const o of Object.keys(n[e]))"validation"===o?t.push(...n[e].validation.map(i=>this.wrapNgValidatorFn(n,i))):t.push(this.wrapNgValidatorFn(n,n[e][o],o));b(n,"_"+e,t)}getPredefinedFieldValidation(n){let e=[];return ue.forEach(t=>S(n,["props",t],({currentValue:o,firstChange:i})=>{e=e.filter(a=>a!==t),null!=o&&!1!==o&&e.push(t),!i&&n.formControl&&y(n.formControl)})),t=>0===e.length?null:C.kI.compose(e.map(o=>()=>{var i,a;const c=n.props[o];switch(o){case"required":return C.kI.required(t);case"pattern":return C.kI.pattern(c)(t);case"minLength":const T=C.kI.minLength(c)(t),H=this.config.getValidatorMessage("minlength")||null!==(i=n.validation)&&void 0!==i&&null!==(i=i.messages)&&void 0!==i&&i.minlength?"minlength":"minLength";return T?{[H]:T.minlength}:null;case"maxLength":const K=C.kI.maxLength(c)(t),ee=this.config.getValidatorMessage("maxlength")||null!==(a=n.validation)&&void 0!==a&&null!==(a=a.messages)&&void 0!==a&&a.maxlength?"maxlength":"maxLength";return K?{[ee]:K.maxlength}:null;case"min":return C.kI.min(c)(t);case"max":return C.kI.max(c)(t);default:return null}}))(t)}wrapNgValidatorFn(n,e,t){let o;if("string"==typeof e&&(o=g(this.config.getValidator(e))),"object"==typeof e&&e.name&&(o=g(this.config.getValidator(e.name)),e.options&&(o.options=e.options)),"object"==typeof e&&e.expression){const{expression:i}=e,a=(0,_.Z)(e,ie);o={name:t,validation:i,options:Object.keys(a).length>0?a:null}}return"function"==typeof e&&(o={name:t,validation:e}),i=>{const a=o.validation(i,n,o.options);return function m(s){return!!s&&"function"==typeof s.then}(a)?a.then(c=>this.handleAsyncResult(n,t?!!c:c,o)):(0,r.b)(a)?a.pipe((0,q.U)(c=>this.handleAsyncResult(n,t?!!c:c,o))):this.handleResult(n,t?!!a:a,o)}}handleAsyncResult(n,e,t){return n.options.detectChanges(n),this.handleResult(n,e,t)}handleResult(n,e,{name:t,options:o}){var i,a;"boolean"==typeof e&&(e=e?null:{[t]:o||!0});const c=n.formControl;return null==c||null===(i=c._childrenErrors)||void 0===i||null===(a=i[t])||void 0===a||a.call(i),x(e)&&Object.keys(e).forEach(T=>{const H=e[T].errorPath?e[T].errorPath:null==o?void 0:o.errorPath,K=H?n.formControl.get(H):null;if(K){const _e=(0,_.Z)(e[T],F);K.setErrors((0,f.Z)((0,f.Z)({},K.errors||{}),{},{[T]:_e})),!c._childrenErrors&&b(c,"_childrenErrors",{}),c._childrenErrors[T]=()=>{const xe=K.errors||{},{[T]:Me}=xe,Fe=(0,_.Z)(xe,[T].map(v.Z));K.setErrors(0===Object.keys(Fe).length?null:Fe)}}}),e}}class Ue{prePopulate(n){this.root||(this.root=n),n.parent&&Object.defineProperty(n,"form",{get:()=>n.parent.formControl,configurable:!0})}onPopulate(n){n.hasOwnProperty("fieldGroup")&&!L(n)?b(n,"formControl",n.form):this.addFormControl(n)}postPopulate(n){if(this.root===n&&(this.root=null,this.setValidators(n)&&n.parent)){let t=n.parent;for(;t;)(L(t)||!t.parent)&&y(t.formControl,!0),t=t.parent}}addFormControl(n){let e=E(n);if(!n.fieldArray){if(!e){const t={updateOn:n.modelOptions.updateOn};if(n.fieldGroup)e=new C.cw({},t);else{const o=L(n)?ae(n):n.defaultValue;e=new C.NI({value:o,disabled:!!n.props.disabled},(0,f.Z)((0,f.Z)({},t),{},{initialValueIsDefault:!0}))}}d(n,e)}}setValidators(n,e=!1){var t,o;!1===e&&L(n)&&null!==(t=n.props)&&void 0!==t&&t.disabled&&(e=!0);let i=!1;if(null===(o=n.fieldGroup)||void 0===o||o.forEach(a=>a&&this.setValidators(a,e)&&(i=!0)),L(n)||!n.parent||!L(n)&&!n.fieldGroup){const{formControl:a}=n;if(a&&(L(n)&&a instanceof C.NI&&(e&&a.enabled&&(a.disable({emitEvent:!1,onlySelf:!0}),i=!0),!e&&a.disabled&&(a.enable({emitEvent:!1,onlySelf:!0}),i=!0)),(null===a.validator||null===a.asyncValidator)&&(a.setValidators(()=>{const c=C.kI.compose(this.mergeValidators(n,"_validators"));return c?c(a):null}),a.setAsyncValidators(()=>{const c=C.kI.composeAsync(this.mergeValidators(n,"_asyncValidators"));return c?c(a):(0,D.of)(null)}),i=!0),i)){y(a,!0);let c=a.parent;for(let T=1;T<Y(n).length;T++)c&&(y(c,!0),c=c.parent)}}return i}mergeValidators(n,e){var t;const o=[],i=n.formControl;return(null==i||null===(t=i._fields)||void 0===t?void 0:t.length)>1?i._fields.filter(a=>!a._hide).forEach(a=>o.push(...a[e])):n[e]&&o.push(...n[e]),n.fieldGroup&&n.fieldGroup.filter(a=>(null==a?void 0:a.fieldGroup)&&!L(a)).forEach(a=>o.push(...this.mergeValidators(a,e))),o}}class Ne{constructor(n){this.config=n,this.formId=0}prePopulate(n){var e,t;const o=n.parent;this.initRootOptions(n),this.initFieldProps(n),o&&(Object.defineProperty(n,"options",{get:()=>o.options,configurable:!0}),Object.defineProperty(n,"model",{get:()=>L(n)&&n.fieldGroup?ae(n):o.model,configurable:!0})),Object.defineProperty(n,"get",{value:i=>V(n,i),configurable:!0}),null===(e=(t=this.getFieldComponentInstance(n)).prePopulate)||void 0===e||e.call(t,n)}onPopulate(n){var e,t;this.initFieldOptions(n),null===(e=(t=this.getFieldComponentInstance(n)).onPopulate)||void 0===e||e.call(t,n),n.fieldGroup&&n.fieldGroup.forEach((o,i)=>{o&&(Object.defineProperty(o,"parent",{get:()=>n,configurable:!0}),Object.defineProperty(o,"index",{get:()=>i,configurable:!0})),this.formId++})}postPopulate(n){var e,t;null===(e=(t=this.getFieldComponentInstance(n)).postPopulate)||void 0===e||e.call(t,n)}initFieldProps(n){var e;null!==(e=n.props)&&void 0!==e||(n.props=n.templateOptions),Object.defineProperty(n,"templateOptions",{get:()=>n.props,set:t=>n.props=t,configurable:!0})}initRootOptions(n){if(n.parent)return;const e=n.options;n.options.formState=n.options.formState||{},e.showError||(e.showError=this.config.extras.showError),e.fieldChanges||b(e,"fieldChanges",new M.x),e._hiddenFieldsForCheck||(e._hiddenFieldsForCheck=[]),e._markForCheck=t=>{console.warn("Formly: 'options._markForCheck' is deprecated since v6.0, use 'options.detectChanges' instead."),e.detectChanges(t)},e.detectChanges=t=>{var o;t._componentRefs&&(t.options.checkExpressions(t),le(t)),null===(o=t.fieldGroup)||void 0===o||o.forEach(i=>i&&e.detectChanges(i))},e.resetModel=t=>{var o;t=g(null!==(o=t)&&void 0!==o?o:e._initialModel),n.model&&(Object.keys(n.model).forEach(i=>delete n.model[i]),Object.assign(n.model,t||{})),e.build(n),n.form.reset(n.model),e.parentForm&&e.parentForm.control===n.formControl&&(e.parentForm.submitted=!1)},e.updateInitialValue=t=>e._initialModel=g(null!=t?t:n.model),n.options.updateInitialValue()}initFieldOptions(n){var e,t;if(pe(n,{id:ne(`formly_${this.formId}`,n,n.index),hooks:{},modelOptions:{},validation:{messages:{}},props:n.type&&L(n)?{label:"",placeholder:"",disabled:!1}:{}}),this.config.extras.resetFieldOnHide&&!1!==n.resetOnHide&&(n.resetOnHide=!0),"formly-template"!==n.type&&(n.template||null!==(e=n.expressions)&&void 0!==e&&e.template||null!==(t=n.expressionProperties)&&void 0!==t&&t.template)&&(n.type="formly-template"),!n.type&&n.fieldGroup&&(n.type="formly-group"),n.type&&this.config.getMergedField(n),L(n)&&!ge(n.defaultValue)&&ge(ae(n))){const o=a=>{var c;return a.hide||(null===(c=a.expressions)||void 0===c?void 0:c.hide)||a.hideExpression};let i=!n.resetOnHide||!o(n);if(!o(n)&&n.resetOnHide){let a=n.parent;for(;a&&!o(a);)a=a.parent;i=!a||!o(a)}i&&fe(n,n.defaultValue)}n.wrappers=n.wrappers||[]}getFieldComponentInstance(n){const e=()=>{var t,o,i;let a=this.config.resolveFieldTypeRef(n);const c=null===(t=n._componentRefs)||void 0===t?void 0:t.slice(-1)[0];return c instanceof l.UuU&&(null==c?void 0:c.componentType)===(null===(o=a)||void 0===o?void 0:o.componentType)&&(a=c),null===(i=a)||void 0===i?void 0:i.instance};return n._proxyInstance||b(n,"_proxyInstance",new Proxy({},{get:(t,o)=>{var i;return null===(i=e())||void 0===i?void 0:i[o]},set:(t,o,i)=>e()[o]=i})),n._proxyInstance}}function De(s){return{types:[{name:"formly-group",component:Ie},{name:"formly-template",component:Le}],extensions:[{name:"core",extension:new Ne(s),priority:-250},{name:"field-validation",extension:new je(s),priority:-200},{name:"field-form",extension:new Ue,priority:-150},{name:"field-expression",extension:new Be,priority:-100}]}}let We=(()=>{class s{constructor(e,t=[]){t&&t.forEach(o=>e.addConfig(o))}static forRoot(e={}){return{ngModule:s,providers:[{provide:se,multi:!0,useFactory:De,deps:[ce]},{provide:se,useValue:e,multi:!0},ce,ye]}}static forChild(e={}){return{ngModule:s,providers:[{provide:se,multi:!0,useFactory:De,deps:[ce]},{provide:se,useValue:e,multi:!0},ye]}}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(ce),l.LFG(se,8))},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({imports:[[Q.ez]]}),s})()},7827:(J,W,p)=>{p.d(W,{z1:()=>ge,mZ:()=>Ce});var v=p(8645),_=p(2096),f=p(5592),l=p(7328),C=p(2420);const r=new f.y(C.Z);var D=p(2181),h=p(9397),M=p(8180),R=p(9769),j=p(7398),I=p(6306),Z=p(4664),k=p(6814),A=p(5879);function q(x){return!(!x.parentElement||"picture"!==x.parentElement.nodeName.toLowerCase())}function Q(x){return"img"===x.nodeName.toLowerCase()}function he(x,m,g){return Q(x)?g&&"srcset"in x?x.srcset=m:x.src=m:x.style.backgroundImage=`url('${m}')`,x}function ie(x){return m=>{const g=m.parentElement.getElementsByTagName("source");for(let b=0;b<g.length;b++){const w=g[b].getAttribute(x);w&&("srcset"in g[b]?g[b].srcset=w:g[b].src=w)}}}const F=ie("defaultImage"),P=ie("lazyLoad"),G=ie("errorImage");function B(x){return(m,g,b)=>{Q(m)&&q(m)&&x(m),g&&he(m,g,b)}}const X=B(F),de=B(P),te=B(G);class ne{constructor(){this.navigator=function U(){return typeof window<"u"?window.navigator:void 0}()}setPlatformId(m){this.platformId=m}onDestroy(m){}onAttributeChange(m){}}function Y(x,m){x.className=x.className.replace(m,"")}function ue(x,m){x.className.includes(m)||(x.className+=` ${m}`)}class be extends ne{setup(m){X(m.element,m.defaultImagePath,m.useSrcset),m.imagePath&&ue(m.element,"ng-lazyloading"),function fe(x,m){return x.className&&x.className.includes(m)}(m.element,"ng-lazyloaded")&&Y(m.element,"ng-lazyloaded")}finally(m){ue(m.element,"ng-lazyloaded"),Y(m.element,"ng-lazyloading")}loadImage(m){if(this.skipLazyLoading(m))return[m.imagePath];const{element:g,useSrcset:b,imagePath:w,decode:S}=m;let V;return Q(g)&&q(g)?(V=g.parentNode.cloneNode(!0).getElementsByTagName("img")[0],P(V),he(V,w,b)):(V=new Image,Q(g)&&g.referrerPolicy&&(V.referrerPolicy=g.referrerPolicy),Q(g)&&g.sizes&&(V.sizes=g.sizes),b&&"srcset"in V?V.srcset=w:V.src=w),S&&V.decode?V.decode().then(()=>w):new Promise((le,se)=>{V.onload=()=>le(w),V.onerror=()=>se(null)})}setErrorImage(m,g){const{element:b,useSrcset:w,errorImagePath:S}=g;te(b,S,w),ue(b,"ng-failed-lazyloaded")}setLoadedImage(m,g){const{element:b,useSrcset:w}=g;de(b,m,w)}isDisabled(){return(0,k.PM)(this.platformId)&&!this.isBot()}skipLazyLoading(m){return this.isBot(m)}isBot(m){var g;return!(null===(g=this.navigator)||void 0===g||!g.userAgent)&&/googlebot|bingbot|yandex|baiduspider|facebookexternalhit|twitterbot|rogerbot|linkedinbot|embedly|quora\ link\ preview|showyoubot|outbrain|pinterest\/0\.|pinterestbot|slackbot|vkShare|W3C_Validator|whatsapp|duckduckbot|prerender/i.test(this.navigator.userAgent)}}class ae extends be{constructor(){super(...arguments),this.observers=new WeakMap,this.intersectionSubject=new v.x,this.uniqKey={}}getObservable(m){if(this.skipLazyLoading(m))return(0,_.of)({isIntersecting:!0});if(m.customObservable)return m.customObservable;const g=m.scrollContainer||this.uniqKey,b={root:m.scrollContainer||null};m.offset&&(b.rootMargin=`${m.offset}px`);let w=this.observers.get(g);return w||(w=new IntersectionObserver(S=>this.loadingCallback(S),b),this.observers.set(g,w)),w.observe(m.element),f.y.create(S=>{const V=this.intersectionSubject.pipe((0,D.h)(le=>le.target===m.element)).subscribe(S);return()=>{V.unsubscribe(),w.unobserve(m.element)}})}isVisible(m){return m.isIntersecting}loadingCallback(m){m.forEach(g=>this.intersectionSubject.next(g))}}const oe=new A.OlP("LazyLoadImageHooks");let ge=(()=>{class x{constructor(g,b,w,S){this.onStateChange=new A.vpe,this.elementRef=g,this.ngZone=b,this.propertyChanges$=new l.t,this.hooks=S,this.hooks.setPlatformId(w),this.uid=Math.random().toString(36).substr(2,9)}ngOnChanges(){!0===this.debug&&!this.debugSubscription&&(this.debugSubscription=this.onStateChange.subscribe(g=>console.log(g))),this.propertyChanges$.next({element:this.elementRef.nativeElement,imagePath:this.lazyImage,defaultImagePath:this.defaultImage,errorImagePath:this.errorImage,useSrcset:this.useSrcset,offset:this.offset?0|this.offset:0,scrollContainer:this.scrollTarget,customObservable:this.customObservable,decode:this.decode,onStateChange:this.onStateChange,id:this.uid})}ngAfterContentInit(){if(this.hooks.isDisabled())return null;this.ngZone.runOutsideAngular(()=>{this.loadSubscription=this.propertyChanges$.pipe((0,h.b)(g=>this.hooks.onAttributeChange(g)),(0,h.b)(g=>g.onStateChange.emit({reason:"setup"})),(0,h.b)(g=>this.hooks.setup(g)),(0,Z.w)(g=>g.imagePath?this.hooks.getObservable(g).pipe(function pe(x,m){return g=>g.pipe((0,h.b)(b=>m.onStateChange.emit({reason:"observer-emit",data:b})),(0,D.h)(b=>x.isVisible(b,m)),(0,M.q)(1),(0,h.b)(()=>m.onStateChange.emit({reason:"start-loading"})),(0,R.z)(()=>x.loadImage(m)),(0,h.b)(()=>m.onStateChange.emit({reason:"mount-image"})),(0,h.b)(b=>x.setLoadedImage(b,m)),(0,h.b)(()=>m.onStateChange.emit({reason:"loading-succeeded"})),(0,j.U)(()=>!0),(0,I.K)(b=>(m.onStateChange.emit({reason:"loading-failed",data:b}),x.setErrorImage(b,m),(0,_.of)(!1))),(0,h.b)(()=>{m.onStateChange.emit({reason:"finally"}),x.finally(m)}))}(this.hooks,g)):function O(){return r}())).subscribe({next:()=>null})})}ngOnDestroy(){var g,b;this.propertyChanges$.pipe((0,M.q)(1)).subscribe({next:w=>this.hooks.onDestroy(w)}).unsubscribe(),null===(g=this.loadSubscription)||void 0===g||g.unsubscribe(),null===(b=this.debugSubscription)||void 0===b||b.unsubscribe()}}return x.\u0275fac=function(g){return new(g||x)(A.Y36(A.SBq),A.Y36(A.R0b),A.Y36(A.Lbi),A.Y36(oe))},x.\u0275dir=A.lG2({type:x,selectors:[["","lazyLoad",""]],inputs:{lazyImage:["lazyLoad","lazyImage"],defaultImage:"defaultImage",errorImage:"errorImage",scrollTarget:"scrollTarget",customObservable:"customObservable",offset:"offset",useSrcset:"useSrcset",decode:"decode",debug:"debug"},outputs:{onStateChange:"onStateChange"},features:[A.TTD]}),x})(),Ce=(()=>{class x{}return x.\u0275fac=function(g){return new(g||x)},x.\u0275mod=A.oAB({type:x}),x.\u0275inj=A.cJS({providers:[{provide:oe,useClass:ae}]}),x})();class ${constructor(m,g,b,w){this.left=m,this.top=g,this.right=b,this.bottom=w}static fromElement(m){const{left:g,top:b,right:w,bottom:S}=m.getBoundingClientRect();return 0===g&&0===b&&0===w&&0===S?$.empty:new $(g,b,w,S)}static fromWindow(m){return new $(0,0,m.innerWidth,m.innerHeight)}inflate(m){this.left-=m,this.top-=m,this.right+=m,this.bottom+=m}intersectsWith(m){return m.left<this.right&&this.left<m.right&&m.top<this.bottom&&this.top<m.bottom}getIntersectionWith(m){const g=Math.max(this.left,m.left),b=Math.max(this.top,m.top),w=Math.min(this.right,m.right),S=Math.min(this.bottom,m.bottom);return w>=g&&S>=b?new $(g,b,w,S):$.empty}}$.empty=new $(0,0,0,0)},91:(J,W,p)=>{function _(f,l){if(null==f)return{};var r,O,C=function v(f,l){if(null==f)return{};var O,D,C={},r=Object.keys(f);for(D=0;D<r.length;D++)!(l.indexOf(O=r[D])>=0)&&(C[O]=f[O]);return C}(f,l);if(Object.getOwnPropertySymbols){var D=Object.getOwnPropertySymbols(f);for(O=0;O<D.length;O++)!(l.indexOf(r=D[O])>=0)&&Object.prototype.propertyIsEnumerable.call(f,r)&&(C[r]=f[r])}return C}p.d(W,{Z:()=>_})}}]);