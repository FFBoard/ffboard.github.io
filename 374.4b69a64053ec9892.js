"use strict";(self.webpackChunkboard=self.webpackChunkboard||[]).push([[374],{9832:(X,Y,r)=>{r.d(Y,{P:()=>O});var h=r(7016),x=r(4650),c=r(9358);let O=(()=>{class R{constructor(s){this.sidenavRightService=s}ngOnInit(){}openForumSelection(){this.sidenavRightService.pushEntity({entity:h.R8.forumList})}}return R.\u0275fac=function(s){return new(s||R)(x.Y36(c.f))},R.\u0275cmp=x.Xpm({type:R,selectors:[["app-forum-required"]],decls:11,vars:0,consts:[[1,"alert","alert-primary","mb-0"],[1,"fw-bold","text-center"],[1,"text-justify"],[1,"fw-bold"],["role","button",1,"text-decoration-underline","fw-bold",3,"click"]],template:function(s,k){1&s&&(x.TgZ(0,"div",0)(1,"div",1),x._uU(2,"Seleziona un forum!"),x.qZA(),x.TgZ(3,"div",2),x._uU(4," Per utilizzare questa funzione \xe8 prima necessario "),x.TgZ(5,"span",3),x._uU(6,"scegliere su quale sito"),x.qZA(),x._uU(7," si vuole operare. \xc8 possibile selezionare il forum/blog da amministrare mediante "),x.TgZ(8,"a",4),x.NdJ("click",function(){return k.openForumSelection()}),x._uU(9,"l'apposita funzione"),x.qZA(),x._uU(10," presente nella sidenav di destra. "),x.qZA()())}}),R})()},2974:(X,Y,r)=>{r.d(Y,{z:()=>c});var h=r(6895),x=r(4650);let c=(()=>{class O{}return O.\u0275fac=function(P){return new(P||O)},O.\u0275mod=x.oAB({type:O}),O.\u0275inj=x.cJS({imports:[h.ez]}),O})()},9207:(X,Y,r)=>{r.d(Y,{t:()=>et});var h=r(5861),x=r(7579),s=r(4650),k=r(3138),I=r(5395),U=r(8367),N=r(9209);function t(_,A){if(1&_&&s._UZ(0,"app-loader",7),2&_){const m=s.oxw(2);s.Q6J("message",m.loadingMessage)}}function Z(_,A){if(1&_){const m=s.EpF();s.TgZ(0,"div",12)(1,"input",13,14),s.NdJ("keyup.enter",function(){s.CHM(m);const b=s.MAs(2),u=s.oxw(3);return s.KtG(u.userAddScriptsAdmin(u.forum.cid,b.value))}),s.qZA(),s.TgZ(3,"button",15),s.NdJ("click",function(){s.CHM(m);const b=s.MAs(2),u=s.oxw(3);return s.KtG(u.userAddScriptsAdmin(u.forum.cid,b.value))}),s.TgZ(4,"span",16),s._uU(5,"add"),s.qZA()()()}}function E(_,A){1&_&&(s.TgZ(0,"div",17),s._uU(1,"Non hai i permessi per modificare gli admin degli script del forum selezionato!"),s.qZA())}const p=function(){return{placement:"left",animation:"shift-away"}};function v(_,A){if(1&_){const m=s.EpF();s.TgZ(0,"button",28),s.NdJ("click",function(){s.CHM(m);const b=s.oxw().$implicit,u=s.oxw(4);return s.KtG(u.userDelScriptsAdmin(u.forum.cid,b.id))}),s.TgZ(1,"span",29),s._uU(2,"delete"),s.qZA()()}2&_&&s.Q6J("tippyProps",s.DdM(1,p))}const T=function(_){return{"border-bottom":_}};function Q(_,A){if(1&_&&(s.TgZ(0,"li",20)(1,"div",21),s._UZ(2,"img",22),s.ALo(3,"uploadsreplace"),s.qZA(),s.TgZ(4,"div",23)(5,"div",24),s._UZ(6,"a",25),s.TgZ(7,"div",26),s._uU(8),s.qZA()(),s.YNc(9,v,3,2,"button",27),s.qZA()()),2&_){const m=A.$implicit,M=A.last,b=s.oxw(4);s.xp6(2),s.s9C("src",s.lcZ(3,9,m.avatar),s.LSH),s.MGl("alt","",m.nickname,"'s avatar"),s.Q6J("nameDynamicReplace",m.nickname),s.xp6(2),s.Q6J("ngClass",s.VKq(11,T,!M)),s.xp6(2),s.hYB("href","",b.forum.url,"/?act=Profile&MID=",m.id,"",s.LSH),s.Q6J("innerText",m.nickname),s.xp6(2),s.hij("User id: ",m.id,""),s.xp6(1),s.Q6J("ngIf",b.canManage)}}function nt(_,A){if(1&_&&(s.TgZ(0,"ul",18),s.YNc(1,Q,10,13,"li",19),s.qZA()),2&_){const m=s.oxw(3);s.xp6(1),s.Q6J("ngForOf",m.admins)}}function V(_,A){1&_&&(s.TgZ(0,"div",17),s._uU(1,"Non \xe8 stato inserito alcun admin degli script!"),s.qZA())}function rt(_,A){if(1&_&&(s.YNc(0,Z,6,0,"div",8),s.YNc(1,E,2,0,"ng-template",null,9,s.W1O),s.YNc(3,nt,2,1,"ul",10),s.YNc(4,V,2,0,"ng-template",null,11,s.W1O)),2&_){const m=s.MAs(2),M=s.MAs(5),b=s.oxw(2);s.Q6J("ngIf",b.canManage)("ngIfElse",m),s.xp6(3),s.Q6J("ngIf",b.admins.length)("ngIfElse",M)}}function tt(_,A){if(1&_&&(s.ynx(0),s.YNc(1,t,1,1,"app-loader",5),s.YNc(2,rt,6,4,"ng-template",null,6,s.W1O),s.BQk()),2&_){const m=s.MAs(3),M=s.oxw();s.xp6(1),s.Q6J("ngIf",M.loading)("ngIfElse",m)}}function j(_,A){1&_&&s._UZ(0,"app-forum-required")}let et=(()=>{class _{constructor(m,M,b,u){if(this.globalsService=m,this.graphqlService=M,this.toastService=b,this.forumService=u,this.componentDestroyed=new x.x,this.callOnDestroy=[],this.toastMessage="Inserisci <strong>l'ID o lo username</strong> dell'utente che vuoi rendere admin degli script!",this.admins=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.canManage=!0,this.componentDestroyed.subscribe(()=>{this.callOnDestroy.forEach(f=>f())}),!this.globalsService.credentials)throw new Error("Missing credentials!");this.forum=this.globalsService.forum}ngOnInit(){var m=this;return(0,h.Z)(function*(){if(!m.forum)return;m.canManage=m.forum.admin||!1;let M=m.forum.cid;m.admins=yield m.forumService.getScriptAdmins(M),m.load(),m.callOnDestroy.push(yield m.graphqlService.subscribe({query:"\nsubscription ChangesScriptAdmins($cid: String!) {\n    changesScriptAdmins(cid: $cid) {\n        eventType\n    }\n}",variables:{cid:M}},(0,h.Z)(function*(){m.load("Sincronizzazione lista admin"),m.admins=yield m.forumService.getScriptAdmins(M),m.load()})))})()}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}userAddScriptsAdmin(m,M){var b=this;return(0,h.Z)(function*(){if(b.loading)throw new Error("Loading already in progress");if(0===M.length)return b.toastService.show({content:b.toastMessage}),!1;b.load("Inserimento admin");const u=yield b.addScriptsAdmin(m,{name:M,id:+M});return b.load("Caricamento lista admin"),b.admins=yield b.forumService.getScriptAdmins(m),b.load(),u})()}userDelScriptsAdmin(m,M){var b=this;return(0,h.Z)(function*(){if(b.loading)throw new Error("Loading already in progress");b.load("Rimozione admin");const u=yield b.delScriptsAdmin(m,M);return b.load("Caricamento lista admin"),b.admins=yield b.forumService.getScriptAdmins(m),b.load(),u})()}addScriptsAdmin(m,M){var b=this;return(0,h.Z)(function*(){const u={cid:m,...M};if(!M.id&&!M.name)throw new Error;const B=u.id?"\nmutation AddScriptAdminById($cid: String!, $id: Int!) {\n    addScriptAdminById(cid: $cid, id: $id)\n}":"\nmutation AddScriptAdminByName($cid: String!, $name: String!) {\n    addScriptAdminByName(cid: $cid, name: $name)\n}";return void 0===(yield b.graphqlService.mutate({mutation:B,variables:u})).errors})()}delScriptsAdmin(m,M){var b=this;return(0,h.Z)(function*(){return void 0===(yield b.graphqlService.mutate({mutation:"\nmutation DelScriptAdmin($cid: String!, $id: Int!) {\n    delScriptAdmin(cid: $cid, id: $id)\n}",variables:{cid:m,id:M}})).errors})()}load(m){m?(this.loading=!0,this.loadingMessage=m):(this.loading=!1,this.loadingMessage="")}}return _.\u0275fac=function(m){return new(m||_)(s.Y36(k.d),s.Y36(I.J),s.Y36(U.k),s.Y36(N._))},_.\u0275cmp=s.Xpm({type:_,selectors:[["app-scripts-admin"]],decls:8,vars:2,consts:[[1,"content","bg-white","pb-4","px-3"],[1,"title","fs-5","text-primary","fw-bold","mb-3"],[1,"description","mb-3","text-justify"],[4,"ngIf","ngIfElse"],["forumRequired",""],[3,"message",4,"ngIf","ngIfElse"],["adminForm",""],[3,"message"],["class","input-group mb-3",4,"ngIf","ngIfElse"],["noPermissions",""],["class","list-unstyled admin-list mb-0",4,"ngIf","ngIfElse"],["noAdmin",""],[1,"input-group","mb-3"],["type","text","placeholder","Nickname o id dell'utente...",1,"form-control",3,"keyup.enter"],["input",""],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"],[1,"alert","alert-primary","text-center"],[1,"list-unstyled","admin-list","mb-0"],["class","d-flex flex-row align-items-center mx-sm-2",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","mx-sm-2"],[1,"avatar","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","nameDynamicReplace"],[1,"info","flex-grow-1","d-flex","flex-row","align-items-center","py-3","py-sm-4",3,"ngClass"],[1,"me-auto","pe-2","d-flex","flex-column","flex-grow-1","align-items-start"],["target","_blank",1,"d-block","name","fw-bold","text-decoration-none","text-truncate","lh-1","mw-100",3,"href","innerText"],[1,"text-muted","fs-sm"],["class","btn btn-danger p-1 d-block","appTippy","Rimuovi l'admin",3,"tippyProps","click",4,"ngIf"],["appTippy","Rimuovi l'admin",1,"btn","btn-danger","p-1","d-block",3,"tippyProps","click"],[1,"material-icons","d-block"]],template:function(m,M){if(1&m&&(s.TgZ(0,"div",0)(1,"div",1),s._uU(2,"Gestore admin degli script"),s.qZA(),s.TgZ(3,"div",2),s._uU(4," Tramite questo pannello \xe8 possibile gestire gli admin degli script del forum selezionato. Un admin degli script non avr\xe0 alcun potere di moderazione sul forum o blog, ma potr\xe0 installare, disinstallare e modificare gli script del sito. La funzione risulta utile se si vuole riservare la gestione degli script ad alcuni utenti qualificati, senza dover fornire loro un ruolo particolare sul forum o blog. \xc8 importante evidenziare che un amministratore degli script possiede anche il potere di nominare e rimuovere altri admin degli script. "),s.qZA(),s.YNc(5,tt,4,2,"ng-container",3),s.YNc(6,j,1,0,"ng-template",null,4,s.W1O),s.qZA()),2&m){const b=s.MAs(7);s.xp6(5),s.Q6J("ngIf",M.forum)("ngIfElse",b)}},styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:0}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),_})()},4374:(X,Y,r)=>{r.r(Y),r.d(Y,{MainModule:()=>Ve});var h=r(6895),x=r(7132),c=r(433),O=r(2974),R=r(3204),P=r(6818),s=r(1043),k=r(2687),I=r(8184),U=r(3353),N=r(4080),t=r(4650),Z=r(9521),E=r(7579),p=r(9770),v=r(9646),T=r(445),Q=r(8675);function nt(i,a){}class V{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let tt=(()=>{class i extends N.en{constructor(e,n,o,l,d,g,F,z){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=l,this._interactivityChecker=d,this._ngZone=g,this._overlayRef=F,this._focusMonitor=z,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=w=>{this._portalOutlet.hasAttached();const q=this._portalOutlet.attachDomPortal(w);return this._contentAttached(),q},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=o}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(n)}_focusByCssSelector(e,n){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const o=(0,U.ht)(),l=this._elementRef.nativeElement;(!o||o===this._document.body||o===l||l.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,U.ht)();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,U.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(k.qV),t.Y36(h.K0,8),t.Y36(V),t.Y36(k.ic),t.Y36(t.R0b),t.Y36(I.Iu),t.Y36(k.tE))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(1&e&&t.Gf(N.Pl,7),2&e){let o;t.iGM(o=t.CRH())&&(n._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){2&e&&t.uIk("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&t.YNc(0,nt,0,0,"ng-template",0)},dependencies:[N.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class j{constructor(a,e){this.overlayRef=a,this.config=e,this.closed=new E.x,this.disableClose=e.disableClose,this.backdropClick=a.backdropClick(),this.keydownEvents=a.keydownEvents(),this.outsidePointerEvents=a.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===Z.hY&&!this.disableClose&&!(0,Z.Vb)(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(a,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),n.next(a),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(a="",e=""){return this.overlayRef.updateSize({width:a,height:e}),this}addPanelClass(a){return this.overlayRef.addPanelClass(a),this}removePanelClass(a){return this.overlayRef.removePanelClass(a),this}}const et=new t.OlP("DialogScrollStrategy"),_=new t.OlP("DialogData"),A=new t.OlP("DefaultDialogConfig"),M={provide:et,deps:[I.aV],useFactory:function m(i){return()=>i.scrollStrategies.block()}};let b=0,u=(()=>{class i{constructor(e,n,o,l,d,g){this._overlay=e,this._injector=n,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=d,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new E.x,this._afterOpenedAtThisLevel=new E.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,p.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,Q.O)(void 0))),this._scrollStrategy=g}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,n){(n={...this._defaultOptions||new V,...n}).id=n.id||"cdk-dialog-"+b++,n.id&&this.getDialogById(n.id);const l=this._getOverlayConfig(n),d=this._overlay.create(l),g=new j(d,n),F=this._attachContainer(d,g,n);return g.containerInstance=F,this._attachDialogContent(e,g,F,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(g),g.closed.subscribe(()=>this._removeOpenDialog(g,!0)),this.afterOpened.next(g),g}closeAll(){B(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){B(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),B(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new I.X_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,o){const l=o.injector||o.viewContainerRef?.injector,d=[{provide:V,useValue:o},{provide:j,useValue:n},{provide:I.Iu,useValue:e}];let g;o.container?"function"==typeof o.container?g=o.container:(g=o.container.type,d.push(...o.container.providers(o))):g=tt;const F=new N.C5(g,o.viewContainerRef,t.zs3.create({parent:l||this._injector,providers:d}),o.componentFactoryResolver);return e.attach(F).instance}_attachDialogContent(e,n,o,l){if(e instanceof t.Rgc){const d=this._createInjector(l,n,o,void 0);let g={$implicit:l.data,dialogRef:n};l.templateContext&&(g={...g,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),o.attachTemplatePortal(new N.UE(e,null,g,d))}else{const d=this._createInjector(l,n,o,this._injector),g=o.attachComponentPortal(new N.C5(e,l.viewContainerRef,d,l.componentFactoryResolver));n.componentInstance=g.instance}}_createInjector(e,n,o,l){const d=e.injector||e.viewContainerRef?.injector,g=[{provide:_,useValue:e.data},{provide:j,useValue:n}];return e.providers&&("function"==typeof e.providers?g.push(...e.providers(n,e,o)):g.push(...e.providers)),e.direction&&(!d||!d.get(T.Is,null,t.XFs.Optional))&&g.push({provide:T.Is,useValue:{value:e.direction,change:(0,v.of)()}}),t.zs3.create({parent:d||l,providers:g})}_removeOpenDialog(e,n){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,d)=>{l?d.setAttribute("aria-hidden",l):d.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let o=n.length-1;o>-1;o--){const l=n[o];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(I.aV),t.LFG(t.zs3),t.LFG(A,8),t.LFG(i,12),t.LFG(I.Xj),t.LFG(et))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();function B(i,a){let e=i.length;for(;e--;)a(i[e])}let f=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[u,M],imports:[I.U8,N.eL,k.rt,N.eL]}),i})();var C=r(3238),y=r(2289),S=r(7340),G=r(6451),D=r(9300),it=r(5698);function Et(i,a){}const Lt={bottomSheetState:(0,S.X$)("state",[(0,S.SB)("void, hidden",(0,S.oB)({transform:"translateY(100%)"})),(0,S.SB)("visible",(0,S.oB)({transform:"translateY(0%)"})),(0,S.eR)("visible => void, visible => hidden",(0,S.ru)([(0,S.jt)(`${C.mZ.COMPLEX} ${C.yN.ACCELERATION_CURVE}`),(0,S.IO)("@*",(0,S.pV)(),{optional:!0})])),(0,S.eR)("void => visible",(0,S.ru)([(0,S.jt)(`${C.mZ.EXITING} ${C.yN.DECELERATION_CURVE}`),(0,S.IO)("@*",(0,S.pV)(),{optional:!0})]))])};let Nt=(()=>{class i extends tt{constructor(e,n,o,l,d,g,F,z,w,q){super(e,n,o,l,d,g,F,q),this._changeDetectorRef=w,this._animationState="void",this._animationStateChanged=new t.vpe,this._breakpointSubscription=z.observe([y.u3.Medium,y.u3.Large,y.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",z.isMatched(y.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",z.isMatched(y.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",z.isMatched(y.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_captureInitialFocus(){}_toggleClass(e,n){this._elementRef.nativeElement.classList.toggle(e,n)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(k.qV),t.Y36(h.K0,8),t.Y36(V),t.Y36(k.ic),t.Y36(t.R0b),t.Y36(I.Iu),t.Y36(y.Yg),t.Y36(t.sBO),t.Y36(k.tE))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(e,n){1&e&&t.WFA("@state.start",function(l){return n._onAnimationStart(l)})("@state.done",function(l){return n._onAnimationDone(l)}),2&e&&(t.uIk("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-label",n._config.ariaLabel),t.d8E("@state",n._animationState))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&t.YNc(0,Et,0,0,"ng-template",0)},dependencies:[N.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Lt.bottomSheetState]}}),i})(),gt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[f,C.BQ,N.eL,C.BQ]}),i})();const Yt=new t.OlP("MatBottomSheetData");class Ut{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class vt{constructor(a,e,n){this._ref=a,this._afterOpened=new E.x,this.containerInstance=n,this.disableClose=e.disableClose,n._animationStateChanged.pipe((0,D.h)(o=>"done"===o.phaseName&&"visible"===o.toState),(0,it.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe((0,D.h)(o=>"done"===o.phaseName&&"hidden"===o.toState),(0,it.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),a.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,G.T)(this.backdropClick(),this.keydownEvents().pipe((0,D.h)(o=>o.keyCode===Z.hY))).subscribe(o=>{!this.disableClose&&("keydown"!==o.type||!(0,Z.Vb)(o))&&(o.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(a){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe((0,D.h)(e=>"start"===e.phaseName),(0,it.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},e.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=a,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Gt=new t.OlP("mat-bottom-sheet-default-options");let zt=(()=>{class i{constructor(e,n,o,l){this._overlay=e,this._parentBottomSheet=o,this._defaultOptions=l,this._bottomSheetRefAtThisLevel=null,this._dialog=n.get(u)}get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}open(e,n){const o={...this._defaultOptions||new Ut,...n};let l;return this._dialog.open(e,{...o,disableClose:!0,maxWidth:"100%",container:Nt,scrollStrategy:o.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:l}),providers:(d,g,F)=>(l=new vt(d,o,F),[{provide:vt,useValue:l},{provide:Yt,useValue:o.data}])}),l.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===l&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>l.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):l.containerInstance.enter(),this._openedBottomSheetRef=l,l}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(I.aV),t.LFG(t.zs3),t.LFG(i,12),t.LFG(Gt,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:gt}),i})();var W=r(651),L=r(9631);let Jt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,s.h,gt,W.lQ,L.Bz]}),i})();var _t=r(5861),K=r(5044),Qt=r(9209),ot=r(5681),ct=r(3138);let Ht=(()=>{class i{constructor(e,n,o){this.forumService=e,this.profileService=n,this.globalsService=o}resolve(e,n){var o=this;return(0,_t.Z)(function*(){const l=e.queryParamMap.get(K.RT.SITE);if(!l||l===o.globalsService.forum?.fulldomain)return;const d=o.forumService.parseUrl(l);if(!d)return;const g=(yield o.forumService.getMyForumList()).find(F=>F.domain===d.subdomain);if(g)return o.forumService.createForumObject(g,d.domain,!0);if(o.profileService.isDev()){const F=yield o.forumService.getForumDetailsFromDomain(`${d.subdomain}.${d.domain}`);if(F)return o.forumService.createForumObject(F,d.domain,!1)}})()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Qt._),t.LFG(ot.H),t.LFG(ct.d))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var at=r(7016);let Ct=(()=>{class i{constructor(e){this.viewContainerRef=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b))},i.\u0275dir=t.lG2({type:i,selectors:[["","appSidenavRight",""]]}),i})(),qt=(()=>{class i{constructor(){}show(e,n,o=!1,l={}){o&&e.clear();const d=e.createComponent(n);if(l)for(let g in l)l.hasOwnProperty(g)&&(d.instance[g]=l[g]);return d}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var mt=r(9358),Vt=r(5645);const $t=["app-bottom-nav",""],jt=function(i,a){return{"current text-reset":i,"mb-2":a}};function Wt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",13),t.NdJ("click",function(){t.CHM(e);const o=t.oxw().$implicit,l=t.oxw(2);return t.KtG(l.navigateFromBottomSheet(o.path))}),t.qZA()()}if(2&i){const e=t.oxw(),n=e.$implicit,o=e.last,l=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(2,jt,l.selectedPath===n.path,!o))("innerText",n.description)}}function Kt(i,a){if(1&i&&(t.ynx(0),t.YNc(1,Wt,2,5,"li",12),t.BQk()),2&i){const e=a.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.path!==n.paths.SCRIPT_DEV||n.isDev)}}function Xt(i,a){if(1&i&&(t.TgZ(0,"ul",10),t.YNc(1,Kt,2,1,"ng-container",11),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.navItems.script.sub)}}const ut=function(i){return{"current text-reset":i}};function te(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.navigateFromBottomSheet(o.navItems.grafana.path))}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,ut,e.selectedPath===e.navItems.grafana.path))("innerText",e.navItems.grafana.description)}}function ee(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.navigateFromBottomSheet(o.navItems.upload.path))}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,ut,e.selectedPath===e.navItems.upload.path))("innerText",e.navItems.upload.description)}}function ne(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",16),t.NdJ("click",function(){t.CHM(e);const o=t.oxw(2);return t.KtG(o.navigateFromBottomSheet(o.navItems.adminPanel.path))}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,ut,e.selectedPath===e.navItems.adminPanel.path))("innerText",e.navItems.adminPanel.description)}}function ie(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul",10),t.YNc(1,te,2,4,"li",12),t.YNc(2,ee,2,4,"li",12),t.YNc(3,ne,2,4,"li",12),t.TgZ(4,"li")(5,"a",14),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.pushSidenavRightEntity(o.sidenavRightComponents.scriptsAdmin))}),t._uU(6,"Script Admin"),t.qZA()(),t.TgZ(7,"li")(8,"a",15),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o.pushSidenavRightEntity(o.sidenavRightComponents.forumList))}),t._uU(9,"Forum"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isFFStaff),t.xp6(1),t.Q6J("ngIf",e.isAlphaUser),t.xp6(1),t.Q6J("ngIf",e.isAdmin)}}const pt=function(i){return{selected:i}};let oe=(()=>{class i{constructor(e,n,o){this.bottomsheetService=e,this.router=n,this.sidenavRightService=o,this.selectedPath="",this.isDev=!1,this.isAdmin=!1,this.isAlphaUser=!1,this.isFFStaff=!1,this.navItems=at.Yu,this.sidenavRightComponents=at.R8,this.paths=K.B2}ngOnInit(){}pushSidenavRightEntity(e){this.bottomsheetRef?.dismiss(),this.sidenavRightService.pushEntity({entity:e})}navigateFromBottomSheet(e){this.bottomsheetRef&&this.bottomsheetRef.dismiss(e)}showBottomSheet(e){var n=this;this.bottomsheetRef=this.bottomsheetService.open(e,{closeOnNavigation:!0});const o=this.bottomsheetRef.afterDismissed().subscribe(function(){var l=(0,_t.Z)(function*(d){o.unsubscribe(),d&&(yield n.router.navigate([d]))});return function(d){return l.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(zt),t.Y36(L.F0),t.Y36(mt.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","app-bottom-nav",""]],inputs:{selectedPath:"selectedPath",ffuid:"ffuid",isDev:"isDev",isAdmin:"isAdmin",isAlphaUser:"isAlphaUser",isFFStaff:"isFFStaff"},attrs:$t,decls:28,vars:23,consts:[[1,"bottom-nav","border-top","shadow-sm","py-2","bg-white"],[1,"nav"],["role","button",1,"d-block",3,"ngClass","routerLink"],[1,"description","fs-xxs","lh-1","text-center"],["role","button",1,"d-block",3,"ngClass","click"],[3,"innerText"],["role","button",1,"d-block",3,"click"],[1,"icon","text-center","material-icons-outlined"],["scriptRoutes",""],["otherComponents",""],[1,"list-unstyled","mb-0","py-2","panelup"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",1,"d-block","text-center","py-3","rounded",3,"ngClass","innerText","click"],["role","button",1,"d-block","text-center","py-3","rounded","mb-2",3,"click"],["role","button",1,"d-block","text-center","py-3","rounded",3,"click"],["role","button",1,"d-block","text-center","py-3","rounded","mb-2",3,"ngClass","innerText","click"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0)(1,"ul",1)(2,"li")(3,"a",2)(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"div",3),t._uU(7,"Home"),t.qZA()()(),t.TgZ(8,"li")(9,"a",4),t.NdJ("click",function(){t.CHM(o);const d=t.MAs(25);return t.KtG(n.showBottomSheet(d))}),t._UZ(10,"div",5),t.TgZ(11,"div",3),t._uU(12,"Script"),t.qZA()()(),t.TgZ(13,"li")(14,"a",2),t._UZ(15,"div",5),t.TgZ(16,"div",3),t._uU(17,"Impostazioni"),t.qZA()()(),t.TgZ(18,"li")(19,"a",6),t.NdJ("click",function(){t.CHM(o);const d=t.MAs(27);return t.KtG(n.showBottomSheet(d))}),t.TgZ(20,"div",7),t._uU(21,"reorder"),t.qZA(),t.TgZ(22,"div",3),t._uU(23,"Altri"),t.qZA()()()()(),t.YNc(24,Xt,2,1,"ng-template",null,8,t.W1O),t.YNc(26,ie,10,3,"ng-template",null,9,t.W1O)}2&e&&(t.xp6(3),t.Q6J("ngClass",t.VKq(17,pt,n.selectedPath===n.navItems.home.path))("routerLink",n.navItems.home.path),t.xp6(1),t.Gre("icon text-center ",n.navItems.home.icon.type,""),t.xp6(1),t.Oqu(n.navItems.home.icon.value),t.xp6(4),t.Q6J("ngClass",t.VKq(19,pt,n.selectedPath.startsWith(n.navItems.script.path))),t.xp6(1),t.Gre("icon text-center ",n.navItems.script.icon.type,""),t.Q6J("innerText",n.navItems.script.icon.value),t.xp6(4),t.Q6J("ngClass",t.VKq(21,pt,n.selectedPath===n.navItems.settings.path))("routerLink",n.navItems.settings.path),t.xp6(1),t.Gre("icon text-center ",n.navItems.settings.icon.type,""),t.Q6J("innerText",n.navItems.settings.icon.value))},dependencies:[h.mk,h.sg,h.O5,L.yS],styles:["[_nghost-%COMP%]{height:53px;bottom:0;left:0;right:0;z-index:999}.bottom-nav[_ngcontent-%COMP%]{height:53px}.nav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:block}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:none!important;color:inherit;text-decoration:none;transition:color .2s;width:-moz-fit-content;width:fit-content;margin:0 auto}.nav[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{color:#4864fe}.panelup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.current){background-color:#dae0ff}.panelup[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{background-color:var(--bs-gray-200)}"]}),i})();var bt=r(1460),St=r(8279);const ae=["app-side-nav",""],se=function(i){return{current:i}};function re(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",15)(2,"div",12),t._uU(3),t.qZA()()()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,se,n.selectedPath===e.path))("routerLink",e.path),t.xp6(2),t.Oqu(e.description)}}function ce(i,a){if(1&i&&(t.ynx(0),t.YNc(1,re,4,5,"li",10),t.BQk()),2&i){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",e.path!==n.paths.SCRIPT_DEV||n.isDev)}}const st=function(i){return{selected:i}};function le(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",3)(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"div",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(7,st,e.selectedPath===e.navItems.adminPanel.path))("routerLink",e.navItems.adminPanel.path),t.xp6(1),t.Gre("icon ",e.navItems.adminPanel.icon.type,""),t.xp6(1),t.Oqu(e.navItems.adminPanel.icon.value),t.xp6(1),t.Q6J("innerText",e.navItems.adminPanel.description)}}function de(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",3)(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"div",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(7,st,e.selectedPath===e.navItems.grafana.path))("routerLink",e.navItems.grafana.path),t.xp6(1),t.Gre("icon ",e.navItems.grafana.icon.type,""),t.xp6(1),t.Oqu(e.navItems.grafana.icon.value),t.xp6(1),t.Q6J("innerText",e.navItems.grafana.description)}}function me(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",3)(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"div",4),t.qZA()()),2&i){const e=t.oxw();t.uIk("data-grouptitle","Alpha"),t.xp6(1),t.Q6J("ngClass",t.VKq(8,st,e.selectedPath===e.navItems.upload.path))("routerLink",e.navItems.upload.path),t.xp6(1),t.Gre("icon ",e.navItems.upload.icon.type,""),t.xp6(1),t.Oqu(e.navItems.upload.icon.value),t.xp6(1),t.Q6J("innerText",e.navItems.upload.description)}}function ue(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"div",16),t.TgZ(2,"div",17),t._uU(3,"Cambia forum"),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",e.selectedForum.name,t.oJD)}}function pe(i,a){if(1&i&&t._uU(0),2&i){const e=t.oxw();t.Oqu(e.navItems.forumSidenav.description)}}const he=function(i,a){return{selected:i,"is-expanded":a}};let fe=(()=>{class i{constructor(e){this.sidenavRightService=e,this.selectedPath="",this.isDev=!1,this.isAdmin=!1,this.isAlphaUser=!1,this.isFFStaff=!1,this.navItems=at.Yu,this.sidenavRightComponents=at.R8,this.scriptMenuCollapsed=!0,this.paths=K.B2,this.appName=bt.lW}ngOnInit(){}pushSidenavRightEntity(e){this.sidenavRightService.pushEntity({entity:e})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(mt.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","app-side-nav",""]],inputs:{selectedPath:"selectedPath",selectedForum:"selectedForum",ffuid:"ffuid",isDev:"isDev",isAdmin:"isAdmin",isAlphaUser:"isAlphaUser",isFFStaff:"isFFStaff"},attrs:ae,decls:40,vars:45,consts:[[1,"text-center","text-white","mt-4","mb-3","logo-wrapper","position-relative"],["svgSize","lg"],[1,"nav","flex-column"],["role","button",1,"router-item","d-flex","align-items-center",3,"ngClass","routerLink"],[1,"description",3,"innerText"],["role","button",1,"router-item","d-flex","align-items-center","w-100","collapse-btn",3,"ngClass","click"],[1,"collapse-icon","ms-auto","material-icons"],[1,"list-unstyled","collapse-content",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",1,"button-item","d-flex","align-items-center",3,"click"],[1,"description"],[4,"ngIf","ngIfElse"],["genericInfo",""],["role","button",1,"sub-router-item","d-block",3,"ngClass","routerLink"],[1,"selected-forum-name","text-truncate","position-relative",3,"innerHTML"],[1,"change-forum","fst-italic","lh-1"]],template:function(e,n){if(1&e){const o=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"app-logo",1),t.qZA(),t.TgZ(2,"nav")(3,"ul",2)(4,"li")(5,"a",3)(6,"div"),t._uU(7),t.qZA(),t._UZ(8,"div",4),t.qZA()(),t.TgZ(9,"li")(10,"a",5),t.NdJ("click",function(){t.CHM(o);const d=t.MAs(17);return t.KtG(d.toggle())}),t.TgZ(11,"div"),t._uU(12),t.qZA(),t._UZ(13,"div",4),t.TgZ(14,"div",6),t._uU(15,"chevron_left"),t.qZA()(),t.TgZ(16,"ul",7,8),t.NdJ("ngbCollapseChange",function(d){return n.scriptMenuCollapsed=d}),t.YNc(18,ce,2,1,"ng-container",9),t.qZA()(),t.TgZ(19,"li")(20,"a",3)(21,"div"),t._uU(22),t.qZA(),t._UZ(23,"div",4),t.qZA()(),t.YNc(24,le,5,9,"li",10),t.YNc(25,de,5,9,"li",10),t.YNc(26,me,5,10,"li",10),t.TgZ(27,"li")(28,"a",11),t.NdJ("click",function(){return n.pushSidenavRightEntity(n.sidenavRightComponents.scriptsAdmin)}),t.TgZ(29,"div"),t._uU(30),t.qZA(),t._UZ(31,"div",4),t.qZA()(),t.TgZ(32,"li")(33,"a",11),t.NdJ("click",function(){return n.pushSidenavRightEntity(n.sidenavRightComponents.forumList)}),t.TgZ(34,"div"),t._uU(35),t.qZA(),t.TgZ(36,"div",12),t.YNc(37,ue,4,1,"ng-container",13),t.YNc(38,pe,1,1,"ng-template",null,14,t.W1O),t.qZA()()()()()}if(2&e){const o=t.MAs(39);t.xp6(5),t.Q6J("ngClass",t.VKq(38,st,n.selectedPath===n.navItems.home.path))("routerLink",n.navItems.home.path),t.xp6(1),t.Gre("icon ",n.navItems.home.icon.type,""),t.xp6(1),t.Oqu(n.navItems.home.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.home.description),t.xp6(1),t.uIk("data-grouptitle","Servizi"),t.xp6(1),t.Q6J("ngClass",t.WLB(40,he,n.selectedPath.startsWith(n.navItems.script.path),!n.scriptMenuCollapsed)),t.xp6(1),t.Gre("icon ",n.navItems.script.icon.type,""),t.xp6(1),t.Oqu(n.navItems.script.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.script.description),t.xp6(3),t.Q6J("ngbCollapse",n.scriptMenuCollapsed),t.xp6(2),t.Q6J("ngForOf",n.navItems.script.sub),t.xp6(2),t.Q6J("ngClass",t.VKq(43,st,n.selectedPath===n.navItems.settings.path))("routerLink",n.navItems.settings.path),t.xp6(1),t.Gre("icon ",n.navItems.settings.icon.type,""),t.xp6(1),t.Oqu(n.navItems.settings.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.settings.description),t.xp6(1),t.Q6J("ngIf",n.isAdmin),t.xp6(1),t.Q6J("ngIf",n.isFFStaff),t.xp6(1),t.Q6J("ngIf",n.isAlphaUser),t.xp6(1),t.uIk("data-grouptitle","Sidebar"),t.xp6(2),t.Gre("icon ",n.navItems.adminSidenav.icon.type,""),t.xp6(1),t.Oqu(n.navItems.adminSidenav.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.adminSidenav.description),t.xp6(3),t.Gre("icon ",n.navItems.forumSidenav.icon.type,""),t.xp6(1),t.Oqu(n.navItems.forumSidenav.icon.value),t.xp6(2),t.Q6J("ngIf",n.selectedForum)("ngIfElse",o)}},dependencies:[h.mk,h.sg,h.O5,St.R,W._D,L.yS],styles:["[_nghost-%COMP%]{width:260px;background-color:#303844;top:0;bottom:0;overflow-y:auto}.logo-wrapper[_ngcontent-%COMP%]{left:-3px}.selected-forum-name[_ngcontent-%COMP%]{top:-3px}li[_ngcontent-%COMP%]{position:relative;max-width:100%}li[data-grouptitle][_ngcontent-%COMP%]:before{display:block;content:attr(data-grouptitle);padding:.75rem 1.25rem;text-transform:uppercase;font-size:.8rem;letter-spacing:.06em;font-weight:600;color:#8190a1}a[_ngcontent-%COMP%]{transition:color .3s!important;outline:none!important}a.router-item[_ngcontent-%COMP%], a.button-item[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]{color:#8190a1}a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;text-align:left;flex-shrink:0;display:flex}a[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{transition:margin .3s;white-space:nowrap;max-width:calc(100% - 45px - .5rem)}a[_ngcontent-%COMP%]   .change-forum[_ngcontent-%COMP%]{font-size:.8em}a[_ngcontent-%COMP%]:not(.sub-router-item){padding:.625rem 1.25rem}a.button-item[_ngcontent-%COMP%]:hover, a.router-item[_ngcontent-%COMP%]:not(.selected):hover, a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover{color:#bbcde3}a.button-item[_ngcontent-%COMP%]:hover   .description[_ngcontent-%COMP%], a.router-item[_ngcontent-%COMP%]:not(.selected):hover   .description[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover   .description[_ngcontent-%COMP%]{margin-left:.5rem}a.router-item.selected[_ngcontent-%COMP%]{color:#fff}a.collapse-btn.is-expanded[_ngcontent-%COMP%]:not(.selected){color:#bbcde3}.collapse-content[_ngcontent-%COMP%]{background-color:#262d36;box-shadow:inset 0 -2px .25rem #00000014}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type   a[_ngcontent-%COMP%]{padding-top:.75rem}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]{padding-bottom:.75rem}.collapse-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem 1.25rem .375rem 2rem}.collapse-content[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{color:#fff}"]}),i})();function ge(i,a){if(1&i&&t._UZ(0,"div",2),2&i){const e=t.oxw();t.Q6J("selectedPath",e.selectedPath)("ffuid",e.ffuid)("isDev",e.isDev)("isAdmin",e.isAdmin)("isAlphaUser",e.isAlphaUser)("isFFStaff",e.isAlphaUser)}}function ve(i,a){if(1&i&&t._UZ(0,"div",3),2&i){const e=t.oxw();t.Q6J("selectedPath",e.selectedPath)("selectedForum",e.selectedForum)("ffuid",e.ffuid)("isDev",e.isDev)("isAdmin",e.isAdmin)("isAlphaUser",e.isAlphaUser)("isFFStaff",e.isAlphaUser)}}let _e=(()=>{class i{constructor(e,n,o){this.router=e,this.globalsService=n,this.profileService=o,this.isSmallScreen=!0,this.selectedPath="";const l=this.globalsService.credentials;if(!l)throw new Error("Missing credentials!");this.ffuid=l.user.ffuid,this.isDev=this.profileService.isDev(),this.isAdmin=this.profileService.isAdmin(),this.isFFStaff=this.profileService.isForumfreeStaff(),this.isAlphaUser=this.profileService.isAlphaUser()}updatePath(e){this.selectedPath=e.replace(/\?(.*)?/,"")}ngOnInit(){this.updatePath(this.router.url),this.selectedForum=this.globalsService.forum,this.forumSubscription=this.globalsService.forumObservable.subscribe(e=>{this.selectedForum=e}),this.routerSubscription=this.router.events.pipe((0,D.h)(e=>e instanceof L.m2)).subscribe(e=>{this.updatePath(e.urlAfterRedirects)})}ngOnDestroy(){this.forumSubscription&&this.forumSubscription.unsubscribe(),this.routerSubscription&&this.routerSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(L.F0),t.Y36(ct.d),t.Y36(ot.H))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-main-nav"]],inputs:{isSmallScreen:"isSmallScreen"},decls:3,vars:2,consts:[["class","bottom-nav-wrapper position-fixed","app-bottom-nav","",3,"selectedPath","ffuid","isDev","isAdmin","isAlphaUser","isFFStaff",4,"ngIf","ngIfElse"],["largeScreen",""],["app-bottom-nav","",1,"bottom-nav-wrapper","position-fixed",3,"selectedPath","ffuid","isDev","isAdmin","isAlphaUser","isFFStaff"],["app-side-nav","",1,"sidenav-left-wrapper","shadow","position-fixed",3,"selectedPath","selectedForum","ffuid","isDev","isAdmin","isAlphaUser","isFFStaff"]],template:function(e,n){if(1&e&&(t.YNc(0,ge,1,6,"div",0),t.YNc(1,ve,1,7,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",n.isSmallScreen)("ngIfElse",o)}},dependencies:[h.O5,oe,fe]}),i})();var J=r(563),$=r(1281),Ce=r(4968),yt=r(4004),xt=r(9718),H=r(2722),be=r(1884),Se=r(8372);const lt=["*"],ye=["content"];function xe(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o._onBackdropClicked())}),t.qZA()}if(2&i){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Me(i,a){1&i&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const we=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Ae=["mat-drawer","mat-drawer-content","*"];function Te(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o._onBackdropClicked())}),t.qZA()}if(2&i){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Oe(i,a){1&i&&(t.TgZ(0,"mat-sidenav-content"),t.Hsn(1,2),t.qZA())}const De=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],Fe=["mat-sidenav","mat-sidenav-content","*"],Mt={transformDrawer:(0,S.X$)("transform",[(0,S.SB)("open, open-instant",(0,S.oB)({transform:"none",visibility:"visible"})),(0,S.SB)("void",(0,S.oB)({"box-shadow":"none",visibility:"hidden"})),(0,S.eR)("void => open-instant",(0,S.jt)("0ms")),(0,S.eR)("void <=> open, open-instant => void",(0,S.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Re=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Pe(){return!1}}),ht=new t.OlP("MAT_DRAWER_CONTAINER");let dt=(()=>{class i extends J.PQ{constructor(e,n,o,l,d){super(o,l,d),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>At)),t.Y36(t.SBq),t.Y36(J.mF),t.Y36(t.R0b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&t.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[t._Bn([{provide:J.PQ,useExisting:i}]),t.qOj],ngContentSelectors:lt,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),wt=(()=>{class i{constructor(e,n,o,l,d,g,F,z){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=o,this._platform=l,this._ngZone=d,this._interactivityChecker=g,this._doc=F,this._container=z,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new E.x,this._animationEnd=new E.x,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,D.h)(w=>w),(0,yt.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,D.h)(w=>w.fromState!==w.toState&&0===w.toState.indexOf("open")),(0,xt.h)(void 0)),this._closedStream=this.openedChange.pipe((0,D.h)(w=>!w),(0,yt.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,D.h)(w=>w.fromState!==w.toState&&"void"===w.toState),(0,xt.h)(void 0)),this._destroyed=new E.x,this.onPositionChanged=new t.vpe,this._modeChanged=new E.x,this.openedChange.subscribe(w=>{w?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Ce.R)(this._elementRef.nativeElement,"keydown").pipe((0,D.h)(w=>w.keyCode===Z.hY&&!this.disableClose&&!(0,Z.Vb)(w)),(0,H.R)(this._destroyed)).subscribe(w=>this._ngZone.run(()=>{this.close(),w.stopPropagation(),w.preventDefault()}))}),this._animationEnd.pipe((0,be.x)((w,q)=>w.fromState===q.fromState&&w.toState===q.toState)).subscribe(w=>{const{fromState:q,toState:Zt}=w;(0===Zt.indexOf("open")&&"void"===q||"void"===Zt&&0===q.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,$.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,$.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,$.Ig)(e))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(n)}_focusByCssSelector(e,n){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,n,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe((0,it.q)(1)).subscribe(d=>l(d?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,o=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,n)),o.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(k.qV),t.Y36(k.tE),t.Y36(U.t4),t.Y36(t.R0b),t.Y36(k.ic),t.Y36(h.K0,8),t.Y36(ht,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&t.Gf(ye,5),2&e){let o;t.iGM(o=t.CRH())&&(n._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&t.WFA("@transform.start",function(l){return n._animationStarted.next(l)})("@transform.done",function(l){return n._animationEnd.next(l)}),2&e&&(t.uIk("align",null),t.d8E("@transform",n._animationState),t.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:lt,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},dependencies:[J.PQ],encapsulation:2,data:{animation:[Mt.transformDrawer]},changeDetection:0}),i})(),At=(()=>{class i{constructor(e,n,o,l,d,g=!1,F){this._dir=e,this._element=n,this._ngZone=o,this._changeDetectorRef=l,this._animationMode=F,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new E.x,this._doCheckSubject=new E.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new E.x,e&&e.change.pipe((0,H.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),d.change().pipe((0,H.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=g}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,$.Ig)(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,$.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,Q.O)(this._allDrawers),(0,H.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,Q.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Se.b)(10),(0,H.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,n-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();n+=o,e-=o}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,D.h)(n=>n.fromState!==n.toState),(0,H.R)(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,H.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,H.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,it.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,H.R)((0,G.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?n.add(o):n.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(T.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(J.rL),t.Y36(Re),t.Y36(t.QbO,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,o){if(1&e&&(t.Suo(o,dt,5),t.Suo(o,wt,5)),2&e){let l;t.iGM(l=t.CRH())&&(n._content=l.first),t.iGM(l=t.CRH())&&(n._allDrawers=l)}},viewQuery:function(e,n){if(1&e&&t.Gf(dt,5),2&e){let o;t.iGM(o=t.CRH())&&(n._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:ht,useExisting:i}])],ngContentSelectors:Ae,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(t.F$t(we),t.YNc(0,xe,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,Me,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",n.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!n._content))},dependencies:[h.O5,dt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),ft=(()=>{class i extends dt{constructor(e,n,o,l,d){super(e,n,o,l,d)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>Ot)),t.Y36(t.SBq),t.Y36(J.mF),t.Y36(t.R0b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,n){2&e&&t.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[t._Bn([{provide:J.PQ,useExisting:i}]),t.qOj],ngContentSelectors:lt,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Tt=(()=>{class i extends wt{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,$.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,$.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,$.su)(e)}}return i.\u0275fac=function(){let a;return function(n){return(a||(a=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,n){2&e&&(t.uIk("align",null),t.Udp("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),t.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[t.qOj],ngContentSelectors:lt,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},dependencies:[J.PQ],encapsulation:2,data:{animation:[Mt.transformDrawer]},changeDetection:0}),i})(),Ot=(()=>{class i extends At{}return i.\u0275fac=function(){let a;return function(n){return(a||(a=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(e,n,o){if(1&e&&(t.Suo(o,ft,5),t.Suo(o,Tt,5)),2&e){let l;t.iGM(l=t.CRH())&&(n._content=l.first),t.iGM(l=t.CRH())&&(n._allDrawers=l)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[t._Bn([{provide:ht,useExisting:i}]),t.qOj],ngContentSelectors:Fe,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(t.F$t(De),t.YNc(0,Te,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,Oe,2,0,"mat-sidenav-content",1)),2&e&&(t.Q6J("ngIf",n.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!n._content))},dependencies:[h.O5,ft],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),ke=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,C.BQ,J.ZD,J.ZD,C.BQ]}),i})();var Dt=r(9985),Ft=r(2931);function Be(i,a){if(1&i&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._UZ(3,"div",7),t.TgZ(4,"div",8)(5,"span",9),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"span",10),t._uU(9),t.ALo(10,"uppercase"),t.qZA()()(),t.TgZ(11,"div",11),t._UZ(12,"img",12),t.ALo(13,"uploadsreplace"),t.qZA()(),t.TgZ(14,"div",13)(15,"a",14)(16,"div",15),t._uU(17,"logout"),t.qZA(),t.TgZ(18,"div"),t._uU(19,"Logout"),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(1),t.Gre("d-flex flex-row align-items-center user user-",e.profile.site.short," cursor-pointer"),t.xp6(2),t.Q6J("innerHTML",e.profile.user.nickname,t.oJD),t.xp6(3),t.Oqu(t.lcZ(7,9,e.profile.site.name)),t.xp6(3),t.Oqu(t.lcZ(10,11,e.profile.site.short)),t.xp6(3),t.s9C("src",t.lcZ(13,13,e.profile.user.avatar),t.LSH),t.MGl("alt","",e.profile.user.nickname,"'s avatar"),t.Q6J("nameDynamicReplace",e.profile.user.nickname)}}let Ze=(()=>{class i{constructor(e){this.globalService=e,this.appName=bt.lW}ngOnInit(){this.profile=this.globalService.credentials}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ct.d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-navbar"]],decls:5,vars:1,consts:[[1,"navbar","bg-white","px-2"],[1,"container-fluid"],[1,"small-logo","mb-0"],["class","ms-auto dropdown-no-caret","ngbDropdown","","display","dynamic","placement","bottom-end",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-end",1,"ms-auto","dropdown-no-caret"],["ngbDropdownToggle",""],[1,"text-end"],[1,"nickname","text-truncate","lh-1","mb-1",3,"innerHTML"],[1,"fst-italic","fs-xs","lh-1"],[1,"d-none","d-md-inline"],[1,"d-md-none"],[1,"avatar","ms-2","rounded-circle"],["appImage","",1,"image-cover","rounded-circle",3,"src","alt","nameDynamicReplace"],["ngbDropdownMenu",""],["role","button","routerLink","/login",1,"dropdown-item","d-flex","flex-row","align-items-center"],[1,"material-icons-outlined","d-block","me-1"]],template:function(e,n){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-logo"),t.qZA(),t.YNc(4,Be,20,15,"div",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.profile))},dependencies:[h.O5,Dt.t,St.R,W.jt,W.iD,W.Vi,W.M2,L.yS,h.gd,h.rS,Ft.g],styles:[".navbar[_ngcontent-%COMP%]{height:64px;border-bottom:1px solid #dee2e6;box-shadow:0 .125rem .25rem #00000013}h1[_ngcontent-%COMP%]{color:#4864fe}.user[_ngcontent-%COMP%]{color:inherit}.user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid}.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:100px}.user.user-ff[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#58a72e}.user.user-fc[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#0082cd}.user.user-bf[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#e67f22}@media (min-width: 576px){.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:200px}}@media (min-width: 960px){.navbar[_ngcontent-%COMP%]{margin-left:260px;position:fixed;top:0;left:0;right:0;z-index:999;border-bottom:0;box-shadow:0 .5rem 1rem #00000026}.small-logo[_ngcontent-%COMP%]{display:none}}"]}),i})();function Ee(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(8);return t.KtG(o.close())}),t._uU(1,"close"),t.qZA()}}function Le(i,a){}const It=function(i){return{active:i}};let Ne=(()=>{class i{constructor(e,n,o,l,d,g,F,z){this.loadComponentService=e,this.breakpointObserver=n,this.renderer=o,this.activatedRoute=l,this.globalsService=d,this.router=g,this.sidenavRightService=F,this.changeDetectorRef=z,this.sidenavRightCurrentContent="",this.sidenavRightComponents=at.R8,this.sidenavRightOpened=!1,this.isHome=!1,this.lessThanMediumScreenSize=this.breakpointObserver.isMatched([y.u3.XSmall,y.u3.Small]),this.routerSubscription=this.router.events.pipe((0,D.h)(w=>w instanceof L.m2)).subscribe(w=>{this.isHome=w.urlAfterRedirects===K.B2.HOME})}ngOnInit(){const e=this.activatedRoute.snapshot.data.forum;e&&(this.globalsService.forum=e),this.breakpointSubscription=this.breakpointObserver.observe([y.u3.XSmall,y.u3.Small]).subscribe(n=>{this.lessThanMediumScreenSize=n.matches}),this.sidenavRightSubscription=this.sidenavRightService.observable.subscribe(n=>{n?this.showSidenavRightComponent(n):this.sidenavRightOpened&&(this.sidenavRightOpened=!1)})}freeSidenavRightContent(){this.sidenavRightDirective.viewContainerRef.clear(),this.sidenavRightCurrentContent=""}showSidenavRightComponent(e){this.sidenavRightCurrentContent!==e.entity.name&&(this.loadComponentService.show(this.sidenavRightDirective.viewContainerRef,e.entity.component,!0),this.sidenavRightOpened||(this.sidenavRightOpened=!0),this.sidenavRightCurrentContent=e.entity.name,e.detectChanges&&this.changeDetectorRef.detectChanges())}sidenavOpening(){this.renderer.addClass(document.body,"sidenav-opened")}sidenavClosing(){this.renderer.removeClass(document.body,"sidenav-opened")}ngOnDestroy(){this.breakpointSubscription&&this.breakpointSubscription.unsubscribe(),this.routerSubscription?.unsubscribe(),this.sidenavRightSubscription?.unsubscribe(),this.sidenavRightService.pushEntity(void 0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(qt),t.Y36(y.Yg),t.Y36(t.Qsj),t.Y36(L.gz),t.Y36(ct.d),t.Y36(L.F0),t.Y36(mt.f),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-root"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ct,7),2&e){let o;t.iGM(o=t.CRH())&&(n.sidenavRightDirective=o.first)}},decls:15,vars:15,consts:[["autosize","",1,"main-sidenav-container",3,"hasBackdrop"],[1,"d-flex","flex-column"],[3,"isSmallScreen"],[1,"d-block",3,"blueBackground"],["position","end","mode","over",1,"sidenav-right","mw-100",3,"opened","autoFocus","fixedInViewport","closed","closedStart","openedStart","openedChange"],["sidenavRight",""],[1,"sidenav-right-content","d-flex","flex-column","position-relative"],["class","close-sidenav material-icons d-block text-muted position-absolute cursor-pointer",3,"click",4,"ngIf"],["appSidenavRight",""],[1,"btn-group","d-flex","flex-row","mt-auto","mb-3","px-3"],[1,"btn","btn-outline-primary","shadow-none","flex-grow-1",3,"ngClass","innerText","click"],[1,"close-sidenav","material-icons","d-block","text-muted","position-absolute","cursor-pointer",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav-content",1),t._UZ(2,"app-navbar")(3,"app-main-nav",2),t.TgZ(4,"main"),t._UZ(5,"router-outlet"),t.qZA(),t._UZ(6,"app-footer",3),t.qZA(),t.TgZ(7,"mat-sidenav",4,5),t.NdJ("closed",function(){return n.freeSidenavRightContent()})("closedStart",function(){return n.sidenavClosing()})("openedStart",function(){return n.sidenavOpening()})("openedChange",function(l){return n.sidenavRightOpened=l}),t.TgZ(9,"div",6),t.YNc(10,Ee,2,0,"div",7),t.YNc(11,Le,0,0,"ng-template",8),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return n.showSidenavRightComponent({entity:n.sidenavRightComponents.forumList})}),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return n.showSidenavRightComponent({entity:n.sidenavRightComponents.scriptsAdmin})}),t.qZA()()()()()),2&e&&(t.Q6J("hasBackdrop",!0),t.xp6(3),t.Q6J("isSmallScreen",n.lessThanMediumScreenSize),t.xp6(3),t.Q6J("blueBackground",n.isHome),t.xp6(1),t.Q6J("opened",n.sidenavRightOpened)("autoFocus",!1)("fixedInViewport",!0),t.xp6(3),t.Q6J("ngIf",n.lessThanMediumScreenSize),t.xp6(3),t.Q6J("ngClass",t.VKq(11,It,n.sidenavRightCurrentContent===n.sidenavRightComponents.forumList.name))("innerText","Lista forum"),t.xp6(1),t.Q6J("ngClass",t.VKq(13,It,n.sidenavRightCurrentContent===n.sidenavRightComponents.scriptsAdmin.name))("innerText","Lista admin"))},dependencies:[h.mk,h.O5,Vt.c,_e,L.lC,Tt,Ot,ft,Ze,Ct],styles:["mat-sidenav-content[_ngcontent-%COMP%]{min-height:100vh}.mat-drawer-container[_ngcontent-%COMP%]{background-color:transparent}.sidenav-right[_ngcontent-%COMP%]{width:500px}.sidenav-right[_ngcontent-%COMP%]   .sidenav-right-content[_ngcontent-%COMP%]{min-height:100%}.close-sidenav[_ngcontent-%COMP%]{right:.75rem;top:.825rem}main[_ngcontent-%COMP%]{position:relative;padding:1rem 0}app-footer[_ngcontent-%COMP%]{margin-bottom:53px}@media (min-width: 768px){main[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 960px){main[_ngcontent-%COMP%]{padding:1.5rem;margin-left:260px;margin-top:64px}app-footer[_ngcontent-%COMP%]{margin-left:260px;margin-bottom:0}}"]}),i})(),Rt=(()=>{class i{constructor(e,n){this.router=e,this.profileService=n}canActivate(){return!!this.profileService.isAdmin()||this.router.parseUrl(K.B2.HOME)}canActivateChild(){return this.canActivate()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(L.F0),t.LFG(ot.H))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Pt=(()=>{class i{constructor(e,n){this.router=e,this.profileService=n}canActivate(){return!!this.profileService.isAlphaUser()||this.router.parseUrl(K.B2.HOME)}canActivateChild(){return this.canActivate()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(L.F0),t.LFG(ot.H))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kt=(()=>{class i{constructor(e,n){this.router=e,this.profileService=n}canActivate(){return!!this.profileService.isForumfreeStaff()||this.router.parseUrl(K.B2.HOME)}canActivateChild(){return this.canActivate()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(L.F0),t.LFG(ot.H))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ye=[{path:"",component:Ne,resolve:{forum:Ht},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>r.e(478).then(r.bind(r,478)).then(i=>i.HomeModule),data:{title:"Home"}},{path:"settings",loadChildren:()=>Promise.all([r.e(891),r.e(53)]).then(r.bind(r,5053)).then(i=>i.SettingsModule),data:{title:"Settings"}},{path:"script",loadChildren:()=>r.e(545).then(r.bind(r,2545)).then(i=>i.ScriptModule),data:{title:"Script"}},{path:"upload",loadChildren:()=>Promise.all([r.e(592),r.e(738)]).then(r.bind(r,4738)).then(i=>i.UploadModule),data:{title:"Upload"},canActivate:[Pt],canActivateChild:[Pt]},{path:"grafana",loadChildren:()=>Promise.all([r.e(891),r.e(871)]).then(r.bind(r,871)).then(i=>i.GrafanaModule),data:{title:"Grafana"},canActivate:[kt],canActivateChild:[kt]},{path:"admin-panel",loadChildren:()=>Promise.all([r.e(993),r.e(934),r.e(592),r.e(120)]).then(r.bind(r,120)).then(i=>i.AdminPanelModule),data:{title:"Amministrazione"},canActivate:[Rt],canActivateChild:[Rt]}]}];let Ue=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[L.Bz.forChild(Ye),L.Bz]}),i})();var Bt=r(1599);let Ge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,R.$,s.h,W.XC,L.Bz,Bt.g]}),i})();var ze=r(9207),Je=r(5254),Qe=r(9832),He=r(4029),qe=r(5174);let Ve=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,x._,c.u5,O.z,R.$,P.q,s.h,Jt,Ue,ke,Ge,Je.G,Bt.g]}),i})();t.B6R(ze.t,[h.mk,h.sg,h.O5,Qe.P,Dt.t,He.R,qe.$],[Ft.g])},7016:(X,Y,r)=>{r.d(Y,{Yu:()=>m,fv:()=>b,R8:()=>M});var h=r(5861),x=r(1309),c=r(4650),O=r(3138),R=r(8367),P=r(9209),s=r(5681),k=r(9358),I=r(6895),U=r(433),N=r(9985),t=r(4029),Z=r(2931);function E(u,B){1&u&&(c.ynx(0),c._uU(1," \xc8 possibile passare velocemente da un sito a un altro semplicemente cliccando sul nome del forum/blog desiderato: l'app verr\xe0 automaticamente aggiornata con le nuove informazioni e si potr\xe0 iniziare subito ad amministrare! "),c.BQk())}function p(u,B){1&u&&c._uU(0," Uno sviluppatore pu\xf2 inserire direttamente il dominio completo del forum/blog nell'apposito campo sotto la lista per gestire i propri script installati su tale sito, in modo da agevolare la risoluzione di richieste di supporto. ")}function v(u,B){if(1&u&&c._UZ(0,"app-loader",7),2&u){const f=c.oxw();c.Q6J("message",f.loadingMessage)}}const T=function(u){return{selected:u}};function Q(u,B){if(1&u){const f=c.EpF();c.TgZ(0,"li",13),c.NdJ("click",function(y){const G=c.CHM(f).$implicit,D=c.oxw(3);return c.KtG(D.selectForum(G,y))}),c.TgZ(1,"div",14),c._UZ(2,"img",15),c.ALo(3,"uploadsreplace"),c.qZA(),c.TgZ(4,"div",16),c._UZ(5,"div",17)(6,"div",18),c.qZA()()}if(2&u){const f=B.$implicit,C=c.oxw(3);c.Q6J("ngClass",c.VKq(8,T,C.selectedForum===f.id)),c.xp6(2),c.s9C("src",c.lcZ(3,6,f.preview),c.LSH),c.s9C("alt",f.name),c.Q6J("srcReplacer",C.defaultImage),c.xp6(3),c.Q6J("innerHTML",f.name,c.oJD),c.xp6(1),c.Q6J("innerText",f.fulldomain)}}function nt(u,B){if(1&u&&(c.TgZ(0,"ul",11),c.YNc(1,Q,7,10,"li",12),c.qZA()),2&u){const f=c.oxw(2);c.xp6(1),c.Q6J("ngForOf",f.forums)}}function V(u,B){1&u&&(c.TgZ(0,"div",19),c._uU(1,"Non possiedi l'amministrazione di alcun forum!"),c.qZA())}function rt(u,B){if(1&u){const f=c.EpF();c.TgZ(0,"div",20)(1,"input",21,22),c.NdJ("ngModelChange",function(y){c.CHM(f);const S=c.oxw(2);return c.KtG(S.forumInputValue=y)})("keyup.enter",function(){c.CHM(f);const y=c.MAs(2),S=c.oxw(2);return y.blur(),c.KtG(S.addForumFromDomain(y.value))}),c.qZA(),c.TgZ(3,"button",23),c.NdJ("click",function(){c.CHM(f);const y=c.MAs(2),S=c.oxw(2);return c.KtG(S.addForumFromDomain(y.value))}),c.TgZ(4,"span",24),c._uU(5,"done"),c.qZA()()()}if(2&u){const f=c.oxw(2);c.xp6(1),c.Q6J("ngModel",f.forumInputValue)}}function tt(u,B){if(1&u&&(c.YNc(0,nt,2,1,"ul",8),c.YNc(1,V,2,0,"ng-template",null,9,c.W1O),c.YNc(3,rt,6,1,"div",10)),2&u){const f=c.MAs(2),C=c.oxw();c.Q6J("ngIf",C.forums.length)("ngIfElse",f),c.xp6(3),c.Q6J("ngIf",C.isDev)}}let j=(()=>{class u{constructor(f,C,y,S,G){this.globalsService=f,this.toastService=C,this.forumService=y,this.profileService=S,this.sidenavRightService=G,this.toastMessage="Il dominio non \xe8 valido! Inserisci solo l'url del sito.",this.forums=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.defaultImage="/assets/default_forum.jpg",this.forumInputValue="";const D=this.globalsService.credentials;if(!D)throw new Error("Missing credentials!");this.credentials=D,this.domain=this.credentials.site.domain,this.selectedForum=this.globalsService.forum?.id||0,this.isDev=this.profileService.isDev()}ngOnInit(){var f=this;return(0,h.Z)(function*(){f.forums=(yield f.forumService.getMyForumList()).map(y=>f.forumService.createForumObject(y,f.domain,!0));const C=f.globalsService.forum;C&&-1===f.forums.findIndex(y=>y.id===C.id)&&f.forums.push(C),f.loading=!1})()}selectForum(f,C=null){this.selectedForum!==f.id&&(null===C||"A"!==C.target.nodeName)&&(this.sidenavRightService.closeOnAction&&(this.sidenavRightService.closeOnAction=!1,this.sidenavRightService.close()),this.globalsService.forum=f,this.selectedForum=f.id)}addForumFromDomain(f){var C=this;return(0,h.Z)(function*(){if(0===f.length)return;const y=C.forumService.parseUrl(f.replace(/\/$/,""));if(!y)return void C.toastService.show({content:C.toastMessage,level:x.m.ERROR});const S=`${y.subdomain}.${y.domain}`;let G=C.forums.find(D=>D.fulldomain===S);if(G)C.selectForum(G);else{C.loading=!0;const D=yield C.forumService.getForumDetailsFromDomain(S);D&&(G=C.forumService.createForumObject(D,y.domain,!1),C.forums.push(G),C.selectForum(G)),C.loading=!1}C.forumInputValue=""})()}}return u.\u0275fac=function(f){return new(f||u)(c.Y36(O.d),c.Y36(R.k),c.Y36(P._),c.Y36(s.H),c.Y36(k.f))},u.\u0275cmp=c.Xpm({type:u,selectors:[["app-my-forum-list"]],decls:12,vars:4,consts:[[1,"content","bg-white","pb-4"],[1,"title","fs-5","text-primary","fw-bold","mb-3","px-3"],[1,"description","px-3","mb-3","text-justify"],[4,"ngIf","ngIfElse"],["devDescription",""],[3,"message",4,"ngIf","ngIfElse"],["forumList",""],[3,"message"],["class","list-unstyled forum-list mb-0",4,"ngIf","ngIfElse"],["noForum",""],["class","input-group mt-3 px-3",4,"ngIf"],[1,"list-unstyled","forum-list","mb-0"],["class","d-flex flex-row align-items-center cursor-pointer px-3 px-sm-4",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","cursor-pointer","px-3","px-sm-4",3,"ngClass","click"],[1,"preview","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","srcReplacer"],[1,"info","flex-grow-1","py-3","d-flex","flex-column","align-items-start"],[1,"name","fw-bold","text-truncate","mw-100",3,"innerHTML"],[1,"text-muted","text-truncate","mw-100",3,"innerText"],[1,"alert","alert-primary","mx-3","text-center"],[1,"input-group","mt-3","px-3"],["type","text","placeholder","Link del forum...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["input",""],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"]],template:function(f,C){if(1&f&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2,"Forum da amministrare"),c.qZA(),c.TgZ(3,"div",2),c._uU(4,"Prima di poter installare uno script per forum oppure aggiungere o rimuovere un admin degli script, \xe8 essenziale selezionare il sito su cui operare. Di seguito \xe8 presente l'elenco dei forum/blog di cui si \xe8 amministratori, quello attualmente selezionato \xe8 evidenziato."),c._UZ(5,"br"),c.YNc(6,E,2,0,"ng-container",3),c.YNc(7,p,1,0,"ng-template",null,4,c.W1O),c.qZA(),c.YNc(9,v,1,1,"app-loader",5),c.YNc(10,tt,4,3,"ng-template",null,6,c.W1O),c.qZA()),2&f){const y=c.MAs(8),S=c.MAs(11);c.xp6(6),c.Q6J("ngIf",!C.isDev)("ngIfElse",y),c.xp6(3),c.Q6J("ngIf",C.loading)("ngIfElse",S)}},dependencies:[I.mk,I.sg,I.O5,U.Fj,U.JJ,U.On,N.t,t.R,Z.g],styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:background-color .3s}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.selected):hover{background-color:rgb(var(--bs-light-rgb))}.forum-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#dae0ff}.forum-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:50px;height:50px}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),u})();var et=r(9207),_=(()=>{return(u=_||(_={})).ScriptsAdmin="scriptsAdmin",u.ForumList="forumList",_;var u})(),A=r(5044);const m={home:{icon:{type:"material-icons-outlined",value:"cottage"},path:A.B2.HOME,description:"Home"},script:{icon:{type:"material-icons-outlined",value:"integration_instructions"},path:A.B2.SCRIPT,description:"Script",sub:[{name:"forum",description:"Script per forum",path:A.B2.SCRIPT_FORUM},{name:"user",description:"Script per utenti",path:A.B2.SCRIPT_USER},{name:"dev",description:"Gestione script",path:A.B2.SCRIPT_DEV}]},settings:{icon:{type:"material-icons-outlined",value:"settings"},path:A.B2.SETTINGS,description:"Impostazioni"},grafana:{icon:{type:"material-icons-outlined",value:"insights"},path:A.B2.GRAFANA,description:"Grafana"},adminPanel:{icon:{type:"material-icons-outlined",value:"build_circle"},path:A.B2.ADMIN,description:"Amministrazione"},upload:{icon:{type:"material-icons-outlined",value:"cloud"},path:A.B2.UPLOAD,description:"Upload"},adminSidenav:{icon:{type:"material-icons-outlined",value:"admin_panel_settings"},description:"Admin degli script"},forumSidenav:{icon:{type:"material-icons-outlined",value:"public"},description:"Seleziona forum"}},M={[_.ScriptsAdmin]:{component:et.t,name:_.ScriptsAdmin},[_.ForumList]:{component:j,name:_.ForumList}},b="Leggi di pi\xf9..."},9209:(X,Y,r)=>{r.d(Y,{_:()=>t});var h=r(5861),x=r(5044),I=r(4650),U=r(3138),N=r(5395);let t=(()=>{class Z{constructor(p,v){this.globalsService=p,this.graphqlService=v,this.groupsCache={},this.groupsPendingRequests={},this.sectionsCache={},this.sectionsPendingRequests={},this.myForumsCache={}}get cid(){return this.globalsService.forum?.cid}get ffuid(){const p=this.globalsService.credentials?.user.ffuid;if(!p)throw new Error("Missing credentials!");return p}getGroups(){var p=this;return(0,h.Z)(function*(){const v=p.cid;if(!v)return[];if(p.groupsCache.hasOwnProperty(v))return p.groupsCache[v];const T=yield p.groupsPendingRequests.hasOwnProperty(v)?p.groupsPendingRequests[v]:p.groupsPendingRequests[v]=p.graphqlService.query({query:"\nquery ForumGroups($cid: String!) {\n    forumGroups(cid: $cid) {\n        id\n        name\n        preset\n        legenda\n    }\n}",variables:{cid:v}});return delete p.groupsPendingRequests[v],p.groupsCache[v]=T.data.forumGroups})()}getSections(){var p=this;return(0,h.Z)(function*(){const v=p.cid;if(!v)return[];if(p.sectionsCache.hasOwnProperty(v))return p.sectionsCache[v];const T=yield p.sectionsPendingRequests.hasOwnProperty(v)?p.sectionsPendingRequests[v]:p.sectionsPendingRequests[v]=p.graphqlService.query({query:"\nquery ForumSections($cid: String!) {\n    forumSections(cid: $cid) {\n        id\n        name\n        desc\n        subsections {\n            id\n            name\n            desc\n            subsections {\n                id\n                name\n                desc\n                subsections {\n                    id\n                    name\n                    desc\n                    subsections {\n                        id\n                        name\n                        desc\n                        subsections {\n                            id\n                            name\n                            desc\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",variables:{cid:v}});return p.sectionsCache[v]=T.data.forumSections})()}getDomains(p){var v=this;return(0,h.Z)(function*(){return(yield v.graphqlService.query({query:"\nquery ForumCidToDomain($cids: [String!]!) {\n    forumCidToDomain(cids: $cids) {\n        cid\n        domain\n    }\n}",variables:{cids:p}})).data.forumCidToDomain})()}getMyForumList(){var p=this;return(0,h.Z)(function*(){const v=p.ffuid;if(p.myForumsCache.hasOwnProperty(v))return p.myForumsCache[v];const T=yield p.graphqlService.query({query:"\nquery MyForumList {\n    myForumList {\n        id, domain, name, preview\n    }\n}"});return p.myForumsCache[v]=T.data.myForumList})()}getForumDetailsFromDomain(p){var v=this;return(0,h.Z)(function*(){return(yield v.graphqlService.query({query:"\nquery ForumDomainToDetails($domain: String!) {\n    forumDomainToDetails(domain: $domain) {\n        id\n        domain\n        name\n        preview\n    }\n}",variables:{domain:p}})).data.forumDomainToDetails})()}getScriptAdmins(p){var v=this;return(0,h.Z)(function*(){return(yield v.graphqlService.query({query:"\nquery ScriptAdmins($cid: String!) {\n    scriptAdmins(cid: $cid) {\n        cid\n        id\n        nickname\n        avatar\n    }\n}",variables:{cid:p}})).data.scriptAdmins})()}parseUrl(p){const v=new RegExp("^(https?://)?([^.]+).(forumfree.it|forumcommunity.net|blogfree.net)$"),T=p.toLowerCase().match(v);if(T)return{subdomain:T[2],domain:T[3],shortdomain:x.pN.hasOwnProperty(T[3])?x.pN[T[3]]:""}}createForumObject(p,v,T){let Q=x.pN.hasOwnProperty(v)?x.pN[v]:"";return{...p,cid:Q+p.id,fulldomain:`${p.domain}.${v}`,url:`https://${p.domain}.${v}`,admin:T}}}return Z.\u0275fac=function(p){return new(p||Z)(I.LFG(U.d),I.LFG(N.J))},Z.\u0275prov=I.Yz7({token:Z,factory:Z.\u0275fac,providedIn:"root"}),Z})()},9358:(X,Y,r)=>{r.d(Y,{f:()=>c});var h=r(1135),x=r(4650);let c=(()=>{class O{constructor(){this.behaviorSubject=new h.X(void 0),this.state={}}get observable(){return this.behaviorSubject.asObservable()}pushEntity(P){this.behaviorSubject.next(P)}close(){this.pushEntity(void 0)}get closeOnAction(){return!0===this.state.closeOnAction}set closeOnAction(P){this.state.closeOnAction=P}}return O.\u0275fac=function(P){return new(P||O)},O.\u0275prov=x.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})()}}]);