"use strict";(self.webpackChunkboard=self.webpackChunkboard||[]).push([[655],{9832:($,Z,r)=>{r.d(Z,{P:()=>A});var h=r(7016),S=r(4650),o=r(9358);let A=(()=>{class P{constructor(T){this.sidenavRightService=T}ngOnInit(){}openForumSelection(){this.sidenavRightService.pushEntity({entity:h.R8.forumList})}}return P.\u0275fac=function(T){return new(T||P)(S.Y36(o.f))},P.\u0275cmp=S.Xpm({type:P,selectors:[["app-forum-required"]],decls:11,vars:0,consts:[[1,"alert","alert-primary","mb-0"],[1,"fw-bold","text-center"],[1,"text-justify"],[1,"fw-bold"],["role","button",1,"text-decoration-underline","fw-bold",3,"click"]],template:function(T,F){1&T&&(S.TgZ(0,"div",0)(1,"div",1),S._uU(2,"Seleziona un forum!"),S.qZA(),S.TgZ(3,"div",2),S._uU(4," Per utilizzare questa funzione \xe8 prima necessario "),S.TgZ(5,"span",3),S._uU(6,"scegliere su quale sito"),S.qZA(),S._uU(7," si vuole operare. \xc8 possibile selezionare il forum/blog da amministrare mediante "),S.TgZ(8,"a",4),S.NdJ("click",function(){return F.openForumSelection()}),S._uU(9,"l'apposita funzione"),S.qZA(),S._uU(10," presente nella sidenav di destra. "),S.qZA()())}}),P})()},2974:($,Z,r)=>{r.d(Z,{z:()=>o});var h=r(6895),S=r(4650);let o=(()=>{class A{}return A.\u0275fac=function(R){return new(R||A)},A.\u0275mod=S.oAB({type:A}),A.\u0275inj=S.cJS({imports:[h.ez]}),A})()},8365:($,Z,r)=>{r.d(Z,{t:()=>H});var h=r(5861),S=r(7579),o=r(4650),A=r(3138),P=r(5395),R=r(8367),T=r(7251);function F(C,I){if(1&C&&o._UZ(0,"app-loader",7),2&C){const d=o.oxw(2);o.Q6J("message",d.loadingMessage)}}function l(C,I){if(1&C){const d=o.EpF();o.TgZ(0,"div",12)(1,"input",13,14),o.NdJ("keyup.enter",function(){o.CHM(d);const _=o.MAs(2),w=o.oxw(3);return o.KtG(w.userAddScriptsAdmin(w.forum.cid,_.value))}),o.qZA(),o.TgZ(3,"button",15),o.NdJ("click",function(){o.CHM(d);const _=o.MAs(2),w=o.oxw(3);return o.KtG(w.userAddScriptsAdmin(w.forum.cid,_.value))}),o.TgZ(4,"span",16),o._uU(5,"add"),o.qZA()()()}}function u(C,I){1&C&&(o.TgZ(0,"div",17),o._uU(1,"Non hai i permessi per modificare gli admin degli script del forum selezionato!"),o.qZA())}const y=function(){return{placement:"left",animation:"shift-away"}};function t(C,I){if(1&C){const d=o.EpF();o.TgZ(0,"button",28),o.NdJ("click",function(){o.CHM(d);const _=o.oxw().$implicit,w=o.oxw(4);return o.KtG(w.userDelScriptsAdmin(w.forum.cid,_.id))}),o.TgZ(1,"span",29),o._uU(2,"delete"),o.qZA()()}2&C&&o.Q6J("tippyProps",o.DdM(1,y))}const z=function(C){return{"border-bottom":C}};function B(C,I){if(1&C&&(o.TgZ(0,"li",20)(1,"div",21),o._UZ(2,"img",22),o.ALo(3,"uploadsreplace"),o.qZA(),o.TgZ(4,"div",23)(5,"div",24),o._UZ(6,"a",25),o.TgZ(7,"div",26),o._uU(8),o.qZA()(),o.YNc(9,t,3,2,"button",27),o.qZA()()),2&C){const d=I.$implicit,M=I.last,_=o.oxw(4);o.xp6(2),o.s9C("src",o.lcZ(3,9,d.avatar),o.LSH),o.MGl("alt","",d.nickname,"'s avatar"),o.Q6J("nameDynamicReplace",d.nickname),o.xp6(2),o.Q6J("ngClass",o.VKq(11,z,!M)),o.xp6(2),o.hYB("href","",_.forum.url,"/?act=Profile&MID=",d.id,"",o.LSH),o.Q6J("innerText",d.nickname),o.xp6(2),o.hij("User id: ",d.id,""),o.xp6(1),o.Q6J("ngIf",_.canManage)}}function tt(C,I){if(1&C&&(o.TgZ(0,"ul",18),o.YNc(1,B,10,13,"li",19),o.qZA()),2&C){const d=o.oxw(3);o.xp6(1),o.Q6J("ngForOf",d.admins)}}function et(C,I){1&C&&(o.TgZ(0,"div",17),o._uU(1,"Non \xe8 stato inserito alcun admin degli script!"),o.qZA())}function V(C,I){if(1&C&&(o.YNc(0,l,6,0,"div",8),o.YNc(1,u,2,0,"ng-template",null,9,o.W1O),o.YNc(3,tt,2,1,"ul",10),o.YNc(4,et,2,0,"ng-template",null,11,o.W1O)),2&C){const d=o.MAs(2),M=o.MAs(5),_=o.oxw(2);o.Q6J("ngIf",_.canManage)("ngIfElse",d),o.xp6(3),o.Q6J("ngIf",_.admins.length)("ngIfElse",M)}}function W(C,I){if(1&C&&(o.ynx(0),o.YNc(1,F,1,1,"app-loader",5),o.YNc(2,V,6,4,"ng-template",null,6,o.W1O),o.BQk()),2&C){const d=o.MAs(3),M=o.oxw();o.xp6(1),o.Q6J("ngIf",M.loading)("ngIfElse",d)}}function nt(C,I){1&C&&o._UZ(0,"app-forum-required")}let H=(()=>{class C{constructor(d,M,_,w){if(this.globalsService=d,this.graphqlService=M,this.toastService=_,this.forumService=w,this.componentDestroyed=new S.x,this.callOnDestroy=[],this.SUBSCRIBE_SCRIPTS_ADMIN="\n        subscription OnScriptAdminsChange($cid: ID!) {\n            changesScriptAdmins(cid: $cid) {\n                eventType\n            }\n        }",this.ADD_SCRIPTS_ADMIN_BY_NAME="\n        mutation addAdminByName($cid: ID!, $name: String!) {\n            addScriptAdminByName(cid: $cid, name: $name)\n        }",this.ADD_SCRIPTS_ADMIN_BY_ID="\n        mutation addAdminById($cid: ID!, $id: Int!) {\n            addScriptAdminById(cid: $cid, id: $id)\n        }",this.DEL_SCRIPTS_ADMIN="\n        mutation delAdmin($cid: ID!, $id: Int!) {\n            delScriptAdmin(cid: $cid, id: $id)\n        }",this.toastMessage="Inserisci <strong>l'ID o lo username</strong> dell'utente che vuoi rendere admin degli script!",this.admins=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.canManage=!0,this.componentDestroyed.subscribe(()=>{this.callOnDestroy.forEach(K=>K())}),!this.globalsService.credentials)throw new Error("Missing credentials!");this.forum=this.globalsService.forum}ngOnInit(){var d=this;return(0,h.Z)(function*(){if(!d.forum)return;d.canManage=d.forum.admin||!1;let M=d.forum.cid;d.admins=yield d.forumService.getScriptAdmins(M),d.load(),d.callOnDestroy.push(yield d.graphqlService.subscribe({query:d.SUBSCRIBE_SCRIPTS_ADMIN,variables:{cid:M}},(0,h.Z)(function*(){d.load("Sincronizzazione lista admin"),d.admins=yield d.forumService.getScriptAdmins(M),d.load()})))})()}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}userAddScriptsAdmin(d,M){var _=this;return(0,h.Z)(function*(){if(_.loading)throw new Error("Loading already in progress");if(0===M.length)return _.toastService.show({content:_.toastMessage}),!1;_.load("Inserimento admin");const w=yield _.addScriptsAdmin(d,{name:M,id:+M});return _.load("Caricamento lista admin"),_.admins=yield _.forumService.getScriptAdmins(d),_.load(),w})()}userDelScriptsAdmin(d,M){var _=this;return(0,h.Z)(function*(){if(_.loading)throw new Error("Loading already in progress");_.load("Rimozione admin");const w=yield _.delScriptsAdmin(d,M);return _.load("Caricamento lista admin"),_.admins=yield _.forumService.getScriptAdmins(d),_.load(),w})()}addScriptsAdmin(d,M){var _=this;return(0,h.Z)(function*(){const w={cid:d,...M};if(!M.id&&!M.name)throw new Error;const N=w.id?_.ADD_SCRIPTS_ADMIN_BY_ID:_.ADD_SCRIPTS_ADMIN_BY_NAME;return void 0===(yield _.graphqlService.mutate({mutation:N,variables:w})).errors})()}delScriptsAdmin(d,M){var _=this;return(0,h.Z)(function*(){return void 0===(yield _.graphqlService.mutate({mutation:_.DEL_SCRIPTS_ADMIN,variables:{cid:d,id:M}})).errors})()}load(d){d?(this.loading=!0,this.loadingMessage=d):(this.loading=!1,this.loadingMessage="")}}return C.\u0275fac=function(d){return new(d||C)(o.Y36(A.d),o.Y36(P.J),o.Y36(R.k),o.Y36(T._))},C.\u0275cmp=o.Xpm({type:C,selectors:[["app-scripts-admin"]],decls:8,vars:2,consts:[[1,"content","bg-white","pb-4","px-3"],[1,"title","fs-5","text-primary","fw-bold","mb-3"],[1,"description","mb-3","text-justify"],[4,"ngIf","ngIfElse"],["forumRequired",""],[3,"message",4,"ngIf","ngIfElse"],["adminForm",""],[3,"message"],["class","input-group mb-3",4,"ngIf","ngIfElse"],["noPermissions",""],["class","list-unstyled admin-list mb-0",4,"ngIf","ngIfElse"],["noAdmin",""],[1,"input-group","mb-3"],["type","text","placeholder","Nickname o id dell'utente...",1,"form-control",3,"keyup.enter"],["input",""],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"],[1,"alert","alert-primary","text-center"],[1,"list-unstyled","admin-list","mb-0"],["class","d-flex flex-row align-items-center mx-sm-2",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","mx-sm-2"],[1,"avatar","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","nameDynamicReplace"],[1,"info","flex-grow-1","d-flex","flex-row","align-items-center","py-3","py-sm-4",3,"ngClass"],[1,"me-auto","pe-2","d-flex","flex-column","flex-grow-1","align-items-start"],["target","_blank",1,"d-block","name","fw-bold","text-decoration-none","text-truncate","lh-1","mw-100",3,"href","innerText"],[1,"text-muted","fs-sm"],["class","btn btn-danger p-1 d-block","appTippy","Rimuovi l'admin",3,"tippyProps","click",4,"ngIf"],["appTippy","Rimuovi l'admin",1,"btn","btn-danger","p-1","d-block",3,"tippyProps","click"],[1,"material-icons","d-block"]],template:function(d,M){if(1&d&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Gestore admin degli script"),o.qZA(),o.TgZ(3,"div",2),o._uU(4," Tramite questo pannello \xe8 possibile gestire gli admin degli script del forum selezionato. Un admin degli script non avr\xe0 alcun potere di moderazione sul forum o blog, ma potr\xe0 installare, disinstallare e modificare gli script del sito. La funzione risulta utile se si vuole riservare la gestione degli script ad alcuni utenti qualificati, senza dover fornire loro un ruolo particolare sul forum o blog. \xc8 importante evidenziare che un amministratore degli script possiede anche il potere di nominare e rimuovere altri admin degli script. "),o.qZA(),o.YNc(5,W,4,2,"ng-container",3),o.YNc(6,nt,1,0,"ng-template",null,4,o.W1O),o.qZA()),2&d){const _=o.MAs(7);o.xp6(5),o.Q6J("ngIf",M.forum)("ngIfElse",_)}},styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:0}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),C})()},8655:($,Z,r)=>{r.r(Z),r.d(Z,{MainModule:()=>Ge});var h=r(6895),S=r(7132),o=r(433),A=r(2974),P=r(3204),R=r(6818),T=r(1043),F=r(2687),l=r(8184),u=r(3353),y=r(4080),t=r(4650),z=r(9521),B=r(7579),tt=r(9770),et=r(9646),V=r(445),W=r(8675);function nt(i,a){}class H{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let I=(()=>{class i extends y.en{constructor(e,n,s,c,m,v,O,Y){super(),this._elementRef=e,this._focusTrapFactory=n,this._config=c,this._interactivityChecker=m,this._ngZone=v,this._overlayRef=O,this._focusMonitor=Y,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=x=>{this._portalOutlet.hasAttached();const G=this._portalOutlet.attachDomPortal(x);return this._contentAttached(),G},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=s}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),n}attachTemplatePortal(e){this._portalOutlet.hasAttached();const n=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),n}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(n)}_focusByCssSelector(e,n){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,n)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{n||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let n=null;if("string"==typeof e?n=this._document.querySelector(e):"boolean"==typeof e?n=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(n=e),this._config.restoreFocus&&n&&"function"==typeof n.focus){const s=(0,u.ht)(),c=this._elementRef.nativeElement;(!s||s===this._document.body||s===c||c.contains(s))&&(this._focusMonitor?(this._focusMonitor.focusVia(n,this._closeInteractionType),this._closeInteractionType=null):n.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,n=(0,u.ht)();return e===n||e.contains(n)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,u.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(F.qV),t.Y36(h.K0,8),t.Y36(H),t.Y36(F.ic),t.Y36(t.R0b),t.Y36(l.Iu),t.Y36(F.tE))},i.\u0275cmp=t.Xpm({type:i,selectors:[["cdk-dialog-container"]],viewQuery:function(e,n){if(1&e&&t.Gf(y.Pl,7),2&e){let s;t.iGM(s=t.CRH())&&(n._portalOutlet=s.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,n){2&e&&t.uIk("id",n._config.id||null)("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-labelledby",n._config.ariaLabel?null:n._ariaLabelledBy)("aria-label",n._config.ariaLabel)("aria-describedby",n._config.ariaDescribedBy||null)},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&t.YNc(0,nt,0,0,"ng-template",0)},dependencies:[y.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),i})();class d{constructor(a,e){this.overlayRef=a,this.config=e,this.closed=new B.x,this.disableClose=e.disableClose,this.backdropClick=a.backdropClick(),this.keydownEvents=a.keydownEvents(),this.outsidePointerEvents=a.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(n=>{n.keyCode===z.hY&&!this.disableClose&&!(0,z.Vb)(n)&&(n.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(a,e){if(this.containerInstance){const n=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),n.next(a),n.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(a="",e=""){return this.overlayRef.updateSize({width:a,height:e}),this}addPanelClass(a){return this.overlayRef.addPanelClass(a),this}removePanelClass(a){return this.overlayRef.removePanelClass(a),this}}const M=new t.OlP("DialogScrollStrategy"),_=new t.OlP("DialogData"),w=new t.OlP("DefaultDialogConfig"),K={provide:M,deps:[l.aV],useFactory:function N(i){return()=>i.scrollStrategies.block()}};let mt=0,ot=(()=>{class i{constructor(e,n,s,c,m,v){this._overlay=e,this._injector=n,this._defaultOptions=s,this._parentDialog=c,this._overlayContainer=m,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new B.x,this._afterOpenedAtThisLevel=new B.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,tt.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,W.O)(void 0))),this._scrollStrategy=v}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,n){(n={...this._defaultOptions||new H,...n}).id=n.id||"cdk-dialog-"+mt++,n.id&&this.getDialogById(n.id);const c=this._getOverlayConfig(n),m=this._overlay.create(c),v=new d(m,n),O=this._attachContainer(m,v,n);return v.containerInstance=O,this._attachDialogContent(e,v,O,n),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(v),v.closed.subscribe(()=>this._removeOpenDialog(v,!0)),this.afterOpened.next(v),v}closeAll(){b(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(n=>n.id===e)}ngOnDestroy(){b(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),b(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const n=new l.X_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(n.backdropClass=e.backdropClass),n}_attachContainer(e,n,s){const c=s.injector||s.viewContainerRef?.injector,m=[{provide:H,useValue:s},{provide:d,useValue:n},{provide:l.Iu,useValue:e}];let v;s.container?"function"==typeof s.container?v=s.container:(v=s.container.type,m.push(...s.container.providers(s))):v=I;const O=new y.C5(v,s.viewContainerRef,t.zs3.create({parent:c||this._injector,providers:m}),s.componentFactoryResolver);return e.attach(O).instance}_attachDialogContent(e,n,s,c){if(e instanceof t.Rgc){const m=this._createInjector(c,n,s,void 0);let v={$implicit:c.data,dialogRef:n};c.templateContext&&(v={...v,..."function"==typeof c.templateContext?c.templateContext():c.templateContext}),s.attachTemplatePortal(new y.UE(e,null,v,m))}else{const m=this._createInjector(c,n,s,this._injector),v=s.attachComponentPortal(new y.C5(e,c.viewContainerRef,m,c.componentFactoryResolver));n.componentInstance=v.instance}}_createInjector(e,n,s,c){const m=e.injector||e.viewContainerRef?.injector,v=[{provide:_,useValue:e.data},{provide:d,useValue:n}];return e.providers&&("function"==typeof e.providers?v.push(...e.providers(n,e,s)):v.push(...e.providers)),e.direction&&(!m||!m.get(V.Is,null,t.XFs.Optional))&&v.push({provide:V.Is,useValue:{value:e.direction,change:(0,et.of)()}}),t.zs3.create({parent:m||c,providers:v})}_removeOpenDialog(e,n){const s=this.openDialogs.indexOf(e);s>-1&&(this.openDialogs.splice(s,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((c,m)=>{c?m.setAttribute("aria-hidden",c):m.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),n&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const n=e.parentElement.children;for(let s=n.length-1;s>-1;s--){const c=n[s];c!==e&&"SCRIPT"!==c.nodeName&&"STYLE"!==c.nodeName&&!c.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(c,c.getAttribute("aria-hidden")),c.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(l.aV),t.LFG(t.zs3),t.LFG(w,8),t.LFG(i,12),t.LFG(l.Xj),t.LFG(M))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac}),i})();function b(i,a){let e=i.length;for(;e--;)a(i[e])}let U=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({providers:[ot,K],imports:[l.U8,y.eL,F.rt,y.eL]}),i})();var p=r(3238),f=r(2289),g=r(7340),E=r(6451),D=r(9300),L=r(5698);function st(i,a){}const Zt={bottomSheetState:(0,g.X$)("state",[(0,g.SB)("void, hidden",(0,g.oB)({transform:"translateY(100%)"})),(0,g.SB)("visible",(0,g.oB)({transform:"translateY(0%)"})),(0,g.eR)("visible => void, visible => hidden",(0,g.ru)([(0,g.jt)(`${p.mZ.COMPLEX} ${p.yN.ACCELERATION_CURVE}`),(0,g.IO)("@*",(0,g.pV)(),{optional:!0})])),(0,g.eR)("void => visible",(0,g.ru)([(0,g.jt)(`${p.mZ.EXITING} ${p.yN.DECELERATION_CURVE}`),(0,g.IO)("@*",(0,g.pV)(),{optional:!0})]))])};let Lt=(()=>{class i extends I{constructor(e,n,s,c,m,v,O,Y,x,G){super(e,n,s,c,m,v,O,G),this._changeDetectorRef=x,this._animationState="void",this._animationStateChanged=new t.vpe,this._breakpointSubscription=Y.observe([f.u3.Medium,f.u3.Large,f.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",Y.isMatched(f.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",Y.isMatched(f.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",Y.isMatched(f.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_captureInitialFocus(){}_toggleClass(e,n){this._elementRef.nativeElement.classList.toggle(e,n)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(F.qV),t.Y36(h.K0,8),t.Y36(H),t.Y36(F.ic),t.Y36(t.R0b),t.Y36(l.Iu),t.Y36(f.Yg),t.Y36(t.sBO),t.Y36(F.tE))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(e,n){1&e&&t.WFA("@state.start",function(c){return n._onAnimationStart(c)})("@state.done",function(c){return n._onAnimationDone(c)}),2&e&&(t.uIk("role",n._config.role)("aria-modal",n._config.ariaModal)("aria-label",n._config.ariaLabel),t.d8E("@state",n._animationState))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,n){1&e&&t.YNc(0,st,0,0,"ng-template",0)},dependencies:[y.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[Zt.bottomSheetState]}}),i})(),gt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[U,p.BQ,y.eL,p.BQ]}),i})();const Nt=new t.OlP("MatBottomSheetData");class Ut{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class _t{constructor(a,e,n){this._ref=a,this._afterOpened=new B.x,this.containerInstance=n,this.disableClose=e.disableClose,n._animationStateChanged.pipe((0,D.h)(s=>"done"===s.phaseName&&"visible"===s.toState),(0,L.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),n._animationStateChanged.pipe((0,D.h)(s=>"done"===s.phaseName&&"hidden"===s.toState),(0,L.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),a.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,E.T)(this.backdropClick(),this.keydownEvents().pipe((0,D.h)(s=>s.keyCode===z.hY))).subscribe(s=>{!this.disableClose&&("keydown"!==s.type||!(0,z.Vb)(s))&&(s.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(a){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe((0,D.h)(e=>"start"===e.phaseName),(0,L.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},e.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=a,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Yt=new t.OlP("mat-bottom-sheet-default-options");let zt=(()=>{class i{constructor(e,n,s,c){this._overlay=e,this._parentBottomSheet=s,this._defaultOptions=c,this._bottomSheetRefAtThisLevel=null,this._dialog=n.get(ot)}get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}open(e,n){const s={...this._defaultOptions||new Ut,...n};let c;return this._dialog.open(e,{...s,disableClose:!0,maxWidth:"100%",container:Lt,scrollStrategy:s.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:c}),providers:(m,v,O)=>(c=new _t(m,s,O),[{provide:_t,useValue:c},{provide:Nt,useValue:s.data}])}),c.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===c&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>c.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):c.containerInstance.enter(),this._openedBottomSheetRef=c,c}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(l.aV),t.LFG(t.zs3),t.LFG(i,12),t.LFG(Yt,8))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:gt}),i})();var j=r(651),k=r(9631);let Qt=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,T.h,gt,j.lQ,k.Bz]}),i})();var vt=r(5861),X=r(5044),Jt=r(7251),at=r(4034),rt=r(3138);let Gt=(()=>{class i{constructor(e,n,s){this.forumService=e,this.profileService=n,this.globalsService=s}resolve(e,n){var s=this;return(0,vt.Z)(function*(){const c=e.queryParamMap.get(X.RT.SITE);if(!c||c===s.globalsService.forum?.fulldomain)return;const m=s.forumService.parseUrl(c);if(!m)return;const v=(yield s.forumService.getMyForumList()).find(O=>O.domain===m.subdomain);if(v)return s.forumService.createForumObject(v,m.domain,!0);if(s.profileService.isDev()){const O=yield s.forumService.getForumDetailsFromDomain(`${m.subdomain}.${m.domain}`);if(O)return s.forumService.createForumObject(O,m.domain,!1)}})()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(Jt._),t.LFG(at.H),t.LFG(rt.d))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var it=r(7016);let Ct=(()=>{class i{constructor(e){this.viewContainerRef=e}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.s_b))},i.\u0275dir=t.lG2({type:i,selectors:[["","appSidenavRight",""]]}),i})(),Ht=(()=>{class i{constructor(){}show(e,n,s=!1,c={}){s&&e.clear();const m=e.createComponent(n);if(c)for(let v in c)c.hasOwnProperty(v)&&(m.instance[v]=c[v]);return m}}return i.\u0275fac=function(e){return new(e||i)},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ut=r(9358),qt=r(5645);const Vt=["app-bottom-nav",""],Wt=function(i,a){return{"current text-reset":i,"mb-2":a}};function jt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",13),t.NdJ("click",function(){t.CHM(e);const s=t.oxw().$implicit,c=t.oxw(2);return t.KtG(c.navigateFromBottomSheet(s.path))}),t.qZA()()}if(2&i){const e=t.oxw(),n=e.$implicit,s=e.last,c=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(2,Wt,c.selectedPath===n.path,!s))("innerText",n.description)}}function $t(i,a){if(1&i&&(t.ynx(0),t.YNc(1,jt,2,5,"li",12),t.BQk()),2&i){const e=a.$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.path!==n.paths.SCRIPT_DEV||n.isDev)}}function Kt(i,a){if(1&i&&(t.TgZ(0,"ul",10),t.YNc(1,$t,2,1,"ng-container",11),t.qZA()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngForOf",e.navItems.script.sub)}}const bt=function(i){return{"current text-reset":i}};function Xt(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",16),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.navigateFromBottomSheet(s.navItems.upload.path))}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,bt,e.selectedPath===e.navItems.upload.path))("innerText",e.navItems.upload.description)}}function te(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"li")(1,"a",16),t.NdJ("click",function(){t.CHM(e);const s=t.oxw(2);return t.KtG(s.navigateFromBottomSheet(s.navItems.adminPanel.path))}),t.qZA()()}if(2&i){const e=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,bt,e.selectedPath===e.navItems.adminPanel.path))("innerText",e.navItems.adminPanel.description)}}function ee(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"ul",10),t.YNc(1,Xt,2,4,"li",12),t.YNc(2,te,2,4,"li",12),t.TgZ(3,"li")(4,"a",14),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.pushSidenavRightEntity(s.sidenavRightComponents.scriptsAdmin))}),t._uU(5,"Script Admin"),t.qZA()(),t.TgZ(6,"li")(7,"a",15),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s.pushSidenavRightEntity(s.sidenavRightComponents.forumList))}),t._uU(8,"Forum"),t.qZA()()()}if(2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngIf",e.isAlphaUser),t.xp6(1),t.Q6J("ngIf",e.isAdmin)}}const pt=function(i){return{selected:i}};let ne=(()=>{class i{constructor(e,n,s){this.bottomsheetService=e,this.router=n,this.sidenavRightService=s,this.selectedPath="",this.isDev=!1,this.isAdmin=!1,this.isAlphaUser=!1,this.navItems=it.Yu,this.sidenavRightComponents=it.R8,this.paths=X.B2}ngOnInit(){}pushSidenavRightEntity(e){this.bottomsheetRef?.dismiss(),this.sidenavRightService.pushEntity({entity:e})}navigateFromBottomSheet(e){this.bottomsheetRef&&this.bottomsheetRef.dismiss(e)}showBottomSheet(e){var n=this;this.bottomsheetRef=this.bottomsheetService.open(e,{closeOnNavigation:!0});const s=this.bottomsheetRef.afterDismissed().subscribe(function(){var c=(0,vt.Z)(function*(m){s.unsubscribe(),m&&(yield n.router.navigate([m]))});return function(m){return c.apply(this,arguments)}}())}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(zt),t.Y36(k.F0),t.Y36(ut.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","app-bottom-nav",""]],inputs:{selectedPath:"selectedPath",ffuid:"ffuid",isDev:"isDev",isAdmin:"isAdmin",isAlphaUser:"isAlphaUser"},attrs:Vt,decls:28,vars:23,consts:[[1,"bottom-nav","border-top","shadow-sm","py-2","bg-white"],[1,"nav"],["role","button",1,"d-block",3,"ngClass","routerLink"],[1,"description","fs-xxs","lh-1","text-center"],["role","button",1,"d-block",3,"ngClass","click"],[3,"innerText"],["role","button",1,"d-block",3,"click"],[1,"icon","text-center","material-icons-outlined"],["scriptRoutes",""],["otherComponents",""],[1,"list-unstyled","mb-0","py-2","panelup"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",1,"d-block","text-center","py-3","rounded",3,"ngClass","innerText","click"],["role","button",1,"d-block","text-center","py-3","rounded","mb-2",3,"click"],["role","button",1,"d-block","text-center","py-3","rounded",3,"click"],["role","button",1,"d-block","text-center","py-3","rounded","mb-2",3,"ngClass","innerText","click"]],template:function(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"div",0)(1,"ul",1)(2,"li")(3,"a",2)(4,"div"),t._uU(5),t.qZA(),t.TgZ(6,"div",3),t._uU(7,"Home"),t.qZA()()(),t.TgZ(8,"li")(9,"a",4),t.NdJ("click",function(){t.CHM(s);const m=t.MAs(25);return t.KtG(n.showBottomSheet(m))}),t._UZ(10,"div",5),t.TgZ(11,"div",3),t._uU(12,"Script"),t.qZA()()(),t.TgZ(13,"li")(14,"a",2),t._UZ(15,"div",5),t.TgZ(16,"div",3),t._uU(17,"Impostazioni"),t.qZA()()(),t.TgZ(18,"li")(19,"a",6),t.NdJ("click",function(){t.CHM(s);const m=t.MAs(27);return t.KtG(n.showBottomSheet(m))}),t.TgZ(20,"div",7),t._uU(21,"reorder"),t.qZA(),t.TgZ(22,"div",3),t._uU(23,"Altri"),t.qZA()()()()(),t.YNc(24,Kt,2,1,"ng-template",null,8,t.W1O),t.YNc(26,ee,9,2,"ng-template",null,9,t.W1O)}2&e&&(t.xp6(3),t.Q6J("ngClass",t.VKq(17,pt,n.selectedPath===n.navItems.home.path))("routerLink",n.navItems.home.path),t.xp6(1),t.Gre("icon text-center ",n.navItems.home.icon.type,""),t.xp6(1),t.Oqu(n.navItems.home.icon.value),t.xp6(4),t.Q6J("ngClass",t.VKq(19,pt,n.selectedPath.startsWith(n.navItems.script.path))),t.xp6(1),t.Gre("icon text-center ",n.navItems.script.icon.type,""),t.Q6J("innerText",n.navItems.script.icon.value),t.xp6(4),t.Q6J("ngClass",t.VKq(21,pt,n.selectedPath===n.navItems.settings.path))("routerLink",n.navItems.settings.path),t.xp6(1),t.Gre("icon text-center ",n.navItems.settings.icon.type,""),t.Q6J("innerText",n.navItems.settings.icon.value))},dependencies:[h.mk,h.sg,h.O5,k.yS],styles:["[_nghost-%COMP%]{height:53px;bottom:0;left:0;right:0;z-index:999}.bottom-nav[_ngcontent-%COMP%]{height:53px}.nav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:block}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:none!important;color:inherit;text-decoration:none;transition:color .2s;width:-moz-fit-content;width:fit-content;margin:0 auto}.nav[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{color:#4864fe}.panelup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.current){background-color:#dae0ff}.panelup[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{background-color:var(--bs-gray-200)}"]}),i})();var St=r(1460),yt=r(8279);const ie=["app-side-nav",""],oe=function(i){return{current:i}};function se(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",15)(2,"div",12),t._uU(3),t.qZA()()()),2&i){const e=t.oxw().$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(3,oe,n.selectedPath===e.path))("routerLink",e.path),t.xp6(2),t.Oqu(e.description)}}function ae(i,a){if(1&i&&(t.ynx(0),t.YNc(1,se,4,5,"li",10),t.BQk()),2&i){const e=a.$implicit,n=t.oxw();t.xp6(1),t.Q6J("ngIf",e.path!==n.paths.SCRIPT_DEV||n.isDev)}}const ct=function(i){return{selected:i}};function re(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",3)(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"div",4),t.qZA()()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("ngClass",t.VKq(7,ct,e.selectedPath===e.navItems.adminPanel.path))("routerLink",e.navItems.adminPanel.path),t.xp6(1),t.Gre("icon ",e.navItems.adminPanel.icon.type,""),t.xp6(1),t.Oqu(e.navItems.adminPanel.icon.value),t.xp6(1),t.Q6J("innerText",e.navItems.adminPanel.description)}}function ce(i,a){if(1&i&&(t.TgZ(0,"li")(1,"a",3)(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"div",4),t.qZA()()),2&i){const e=t.oxw();t.uIk("data-grouptitle","Alpha"),t.xp6(1),t.Q6J("ngClass",t.VKq(8,ct,e.selectedPath===e.navItems.upload.path))("routerLink",e.navItems.upload.path),t.xp6(1),t.Gre("icon ",e.navItems.upload.icon.type,""),t.xp6(1),t.Oqu(e.navItems.upload.icon.value),t.xp6(1),t.Q6J("innerText",e.navItems.upload.description)}}function le(i,a){if(1&i&&(t.ynx(0),t._UZ(1,"div",16),t.TgZ(2,"div",17),t._uU(3,"Cambia forum"),t.qZA(),t.BQk()),2&i){const e=t.oxw();t.xp6(1),t.Q6J("innerHTML",e.selectedForum.name,t.oJD)}}function de(i,a){if(1&i&&t._uU(0),2&i){const e=t.oxw();t.Oqu(e.navItems.forumSidenav.description)}}const me=function(i,a){return{selected:i,"is-expanded":a}};let ue=(()=>{class i{constructor(e){this.sidenavRightService=e,this.selectedPath="",this.isDev=!1,this.isAdmin=!1,this.isAlphaUser=!1,this.navItems=it.Yu,this.sidenavRightComponents=it.R8,this.scriptMenuCollapsed=!0,this.paths=X.B2,this.appName=St.lW}ngOnInit(){}pushSidenavRightEntity(e){this.sidenavRightService.pushEntity({entity:e})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(ut.f))},i.\u0275cmp=t.Xpm({type:i,selectors:[["","app-side-nav",""]],inputs:{selectedPath:"selectedPath",selectedForum:"selectedForum",ffuid:"ffuid",isDev:"isDev",isAdmin:"isAdmin",isAlphaUser:"isAlphaUser"},attrs:ie,decls:39,vars:44,consts:[[1,"text-center","text-white","mt-4","mb-3","logo-wrapper","position-relative"],["svgSize","lg"],[1,"nav","flex-column"],["role","button",1,"router-item","d-flex","align-items-center",3,"ngClass","routerLink"],[1,"description",3,"innerText"],["role","button",1,"router-item","d-flex","align-items-center","w-100","collapse-btn",3,"ngClass","click"],[1,"collapse-icon","ms-auto","material-icons"],[1,"list-unstyled","collapse-content",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],[4,"ngFor","ngForOf"],[4,"ngIf"],["role","button",1,"button-item","d-flex","align-items-center",3,"click"],[1,"description"],[4,"ngIf","ngIfElse"],["genericInfo",""],["role","button",1,"sub-router-item","d-block",3,"ngClass","routerLink"],[1,"selected-forum-name","text-truncate","position-relative",3,"innerHTML"],[1,"change-forum","fst-italic","lh-1"]],template:function(e,n){if(1&e){const s=t.EpF();t.TgZ(0,"div",0),t._UZ(1,"app-logo",1),t.qZA(),t.TgZ(2,"nav")(3,"ul",2)(4,"li")(5,"a",3)(6,"div"),t._uU(7),t.qZA(),t._UZ(8,"div",4),t.qZA()(),t.TgZ(9,"li")(10,"a",5),t.NdJ("click",function(){t.CHM(s);const m=t.MAs(17);return t.KtG(m.toggle())}),t.TgZ(11,"div"),t._uU(12),t.qZA(),t._UZ(13,"div",4),t.TgZ(14,"div",6),t._uU(15,"chevron_left"),t.qZA()(),t.TgZ(16,"ul",7,8),t.NdJ("ngbCollapseChange",function(m){return n.scriptMenuCollapsed=m}),t.YNc(18,ae,2,1,"ng-container",9),t.qZA()(),t.TgZ(19,"li")(20,"a",3)(21,"div"),t._uU(22),t.qZA(),t._UZ(23,"div",4),t.qZA()(),t.YNc(24,re,5,9,"li",10),t.YNc(25,ce,5,10,"li",10),t.TgZ(26,"li")(27,"a",11),t.NdJ("click",function(){return n.pushSidenavRightEntity(n.sidenavRightComponents.scriptsAdmin)}),t.TgZ(28,"div"),t._uU(29),t.qZA(),t._UZ(30,"div",4),t.qZA()(),t.TgZ(31,"li")(32,"a",11),t.NdJ("click",function(){return n.pushSidenavRightEntity(n.sidenavRightComponents.forumList)}),t.TgZ(33,"div"),t._uU(34),t.qZA(),t.TgZ(35,"div",12),t.YNc(36,le,4,1,"ng-container",13),t.YNc(37,de,1,1,"ng-template",null,14,t.W1O),t.qZA()()()()()}if(2&e){const s=t.MAs(38);t.xp6(5),t.Q6J("ngClass",t.VKq(37,ct,n.selectedPath===n.navItems.home.path))("routerLink",n.navItems.home.path),t.xp6(1),t.Gre("icon ",n.navItems.home.icon.type,""),t.xp6(1),t.Oqu(n.navItems.home.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.home.description),t.xp6(1),t.uIk("data-grouptitle","Servizi"),t.xp6(1),t.Q6J("ngClass",t.WLB(39,me,n.selectedPath.startsWith(n.navItems.script.path),!n.scriptMenuCollapsed)),t.xp6(1),t.Gre("icon ",n.navItems.script.icon.type,""),t.xp6(1),t.Oqu(n.navItems.script.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.script.description),t.xp6(3),t.Q6J("ngbCollapse",n.scriptMenuCollapsed),t.xp6(2),t.Q6J("ngForOf",n.navItems.script.sub),t.xp6(2),t.Q6J("ngClass",t.VKq(42,ct,n.selectedPath===n.navItems.settings.path))("routerLink",n.navItems.settings.path),t.xp6(1),t.Gre("icon ",n.navItems.settings.icon.type,""),t.xp6(1),t.Oqu(n.navItems.settings.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.settings.description),t.xp6(1),t.Q6J("ngIf",n.isAdmin),t.xp6(1),t.Q6J("ngIf",n.isAlphaUser),t.xp6(1),t.uIk("data-grouptitle","Sidebar"),t.xp6(2),t.Gre("icon ",n.navItems.adminSidenav.icon.type,""),t.xp6(1),t.Oqu(n.navItems.adminSidenav.icon.value),t.xp6(1),t.Q6J("innerText",n.navItems.adminSidenav.description),t.xp6(3),t.Gre("icon ",n.navItems.forumSidenav.icon.type,""),t.xp6(1),t.Oqu(n.navItems.forumSidenav.icon.value),t.xp6(2),t.Q6J("ngIf",n.selectedForum)("ngIfElse",s)}},dependencies:[h.mk,h.sg,h.O5,yt.R,j._D,k.yS],styles:["[_nghost-%COMP%]{width:260px;background-color:#303844;top:0;bottom:0;overflow-y:auto}.logo-wrapper[_ngcontent-%COMP%]{left:-3px}.selected-forum-name[_ngcontent-%COMP%]{top:-3px}li[_ngcontent-%COMP%]{position:relative;max-width:100%}li[data-grouptitle][_ngcontent-%COMP%]:before{display:block;content:attr(data-grouptitle);padding:.75rem 1.25rem;text-transform:uppercase;font-size:.8rem;letter-spacing:.06em;font-weight:600;color:#8190a1}a[_ngcontent-%COMP%]{transition:color .3s!important;outline:none!important}a.router-item[_ngcontent-%COMP%], a.button-item[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]{color:#8190a1}a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;text-align:left;flex-shrink:0;display:flex}a[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{transition:margin .3s;white-space:nowrap;max-width:calc(100% - 45px - .5rem)}a[_ngcontent-%COMP%]   .change-forum[_ngcontent-%COMP%]{font-size:.8em}a[_ngcontent-%COMP%]:not(.sub-router-item){padding:.625rem 1.25rem}a.button-item[_ngcontent-%COMP%]:hover, a.router-item[_ngcontent-%COMP%]:not(.selected):hover, a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover{color:#bbcde3}a.button-item[_ngcontent-%COMP%]:hover   .description[_ngcontent-%COMP%], a.router-item[_ngcontent-%COMP%]:not(.selected):hover   .description[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover   .description[_ngcontent-%COMP%]{margin-left:.5rem}a.router-item.selected[_ngcontent-%COMP%]{color:#fff}a.collapse-btn.is-expanded[_ngcontent-%COMP%]:not(.selected){color:#bbcde3}.collapse-content[_ngcontent-%COMP%]{background-color:#262d36;box-shadow:inset 0 -2px .25rem #00000014}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type   a[_ngcontent-%COMP%]{padding-top:.75rem}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]{padding-bottom:.75rem}.collapse-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem 1.25rem .375rem 2rem}.collapse-content[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{color:#fff}"]}),i})();function pe(i,a){if(1&i&&t._UZ(0,"div",2),2&i){const e=t.oxw();t.Q6J("selectedPath",e.selectedPath)("ffuid",e.ffuid)("isDev",e.isDev)("isAdmin",e.isAdmin)("isAlphaUser",e.isAlphaUser)}}function he(i,a){if(1&i&&t._UZ(0,"div",3),2&i){const e=t.oxw();t.Q6J("selectedPath",e.selectedPath)("selectedForum",e.selectedForum)("ffuid",e.ffuid)("isDev",e.isDev)("isAdmin",e.isAdmin)("isAlphaUser",e.isAlphaUser)}}let fe=(()=>{class i{constructor(e,n,s){this.router=e,this.globalsService=n,this.profileService=s,this.isSmallScreen=!0,this.selectedPath="";const c=this.globalsService.credentials;if(!c)throw new Error("Missing credentials!");this.ffuid=c.user.ffuid,this.isDev=this.profileService.isDev(),this.isAdmin=this.profileService.isAdmin(),this.isAlphaUser=this.profileService.isAlphaUser()}updatePath(e){this.selectedPath=e.replace(/\?(.*)?/,"")}ngOnInit(){this.updatePath(this.router.url),this.selectedForum=this.globalsService.forum,this.forumSubscription=this.globalsService.forumObservable.subscribe(e=>{this.selectedForum=e}),this.routerSubscription=this.router.events.pipe((0,D.h)(e=>e instanceof k.m2)).subscribe(e=>{this.updatePath(e.urlAfterRedirects)})}ngOnDestroy(){this.forumSubscription&&this.forumSubscription.unsubscribe(),this.routerSubscription&&this.routerSubscription.unsubscribe()}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(k.F0),t.Y36(rt.d),t.Y36(at.H))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-main-nav"]],inputs:{isSmallScreen:"isSmallScreen"},decls:3,vars:2,consts:[["class","bottom-nav-wrapper position-fixed","app-bottom-nav","",3,"selectedPath","ffuid","isDev","isAdmin","isAlphaUser",4,"ngIf","ngIfElse"],["largeScreen",""],["app-bottom-nav","",1,"bottom-nav-wrapper","position-fixed",3,"selectedPath","ffuid","isDev","isAdmin","isAlphaUser"],["app-side-nav","",1,"sidenav-left-wrapper","shadow","position-fixed",3,"selectedPath","selectedForum","ffuid","isDev","isAdmin","isAlphaUser"]],template:function(e,n){if(1&e&&(t.YNc(0,pe,1,5,"div",0),t.YNc(1,he,1,6,"ng-template",null,1,t.W1O)),2&e){const s=t.MAs(2);t.Q6J("ngIf",n.isSmallScreen)("ngIfElse",s)}},dependencies:[h.O5,ne,ue]}),i})();var Q=r(8068),q=r(1281),ge=r(4968),Mt=r(4004),xt=r(9718),J=r(2722),_e=r(1884),ve=r(8372);const lt=["*"],Ce=["content"];function be(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s._onBackdropClicked())}),t.qZA()}if(2&i){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function Se(i,a){1&i&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const ye=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],Me=["mat-drawer","mat-drawer-content","*"];function xe(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const s=t.oxw();return t.KtG(s._onBackdropClicked())}),t.qZA()}if(2&i){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function we(i,a){1&i&&(t.TgZ(0,"mat-sidenav-content"),t.Hsn(1,2),t.qZA())}const Ae=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],De=["mat-sidenav","mat-sidenav-content","*"],wt={transformDrawer:(0,g.X$)("transform",[(0,g.SB)("open, open-instant",(0,g.oB)({transform:"none",visibility:"visible"})),(0,g.SB)("void",(0,g.oB)({"box-shadow":"none",visibility:"hidden"})),(0,g.eR)("void => open-instant",(0,g.jt)("0ms")),(0,g.eR)("void <=> open, open-instant => void",(0,g.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},Te=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function Ie(){return!1}}),ht=new t.OlP("MAT_DRAWER_CONTAINER");let dt=(()=>{class i extends Q.PQ{constructor(e,n,s,c,m){super(s,c,m),this._changeDetectorRef=e,this._container=n}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>Dt)),t.Y36(t.SBq),t.Y36(Q.mF),t.Y36(t.R0b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,n){2&e&&t.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[t._Bn([{provide:Q.PQ,useExisting:i}]),t.qOj],ngContentSelectors:lt,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),At=(()=>{class i{constructor(e,n,s,c,m,v,O,Y){this._elementRef=e,this._focusTrapFactory=n,this._focusMonitor=s,this._platform=c,this._ngZone=m,this._interactivityChecker=v,this._doc=O,this._container=Y,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new B.x,this._animationEnd=new B.x,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,D.h)(x=>x),(0,Mt.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,D.h)(x=>x.fromState!==x.toState&&0===x.toState.indexOf("open")),(0,xt.h)(void 0)),this._closedStream=this.openedChange.pipe((0,D.h)(x=>!x),(0,Mt.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,D.h)(x=>x.fromState!==x.toState&&"void"===x.toState),(0,xt.h)(void 0)),this._destroyed=new B.x,this.onPositionChanged=new t.vpe,this._modeChanged=new B.x,this.openedChange.subscribe(x=>{x?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,ge.R)(this._elementRef.nativeElement,"keydown").pipe((0,D.h)(x=>x.keyCode===z.hY&&!this.disableClose&&!(0,z.Vb)(x)),(0,J.R)(this._destroyed)).subscribe(x=>this._ngZone.run(()=>{this.close(),x.stopPropagation(),x.preventDefault()}))}),this._animationEnd.pipe((0,_e.x)((x,G)=>x.fromState===G.fromState&&x.toState===G.toState)).subscribe(x=>{const{fromState:G,toState:Bt}=x;(0===Bt.indexOf("open")&&"void"===G||"void"===Bt&&0===G.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,q.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,q.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,q.Ig)(e))}_forceFocus(e,n){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const s=()=>{e.removeEventListener("blur",s),e.removeEventListener("mousedown",s),e.removeAttribute("tabindex")};e.addEventListener("blur",s),e.addEventListener("mousedown",s)})),e.focus(n)}_focusByCssSelector(e,n){let s=this._elementRef.nativeElement.querySelector(e);s&&this._forceFocus(s,n)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(n=>{!n&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,n){e&&n&&(this._openedVia=n);const s=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),s}_setOpen(e,n,s){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",n&&this._restoreFocus(s)),this._updateFocusTrapState(),new Promise(c=>{this.openedChange.pipe((0,L.q)(1)).subscribe(m=>c(m?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const n=this._elementRef.nativeElement,s=n.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),s.insertBefore(this._anchor,n)),s.appendChild(n)):this._anchor&&this._anchor.parentNode.insertBefore(n,this._anchor)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.SBq),t.Y36(F.qV),t.Y36(F.tE),t.Y36(u.t4),t.Y36(t.R0b),t.Y36(F.ic),t.Y36(h.K0,8),t.Y36(ht,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ce,5),2&e){let s;t.iGM(s=t.CRH())&&(n._content=s.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,n){1&e&&t.WFA("@transform.start",function(c){return n._animationStarted.next(c)})("@transform.done",function(c){return n._animationEnd.next(c)}),2&e&&(t.uIk("align",null),t.d8E("@transform",n._animationState),t.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:lt,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},dependencies:[Q.PQ],encapsulation:2,data:{animation:[wt.transformDrawer]},changeDetection:0}),i})(),Dt=(()=>{class i{constructor(e,n,s,c,m,v=!1,O){this._dir=e,this._element=n,this._ngZone=s,this._changeDetectorRef=c,this._animationMode=O,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new B.x,this._doCheckSubject=new B.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new B.x,e&&e.change.pipe((0,J.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),m.change().pipe((0,J.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=v}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,q.Ig)(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,q.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,W.O)(this._allDrawers),(0,J.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(n=>!n._container||n._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,W.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,ve.b)(10),(0,J.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,n=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const s=this._left._getWidth();e+=s,n-=s}if(this._right&&this._right.opened)if("side"==this._right.mode)n+=this._right._getWidth();else if("push"==this._right.mode){const s=this._right._getWidth();n+=s,e-=s}e=e||null,n=n||null,(e!==this._contentMargins.left||n!==this._contentMargins.right)&&(this._contentMargins={left:e,right:n},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,D.h)(n=>n.fromState!==n.toState),(0,J.R)(this._drawers.changes)).subscribe(n=>{"open-instant"!==n.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,J.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,J.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,L.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,J.R)((0,E.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const n=this._element.nativeElement.classList,s="mat-drawer-container-has-open";e?n.add(s):n.remove(s)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(V.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(Q.rL),t.Y36(Te),t.Y36(t.QbO,8))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-drawer-container"]],contentQueries:function(e,n,s){if(1&e&&(t.Suo(s,dt,5),t.Suo(s,At,5)),2&e){let c;t.iGM(c=t.CRH())&&(n._content=c.first),t.iGM(c=t.CRH())&&(n._allDrawers=c)}},viewQuery:function(e,n){if(1&e&&t.Gf(dt,5),2&e){let s;t.iGM(s=t.CRH())&&(n._userContent=s.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:ht,useExisting:i}])],ngContentSelectors:Me,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(t.F$t(ye),t.YNc(0,be,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,Se,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",n.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!n._content))},dependencies:[h.O5,dt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),ft=(()=>{class i extends dt{constructor(e,n,s,c,m){super(e,n,s,c,m)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>Tt)),t.Y36(t.SBq),t.Y36(Q.mF),t.Y36(t.R0b))},i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,n){2&e&&t.Udp("margin-left",n._container._contentMargins.left,"px")("margin-right",n._container._contentMargins.right,"px")},features:[t._Bn([{provide:Q.PQ,useExisting:i}]),t.qOj],ngContentSelectors:lt,decls:1,vars:0,template:function(e,n){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),i})(),Ot=(()=>{class i extends At{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,q.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,q.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,q.su)(e)}}return i.\u0275fac=function(){let a;return function(n){return(a||(a=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,n){2&e&&(t.uIk("align",null),t.Udp("top",n.fixedInViewport?n.fixedTopGap:null,"px")("bottom",n.fixedInViewport?n.fixedBottomGap:null,"px"),t.ekj("mat-drawer-end","end"===n.position)("mat-drawer-over","over"===n.mode)("mat-drawer-push","push"===n.mode)("mat-drawer-side","side"===n.mode)("mat-drawer-opened",n.opened)("mat-sidenav-fixed",n.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[t.qOj],ngContentSelectors:lt,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,n){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},dependencies:[Q.PQ],encapsulation:2,data:{animation:[wt.transformDrawer]},changeDetection:0}),i})(),Tt=(()=>{class i extends Dt{}return i.\u0275fac=function(){let a;return function(n){return(a||(a=t.n5z(i)))(n||i)}}(),i.\u0275cmp=t.Xpm({type:i,selectors:[["mat-sidenav-container"]],contentQueries:function(e,n,s){if(1&e&&(t.Suo(s,ft,5),t.Suo(s,Ot,5)),2&e){let c;t.iGM(c=t.CRH())&&(n._content=c.first),t.iGM(c=t.CRH())&&(n._allDrawers=c)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,n){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",n._backdropOverride)},exportAs:["matSidenavContainer"],features:[t._Bn([{provide:ht,useExisting:i}]),t.qOj],ngContentSelectors:De,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,n){1&e&&(t.F$t(Ae),t.YNc(0,xe,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,we,2,0,"mat-sidenav-content",1)),2&e&&(t.Q6J("ngIf",n.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!n._content))},dependencies:[h.O5,ft],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),i})(),Pe=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,p.BQ,Q.ZD,Q.ZD,p.BQ]}),i})();var It=r(9985),Pt=r(2931);function Re(i,a){if(1&i&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._UZ(3,"div",7),t.TgZ(4,"div",8)(5,"span",9),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"span",10),t._uU(9),t.ALo(10,"uppercase"),t.qZA()()(),t.TgZ(11,"div",11),t._UZ(12,"img",12),t.ALo(13,"uploadsreplace"),t.qZA()(),t.TgZ(14,"div",13)(15,"a",14)(16,"div",15),t._uU(17,"logout"),t.qZA(),t.TgZ(18,"div"),t._uU(19,"Logout"),t.qZA()()()()),2&i){const e=t.oxw();t.xp6(1),t.Gre("d-flex flex-row align-items-center user user-",e.profile.site.short," cursor-pointer"),t.xp6(2),t.Q6J("innerHTML",e.profile.user.nickname,t.oJD),t.xp6(3),t.Oqu(t.lcZ(7,9,e.profile.site.name)),t.xp6(3),t.Oqu(t.lcZ(10,11,e.profile.site.short)),t.xp6(3),t.s9C("src",t.lcZ(13,13,e.profile.user.avatar),t.LSH),t.MGl("alt","",e.profile.user.nickname,"'s avatar"),t.Q6J("nameDynamicReplace",e.profile.user.nickname)}}let Fe=(()=>{class i{constructor(e){this.globalService=e,this.appName=St.lW}ngOnInit(){this.profile=this.globalService.credentials}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(rt.d))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-navbar"]],decls:5,vars:1,consts:[[1,"navbar","bg-white","px-2"],[1,"container-fluid"],[1,"small-logo","mb-0"],["class","ms-auto dropdown-no-caret","ngbDropdown","","display","dynamic","placement","bottom-end",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-end",1,"ms-auto","dropdown-no-caret"],["ngbDropdownToggle",""],[1,"text-end"],[1,"nickname","text-truncate","lh-1","mb-1",3,"innerHTML"],[1,"fst-italic","fs-xs","lh-1"],[1,"d-none","d-md-inline"],[1,"d-md-none"],[1,"avatar","ms-2","rounded-circle"],["appImage","",1,"image-cover","rounded-circle",3,"src","alt","nameDynamicReplace"],["ngbDropdownMenu",""],["role","button","routerLink","/login",1,"dropdown-item","d-flex","flex-row","align-items-center"],[1,"material-icons-outlined","d-block","me-1"]],template:function(e,n){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-logo"),t.qZA(),t.YNc(4,Re,20,15,"div",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",n.profile))},dependencies:[h.O5,It.t,yt.R,j.jt,j.iD,j.Vi,j.M2,k.yS,h.gd,h.rS,Pt.g],styles:[".navbar[_ngcontent-%COMP%]{height:64px;border-bottom:1px solid #dee2e6;box-shadow:0 .125rem .25rem #00000013}h1[_ngcontent-%COMP%]{color:#4864fe}.user[_ngcontent-%COMP%]{color:inherit}.user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid}.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:100px}.user.user-ff[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#58a72e}.user.user-fc[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#0082cd}.user.user-bf[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#e67f22}@media (min-width: 576px){.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:200px}}@media (min-width: 960px){.navbar[_ngcontent-%COMP%]{margin-left:260px;position:fixed;top:0;left:0;right:0;z-index:999;border-bottom:0;box-shadow:0 .5rem 1rem #00000026}.small-logo[_ngcontent-%COMP%]{display:none}}"]}),i})();function Ee(i,a){if(1&i){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){t.CHM(e),t.oxw();const s=t.MAs(8);return t.KtG(s.close())}),t._uU(1,"close"),t.qZA()}}function ke(i,a){}const Rt=function(i){return{active:i}};let Be=(()=>{class i{constructor(e,n,s,c,m,v,O,Y){this.loadComponentService=e,this.breakpointObserver=n,this.renderer=s,this.activatedRoute=c,this.globalsService=m,this.router=v,this.sidenavRightService=O,this.changeDetectorRef=Y,this.sidenavRightCurrentContent="",this.sidenavRightComponents=it.R8,this.sidenavRightOpened=!1,this.isHome=!1,this.lessThanMediumScreenSize=this.breakpointObserver.isMatched([f.u3.XSmall,f.u3.Small]),this.routerSubscription=this.router.events.pipe((0,D.h)(x=>x instanceof k.m2)).subscribe(x=>{this.isHome=x.urlAfterRedirects===X.B2.HOME})}ngOnInit(){const e=this.activatedRoute.snapshot.data.forum;e&&(this.globalsService.forum=e),this.breakpointSubscription=this.breakpointObserver.observe([f.u3.XSmall,f.u3.Small]).subscribe(n=>{this.lessThanMediumScreenSize=n.matches}),this.sidenavRightSubscription=this.sidenavRightService.observable.subscribe(n=>{n?this.showSidenavRightComponent(n):this.sidenavRightOpened&&(this.sidenavRightOpened=!1)})}freeSidenavRightContent(){this.sidenavRightDirective.viewContainerRef.clear(),this.sidenavRightCurrentContent=""}showSidenavRightComponent(e){this.sidenavRightCurrentContent!==e.entity.name&&(this.loadComponentService.show(this.sidenavRightDirective.viewContainerRef,e.entity.component,!0),this.sidenavRightOpened||(this.sidenavRightOpened=!0),this.sidenavRightCurrentContent=e.entity.name,e.detectChanges&&this.changeDetectorRef.detectChanges())}sidenavOpening(){this.renderer.addClass(document.body,"sidenav-opened")}sidenavClosing(){this.renderer.removeClass(document.body,"sidenav-opened")}ngOnDestroy(){this.breakpointSubscription&&this.breakpointSubscription.unsubscribe(),this.routerSubscription?.unsubscribe(),this.sidenavRightSubscription?.unsubscribe(),this.sidenavRightService.pushEntity(void 0)}}return i.\u0275fac=function(e){return new(e||i)(t.Y36(Ht),t.Y36(f.Yg),t.Y36(t.Qsj),t.Y36(k.gz),t.Y36(rt.d),t.Y36(k.F0),t.Y36(ut.f),t.Y36(t.sBO))},i.\u0275cmp=t.Xpm({type:i,selectors:[["app-root"]],viewQuery:function(e,n){if(1&e&&t.Gf(Ct,7),2&e){let s;t.iGM(s=t.CRH())&&(n.sidenavRightDirective=s.first)}},decls:15,vars:15,consts:[["autosize","",1,"main-sidenav-container",3,"hasBackdrop"],[1,"d-flex","flex-column"],[3,"isSmallScreen"],[1,"d-block",3,"blueBackground"],["position","end","mode","over",1,"sidenav-right","mw-100",3,"opened","autoFocus","fixedInViewport","closed","closedStart","openedStart","openedChange"],["sidenavRight",""],[1,"sidenav-right-content","d-flex","flex-column","position-relative"],["class","close-sidenav material-icons d-block text-muted position-absolute cursor-pointer",3,"click",4,"ngIf"],["appSidenavRight",""],[1,"btn-group","d-flex","flex-row","mt-auto","mb-3","px-3"],[1,"btn","btn-outline-primary","shadow-none","flex-grow-1",3,"ngClass","innerText","click"],[1,"close-sidenav","material-icons","d-block","text-muted","position-absolute","cursor-pointer",3,"click"]],template:function(e,n){1&e&&(t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav-content",1),t._UZ(2,"app-navbar")(3,"app-main-nav",2),t.TgZ(4,"main"),t._UZ(5,"router-outlet"),t.qZA(),t._UZ(6,"app-footer",3),t.qZA(),t.TgZ(7,"mat-sidenav",4,5),t.NdJ("closed",function(){return n.freeSidenavRightContent()})("closedStart",function(){return n.sidenavClosing()})("openedStart",function(){return n.sidenavOpening()})("openedChange",function(c){return n.sidenavRightOpened=c}),t.TgZ(9,"div",6),t.YNc(10,Ee,2,0,"div",7),t.YNc(11,ke,0,0,"ng-template",8),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return n.showSidenavRightComponent({entity:n.sidenavRightComponents.forumList})}),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return n.showSidenavRightComponent({entity:n.sidenavRightComponents.scriptsAdmin})}),t.qZA()()()()()),2&e&&(t.Q6J("hasBackdrop",!0),t.xp6(3),t.Q6J("isSmallScreen",n.lessThanMediumScreenSize),t.xp6(3),t.Q6J("blueBackground",n.isHome),t.xp6(1),t.Q6J("opened",n.sidenavRightOpened)("autoFocus",!1)("fixedInViewport",!0),t.xp6(3),t.Q6J("ngIf",n.lessThanMediumScreenSize),t.xp6(3),t.Q6J("ngClass",t.VKq(11,Rt,n.sidenavRightCurrentContent===n.sidenavRightComponents.forumList.name))("innerText","Lista forum"),t.xp6(1),t.Q6J("ngClass",t.VKq(13,Rt,n.sidenavRightCurrentContent===n.sidenavRightComponents.scriptsAdmin.name))("innerText","Lista admin"))},dependencies:[h.mk,h.O5,qt.c,fe,k.lC,Ot,Tt,ft,Fe,Ct],styles:["mat-sidenav-content[_ngcontent-%COMP%]{min-height:100vh}.mat-drawer-container[_ngcontent-%COMP%]{background-color:transparent}.sidenav-right[_ngcontent-%COMP%]{width:500px}.sidenav-right[_ngcontent-%COMP%]   .sidenav-right-content[_ngcontent-%COMP%]{min-height:100%}.close-sidenav[_ngcontent-%COMP%]{right:.75rem;top:.825rem}main[_ngcontent-%COMP%]{padding:1rem 0}app-footer[_ngcontent-%COMP%]{margin-bottom:53px}@media (min-width: 768px){main[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 960px){main[_ngcontent-%COMP%]{padding:1.5rem;margin-left:260px;margin-top:64px}app-footer[_ngcontent-%COMP%]{margin-left:260px;margin-bottom:0}}"]}),i})(),Ft=(()=>{class i{constructor(e,n){this.router=e,this.profileService=n}canActivate(){return!!this.profileService.isAdmin()||this.router.parseUrl(X.B2.HOME)}canActivateChild(){return this.canActivate()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(k.F0),t.LFG(at.H))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Et=(()=>{class i{constructor(e,n){this.router=e,this.profileService=n}canActivate(){return!!this.profileService.isAlphaUser()||this.router.parseUrl(X.B2.HOME)}canActivateChild(){return this.canActivate()}}return i.\u0275fac=function(e){return new(e||i)(t.LFG(k.F0),t.LFG(at.H))},i.\u0275prov=t.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Ze=[{path:"",component:Be,resolve:{forum:Gt},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>r.e(478).then(r.bind(r,478)).then(i=>i.HomeModule),data:{title:"Home"}},{path:"settings",loadChildren:()=>r.e(322).then(r.bind(r,322)).then(i=>i.SettingsModule),data:{title:"Settings"}},{path:"script",loadChildren:()=>r.e(545).then(r.bind(r,2545)).then(i=>i.ScriptModule),data:{title:"Script"}},{path:"upload",loadChildren:()=>Promise.all([r.e(592),r.e(430)]).then(r.bind(r,8430)).then(i=>i.UploadModule),data:{title:"Upload"},canActivate:[Et],canActivateChild:[Et]},{path:"admin-panel",loadChildren:()=>Promise.all([r.e(993),r.e(934),r.e(592),r.e(15)]).then(r.bind(r,5015)).then(i=>i.AdminPanelModule),data:{title:"Amministrazione"},canActivate:[Ft],canActivateChild:[Ft]}]}];let Le=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[k.Bz.forChild(Ze),k.Bz]}),i})();var kt=r(1599);let Ne=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,P.$,T.h,j.XC,k.Bz,kt.g]}),i})();var Ue=r(8365),Ye=r(5254),ze=r(9832),Qe=r(4029),Je=r(5174);let Ge=(()=>{class i{}return i.\u0275fac=function(e){return new(e||i)},i.\u0275mod=t.oAB({type:i}),i.\u0275inj=t.cJS({imports:[h.ez,S._,o.u5,A.z,P.$,R.q,T.h,Qt,Le,Pe,Ne,Ye.G,kt.g]}),i})();t.B6R(Ue.t,[h.mk,h.sg,h.O5,ze.P,It.t,Qe.R,Je.$],[Pt.g])},7016:($,Z,r)=>{r.d(Z,{Yu:()=>K,fv:()=>ot,R8:()=>mt});var h=r(5861),S=r(1309),o=r(4650),A=r(3138),P=r(5395),R=r(8367),T=r(7251),F=r(4034),l=r(9358),u=r(6895),y=r(433),t=r(9985),z=r(4029),B=r(2931);function tt(b,U){1&b&&(o.ynx(0),o._uU(1," \xc8 possibile passare velocemente da un sito a un altro semplicemente cliccando sul nome del forum/blog desiderato: l'app verr\xe0 automaticamente aggiornata con le nuove informazioni e si potr\xe0 iniziare subito ad amministrare! "),o.BQk())}function et(b,U){1&b&&o._uU(0," Uno sviluppatore pu\xf2 inserire direttamente il dominio completo del forum/blog nell'apposito campo sotto la lista per gestire i propri script installati su tale sito, in modo da agevolare la risoluzione di richieste di supporto. ")}function V(b,U){if(1&b&&o._UZ(0,"app-loader",7),2&b){const p=o.oxw();o.Q6J("message",p.loadingMessage)}}const W=function(b){return{selected:b}};function nt(b,U){if(1&b){const p=o.EpF();o.TgZ(0,"li",13),o.NdJ("click",function(g){const D=o.CHM(p).$implicit,L=o.oxw(3);return o.KtG(L.selectForum(D,g))}),o.TgZ(1,"div",14),o._UZ(2,"img",15),o.ALo(3,"uploadsreplace"),o.qZA(),o.TgZ(4,"div",16),o._UZ(5,"div",17)(6,"div",18),o.qZA()()}if(2&b){const p=U.$implicit,f=o.oxw(3);o.Q6J("ngClass",o.VKq(8,W,f.selectedForum===p.id)),o.xp6(2),o.s9C("src",o.lcZ(3,6,p.preview),o.LSH),o.s9C("alt",p.name),o.Q6J("srcReplacer",f.defaultImage),o.xp6(3),o.Q6J("innerHTML",p.name,o.oJD),o.xp6(1),o.Q6J("innerText",p.fulldomain)}}function H(b,U){if(1&b&&(o.TgZ(0,"ul",11),o.YNc(1,nt,7,10,"li",12),o.qZA()),2&b){const p=o.oxw(2);o.xp6(1),o.Q6J("ngForOf",p.forums)}}function C(b,U){1&b&&(o.TgZ(0,"div",19),o._uU(1,"Non possiedi l'amministrazione di alcun forum!"),o.qZA())}function I(b,U){if(1&b){const p=o.EpF();o.TgZ(0,"div",20)(1,"input",21,22),o.NdJ("ngModelChange",function(g){o.CHM(p);const E=o.oxw(2);return o.KtG(E.forumInputValue=g)})("keyup.enter",function(){o.CHM(p);const g=o.MAs(2),E=o.oxw(2);return g.blur(),o.KtG(E.addForumFromDomain(g.value))}),o.qZA(),o.TgZ(3,"button",23),o.NdJ("click",function(){o.CHM(p);const g=o.MAs(2),E=o.oxw(2);return o.KtG(E.addForumFromDomain(g.value))}),o.TgZ(4,"span",24),o._uU(5,"done"),o.qZA()()()}if(2&b){const p=o.oxw(2);o.xp6(1),o.Q6J("ngModel",p.forumInputValue)}}function d(b,U){if(1&b&&(o.YNc(0,H,2,1,"ul",8),o.YNc(1,C,2,0,"ng-template",null,9,o.W1O),o.YNc(3,I,6,1,"div",10)),2&b){const p=o.MAs(2),f=o.oxw();o.Q6J("ngIf",f.forums.length)("ngIfElse",p),o.xp6(3),o.Q6J("ngIf",f.isDev)}}let M=(()=>{class b{constructor(p,f,g,E,D,L){this.globalsService=p,this.graphqlService=f,this.toastService=g,this.forumService=E,this.profileService=D,this.sidenavRightService=L,this.toastMessage="Il dominio non \xe8 valido! Inserisci solo l'url del sito.",this.forums=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.defaultImage="/assets/default_forum.jpg",this.forumInputValue="";const st=this.globalsService.credentials;if(!st)throw new Error("Missing credentials!");this.credentials=st,this.domain=this.credentials.site.domain,this.selectedForum=this.globalsService.forum?.id||0,this.isDev=this.profileService.isDev()}ngOnInit(){var p=this;return(0,h.Z)(function*(){p.forums=(yield p.forumService.getMyForumList()).map(g=>p.forumService.createForumObject(g,p.domain,!0));const f=p.globalsService.forum;f&&-1===p.forums.findIndex(g=>g.id===f.id)&&p.forums.push(f),p.loading=!1})()}selectForum(p,f=null){this.selectedForum!==p.id&&(null===f||"A"!==f.target.nodeName)&&(this.sidenavRightService.closeOnAction&&(this.sidenavRightService.closeOnAction=!1,this.sidenavRightService.close()),this.globalsService.forum=p,this.selectedForum=p.id)}addForumFromDomain(p){var f=this;return(0,h.Z)(function*(){if(0===p.length)return;const g=f.forumService.parseUrl(p.replace(/\/$/,""));if(!g)return void f.toastService.show({content:f.toastMessage,level:S.m.ERROR});const E=`${g.subdomain}.${g.domain}`;let D=f.forums.find(L=>L.fulldomain===E);if(D)f.selectForum(D);else{f.loading=!0;const L=yield f.forumService.getForumDetailsFromDomain(E);L&&(D=f.forumService.createForumObject(L,g.domain,!1),f.forums.push(D),f.selectForum(D)),f.loading=!1}f.forumInputValue=""})()}}return b.\u0275fac=function(p){return new(p||b)(o.Y36(A.d),o.Y36(P.J),o.Y36(R.k),o.Y36(T._),o.Y36(F.H),o.Y36(l.f))},b.\u0275cmp=o.Xpm({type:b,selectors:[["app-my-forum-list"]],decls:12,vars:4,consts:[[1,"content","bg-white","pb-4"],[1,"title","fs-5","text-primary","fw-bold","mb-3","px-3"],[1,"description","px-3","mb-3","text-justify"],[4,"ngIf","ngIfElse"],["devDescription",""],[3,"message",4,"ngIf","ngIfElse"],["forumList",""],[3,"message"],["class","list-unstyled forum-list mb-0",4,"ngIf","ngIfElse"],["noForum",""],["class","input-group mt-3 px-3",4,"ngIf"],[1,"list-unstyled","forum-list","mb-0"],["class","d-flex flex-row align-items-center cursor-pointer px-3 px-sm-4",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","cursor-pointer","px-3","px-sm-4",3,"ngClass","click"],[1,"preview","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","srcReplacer"],[1,"info","flex-grow-1","py-3","d-flex","flex-column","align-items-start"],[1,"name","fw-bold","text-truncate","mw-100",3,"innerHTML"],[1,"text-muted","text-truncate","mw-100",3,"innerText"],[1,"alert","alert-primary","mx-3","text-center"],[1,"input-group","mt-3","px-3"],["type","text","placeholder","Link del forum...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["input",""],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"]],template:function(p,f){if(1&p&&(o.TgZ(0,"div",0)(1,"div",1),o._uU(2,"Forum da amministrare"),o.qZA(),o.TgZ(3,"div",2),o._uU(4,"Prima di poter installare uno script per forum oppure aggiungere o rimuovere un admin degli script, \xe8 essenziale selezionare il sito su cui operare. Di seguito \xe8 presente l'elenco dei forum/blog di cui si \xe8 amministratori, quello attualmente selezionato \xe8 evidenziato."),o._UZ(5,"br"),o.YNc(6,tt,2,0,"ng-container",3),o.YNc(7,et,1,0,"ng-template",null,4,o.W1O),o.qZA(),o.YNc(9,V,1,1,"app-loader",5),o.YNc(10,d,4,3,"ng-template",null,6,o.W1O),o.qZA()),2&p){const g=o.MAs(8),E=o.MAs(11);o.xp6(6),o.Q6J("ngIf",!f.isDev)("ngIfElse",g),o.xp6(3),o.Q6J("ngIf",f.loading)("ngIfElse",E)}},dependencies:[u.mk,u.sg,u.O5,y.Fj,y.JJ,y.On,t.t,z.R,B.g],styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:background-color .3s}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.selected):hover{background-color:rgb(var(--bs-light-rgb))}.forum-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#dae0ff}.forum-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:50px;height:50px}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),b})();var _=r(8365),w=(()=>{return(b=w||(w={})).ScriptsAdmin="scriptsAdmin",b.ForumList="forumList",w;var b})(),N=r(5044);const K={home:{icon:{type:"material-icons-outlined",value:"cottage"},path:N.B2.HOME,description:"Home"},script:{icon:{type:"material-icons-outlined",value:"integration_instructions"},path:N.B2.SCRIPT,description:"Script",sub:[{name:"forum",description:"Script per forum",path:N.B2.SCRIPT_FORUM},{name:"user",description:"Script per utenti",path:N.B2.SCRIPT_USER},{name:"dev",description:"Gestione script",path:N.B2.SCRIPT_DEV}]},settings:{icon:{type:"material-icons-outlined",value:"settings"},path:N.B2.SETTINGS,description:"Impostazioni"},adminPanel:{icon:{type:"material-icons-outlined",value:"build_circle"},path:N.B2.ADMIN,description:"Amministrazione"},upload:{icon:{type:"material-icons-outlined",value:"cloud"},path:N.B2.UPLOAD,description:"Upload"},adminSidenav:{icon:{type:"material-icons-outlined",value:"admin_panel_settings"},description:"Admin degli script"},forumSidenav:{icon:{type:"material-icons-outlined",value:"public"},description:"Seleziona forum"}},mt={[w.ScriptsAdmin]:{component:_.t,name:w.ScriptsAdmin},[w.ForumList]:{component:M,name:w.ForumList}},ot="Leggi di pi\xf9..."},7251:($,Z,r)=>{r.d(Z,{_:()=>R});var h=r(5861),S=r(5044),o=r(4650),A=r(3138),P=r(5395);let R=(()=>{class T{constructor(l,u){this.globalsService=l,this.graphqlService=u,this.groupsQuery="query ForumGroups($cid: ID!) {\n        forumGroups(cid: $cid) {\n            id\n            name\n            preset\n            legenda\n        }\n    }",this.sectionsQuery="query ForumSections($cid: ID!) {\n        forumSections(cid: $cid) {\n            id\n            name\n            desc\n            subsections {\n                id\n                name\n                desc\n                subsections {\n                    id\n                    name\n                    desc\n                    subsections {\n                        id\n                        name\n                        desc\n                        subsections {\n                            id\n                            name\n                            desc\n                            subsections {\n                                id\n                                name\n                                desc\n                            }\n                        }\n                    }\n                }\n            }\n        }\n    }",this.cidToDomainQuery="query ForumCidToDomain($cids: [ID!]!) {\n        forumCidToDomain(cids: $cids) {\n            cid\n            domain\n        }\n    }",this.myForumListQuery="query getMyForumList {\n        myForumList {\n            id, domain, name, preview\n        }\n    }",this.forumDomainToDetailsQuery="query ForumDomainToDetails($domain: String!) {\n        forumDomainToDetails(domain: $domain) {\n            id\n            domain\n            name\n            preview\n        }\n    }",this.scriptAdminsQuery="query ScriptAdmins($cid: ID!) {\n        scriptAdmins(cid: $cid) {\n            cid\n            id\n            nickname\n            avatar\n        }\n    }",this.groupsCache={},this.groupsPendingRequests={},this.sectionsCache={},this.sectionsPendingRequests={},this.myForumsCache={}}get cid(){return this.globalsService.forum?.cid}get ffuid(){const l=this.globalsService.credentials?.user.ffuid;if(!l)throw new Error("Missing credentials!");return l}getGroups(){var l=this;return(0,h.Z)(function*(){const u=l.cid;if(!u)return[];if(l.groupsCache.hasOwnProperty(u))return l.groupsCache[u];const y=yield l.groupsPendingRequests.hasOwnProperty(u)?l.groupsPendingRequests[u]:l.groupsPendingRequests[u]=l.graphqlService.query({query:l.groupsQuery,variables:{cid:u}});return delete l.groupsPendingRequests[u],l.groupsCache[u]=y.data.forumGroups})()}getSections(){var l=this;return(0,h.Z)(function*(){const u=l.cid;if(!u)return[];if(l.sectionsCache.hasOwnProperty(u))return l.sectionsCache[u];const y=yield l.sectionsPendingRequests.hasOwnProperty(u)?l.sectionsPendingRequests[u]:l.sectionsPendingRequests[u]=l.graphqlService.query({query:l.sectionsQuery,variables:{cid:u}});return l.sectionsCache[u]=y.data.forumSections})()}getDomains(l){var u=this;return(0,h.Z)(function*(){return(yield u.graphqlService.query({query:u.cidToDomainQuery,variables:{cids:l}})).data.forumCidToDomain})()}getMyForumList(){var l=this;return(0,h.Z)(function*(){const u=l.ffuid;if(l.myForumsCache.hasOwnProperty(u))return l.myForumsCache[u];const y=yield l.graphqlService.query({query:l.myForumListQuery});return l.myForumsCache[u]=y.data.myForumList})()}getForumDetailsFromDomain(l){var u=this;return(0,h.Z)(function*(){return(yield u.graphqlService.query({query:u.forumDomainToDetailsQuery,variables:{domain:l}})).data.forumDomainToDetails})()}getScriptAdmins(l){var u=this;return(0,h.Z)(function*(){return(yield u.graphqlService.query({query:u.scriptAdminsQuery,variables:{cid:l}})).data.scriptAdmins})()}parseUrl(l){const u=new RegExp("^(https?://)?([^.]+).(forumfree.it|forumcommunity.net|blogfree.net)$"),y=l.toLowerCase().match(u);if(y)return{subdomain:y[2],domain:y[3],shortdomain:S.pN.hasOwnProperty(y[3])?S.pN[y[3]]:""}}createForumObject(l,u,y){let t=S.pN.hasOwnProperty(u)?S.pN[u]:"";return{...l,cid:t+l.id,fulldomain:`${l.domain}.${u}`,url:`https://${l.domain}.${u}`,admin:y}}}return T.\u0275fac=function(l){return new(l||T)(o.LFG(A.d),o.LFG(P.J))},T.\u0275prov=o.Yz7({token:T,factory:T.\u0275fac,providedIn:"root"}),T})()},9358:($,Z,r)=>{r.d(Z,{f:()=>o});var h=r(1135),S=r(4650);let o=(()=>{class A{constructor(){this.behaviorSubject=new h.X(void 0),this.state={}}get observable(){return this.behaviorSubject.asObservable()}pushEntity(R){this.behaviorSubject.next(R)}close(){this.pushEntity(void 0)}get closeOnAction(){return!0===this.state.closeOnAction}set closeOnAction(R){this.state.closeOnAction=R}}return A.\u0275fac=function(R){return new(R||A)},A.\u0275prov=S.Yz7({token:A,factory:A.\u0275fac,providedIn:"root"}),A})()}}]);