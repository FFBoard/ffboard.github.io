(self.webpackChunkboard=self.webpackChunkboard||[]).push([[809],{4809:(Ct,dt,q)=>{"use strict";q.r(dt),q.d(dt,{LoginModule:()=>D});var Q=q(6895),H=q(7132),Y=q(3204),tt=q(6818),et=q(5861),lt=q(1309),U=q(1460),$=q(5044),e=q(4650),K=q(1048),F=q(2771),j=q(3138),ot=q(7457),W=q(6378),rt=q(955),nt=q(6161),_t=q(2381),st=q(5645),bt=q(4029),yt=q(8279);const it=["app-login-header",""];let at=(()=>{class v{constructor(){this.appName=U.lW}ngOnInit(){}}return v.\u0275fac=function(b){return new(b||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["","app-login-header",""]],attrs:it,decls:4,vars:2,consts:[[1,"mb-3","d-flex"],["svgSize","xl",3,"responsive"],[1,"mb-2"]],template:function(b,A){1&b&&(e.TgZ(0,"h1",0),e._UZ(1,"app-logo",1),e.qZA(),e.TgZ(2,"p",2),e._uU(3),e.qZA()),2&b&&(e.xp6(1),e.Q6J("responsive",!1),e.xp6(2),e.hij(" ",A.appName," \xe8 un progetto gratuito creato per raccogliere e offrire i principali servizi aggiuntivi disponibili per i siti e gli account dei circuiti Forumfree, Forumcommunity e Blogfree. Scritto principalmente in typescript, Easy Innovation sfrutta le potenzialit\xe0 offerte dal celebre pacchetto per sviluppo web Angular al fine di garantire un'esperienza di navigazione fluida, immediata e intuitiva. Dopo aver selezionato un profilo con cui effettuare il login, si viene indirizzati nell'apposita area del sito in cui \xe8 possibile usufruire delle funzioni messe a disposizione per forum, blog e utenti, tra cui EasyScript e la gestione degli Admin degli Script!\n"))},dependencies:[yt.R],styles:["p[_ngcontent-%COMP%]{text-align:justify}"]}),v})();var gt=q(3450);const ft=["loginModal"];let wt=(()=>{class v{constructor(){this.supportLink=U.Ll}ngOnInit(){}open(){this.loginModalRef.open()}}return v.\u0275fac=function(b){return new(b||v)},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-login-modal"]],viewQuery:function(b,A){if(1&b&&e.Gf(ft,5),2&b){let O;e.iGM(O=e.CRH())&&(A.loginModalRef=O.first)}},decls:80,vars:1,consts:[["title","Cookie di terze parti"],["loginModal",""],["href","https://accounts.forumfree.it/?act=Login","target","_blank"],["href","https://accounts.forumcommunity.net/?act=Login","target","_blank"],["href","https://accounts.blogfree.net/?act=Login","target","_blank"],[1,"fst-italic"],[1,"mb-0"],[1,"d-flex","my-3","flex-wrap","justify-content-evenly"],["href","https://script.forumfree.it/i/jwt-redirect","target","_self",1,"d-block","my-2","py-2","px-3","rounded","ff-btn"],["href","https://script.forumcommunity.net/i/jwt-redirect","target","_self",1,"d-block","my-2","py-2","px-3","rounded","fc-btn"],["href","https://script.blogfree.net/i/jwt-redirect","target","_self",1,"d-block","my-2","py-2","px-3","rounded","bf-btn"],[1,"mb-1"],["href","https://support.google.com/chrome/answer/95647#zippy=%2Cconsentire-o-bloccare-i-cookie","target","_blank"],["href","https://support.mozilla.org/it/kb/cookie-terze-parti-protezione-antitracciamento","target","_blank"],["href","https://support.apple.com/it-it/guide/safari/sfri11471/mac","target","_blank"],["href","https://help.opera.com/latest/web-preferences/#cookies","target","_blank"],["target","_blank",3,"href"]],template:function(b,A){1&b&&(e.TgZ(0,"app-modal",0,1)(2,"p"),e._uU(3," In determinate occasioni e con alcuni browser \xe8 possibile che vengano riscontrate delle difficolt\xe0 nell'effettuare l'accesso con l'account desiderato in quanto quest'ultimo non \xe8 disponibile per la selezione. In questi casi, \xe8 innanzitutto necessario controllare di essere "),e.TgZ(4,"strong"),e._uU(5,"effettivamente loggati"),e.qZA(),e._uU(6," nel circuito a cui appartiene l'account con cui si vorrebbe accedere. In caso negativo, occorre recarsi sulla pagina di login di "),e.TgZ(7,"a",2),e._uU(8,"Forumfree"),e.qZA(),e._uU(9,", "),e.TgZ(10,"a",3),e._uU(11,"Forumcommunity"),e.qZA(),e._uU(12," o "),e.TgZ(13,"a",4),e._uU(14,"Blogfree"),e.qZA(),e._uU(15," ed eseguire l'accesso."),e._UZ(16,"br"),e._uU(17," Se, al contrario, l'account risulta correttamente loggato sul circuito di appartenenza, come primo tentativo viene consigliato di "),e.TgZ(18,"strong"),e._uU(19,"ricaricare semplicemente la pagina"),e.qZA(),e._uU(20,": infatti, pu\xf2 accadere che, per un momentaneo carico eccessivo sul server, il recupero della lista degli account fallisca. Se ci\xf2 non dovesse risultare sufficiente, \xe8 possibile seguire una delle due soluzioni descritte di seguito. "),e.qZA(),e.TgZ(21,"h6",5),e._uU(22,"Cookie di terze parti"),e.qZA(),e.TgZ(23,"p",6),e._uU(24," L'attuale metodo di autenticazione si basa sui cookie. \xc8 quindi necessario che, quando viene eseguita una richiesta al server, "),e.TgZ(25,"strong"),e._uU(26,"i cookie di Forumfree, Forumcommunity e Blogfree siano disponibili"),e.qZA(),e._uU(27,". Alcuni browser, per\xf2, tendono a bloccare di default l'invio dei cookie del sito di destinazione se il dominio di partenza \xe8 differente. Purtroppo, con gli strumenti che Forumfree al momento offre agli sviluppatori, il problema non \xe8 di immediata soluzione."),e._UZ(28,"br"),e._uU(29," In primo luogo, \xe8 possibile provare a "),e.TgZ(30,"strong"),e._uU(31,"selezionare il circuito"),e.qZA(),e._uU(32," a cui appartiene l'account con cui si vorrebbe accedere dai seguenti pulsanti: "),e.qZA(),e.TgZ(33,"div",7)(34,"a",8),e._uU(35,"Forumfree"),e.qZA(),e.TgZ(36,"a",9),e._uU(37,"Forumcommunity"),e.qZA(),e.TgZ(38,"a",10),e._uU(39,"Blogfree"),e.qZA()(),e.TgZ(40,"p"),e._uU(41," Cliccando su uno di questi, si verr\xe0 indirizzati a una pagina su Forumfree, Forumcommunity e Blogfree e, in seguito, subito indietro alla pagina di login di Easy Innovation. Se l'operazione dovesse avere successo, si dovrebbe riuscire a entrare nel sito. "),e.qZA(),e.TgZ(42,"h6",5),e._uU(43,"Abilitazione dei cookie di terze parti"),e.qZA(),e.TgZ(44,"p",11),e._uU(45," Una seconda alternativa riguarda "),e.TgZ(46,"strong"),e._uU(47,"l'abilitazione dei cookie di terze parti"),e.qZA(),e._uU(48,". Si tratta di cookie creati da altri siti che interagiscono con i siti visitati mediante alcuni elementi, quali le immagini. A seconda del browser, \xe8 possibile abilitare i cookie solo di alcuni specifici siti, al fine di proteggere maggiormente la privacy dell'utente. Di seguito vengono riportate le istruzioni da seguire per i principali browser attualmente in uso: "),e.qZA(),e.TgZ(49,"ul",11)(50,"li")(51,"a",12),e._uU(52," Google Chrome "),e.qZA()(),e.TgZ(53,"li")(54,"a",13),e._uU(55," Mozilla Firefox "),e.qZA()(),e.TgZ(56,"li")(57,"a",14),e._uU(58," Apple Safari "),e.qZA()(),e.TgZ(59,"li"),e._uU(60," Microsoft Edge: tramite la pagina in "),e.TgZ(61,"em"),e._uU(62,"Impostazioni"),e.qZA(),e._uU(63," > "),e.TgZ(64,"em"),e._uU(65,"Cookie e autorizzazioni sito"),e.qZA(),e._uU(66," > "),e.TgZ(67,"em"),e._uU(68,"Gestisci ed elimina cookie e dati del sito"),e.qZA(),e._uU(69," > "),e.TgZ(70,"em"),e._uU(71,"Blocca cookie di terze parti"),e.qZA()(),e.TgZ(72,"li")(73,"a",15),e._uU(74," Opera "),e.qZA()()(),e.TgZ(75,"p"),e._uU(76," In caso di difficolt\xe0, \xe8 possibile richiedere supporto aprendo una discussione nella "),e.TgZ(77,"a",16),e._uU(78,"sezione dedicata"),e.qZA(),e._uU(79,". "),e.qZA()()),2&b&&(e.xp6(77),e.Q6J("href",A.supportLink,e.LSH))},dependencies:[gt.z],styles:[".ff-btn[_ngcontent-%COMP%], .fc-btn[_ngcontent-%COMP%], .bf-btn[_ngcontent-%COMP%]{color:#fff;transition:background-color .2s}.ff-btn[_ngcontent-%COMP%]{background-color:#58a72e}.ff-btn[_ngcontent-%COMP%]:hover{background-color:#4d9328}.ff-btn[_ngcontent-%COMP%]:active{background-color:#458224}.fc-btn[_ngcontent-%COMP%]{background-color:#0082cd}.fc-btn[_ngcontent-%COMP%]:hover{background-color:#0072b4}.fc-btn[_ngcontent-%COMP%]:active{background-color:#0065a0}.bf-btn[_ngcontent-%COMP%]{background-color:#e67f22}.bf-btn[_ngcontent-%COMP%]:hover{background-color:#d16f18}.bf-btn[_ngcontent-%COMP%]:active{background-color:#b96315}"]}),v})();var w=q(9985),y=q(5174),_=q(2931);const p=["app-login-profile",""];function d(v,x){if(1&v&&(e.TgZ(0,"div",4)(1,"div",5),e._UZ(2,"img",6),e.ALo(3,"uploadsreplace"),e._UZ(4,"div",7),e.qZA()()),2&v){const b=e.oxw();e.xp6(2),e.s9C("src",e.lcZ(3,3,b.profile.user.avatar),e.LSH),e.s9C("alt",b.profile.user.nickname+"'s "+b.profile.site.name+" avatar"),e.Q6J("nameDynamicReplace",b.profile.user.nickname)}}const C=function(){return{animation:"shift-away"}};function k(v,x){if(1&v&&(e._UZ(0,"a",8),e.ALo(1,"titlecase")),2&v){const b=e.oxw();e.Q6J("href",b.redirectLink,e.LSH)("target",b.jwtRedirect?"_self":"_blank")("appTippy","Effettua il login con "+e.lcZ(1,5,b.profile.site.name)+"!")("tippyProps",e.DdM(7,C))("disableOnTouchDevice",!0)}}function P(v,x){if(1&v&&e._UZ(0,"div",9),2&v){const b=e.oxw();e.Q6J("innerHTML",b.profile.user.nickname,e.oJD)}}const L=function(v,x){return{logged:v,"touch-device":x}};let J=(()=>{class v{constructor(b){this.loginService=b,this.loggedProfiles=0,this.failedAttempts=[],this.isTouch=U.eX,this.redirectLink="",this.jwtRedirect=!1}ngOnInit(){if(0!==this.loggedProfiles||this.failedAttempts.includes(this.profile.site.domain))this.redirectLink=`https://accounts.${this.profile.site.domain}/?act=Login`;else{const b=this.loginService.redirect;this.redirectLink=`https://script.${this.profile.site.domain}/i/jwt-redirect`,b!==$.B2.HOME&&(this.redirectLink+=`?params=${encodeURIComponent(JSON.stringify({path:b}))}`),this.jwtRedirect=!0}}}return v.\u0275fac=function(b){return new(b||v)(e.Y36(F.r))},v.\u0275cmp=e.Xpm({type:v,selectors:[["","app-login-profile",""]],inputs:{profile:"profile",loggedProfiles:"loggedProfiles",failedAttempts:"failedAttempts"},attrs:p,decls:5,vars:10,consts:[[3,"ngClass"],["class","avatar rounded-circle",4,"ngIf","ngIfElse"],["loginRedirect",""],["class","name mt-sm-2 ms-sm-0 ms-2 text-center text-truncate fw-bold",3,"innerHTML",4,"ngIf"],[1,"avatar","rounded-circle"],[1,"card-flipper","position-relative","w-100","h-100"],["appImage","",1,"card-front","d-block","rounded-circle","image-cover",3,"nameDynamicReplace","src","alt"],[1,"card-back","w-100","h-100","rounded-circle","d-none","d-lg-block"],["tabindex","0",1,"d-block","avatar","rounded-circle",3,"href","target","appTippy","tippyProps","disableOnTouchDevice"],[1,"name","mt-sm-2","ms-sm-0","ms-2","text-center","text-truncate","fw-bold",3,"innerHTML"]],template:function(b,A){if(1&b&&(e.TgZ(0,"div",0),e.YNc(1,d,5,5,"div",1),e.YNc(2,k,2,8,"ng-template",null,2,e.W1O),e.YNc(4,P,1,1,"div",3),e.qZA()),2&b){const O=e.MAs(3);e.Gre("user user-",A.profile.site.short," d-flex flex-sm-column align-items-center justify-content-center"),e.Q6J("ngClass",e.WLB(7,L,A.profile.user.id>0,A.isTouch)),e.xp6(1),e.Q6J("ngIf",A.profile.user.id>0)("ngIfElse",O),e.xp6(3),e.Q6J("ngIf",A.profile.user.id>0)}},dependencies:[Q.mk,Q.O5,w.t,y.$,Q.rS,_.g],styles:[".logged[_ngcontent-%COMP%]{cursor:pointer}.avatar[_ngcontent-%COMP%]{width:75px;height:75px;background-repeat:no-repeat;background-position:50% 50%;background-size:40px}.name[_ngcontent-%COMP%]{width:100px}.user-ff[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{color:#58a72e;background-color:#58a72e}.user-ff[_ngcontent-%COMP%]:not(.logged)   .avatar[_ngcontent-%COMP%]{background-image:url(/assets/icon-ff-50.jpg)}.user-fc[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{color:#0082cd;background-color:#0082cd}.user-fc[_ngcontent-%COMP%]:not(.logged)   .avatar[_ngcontent-%COMP%]{background-image:url(/assets/icon-fc-50.jpg)}.user-bf[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{color:#e67f22;background-color:#e67f22}.user-bf[_ngcontent-%COMP%]:not(.logged)   .avatar[_ngcontent-%COMP%]{background-image:url(/assets/icon-bf-50.jpg)}.user.touch-device.logged[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border:3px solid}.user.touch-device.logged.user-ff[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#58a72e}.user.touch-device.logged.user-fc[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#0082cd}.user.touch-device.logged.user-bf[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#e67f22}.user[_ngcontent-%COMP%]:not(.touch-device).logged   .avatar[_ngcontent-%COMP%]{border:2px solid}.user[_ngcontent-%COMP%]:not(.touch-device)   .name[_ngcontent-%COMP%]{transition:color .4s}.user[_ngcontent-%COMP%]:not(.touch-device)   .card-flipper[_ngcontent-%COMP%]{transition:.4s;transform-style:preserve-3d}.user[_ngcontent-%COMP%]:not(.touch-device)   .card-front[_ngcontent-%COMP%], .user[_ngcontent-%COMP%]:not(.touch-device)   .card-back[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.user[_ngcontent-%COMP%]:not(.touch-device)   .card-front[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0)}.user[_ngcontent-%COMP%]:not(.touch-device)   .card-back[_ngcontent-%COMP%]{transform:rotateY(180deg);background-repeat:no-repeat;background-position:50% 50%}.user[_ngcontent-%COMP%]:not(.touch-device).logged:hover   .card-flipper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.user[_ngcontent-%COMP%]:not(.touch-device).user-ff.logged:hover   .name[_ngcontent-%COMP%]{color:#58a72e}.user[_ngcontent-%COMP%]:not(.touch-device).user-ff.logged   .card-back[_ngcontent-%COMP%]{background-color:#58a72e;background-image:url(/assets/icon-ff-50.jpg)}.user[_ngcontent-%COMP%]:not(.touch-device).user-fc.logged:hover   .name[_ngcontent-%COMP%]{color:#0082cd}.user[_ngcontent-%COMP%]:not(.touch-device).user-fc.logged   .card-back[_ngcontent-%COMP%]{background-color:#0082cd;background-image:url(/assets/icon-fc-50.jpg)}.user[_ngcontent-%COMP%]:not(.touch-device).user-bf.logged:hover   .name[_ngcontent-%COMP%]{color:#e67f22}.user[_ngcontent-%COMP%]:not(.touch-device).user-bf.logged   .card-back[_ngcontent-%COMP%]{background-color:#e67f22;background-image:url(/assets/icon-bf-50.jpg)}@media (min-width: 576px){.avatar[_ngcontent-%COMP%]{width:100px;height:100px;background-size:initial}.name[_ngcontent-%COMP%]{width:150px}}"]}),v})();var f=q(9641),t=q.n(f),r=q(1042),a=q(5395);const u=["canvas"],c=["modal"];let h=(()=>{class v{constructor(b,A){this.graphqlService=b,this.loginService=A,this.loginQrEvent=new e.vpe,this.uuid=(0,r.Z)()}ngAfterViewInit(){const b=new URL(window.location.href);new(t())({width:250,height:250,margin:5,data:`${b.protocol}//${b.host}/settings?qr-login=${this.uuid}`,image:"/assets/easy-innovation-logo.svg",dotsOptions:{color:"#4b579a",type:"rounded"},backgroundOptions:{color:"#ffffff"},imageOptions:{crossOrigin:"anonymous",margin:3}}).append(this.canvas.nativeElement)}open(){this.graphqlService.subscribe({query:"\nsubscription securityLoginQr($listener: String!) {\n    securityLoginQr(listener: $listener) {\n        eventMessage\n        user {\n            host\n            id\n            nickname\n            avatar\n        }\n    }\n}",variables:{listener:this.uuid}},b=>{this.onNext(b)}).then(b=>{this.unsubscribeFunction&&this.unsubscribeFunction(),this.unsubscribeFunction=b}),this.modalComponent.open()}onModalHidden(){this.unsubscribeFunction&&this.unsubscribeFunction()}onNext(b){const A=b.data?.securityLoginQr;if(!A)return;const O=this.loginService.createProfileFromJwtResponse({host:A.user.host,user:{...A.user},token:A.eventMessage});this.loginQrEvent.emit(O),this.modalComponent.close()}ngOnDestroy(){this.unsubscribeFunction&&this.unsubscribeFunction()}}return v.\u0275fac=function(b){return new(b||v)(e.Y36(a.J),e.Y36(F.r))},v.\u0275cmp=e.Xpm({type:v,selectors:[["app-login-qr-modal"]],viewQuery:function(b,A){if(1&b&&(e.Gf(u,5),e.Gf(c,5)),2&b){let O;e.iGM(O=e.CRH())&&(A.canvas=O.first),e.iGM(O=e.CRH())&&(A.modalComponent=O.first)}},outputs:{loginQrEvent:"loginQrEvent"},decls:16,vars:1,consts:[["title","Login tramite QR Code",3,"hidden"],["modal",""],[1,"text-center"],["canvas",""]],template:function(b,A){1&b&&(e.TgZ(0,"app-modal",0,1),e.NdJ("hidden",function(){return A.onModalHidden()}),e.TgZ(2,"ol")(3,"li"),e._uU(4,"Apri l'app fotocamera integrata del telefono o tablet."),e.qZA(),e.TgZ(5,"li"),e._uU(6,"Inquadra il QR Code."),e.qZA(),e.TgZ(7,"li"),e._uU(8,"Tocca il banner che compare sul telefono o tablet."),e.qZA(),e.TgZ(9,"li"),e._uU(10,"Segui le istruzioni sullo schermo per terminare l'accesso."),e.qZA()(),e._UZ(11,"div",2,3),e.TgZ(13,"p",2)(14,"small",2),e._uU(15),e.qZA()()()),2&b&&(e.xp6(15),e.hij("Codice di verifica: ",A.uuid,""))},dependencies:[gt.z]}),v})();function i(v,x){1&v&&e._UZ(0,"app-loader",13)}function s(v,x){if(1&v){const b=e.EpF();e.TgZ(0,"div",19)(1,"strong"),e._uU(2,"Non risulti loggato in alcun account!"),e.qZA(),e._UZ(3,"br"),e._uU(4," Se ritieni che sia un errore, prova a ricaricare la pagina oppure a seguire "),e.TgZ(5,"a",20),e.NdJ("click",function(){e.CHM(b),e.oxw(2);const O=e.MAs(13);return e.KtG(O.open())}),e._uU(6,"questi consigli"),e.qZA(),e._uU(7," e vedere se il problema si risolve! "),e.qZA()}}const o=function(v,x){return{"mx-sm-auto":v,"mb-4 mb-sm-0":x}};function l(v,x){if(1&v){const b=e.EpF();e.TgZ(0,"li",21),e.NdJ("click",function(){const B=e.CHM(b).$implicit,I=e.oxw(3);return e.KtG(I.clickProfileEvent(B))}),e.qZA()}if(2&v){const b=x.$implicit,A=x.first,O=x.last,B=e.oxw(3);e.Q6J("ngClass",e.WLB(4,o,A||O,!O))("profile",b)("loggedProfiles",B.loggedProfiles)("failedAttempts",B.failedAttempts)}}function g(v,x){if(1&v){const b=e.EpF();e.YNc(0,s,8,0,"div",14),e.TgZ(1,"ul",15),e.YNc(2,l,1,7,"li",16),e.qZA(),e.TgZ(3,"div",17),e._uU(4,"Proseguendo accetti i "),e.TgZ(5,"a",18),e.NdJ("click",function(){e.CHM(b);const O=e.oxw(2);return e.KtG(O.openTosModal())}),e._uU(6,"Termini di Servizio"),e.qZA(),e._uU(7),e.qZA()}if(2&v){const b=e.oxw(2);e.Q6J("ngIf",0===b.loggedProfiles),e.xp6(2),e.Q6J("ngForOf",b.profiles),e.xp6(5),e.hij(" di ",b.appName,"")}}function M(v,x){if(1&v){const b=e.EpF();e.ynx(0),e.TgZ(1,"div",1)(2,"main",2),e._UZ(3,"div",3),e.TgZ(4,"div",4)(5,"div",5),e.NdJ("click",function(){e.CHM(b);const O=e.MAs(15);return e.KtG(O.open())}),e._uU(6,"qr_code_scanner"),e.qZA(),e.TgZ(7,"div",6),e._uU(8,"Scegli l'account Forumfree, Forumcommunity o Blogfree con cui accedere!"),e.qZA(),e.YNc(9,i,1,0,"app-loader",7),e.YNc(10,g,8,3,"ng-template",null,8,e.W1O),e.qZA()(),e._UZ(12,"app-login-modal",null,9),e.TgZ(14,"app-login-qr-modal",10,11),e.NdJ("loginQrEvent",function(O){e.CHM(b);const B=e.oxw();return e.KtG(B.clickProfileEvent(O))}),e.qZA(),e._UZ(16,"app-footer",12),e.qZA(),e.BQk()}if(2&v){const b=e.MAs(11),A=e.oxw();e.xp6(1),e.ekj("embedded",A.window!==A.window.parent),e.xp6(8),e.Q6J("ngIf",0===A.profiles.length)("ngIfElse",b),e.xp6(7),e.Q6J("subscribeToToggleTosModalSubject",!0)}}const m=[{path:"",component:(()=>{class v{constructor(b,A,O,B,I,N,G,X,V,ct,Mt){this.router=b,this.loginService=A,this.globalsService=O,this.googleAnalytics=B,this.activatedRoute=I,this.toastService=N,this.titleCasePipe=G,this.tosService=X,this.urlQueryParamsService=V,this.preferencesService=ct,this.window=Mt,this.profiles=[],this.render=!1,this.loggedProfiles=0,this.failedAttempts=[],this.appName=U.lW,this.globalsService.credentials=void 0,this.globalsService.forum=void 0,this.globalsService.refreshToken=void 0,this.globalsService.accessToken=void 0,this.preferencesService.resetItemsOnProfileChange()}clickProfileEvent(b){var A=this;return(0,et.Z)(function*(){if(b.user.id<1)return;A.globalsService.refreshToken=b.token,A.globalsService.credentials=b,A.googleAnalytics.setCurrentUser(String(A.globalsService.credentials.user.id));const O=A.loginService.redirect;A.loginService.redirect=void 0,A.loginService.loggedInCurrentSession=!0,yield A.router.navigateByUrl(O)})()}ngOnInit(){var b=this;return(0,et.Z)(function*(){const A=b.urlQueryParamsService.getAndDeleteParam($.RT.REDIRECT_PATH);A&&(b.loginService.redirect=A);const O=b.activatedRoute.snapshot.data[$.RT.PROFILE];if(O){if(O.token)return void(yield b.clickProfileEvent(O));O.attempted&&(b.showToast(O.attempted),b.failedAttempts.push(O.attempted))}b.render=!0;const B=Object.values($.AW),I=yield Promise.all(B.map(N=>b.loginService.getProfile(N)));b.loggedProfiles=I.filter(N=>N.token.length>0).length,b.profiles=I})()}showToast(b){this.toastService.show({content:`Non risulti loggato su ${this.titleCasePipe.transform(b.split(".")[0])}, prova ad effettuare l'accesso dal <a href="https://accounts.${b}/?act=Login" target="_blank">portale dedicato</a> e a ricaricare la pagina!`,level:lt.m.ERROR})}openTosModal(){this.tosService.toggleModal(!0)}}return v.\u0275fac=function(b){return new(b||v)(e.Y36(K.F0),e.Y36(F.r),e.Y36(j.d),e.Y36(ot.$),e.Y36(K.gz),e.Y36(W.k),e.Y36(Q.rS),e.Y36(rt.F),e.Y36(nt.J),e.Y36(_t.y),e.Y36(Window))},v.\u0275cmp=e.Xpm({type:v,selectors:[["ng-component"]],features:[e._Bn([Q.rS])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"wrapper"],[1,"shadow-sm","d-flex","flex-column","mx-auto","mb-5"],["app-login-header","",1,"login-info","text-white","p-4"],[1,"login-form","p-4","bg-white","d-flex","flex-column","justify-content-center","position-relative"],[1,"material-icons-outlined","p-3","position-absolute","cursor-pointer","qr-code-icon",3,"click"],[1,"text-center","mb-4","px-4"],["message","Caricamento profili",4,"ngIf","ngIfElse"],["profileList",""],["loginModal",""],[3,"loginQrEvent"],["loginQrModal",""],[3,"subscribeToToggleTosModalSubject"],["message","Caricamento profili"],["class","alert alert-primary text-center",4,"ngIf"],[1,"user-list","list-unstyled","d-flex","flex-column","flex-sm-row","mb-0"],["app-login-profile","",3,"ngClass","profile","loggedProfiles","failedAttempts","click",4,"ngFor","ngForOf"],[1,"text-center","small","text-muted","mt-3"],["role","button",1,"tos-modal-btn",3,"click"],[1,"alert","alert-primary","text-center"],["role","button",1,"text-decoration-underline","fw-bold",3,"click"],["app-login-profile","",3,"ngClass","profile","loggedProfiles","failedAttempts","click"]],template:function(b,A){1&b&&e.YNc(0,M,17,5,"ng-container",0),2&b&&e.Q6J("ngIf",A.render)},dependencies:[Q.mk,Q.sg,Q.O5,st.c,bt.R,at,wt,J,h],styles:["[_nghost-%COMP%]{display:flex;min-height:100vh}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;background-image:url(/assets/back-pattern.png)}.wrapper.embedded[_ngcontent-%COMP%]{display:none}main[_ngcontent-%COMP%]{max-width:992px}.login-info[_ngcontent-%COMP%]{background-color:#4b579a}.login-form[_ngcontent-%COMP%]{min-height:228px}.alert.alert-primary[_ngcontent-%COMP%]{margin-bottom:2rem}.qr-code-icon[_ngcontent-%COMP%]{right:0;top:0}@media (min-width: 768px){main[_ngcontent-%COMP%]{margin-top:5rem}}@media (min-width: 768px){.login-info[_ngcontent-%COMP%]{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.login-form[_ngcontent-%COMP%]{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}}"]}),v})()}];let z=(()=>{class v{}return v.\u0275fac=function(b){return new(b||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({imports:[K.Bz.forChild(m),K.Bz]}),v})();var E=q(1043),Z=q(582),R=q(5254),T=q(1599);let D=(()=>{class v{}return v.\u0275fac=function(b){return new(b||v)},v.\u0275mod=e.oAB({type:v}),v.\u0275inj=e.cJS({providers:[{provide:Window,useValue:window}],imports:[Q.ez,H._,Y.$,tt.q,z,E.h,Z.z,R.G,T.g]}),v})()},2381:(Ct,dt,q)=>{"use strict";q.d(dt,{y:()=>tt});var Q=q(5044),H=q(4650),Y=q(5700);let tt=(()=>{class et{constructor(U){this.cookieConsentService=U,this.storage=null}getItem(U){return null===this.storage&&(this.storage=this.data),this.storage[U]}get data(){const U=localStorage.getItem(Q.dR.PREFERENCES);if(!U)return{};try{return JSON.parse(U)}catch{return{}}}setItem(U,$){null===this.storage&&(this.storage=this.data),$?this.storage[U]=$:delete this.storage[U],this.cookieConsentService.choice?.preferences&&localStorage.setItem(Q.dR.PREFERENCES,JSON.stringify(this.storage))}resetItemsOnProfileChange(){const U=this.getItem(Q.Ye.UPLOAD);U&&(U.lastPath=[],this.setItem(Q.Ye.UPLOAD,U))}}return et.\u0275fac=function(U){return new(U||et)(H.LFG(Y.C))},et.\u0275prov=H.Yz7({token:et,factory:et.\u0275fac,providedIn:"root"}),et})()},9641:Ct=>{self,Ct.exports=(()=>{var dt={192:(H,Y)=>{var tt,et,lt=function(){var U=function(w,y){var _=w,p=ot[y],d=null,C=0,k=null,P=[],L={},J=function(i,s){d=function(o){for(var l=new Array(o),g=0;g<o;g+=1){l[g]=new Array(o);for(var M=0;M<o;M+=1)l[g][M]=null}return l}(C=4*_+17),f(0,0),f(C-7,0),f(0,C-7),r(),t(),a(i,s),_>=7&&n(i),null==k&&(k=c(_,p,P)),u(k,s)},f=function(i,s){for(var o=-1;o<=7;o+=1)if(!(i+o<=-1||C<=i+o))for(var l=-1;l<=7;l+=1)s+l<=-1||C<=s+l||(d[i+o][s+l]=0<=o&&o<=6&&(0==l||6==l)||0<=l&&l<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=l&&l<=4)},t=function(){for(var i=8;i<C-8;i+=1)null==d[i][6]&&(d[i][6]=i%2==0);for(var s=8;s<C-8;s+=1)null==d[6][s]&&(d[6][s]=s%2==0)},r=function(){for(var i=W.getPatternPosition(_),s=0;s<i.length;s+=1)for(var o=0;o<i.length;o+=1){var l=i[s],g=i[o];if(null==d[l][g])for(var M=-2;M<=2;M+=1)for(var S=-2;S<=2;S+=1)d[l+M][g+S]=-2==M||2==M||-2==S||2==S||0==M&&0==S}},n=function(i){for(var s=W.getBCHTypeNumber(_),o=0;o<18;o+=1){var l=!i&&1==(s>>o&1);d[Math.floor(o/3)][o%3+C-8-3]=l}for(o=0;o<18;o+=1)l=!i&&1==(s>>o&1),d[o%3+C-8-3][Math.floor(o/3)]=l},a=function(i,s){for(var l=W.getBCHTypeInfo(p<<3|s),g=0;g<15;g+=1){var M=!i&&1==(l>>g&1);g<6?d[g][8]=M:g<8?d[g+1][8]=M:d[C-15+g][8]=M}for(g=0;g<15;g+=1)M=!i&&1==(l>>g&1),g<8?d[8][C-g-1]=M:g<9?d[8][15-g-1+1]=M:d[8][15-g-1]=M;d[C-8][8]=!i},u=function(i,s){for(var o=-1,l=C-1,g=7,M=0,S=W.getMaskFunction(s),m=C-1;m>0;m-=2)for(6==m&&(m-=1);;){for(var z=0;z<2;z+=1)if(null==d[l][m-z]){var E=!1;M<i.length&&(E=1==(i[M]>>>g&1)),S(l,m-z)&&(E=!E),d[l][m-z]=E,-1==(g-=1)&&(M+=1,g=7)}if((l+=o)<0||C<=l){l-=o,o=-o;break}}},c=function(i,s,o){for(var l=_t.getRSBlocks(i,s),g=st(),M=0;M<o.length;M+=1){var S=o[M];g.put(S.getMode(),4),g.put(S.getLength(),W.getLengthInBits(S.getMode(),i)),S.write(g)}var m=0;for(M=0;M<l.length;M+=1)m+=l[M].dataCount;if(g.getLengthInBits()>8*m)throw"code length overflow. ("+g.getLengthInBits()+">"+8*m+")";for(g.getLengthInBits()+4<=8*m&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=8*m||(g.put(236,8),g.getLengthInBits()>=8*m));)g.put(17,8);return function(z,E){for(var Z=0,R=0,T=0,D=new Array(E.length),v=new Array(E.length),x=0;x<E.length;x+=1){var b=E[x].dataCount,A=E[x].totalCount-b;R=Math.max(R,b),T=Math.max(T,A),D[x]=new Array(b);for(var O=0;O<D[x].length;O+=1)D[x][O]=255&z.getBuffer()[O+Z];Z+=b;var B=W.getErrorCorrectPolynomial(A),I=nt(D[x],B.getLength()-1).mod(B);for(v[x]=new Array(B.getLength()-1),O=0;O<v[x].length;O+=1){var N=O+I.getLength()-v[x].length;v[x][O]=N>=0?I.getAt(N):0}}var G=0;for(O=0;O<E.length;O+=1)G+=E[O].totalCount;var X=new Array(G),V=0;for(O=0;O<R;O+=1)for(x=0;x<E.length;x+=1)O<D[x].length&&(X[V]=D[x][O],V+=1);for(O=0;O<T;O+=1)for(x=0;x<E.length;x+=1)O<v[x].length&&(X[V]=v[x][O],V+=1);return X}(g,l)};L.addData=function(i,s){var o=null;switch(s=s||"Byte"){case"Numeric":o=bt(i);break;case"Alphanumeric":o=yt(i);break;case"Byte":o=it(i);break;case"Kanji":o=at(i);break;default:throw"mode:"+s}P.push(o),k=null},L.isDark=function(i,s){if(i<0||C<=i||s<0||C<=s)throw i+","+s;return d[i][s]},L.getModuleCount=function(){return C},L.make=function(){if(_<1){for(var i=1;i<40;i++){for(var s=_t.getRSBlocks(i,p),o=st(),l=0;l<P.length;l++){var g=P[l];o.put(g.getMode(),4),o.put(g.getLength(),W.getLengthInBits(g.getMode(),i)),g.write(o)}var M=0;for(l=0;l<s.length;l++)M+=s[l].dataCount;if(o.getLengthInBits()<=8*M)break}_=i}J(!1,function(){for(var S=0,m=0,z=0;z<8;z+=1){J(!0,z);var E=W.getLostPoint(L);(0==z||S>E)&&(S=E,m=z)}return m}())},L.createTableTag=function(i,s){i=i||2;var o="";o+='<table style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: "+(s=void 0===s?4*i:s)+"px;",o+='">',o+="<tbody>";for(var l=0;l<L.getModuleCount();l+=1){o+="<tr>";for(var g=0;g<L.getModuleCount();g+=1)o+='<td style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: 0px;",o+=" width: "+i+"px;",o+=" height: "+i+"px;",o+=" background-color: ",o+=L.isDark(l,g)?"#000000":"#ffffff",o+=";",o+='"/>';o+="</tr>"}return(o+="</tbody>")+"</table>"},L.createSvgTag=function(i,s,o,l){var g={};"object"==typeof arguments[0]&&(i=(g=arguments[0]).cellSize,s=g.margin,o=g.alt,l=g.title),i=i||2,s=void 0===s?4*i:s,(o="string"==typeof o?{text:o}:o||{}).text=o.text||null,o.id=o.text?o.id||"qrcode-description":null,(l="string"==typeof l?{text:l}:l||{}).text=l.text||null,l.id=l.text?l.id||"qrcode-title":null;var M,S,m,z,E=L.getModuleCount()*i+2*s,Z="";for(z="l"+i+",0 0,"+i+" -"+i+",0 0,-"+i+"z ",Z+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',Z+=g.scalable?"":' width="'+E+'px" height="'+E+'px"',Z+=' viewBox="0 0 '+E+" "+E+'" ',Z+=' preserveAspectRatio="xMinYMin meet"',Z+=l.text||o.text?' role="img" aria-labelledby="'+h([l.id,o.id].join(" ").trim())+'"':"",Z+=">",Z+=l.text?'<title id="'+h(l.id)+'">'+h(l.text)+"</title>":"",Z+=o.text?'<description id="'+h(o.id)+'">'+h(o.text)+"</description>":"",Z+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',Z+='<path d="',S=0;S<L.getModuleCount();S+=1)for(m=S*i+s,M=0;M<L.getModuleCount();M+=1)L.isDark(S,M)&&(Z+="M"+(M*i+s)+","+m+z);return(Z+='" stroke="transparent" fill="black"/>')+"</svg>"},L.createDataURL=function(i,s){i=i||2,s=void 0===s?4*i:s;var o=L.getModuleCount()*i+2*s,l=s,g=o-s;return wt(o,o,function(M,S){if(l<=M&&M<g&&l<=S&&S<g){var m=Math.floor((M-l)/i),z=Math.floor((S-l)/i);return L.isDark(z,m)?0:1}return 1})},L.createImgTag=function(i,s,o){i=i||2,s=void 0===s?4*i:s;var l=L.getModuleCount()*i+2*s,g="";return g+="<img",g+=' src="',g+=L.createDataURL(i,s),g+='"',g+=' width="',g+=l,g+='"',g+=' height="',g+=l,g+='"',o&&(g+=' alt="',g+=h(o),g+='"'),g+"/>"};var h=function(i){for(var s="",o=0;o<i.length;o+=1){var l=i.charAt(o);switch(l){case"<":s+="&lt;";break;case">":s+="&gt;";break;case"&":s+="&amp;";break;case'"':s+="&quot;";break;default:s+=l}}return s};return L.createASCII=function(i,s){if((i=i||1)<2)return function(D){D=void 0===D?2:D;var v,x,b,A,O,B=1*L.getModuleCount()+2*D,I=D,N=B-D,G={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},X={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},V="";for(v=0;v<B;v+=2){for(b=Math.floor((v-I)/1),A=Math.floor((v+1-I)/1),x=0;x<B;x+=1)O="\u2588",I<=x&&x<N&&I<=v&&v<N&&L.isDark(b,Math.floor((x-I)/1))&&(O=" "),I<=x&&x<N&&I<=v+1&&v+1<N&&L.isDark(A,Math.floor((x-I)/1))?O+=" ":O+="\u2588",V+=D<1&&v+1>=N?X[O]:G[O];V+="\n"}return B%2&&D>0?V.substring(0,V.length-B-1)+Array(B+1).join("\u2580"):V.substring(0,V.length-1)}(s);i-=1,s=void 0===s?2*i:s;var o,l,g,M,S=L.getModuleCount()*i+2*s,m=s,z=S-s,E=Array(i+1).join("\u2588\u2588"),Z=Array(i+1).join("  "),R="",T="";for(o=0;o<S;o+=1){for(g=Math.floor((o-m)/i),T="",l=0;l<S;l+=1)M=1,m<=l&&l<z&&m<=o&&o<z&&L.isDark(g,Math.floor((l-m)/i))&&(M=0),T+=M?E:Z;for(g=0;g<i;g+=1)R+=T+"\n"}return R.substring(0,R.length-1)},L.renderTo2dContext=function(i,s){s=s||2;for(var o=L.getModuleCount(),l=0;l<o;l++)for(var g=0;g<o;g++)i.fillStyle=L.isDark(l,g)?"black":"white",i.fillRect(l*s,g*s,s,s)},L};U.stringToBytes=(U.stringToBytesFuncs={default:function(w){for(var y=[],_=0;_<w.length;_+=1){var p=w.charCodeAt(_);y.push(255&p)}return y}}).default,U.createStringToBytes=function(w,y){var _=function(){for(var d=ft(w),C=function(){var t=d.read();if(-1==t)throw"eof";return t},k=0,P={};;){var L=d.read();if(-1==L)break;var J=C(),f=C()<<8|C();P[String.fromCharCode(L<<8|J)]=f,k+=1}if(k!=y)throw k+" != "+y;return P}(),p="?".charCodeAt(0);return function(d){for(var C=[],k=0;k<d.length;k+=1){var P=d.charCodeAt(k);if(P<128)C.push(P);else{var L=_[d.charAt(k)];"number"==typeof L?(255&L)==L?C.push(L):(C.push(L>>>8),C.push(255&L)):C.push(p)}}return C}};var $,e,K,F,j,ot={L:1,M:0,Q:3,H:2},W=($=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],e=1335,K=7973,j=function(w){for(var y=0;0!=w;)y+=1,w>>>=1;return y},(F={}).getBCHTypeInfo=function(w){for(var y=w<<10;j(y)-j(e)>=0;)y^=e<<j(y)-j(e);return 21522^(w<<10|y)},F.getBCHTypeNumber=function(w){for(var y=w<<12;j(y)-j(K)>=0;)y^=K<<j(y)-j(K);return w<<12|y},F.getPatternPosition=function(w){return $[w-1]},F.getMaskFunction=function(w){switch(w){case 0:return function(y,_){return(y+_)%2==0};case 1:return function(y,_){return y%2==0};case 2:return function(y,_){return _%3==0};case 3:return function(y,_){return(y+_)%3==0};case 4:return function(y,_){return(Math.floor(y/2)+Math.floor(_/3))%2==0};case 5:return function(y,_){return y*_%2+y*_%3==0};case 6:return function(y,_){return(y*_%2+y*_%3)%2==0};case 7:return function(y,_){return(y*_%3+(y+_)%2)%2==0};default:throw"bad maskPattern:"+w}},F.getErrorCorrectPolynomial=function(w){for(var y=nt([1],0),_=0;_<w;_+=1)y=y.multiply(nt([1,rt.gexp(_)],0));return y},F.getLengthInBits=function(w,y){if(1<=y&&y<10)switch(w){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+w}else if(y<27)switch(w){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+w}else{if(!(y<41))throw"type:"+y;switch(w){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+w}}},F.getLostPoint=function(w){for(var y=w.getModuleCount(),_=0,p=0;p<y;p+=1)for(var d=0;d<y;d+=1){for(var C=0,k=w.isDark(p,d),P=-1;P<=1;P+=1)if(!(p+P<0||y<=p+P))for(var L=-1;L<=1;L+=1)d+L<0||y<=d+L||0==P&&0==L||k==w.isDark(p+P,d+L)&&(C+=1);C>5&&(_+=3+C-5)}for(p=0;p<y-1;p+=1)for(d=0;d<y-1;d+=1){var J=0;w.isDark(p,d)&&(J+=1),w.isDark(p+1,d)&&(J+=1),w.isDark(p,d+1)&&(J+=1),w.isDark(p+1,d+1)&&(J+=1),0!=J&&4!=J||(_+=3)}for(p=0;p<y;p+=1)for(d=0;d<y-6;d+=1)w.isDark(p,d)&&!w.isDark(p,d+1)&&w.isDark(p,d+2)&&w.isDark(p,d+3)&&w.isDark(p,d+4)&&!w.isDark(p,d+5)&&w.isDark(p,d+6)&&(_+=40);for(d=0;d<y;d+=1)for(p=0;p<y-6;p+=1)w.isDark(p,d)&&!w.isDark(p+1,d)&&w.isDark(p+2,d)&&w.isDark(p+3,d)&&w.isDark(p+4,d)&&!w.isDark(p+5,d)&&w.isDark(p+6,d)&&(_+=40);var f=0;for(d=0;d<y;d+=1)for(p=0;p<y;p+=1)w.isDark(p,d)&&(f+=1);return _+Math.abs(100*f/y/y-50)/5*10},F),rt=function(){for(var w=new Array(256),y=new Array(256),_=0;_<8;_+=1)w[_]=1<<_;for(_=8;_<256;_+=1)w[_]=w[_-4]^w[_-5]^w[_-6]^w[_-8];for(_=0;_<255;_+=1)y[w[_]]=_;return{glog:function(p){if(p<1)throw"glog("+p+")";return y[p]},gexp:function(p){for(;p<0;)p+=255;for(;p>=256;)p-=255;return w[p]}}}();function nt(w,y){if(void 0===w.length)throw w.length+"/"+y;var _=function(){for(var d=0;d<w.length&&0==w[d];)d+=1;for(var C=new Array(w.length-d+y),k=0;k<w.length-d;k+=1)C[k]=w[k+d];return C}(),p={getAt:function(d){return _[d]},getLength:function(){return _.length},multiply:function(d){for(var C=new Array(p.getLength()+d.getLength()-1),k=0;k<p.getLength();k+=1)for(var P=0;P<d.getLength();P+=1)C[k+P]^=rt.gexp(rt.glog(p.getAt(k))+rt.glog(d.getAt(P)));return nt(C,0)},mod:function(d){if(p.getLength()-d.getLength()<0)return p;for(var C=rt.glog(p.getAt(0))-rt.glog(d.getAt(0)),k=new Array(p.getLength()),P=0;P<p.getLength();P+=1)k[P]=p.getAt(P);for(P=0;P<d.getLength();P+=1)k[P]^=rt.gexp(rt.glog(d.getAt(P))+C);return nt(k,0).mod(d)}};return p}var w,y,_t=(w=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],y=function(p,d){var C={};return C.totalCount=p,C.dataCount=d,C},{getRSBlocks:function(p,d){var C=function(n,a){switch(a){case ot.L:return w[4*(n-1)+0];case ot.M:return w[4*(n-1)+1];case ot.Q:return w[4*(n-1)+2];case ot.H:return w[4*(n-1)+3];default:return}}(p,d);if(void 0===C)throw"bad rs block @ typeNumber:"+p+"/errorCorrectionLevel:"+d;for(var k=C.length/3,P=[],L=0;L<k;L+=1)for(var J=C[3*L+0],f=C[3*L+1],t=C[3*L+2],r=0;r<J;r+=1)P.push(y(f,t));return P}}),st=function(){var w=[],y=0,_={getBuffer:function(){return w},getAt:function(p){var d=Math.floor(p/8);return 1==(w[d]>>>7-p%8&1)},put:function(p,d){for(var C=0;C<d;C+=1)_.putBit(1==(p>>>d-C-1&1))},getLengthInBits:function(){return y},putBit:function(p){var d=Math.floor(y/8);w.length<=d&&w.push(0),p&&(w[d]|=128>>>y%8),y+=1}};return _},bt=function(w){var y=w,_={getMode:function(){return 1},getLength:function(C){return y.length},write:function(C){for(var k=y,P=0;P+2<k.length;)C.put(p(k.substring(P,P+3)),10),P+=3;P<k.length&&(k.length-P==1?C.put(p(k.substring(P,P+1)),4):k.length-P==2&&C.put(p(k.substring(P,P+2)),7))}},p=function(C){for(var k=0,P=0;P<C.length;P+=1)k=10*k+d(C.charAt(P));return k},d=function(C){if("0"<=C&&C<="9")return C.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+C};return _},yt=function(w){var y=w,_={getMode:function(){return 2},getLength:function(d){return y.length},write:function(d){for(var C=y,k=0;k+1<C.length;)d.put(45*p(C.charAt(k))+p(C.charAt(k+1)),11),k+=2;k<C.length&&d.put(p(C.charAt(k)),6)}},p=function(d){if("0"<=d&&d<="9")return d.charCodeAt(0)-"0".charCodeAt(0);if("A"<=d&&d<="Z")return d.charCodeAt(0)-"A".charCodeAt(0)+10;switch(d){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+d}};return _},it=function(w){var y=U.stringToBytes(w);return{getMode:function(){return 4},getLength:function(_){return y.length},write:function(_){for(var p=0;p<y.length;p+=1)_.put(y[p],8)}}},at=function(w){var y=U.stringToBytesFuncs.SJIS;if(!y)throw"sjis not supported.";!function(p,d){var C=y("\u53cb");if(2!=C.length||38726!=(C[0]<<8|C[1]))throw"sjis not supported."}();var _=y(w);return{getMode:function(){return 8},getLength:function(p){return~~(_.length/2)},write:function(p){for(var d=_,C=0;C+1<d.length;){var k=(255&d[C])<<8|255&d[C+1];if(33088<=k&&k<=40956)k-=33088;else{if(!(57408<=k&&k<=60351))throw"illegal char at "+(C+1)+"/"+k;k-=49472}p.put(k=192*(k>>>8&255)+(255&k),13),C+=2}if(C<d.length)throw"illegal char at "+(C+1)}}},gt=function(){var w=[],y={writeByte:function(_){w.push(255&_)},writeShort:function(_){y.writeByte(_),y.writeByte(_>>>8)},writeBytes:function(_,p,d){p=p||0,d=d||_.length;for(var C=0;C<d;C+=1)y.writeByte(_[C+p])},writeString:function(_){for(var p=0;p<_.length;p+=1)y.writeByte(_.charCodeAt(p))},toByteArray:function(){return w},toString:function(){var _="";_+="[";for(var p=0;p<w.length;p+=1)p>0&&(_+=","),_+=w[p];return _+"]"}};return y},ft=function(w){var y=w,_=0,p=0,d=0,C={read:function(){for(;d<8;){if(_>=y.length){if(0==d)return-1;throw"unexpected end of file./"+d}var P=y.charAt(_);if(_+=1,"="==P)return d=0,-1;P.match(/^\s$/)||(p=p<<6|k(P.charCodeAt(0)),d+=6)}var L=p>>>d-8&255;return d-=8,L}},k=function(P){if(65<=P&&P<=90)return P-65;if(97<=P&&P<=122)return P-97+26;if(48<=P&&P<=57)return P-48+52;if(43==P)return 62;if(47==P)return 63;throw"c:"+P};return C},wt=function(w,y,_){for(var p=function(f,t){var r=f,n=t,a=new Array(f*t),u={setPixel:function(i,s,o){a[s*r+i]=o},write:function(i){i.writeString("GIF87a"),i.writeShort(r),i.writeShort(n),i.writeByte(128),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(255),i.writeByte(255),i.writeByte(255),i.writeString(","),i.writeShort(0),i.writeShort(0),i.writeShort(r),i.writeShort(n),i.writeByte(0);var s=c(2);i.writeByte(2);for(var o=0;s.length-o>255;)i.writeByte(255),i.writeBytes(s,o,255),o+=255;i.writeByte(s.length-o),i.writeBytes(s,o,s.length-o),i.writeByte(0),i.writeString(";")}},c=function(i){for(var s=1<<i,o=1+(1<<i),l=i+1,g=h(),M=0;M<s;M+=1)g.add(String.fromCharCode(M));g.add(String.fromCharCode(s)),g.add(String.fromCharCode(o));var S,m,z,E=gt(),Z=(S=E,m=0,z=0,{write:function(v,x){if(v>>>x!=0)throw"length over";for(;m+x>=8;)S.writeByte(255&(v<<m|z)),x-=8-m,v>>>=8-m,z=0,m=0;z|=v<<m,m+=x},flush:function(){m>0&&S.writeByte(z)}});Z.write(s,l);var R=0,T=String.fromCharCode(a[R]);for(R+=1;R<a.length;){var D=String.fromCharCode(a[R]);R+=1,g.contains(T+D)?T+=D:(Z.write(g.indexOf(T),l),g.size()<4095&&(g.size()==1<<l&&(l+=1),g.add(T+D)),T=D)}return Z.write(g.indexOf(T),l),Z.write(o,l),Z.flush(),E.toByteArray()},h=function(){var i={},s=0,o={add:function(l){if(o.contains(l))throw"dup key:"+l;i[l]=s,s+=1},size:function(){return s},indexOf:function(l){return i[l]},contains:function(l){return void 0!==i[l]}};return o};return u}(w,y),d=0;d<y;d+=1)for(var C=0;C<w;C+=1)p.setPixel(C,d,_(C,d));var k=gt();p.write(k);for(var P=function(){var f=0,t=0,r=0,n="",a={},u=function(h){n+=String.fromCharCode(c(63&h))},c=function(h){if(!(h<0)){if(h<26)return 65+h;if(h<52)return h-26+97;if(h<62)return h-52+48;if(62==h)return 43;if(63==h)return 47}throw"n:"+h};return a.writeByte=function(h){for(f=f<<8|255&h,t+=8,r+=1;t>=6;)u(f>>>t-6),t-=6},a.flush=function(){if(t>0&&(u(f<<6-t),f=0,t=0),r%3!=0)for(var h=3-r%3,i=0;i<h;i+=1)n+="="},a.toString=function(){return n},a}(),L=k.toByteArray(),J=0;J<L.length;J+=1)P.writeByte(L[J]);return P.flush(),"data:image/gif;base64,"+P};return U}();lt.stringToBytesFuncs["UTF-8"]=function(U){return function($){for(var e=[],K=0;K<$.length;K++){var F=$.charCodeAt(K);F<128?e.push(F):F<2048?e.push(192|F>>6,128|63&F):F<55296||F>=57344?e.push(224|F>>12,128|F>>6&63,128|63&F):(K++,F=65536+((1023&F)<<10|1023&$.charCodeAt(K)),e.push(240|F>>18,128|F>>12&63,128|F>>6&63,128|63&F))}return e}(U)},void 0===(et="function"==typeof(tt=function(){return lt})?tt.apply(Y,[]):tt)||(H.exports=et)},676:(H,Y,tt)=>{"use strict";tt.d(Y,{default:()=>J});var et=function(){return(et=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(f[a]=t[a]);return f}).apply(this,arguments)},lt=function(){for(var f=0,t=0,r=arguments.length;t<r;t++)f+=arguments[t].length;var n=Array(f),a=0;for(t=0;t<r;t++)for(var u=arguments[t],c=0,h=u.length;c<h;c++,a++)n[a]=u[c];return n},U=function(f){return!!f&&"object"==typeof f&&!Array.isArray(f)};function $(f){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!t.length)return f;var n=t.shift();return void 0!==n&&U(f)&&U(n)?(f=et({},f),Object.keys(n).forEach(function(a){var u=f[a],c=n[a];f[a]=Array.isArray(u)&&Array.isArray(c)?c:U(u)&&U(c)?$(Object.assign({},u),c):c}),$.apply(void 0,lt([f],t))):f}function e(f,t){var r=document.createElement("a");r.download=t,r.href=f,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function K(f){return t=this,void 0,a=function(){return function(u,c){var h,i,s,o,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function g(M){return function(S){return function(m){if(h)throw new TypeError("Generator is already executing.");for(;l;)try{if(h=1,i&&(s=2&m[0]?i.return:m[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,m[1])).done)return s;switch(i=0,s&&(m=[2&m[0],s.value]),m[0]){case 0:case 1:s=m;break;case 4:return l.label++,{value:m[1],done:!1};case 5:l.label++,i=m[1],m=[0];continue;case 7:m=l.ops.pop(),l.trys.pop();continue;default:if(!((s=(s=l.trys).length>0&&s[s.length-1])||6!==m[0]&&2!==m[0])){l=0;continue}if(3===m[0]&&(!s||m[1]>s[0]&&m[1]<s[3])){l.label=m[1];break}if(6===m[0]&&l.label<s[1]){l.label=s[1],s=m;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(m);break}s[2]&&l.ops.pop(),l.trys.pop();continue}m=c.call(u,l)}catch(z){m=[6,z],i=0}finally{h=s=0}if(5&m[0])throw m[1];return{value:m[0]?m[1]:void 0,done:!0}}([M,S])}}}(this,function(u){return[2,new Promise(function(c){var h=new XMLHttpRequest;h.onload=function(){var i=new FileReader;i.onloadend=function(){c(i.result)},i.readAsDataURL(h.response)},h.open("GET",f),h.responseType="blob",h.send()})]})},new((n=void 0)||(n=Promise))(function(u,c){function h(o){try{s(a.next(o))}catch(l){c(l)}}function i(o){try{s(a.throw(o))}catch(l){c(l)}}function s(o){var l;o.done?u(o.value):(l=o.value,l instanceof n?l:new n(function(g){g(l)})).then(h,i)}s((a=a.apply(t,[])).next())});var t,n,a}const F={L:.07,M:.15,Q:.25,H:.3};var j=function(){return(j=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(f[a]=t[a]);return f}).apply(this,arguments)};const ot=function(){function f(t){var n=t.type;this._svg=t.svg,this._type=n}return f.prototype.draw=function(t,r,n,a){var u;switch(this._type){case"dots":u=this._drawDot;break;case"classy":u=this._drawClassy;break;case"classy-rounded":u=this._drawClassyRounded;break;case"rounded":u=this._drawRounded;break;case"extra-rounded":u=this._drawExtraRounded;break;default:u=this._drawSquare}u.call(this,{x:t,y:r,size:n,getNeighbor:a})},f.prototype._rotateFigure=function(t){var r,u=t.size,c=t.rotation,h=void 0===c?0:c,i=t.x+u/2,s=t.y+u/2;(0,t.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*h/Math.PI+","+i+","+s+")")},f.prototype._basicDot=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(j(j({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),r._element.setAttribute("cx",String(a+n/2)),r._element.setAttribute("cy",String(u+n/2)),r._element.setAttribute("r",String(n/2))}}))},f.prototype._basicSquare=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(j(j({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),r._element.setAttribute("x",String(a)),r._element.setAttribute("y",String(u)),r._element.setAttribute("width",String(n)),r._element.setAttribute("height",String(n))}}))},f.prototype._basicSideRounded=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(j(j({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n/2+"a "+n/2+" "+n/2+", 0, 0, 0, 0 "+-n)}}))},f.prototype._basicCornerRounded=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(j(j({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"v "+-n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+-n/2+" "+-n/2)}}))},f.prototype._basicCornerExtraRounded=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(j(j({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"a "+n+" "+n+", 0, 0, 0, "+-n+" "+-n)}}))},f.prototype._basicCornersRounded=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(j(j({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+n/2+" "+n/2+"h "+n/2+"v "+-n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+-n/2+" "+-n/2)}}))},f.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:0})},f.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:0})},f.prototype._drawRounded=function(t){var r=t.x,n=t.y,a=t.size,u=t.getNeighbor,c=u?+u(-1,0):0,h=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0,o=c+h+i+s;if(0!==o)if(o>2||c&&h||i&&s)this._basicSquare({x:r,y:n,size:a,rotation:0});else{if(2===o){var l=0;return c&&i?l=Math.PI/2:i&&h?l=Math.PI:h&&s&&(l=-Math.PI/2),void this._basicCornerRounded({x:r,y:n,size:a,rotation:l})}if(1===o)return l=0,i?l=Math.PI/2:h?l=Math.PI:s&&(l=-Math.PI/2),void this._basicSideRounded({x:r,y:n,size:a,rotation:l})}else this._basicDot({x:r,y:n,size:a,rotation:0})},f.prototype._drawExtraRounded=function(t){var r=t.x,n=t.y,a=t.size,u=t.getNeighbor,c=u?+u(-1,0):0,h=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0,o=c+h+i+s;if(0!==o)if(o>2||c&&h||i&&s)this._basicSquare({x:r,y:n,size:a,rotation:0});else{if(2===o){var l=0;return c&&i?l=Math.PI/2:i&&h?l=Math.PI:h&&s&&(l=-Math.PI/2),void this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:l})}if(1===o)return l=0,i?l=Math.PI/2:h?l=Math.PI:s&&(l=-Math.PI/2),void this._basicSideRounded({x:r,y:n,size:a,rotation:l})}else this._basicDot({x:r,y:n,size:a,rotation:0})},f.prototype._drawClassy=function(t){var r=t.x,n=t.y,a=t.size,u=t.getNeighbor,c=u?+u(-1,0):0,h=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0;c+h+i+s!==0?c||i?h||s?this._basicSquare({x:r,y:n,size:a,rotation:0}):this._basicCornerRounded({x:r,y:n,size:a,rotation:Math.PI/2}):this._basicCornerRounded({x:r,y:n,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:n,size:a,rotation:Math.PI/2})},f.prototype._drawClassyRounded=function(t){var r=t.x,n=t.y,a=t.size,u=t.getNeighbor,c=u?+u(-1,0):0,h=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0;c+h+i+s!==0?c||i?h||s?this._basicSquare({x:r,y:n,size:a,rotation:0}):this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:n,size:a,rotation:Math.PI/2})},f}();var W=function(){return(W=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(f[a]=t[a]);return f}).apply(this,arguments)};const rt=function(){function f(t){var n=t.type;this._svg=t.svg,this._type=n}return f.prototype.draw=function(t,r,n,a){var u;switch(this._type){case"square":u=this._drawSquare;break;case"extra-rounded":u=this._drawExtraRounded;break;default:u=this._drawDot}u.call(this,{x:t,y:r,size:n,rotation:a})},f.prototype._rotateFigure=function(t){var r,u=t.size,c=t.rotation,h=void 0===c?0:c,i=t.x+u/2,s=t.y+u/2;(0,t.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*h/Math.PI+","+i+","+s+")")},f.prototype._basicDot=function(t){var r=this,n=t.size,a=t.x,u=t.y,c=n/7;this._rotateFigure(W(W({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+(a+n/2)+" "+u+"a "+n/2+" "+n/2+" 0 1 0 0.1 0zm 0 "+c+"a "+(n/2-c)+" "+(n/2-c)+" 0 1 1 -0.1 0Z")}}))},f.prototype._basicSquare=function(t){var r=this,n=t.size,a=t.x,u=t.y,c=n/7;this._rotateFigure(W(W({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"v "+-n+"zM "+(a+c)+" "+(u+c)+"h "+(n-2*c)+"v "+(n-2*c)+"h "+(2*c-n)+"z")}}))},f.prototype._basicExtraRounded=function(t){var r=this,a=t.x,u=t.y,c=t.size/7;this._rotateFigure(W(W({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+a+" "+(u+2.5*c)+"v "+2*c+"a "+2.5*c+" "+2.5*c+", 0, 0, 0, "+2.5*c+" "+2.5*c+"h "+2*c+"a "+2.5*c+" "+2.5*c+", 0, 0, 0, "+2.5*c+" "+2.5*-c+"v "+-2*c+"a "+2.5*c+" "+2.5*c+", 0, 0, 0, "+2.5*-c+" "+2.5*-c+"h "+-2*c+"a "+2.5*c+" "+2.5*c+", 0, 0, 0, "+2.5*-c+" "+2.5*c+"M "+(a+2.5*c)+" "+(u+c)+"h "+2*c+"a "+1.5*c+" "+1.5*c+", 0, 0, 1, "+1.5*c+" "+1.5*c+"v "+2*c+"a "+1.5*c+" "+1.5*c+", 0, 0, 1, "+1.5*-c+" "+1.5*c+"h "+-2*c+"a "+1.5*c+" "+1.5*c+", 0, 0, 1, "+1.5*-c+" "+1.5*-c+"v "+-2*c+"a "+1.5*c+" "+1.5*c+", 0, 0, 1, "+1.5*c+" "+1.5*-c)}}))},f.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},f.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},f.prototype._drawExtraRounded=function(t){this._basicExtraRounded({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},f}();var nt=function(){return(nt=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(f[a]=t[a]);return f}).apply(this,arguments)};const _t=function(){function f(t){var n=t.type;this._svg=t.svg,this._type=n}return f.prototype.draw=function(t,r,n,a){("square"===this._type?this._drawSquare:this._drawDot).call(this,{x:t,y:r,size:n,rotation:a})},f.prototype._rotateFigure=function(t){var r,u=t.size,c=t.rotation,h=void 0===c?0:c,i=t.x+u/2,s=t.y+u/2;(0,t.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*h/Math.PI+","+i+","+s+")")},f.prototype._basicDot=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(nt(nt({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),r._element.setAttribute("cx",String(a+n/2)),r._element.setAttribute("cy",String(u+n/2)),r._element.setAttribute("r",String(n/2))}}))},f.prototype._basicSquare=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(nt(nt({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),r._element.setAttribute("x",String(a)),r._element.setAttribute("y",String(u)),r._element.setAttribute("width",String(n)),r._element.setAttribute("height",String(n))}}))},f.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},f.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},f}(),st="circle";var bt=function(f,t,r,n){return new(r||(r=Promise))(function(a,u){function c(s){try{i(n.next(s))}catch(o){u(o)}}function h(s){try{i(n.throw(s))}catch(o){u(o)}}function i(s){var o;s.done?a(s.value):(o=s.value,o instanceof r?o:new r(function(l){l(o)})).then(c,h)}i((n=n.apply(f,t||[])).next())})},yt=function(f,t){var r,n,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(i){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(f,c)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([i,s])}}},it=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],at=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const gt=function(){function f(t){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=t}return Object.defineProperty(f.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),f.prototype.getElement=function(){return this._element},f.prototype.drawQR=function(t){return bt(this,void 0,void 0,function(){var r,n,a,u,c,h,l,g=this;return yt(this,function(M){switch(M.label){case 0:return r=t.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,a=this._options.shape===st?n/Math.sqrt(2):n,u=Math.floor(a/r),c={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(M.sent(),!this._image)return[2];h=this._options,l=Math.floor(h.imageOptions.imageSize*F[h.qrOptions.errorCorrectionLevel]*r*r),c=function(S){var m=S.originalHeight,z=S.originalWidth,E=S.maxHiddenDots,Z=S.maxHiddenAxisDots,R=S.dotSize,T={x:0,y:0},D={x:0,y:0};if(m<=0||z<=0||E<=0||R<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var v=m/z;return T.x=Math.floor(Math.sqrt(E/v)),T.x<=0&&(T.x=1),Z&&Z<T.x&&(T.x=Z),T.x%2==0&&T.x--,D.x=T.x*R,T.y=1+2*Math.ceil((T.x*v-1)/2),D.y=Math.round(D.x*v),(T.y*T.x>E||Z&&Z<T.y)&&(Z&&Z<T.y?(T.y=Z,T.y%2==0&&T.x--):T.y-=2,D.y=T.y*R,T.x=1+2*Math.ceil((T.y/v-1)/2),D.x=Math.round(D.y/v)),{height:D.y,width:D.x,hideYDots:T.y,hideXDots:T.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:l,maxHiddenAxisDots:r-14,dotSize:u}),M.label=2;case 2:return this.drawBackground(),this.drawDots(function(S,m){var z,E,Z,R,T,D;return!(g._options.imageOptions.hideBackgroundDots&&S>=(r-c.hideXDots)/2&&S<(r+c.hideXDots)/2&&m>=(r-c.hideYDots)/2&&m<(r+c.hideYDots)/2||(null===(z=it[S])||void 0===z?void 0:z[m])||(null===(E=it[S-r+7])||void 0===E?void 0:E[m])||(null===(Z=it[S])||void 0===Z?void 0:Z[m-r+7])||(null===(R=at[S])||void 0===R?void 0:R[m])||(null===(T=at[S-r+7])||void 0===T?void 0:T[m])||(null===(D=at[S])||void 0===D?void 0:D[m-r+7]))}),this.drawCorners(),this._options.image?[4,this.drawImage({width:c.width,height:c.height,count:r,dotSize:u})]:[3,4];case 3:M.sent(),M.label=4;case 4:return[2]}})})},f.prototype.drawBackground=function(){var t,r,n,u=this._options;if(this._element){var c=null===(t=u.backgroundOptions)||void 0===t?void 0:t.gradient,h=null===(r=u.backgroundOptions)||void 0===r?void 0:r.color;if((c||h)&&this._createColor({options:c,color:h,additionalRotation:0,x:0,y:0,height:u.height,width:u.width,name:"background-color"}),null===(n=u.backgroundOptions)||void 0===n?void 0:n.round){var i=Math.min(u.width,u.height),s=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),s.setAttribute("x",String((u.width-i)/2)),s.setAttribute("y",String((u.height-i)/2)),s.setAttribute("width",String(i)),s.setAttribute("height",String(i)),s.setAttribute("rx",String(i/2*u.backgroundOptions.round)),this._backgroundClipPath.appendChild(s)}}},f.prototype.drawDots=function(t){var r,n,a=this;if(!this._qr)throw"QR code is not defined";var u=this._options,c=this._qr.getModuleCount();if(c>u.width||c>u.height)throw"The canvas is too small.";var h=Math.min(u.width,u.height)-2*u.margin,i=u.shape===st?h/Math.sqrt(2):h,s=Math.floor(i/c),o=Math.floor((u.width-c*s)/2),l=Math.floor((u.height-c*s)/2),g=new ot({svg:this._element,type:u.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(r=u.dotsOptions)||void 0===r?void 0:r.gradient,color:u.dotsOptions.color,additionalRotation:0,x:0,y:0,height:u.height,width:u.width,name:"dot-color"});for(var M=function(A){for(var O=function(I){return t&&!t(A,I)?"continue":null!==(n=S._qr)&&void 0!==n&&n.isDark(A,I)?(g.draw(o+A*s,l+I*s,s,function(N,G){return!(A+N<0||I+G<0||A+N>=c||I+G>=c)&&!(t&&!t(A+N,I+G))&&!!a._qr&&a._qr.isDark(A+N,I+G)}),void(g._element&&S._dotsClipPath&&S._dotsClipPath.appendChild(g._element))):"continue"},B=0;B<c;B++)O(B)},S=this,m=0;m<c;m++)M(m);if(u.shape===st){var z=Math.floor((h/s-c)/2),E=c+2*z,Z=o-z*s,R=l-z*s,T=[],D=Math.floor(E/2);for(m=0;m<E;m++){T[m]=[];for(var v=0;v<E;v++)T[m][v]=m>=z-1&&m<=E-z&&v>=z-1&&v<=E-z||Math.sqrt((m-D)*(m-D)+(v-D)*(v-D))>D?0:this._qr.isDark(v-2*z<0?v:v>=c?v-2*z:v-z,m-2*z<0?m:m>=c?m-2*z:m-z)?1:0}var x=function(A){for(var O=function(I){if(!T[A][I])return"continue";g.draw(Z+A*s,R+I*s,s,function(N,G){var X;return!(null===(X=T[A+N])||void 0===X||!X[I+G])}),g._element&&b._dotsClipPath&&b._dotsClipPath.appendChild(g._element)},B=0;B<E;B++)O(B)},b=this;for(m=0;m<E;m++)x(m)}},f.prototype.drawCorners=function(){var t=this;if(!this._qr)throw"QR code is not defined";var n=this._options;if(!this._element)throw"Element code is not defined";var a=this._qr.getModuleCount(),u=Math.min(n.width,n.height)-2*n.margin,c=n.shape===st?u/Math.sqrt(2):u,h=Math.floor(c/a),i=7*h,s=3*h,o=Math.floor((n.width-a*h)/2),l=Math.floor((n.height-a*h)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(g){var M,S,m,z,E,Z,R,T,D,v,x,b,A=g[0],O=g[1],B=g[2],I=o+A*h*(a-7),N=l+O*h*(a-7),G=t._dotsClipPath,X=t._dotsClipPath;if(((null===(M=n.cornersSquareOptions)||void 0===M?void 0:M.gradient)||(null===(S=n.cornersSquareOptions)||void 0===S?void 0:S.color))&&((G=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+A+"-"+O),t._defs.appendChild(G),t._cornersSquareClipPath=t._cornersDotClipPath=X=G,t._createColor({options:null===(m=n.cornersSquareOptions)||void 0===m?void 0:m.gradient,color:null===(z=n.cornersSquareOptions)||void 0===z?void 0:z.color,additionalRotation:B,x:I,y:N,height:i,width:i,name:"corners-square-color-"+A+"-"+O})),null===(E=n.cornersSquareOptions)||void 0===E?void 0:E.type){var V=new rt({svg:t._element,type:n.cornersSquareOptions.type});V.draw(I,N,i,B),V._element&&G&&G.appendChild(V._element)}else for(var ct=new ot({svg:t._element,type:n.dotsOptions.type}),Mt=function(ut){for(var Pt=function(vt){if(null===(Z=it[ut])||void 0===Z||!Z[vt])return"continue";ct.draw(I+ut*h,N+vt*h,h,function(At,Ot){var mt;return!(null===(mt=it[ut+At])||void 0===mt||!mt[vt+Ot])}),ct._element&&G&&G.appendChild(ct._element)},pt=0;pt<it[ut].length;pt++)Pt(pt)},ht=0;ht<it.length;ht++)Mt(ht);if(((null===(R=n.cornersDotOptions)||void 0===R?void 0:R.gradient)||(null===(T=n.cornersDotOptions)||void 0===T?void 0:T.color))&&((X=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+A+"-"+O),t._defs.appendChild(X),t._cornersDotClipPath=X,t._createColor({options:null===(D=n.cornersDotOptions)||void 0===D?void 0:D.gradient,color:null===(v=n.cornersDotOptions)||void 0===v?void 0:v.color,additionalRotation:B,x:I+2*h,y:N+2*h,height:s,width:s,name:"corners-dot-color-"+A+"-"+O})),null===(x=n.cornersDotOptions)||void 0===x?void 0:x.type){var xt=new _t({svg:t._element,type:n.cornersDotOptions.type});xt.draw(I+2*h,N+2*h,s,B),xt._element&&X&&X.appendChild(xt._element)}else{ct=new ot({svg:t._element,type:n.dotsOptions.type});var St=function(ut){for(var Pt=function(vt){if(null===(b=at[ut])||void 0===b||!b[vt])return"continue";ct.draw(I+ut*h,N+vt*h,h,function(At,Ot){var mt;return!(null===(mt=at[ut+At])||void 0===mt||!mt[vt+Ot])}),ct._element&&X&&X.appendChild(ct._element)},pt=0;pt<at[ut].length;pt++)Pt(pt)};for(ht=0;ht<at.length;ht++)St(ht)}})},f.prototype.loadImage=function(){var t=this;return new Promise(function(r,n){var a=t._options,u=new Image;if(!a.image)return n("Image is not defined");"string"==typeof a.imageOptions.crossOrigin&&(u.crossOrigin=a.imageOptions.crossOrigin),t._image=u,u.onload=function(){r()},u.src=a.image})},f.prototype.drawImage=function(t){var r=t.width,n=t.height,a=t.count,u=t.dotSize;return bt(this,void 0,void 0,function(){var c,h,i,s,o,l,g,M,S;return yt(this,function(m){switch(m.label){case 0:return c=this._options,h=Math.floor((c.width-a*u)/2),i=Math.floor((c.height-a*u)/2),s=h+c.imageOptions.margin+(a*u-r)/2,o=i+c.imageOptions.margin+(a*u-n)/2,l=r-2*c.imageOptions.margin,g=n-2*c.imageOptions.margin,(M=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(s)),M.setAttribute("y",String(o)),M.setAttribute("width",l+"px"),M.setAttribute("height",g+"px"),[4,K(c.image||"")];case 1:return S=m.sent(),M.setAttribute("href",S||""),this._element.appendChild(M),[2]}})})},f.prototype._createColor=function(t){var r=t.options,n=t.color,a=t.additionalRotation,u=t.x,c=t.y,h=t.height,i=t.width,s=t.name,o=i>h?i:h,l=document.createElementNS("http://www.w3.org/2000/svg","rect");if(l.setAttribute("x",String(u)),l.setAttribute("y",String(c)),l.setAttribute("height",String(h)),l.setAttribute("width",String(i)),l.setAttribute("clip-path","url('#clip-path-"+s+"')"),r){var g;if("radial"===r.type)(g=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",s),g.setAttribute("gradientUnits","userSpaceOnUse"),g.setAttribute("fx",String(u+i/2)),g.setAttribute("fy",String(c+h/2)),g.setAttribute("cx",String(u+i/2)),g.setAttribute("cy",String(c+h/2)),g.setAttribute("r",String(o/2));else{var M=((r.rotation||0)+a)%(2*Math.PI),S=(M+2*Math.PI)%(2*Math.PI),m=u+i/2,z=c+h/2,E=u+i/2,Z=c+h/2;S>=0&&S<=.25*Math.PI||S>1.75*Math.PI&&S<=2*Math.PI?(m-=i/2,z-=h/2*Math.tan(M),E+=i/2,Z+=h/2*Math.tan(M)):S>.25*Math.PI&&S<=.75*Math.PI?(z-=h/2,m-=i/2/Math.tan(M),Z+=h/2,E+=i/2/Math.tan(M)):S>.75*Math.PI&&S<=1.25*Math.PI?(m+=i/2,z+=h/2*Math.tan(M),E-=i/2,Z-=h/2*Math.tan(M)):S>1.25*Math.PI&&S<=1.75*Math.PI&&(z+=h/2,m+=i/2/Math.tan(M),Z-=h/2,E-=i/2/Math.tan(M)),(g=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",s),g.setAttribute("gradientUnits","userSpaceOnUse"),g.setAttribute("x1",String(Math.round(m))),g.setAttribute("y1",String(Math.round(z))),g.setAttribute("x2",String(Math.round(E))),g.setAttribute("y2",String(Math.round(Z)))}r.colorStops.forEach(function(R){var T=R.offset,D=R.color,v=document.createElementNS("http://www.w3.org/2000/svg","stop");v.setAttribute("offset",100*T+"%"),v.setAttribute("stop-color",D),g.appendChild(v)}),l.setAttribute("fill","url('#"+s+"')"),this._defs.appendChild(g)}else n&&l.setAttribute("fill",n);this._element.appendChild(l)},f}(),ft="canvas";for(var wt={},w=0;w<=40;w++)wt[w]=w;const y={type:ft,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:wt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var _=function(){return(_=Object.assign||function(f){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(f[a]=t[a]);return f}).apply(this,arguments)};function p(f){var t=_({},f);if(!t.colorStops||!t.colorStops.length)throw"Field 'colorStops' is required in gradient";return t.rotation=t.rotation?Number(t.rotation):0,t.colorStops=t.colorStops.map(function(r){return _(_({},r),{offset:Number(r.offset)})}),t}function d(f){var t=_({},f);return t.width=Number(t.width),t.height=Number(t.height),t.margin=Number(t.margin),t.imageOptions=_(_({},t.imageOptions),{hideBackgroundDots:Boolean(t.imageOptions.hideBackgroundDots),imageSize:Number(t.imageOptions.imageSize),margin:Number(t.imageOptions.margin)}),t.margin>Math.min(t.width,t.height)&&(t.margin=Math.min(t.width,t.height)),t.dotsOptions=_({},t.dotsOptions),t.dotsOptions.gradient&&(t.dotsOptions.gradient=p(t.dotsOptions.gradient)),t.cornersSquareOptions&&(t.cornersSquareOptions=_({},t.cornersSquareOptions),t.cornersSquareOptions.gradient&&(t.cornersSquareOptions.gradient=p(t.cornersSquareOptions.gradient))),t.cornersDotOptions&&(t.cornersDotOptions=_({},t.cornersDotOptions),t.cornersDotOptions.gradient&&(t.cornersDotOptions.gradient=p(t.cornersDotOptions.gradient))),t.backgroundOptions&&(t.backgroundOptions=_({},t.backgroundOptions),t.backgroundOptions.gradient&&(t.backgroundOptions.gradient=p(t.backgroundOptions.gradient))),t}var C=tt(192),k=tt.n(C),P=function(f,t,r,n){return new(r||(r=Promise))(function(a,u){function c(s){try{i(n.next(s))}catch(o){u(o)}}function h(s){try{i(n.throw(s))}catch(o){u(o)}}function i(s){var o;s.done?a(s.value):(o=s.value,o instanceof r?o:new r(function(l){l(o)})).then(c,h)}i((n=n.apply(f,t||[])).next())})},L=function(f,t){var r,n,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:h(0),throw:h(1),return:h(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function h(i){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=t.call(f,c)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([i,s])}}};const J=function(){function f(t){this._options=t?d($(y,t)):y,this.update()}return f._clearContainer=function(t){t&&(t.innerHTML="")},f.prototype._setupSvg=function(){var t=this;if(this._qr){var r=new gt(this._options);this._svg=r.getElement(),this._svgDrawingPromise=r.drawQR(this._qr).then(function(){var n;t._svg&&(null===(n=t._extension)||void 0===n||n.call(t,r.getElement(),t._options))})}},f.prototype._setupCanvas=function(){var t,r=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=null===(t=this._svgDrawingPromise)||void 0===t?void 0:t.then(function(){if(r._svg){var n=r._svg,a=(new XMLSerializer).serializeToString(n),u="data:image/svg+xml;base64,"+btoa(a),c=new Image;return new Promise(function(h){c.onload=function(){var i,s;null===(s=null===(i=r._canvas)||void 0===i?void 0:i.getContext("2d"))||void 0===s||s.drawImage(c,0,0),h()},c.src=u})}}))},f.prototype._getElement=function(t){return void 0===t&&(t="png"),P(this,void 0,void 0,function(){return L(this,function(r){switch(r.label){case 0:if(!this._qr)throw"QR code is empty";return"svg"!==t.toLowerCase()?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return r.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return r.sent(),[2,this._canvas]}})})},f.prototype.update=function(t){f._clearContainer(this._container),this._options=t?d($(this._options,t)):this._options,this._options.data&&(this._qr=k()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(r){switch(!0){case/^[0-9]*$/.test(r):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(r):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===ft?this._setupCanvas():this._setupSvg(),this.append(this._container))},f.prototype.append=function(t){if(t){if("function"!=typeof t.appendChild)throw"Container should be a single DOM node";this._options.type===ft?this._canvas&&t.appendChild(this._canvas):this._svg&&t.appendChild(this._svg),this._container=t}},f.prototype.applyExtension=function(t){if(!t)throw"Extension function should be defined.";this._extension=t,this.update()},f.prototype.deleteExtension=function(){this._extension=void 0,this.update()},f.prototype.getRawData=function(t){return void 0===t&&(t="png"),P(this,void 0,void 0,function(){var r,n,a;return L(this,function(u){switch(u.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(t)];case 1:return(r=u.sent())?"svg"===t.toLowerCase()?(n=new XMLSerializer,a=n.serializeToString(r),[2,new Blob(['<?xml version="1.0" standalone="no"?>\r\n'+a],{type:"image/svg+xml"})]):[2,new Promise(function(c){return r.toBlob(c,"image/"+t,1)})]:[2,null]}})})},f.prototype.download=function(t){return P(this,void 0,void 0,function(){var r,n,a,u,c;return L(this,function(h){switch(h.label){case 0:if(!this._qr)throw"QR code is empty";return r="png",n="qr","string"==typeof t?(r=t,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof t&&null!==t&&(t.name&&(n=t.name),t.extension&&(r=t.extension)),[4,this._getElement(r)];case 1:return(a=h.sent())?("svg"===r.toLowerCase()?(u=new XMLSerializer,c='<?xml version="1.0" standalone="no"?>\r\n'+(c=u.serializeToString(a)),e("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(c),n+".svg")):e(a.toDataURL("image/"+r),n+"."+r),[2]):[2]}})})},f}()}},q={};function Q(H){if(q[H])return q[H].exports;var Y=q[H]={exports:{}};return dt[H](Y,Y.exports,Q),Y.exports}return Q.n=H=>{var Y=H&&H.__esModule?()=>H.default:()=>H;return Q.d(Y,{a:Y}),Y},Q.d=(H,Y)=>{for(var tt in Y)Q.o(Y,tt)&&!Q.o(H,tt)&&Object.defineProperty(H,tt,{enumerable:!0,get:Y[tt]})},Q.o=(H,Y)=>Object.prototype.hasOwnProperty.call(H,Y),Q(676)})().default}}]);