"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[711],{554:(W,L,f)=>{f.d(L,{R:()=>E});var _=f(4020),g=f(5879),u=f(6814);const l=function(d){return{"d-none d-md-inline-block":d}};function v(d,C){if(1&d&&(g.O4$(),g.kcU(),g._UZ(0,"span",8),g.ALo(1,"slice")),2&d){const F=g.oxw();g.Gre("text mb-0 ",F.fontSizes[F.svgSize],""),g.Q6J("ngClass",g.VKq(8,l,F.responsive))("innerText",g.xi3(1,5,F.appName,1))}}function i(d,C){if(1&d&&(g.O4$(),g.kcU(),g.TgZ(0,"div",9),g._UZ(1,"div",10)(2,"div",11),g.qZA()),2&d){const F=g.oxw();g.xp6(2),g.Q6J("innerHTML",F.subtext,g.oJD)}}const y=function(d,C,F){return{"touch-device":d,responsive:C,"has-subtext":F}};let E=(()=>{class d{constructor(){this.svgSize="md",this.responsive=!0,this.subtext="",this.svgClass=[],this.onlySvg=!1,this.appName=_.lW,this.touchDevice=_.eX,this.svgWidths={lg:26,xl:36,md:24},this.fontSizes={lg:"h4",xl:"h1",md:"h5"}}ngOnInit(){}}return d.\u0275fac=function(F){return new(F||d)},d.\u0275cmp=g.Xpm({type:d,selectors:[["app-logo"]],inputs:{svgSize:"svgSize",responsive:"responsive",subtext:"subtext",svgClass:"svgClass",onlySvg:"onlySvg"},decls:9,vars:10,consts:[[1,"logo","d-flex","justify-content-center","align-items-center",3,"ngClass"],[1,"d-inline-block"],["xmlns","http://www.w3.org/2000/svg","viewBox","0 0 16.4 22.7",3,"ngClass"],["d","M15.4 7.2a1 1 90 00-1 1 6.2 6.2 90 11-2.58-5.035L7.493 7.493A1 1 90 008.907 8.907l5.8-5.8L14 2.4a8.2 8.2 90 102.4 5.8A1 1 90 0015.4 7.2Z"],["d","M10.35 18h-4.5a1 1 90 000 2h4.5a1 1 90 000-2Z"],["d","M9.35 20.7h-2.5a1 1 90 000 2h2.5a1 1 90 000-2Z"],[3,"class","ngClass","innerText",4,"ngIf"],["class","d-flex flex-column align-items-center",4,"ngIf"],[3,"ngClass","innerText"],[1,"d-flex","flex-column","align-items-center"],[1,"sub-border"],[1,"subtext",3,"innerHTML"]],template:function(F,R){1&F&&(g.TgZ(0,"div",0)(1,"div",1),g.O4$(),g.TgZ(2,"svg",2)(3,"g"),g._UZ(4,"path",3)(5,"path",4)(6,"path",5),g.qZA()()(),g.YNc(7,v,2,10,"span",6),g.qZA(),g.YNc(8,i,3,1,"div",7)),2&F&&(g.Q6J("ngClass",g.kEZ(6,y,R.touchDevice,R.responsive,R.subtext.length>0)),g.xp6(2),g.Udp("width",R.svgWidths[R.svgSize]+"px"),g.Q6J("ngClass",R.svgClass),g.xp6(5),g.Q6J("ngIf",!R.onlySvg),g.xp6(1),g.Q6J("ngIf",R.subtext))},dependencies:[u.mk,u.O5,u.OU],styles:[".has-subtext[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:1.4rem!important}.has-subtext[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:26px!important}.sub-border[_ngcontent-%COMP%]{border-bottom:1px solid;width:100px;margin-top:.175rem;margin-bottom:.45rem}.text[_ngcontent-%COMP%], .subtext[_ngcontent-%COMP%]{font-family:Nunito,sans-serif}.text[_ngcontent-%COMP%]{margin-left:.175rem}svg[_ngcontent-%COMP%]{fill:currentColor}.logo[_ngcontent-%COMP%]:not(.responsive)   .text[_ngcontent-%COMP%]{display:inline-block}.logo[_ngcontent-%COMP%]:not(.touch-device)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]{transition:fill .3s,stroke-width .3s}.logo[_ngcontent-%COMP%]:not(.touch-device)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(3){transition-delay:.6s}.logo[_ngcontent-%COMP%]:not(.touch-device)   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(2){transition-delay:.3s}.logo[_ngcontent-%COMP%]:not(.touch-device):hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:not(:first-of-type){fill:var(--ei-gray-500)}.logo[_ngcontent-%COMP%]:not(.touch-device):hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:first-of-type{transition-delay:.6s;fill:#ffe507}.logo[_ngcontent-%COMP%]:not(.touch-device):hover   svg[_ngcontent-%COMP%]   path[_ngcontent-%COMP%]:nth-of-type(3){transition-delay:initial}@media (min-width: 350px){.has-subtext[_ngcontent-%COMP%]   .text[_ngcontent-%COMP%]{font-size:2.1rem!important}.has-subtext[_ngcontent-%COMP%]   svg[_ngcontent-%COMP%]{width:36px!important}}"]}),d})()},2740:(W,L,f)=>{f.d(L,{h:()=>u});var _=f(6814),g=f(5879);let u=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=g.oAB({type:l}),l.\u0275inj=g.cJS({imports:[_.ez]}),l})()},4464:(W,L,f)=>{f.d(L,{z:()=>R});var _=f(1413),g=f(4707),u=f(5879),l=f(3946),v=f(6814);const i=["modal"];function y(P,A){if(1&P){const T=u.EpF();u.TgZ(0,"button",7),u.NdJ("click",function(){u.CHM(T);const k=u.oxw(2);return u.KtG(k.close(k.closeReasons.CROSS))}),u.qZA()}}function E(P,A){if(1&P){const T=u.EpF();u.TgZ(0,"button",8),u.NdJ("click",function(){u.CHM(T);const k=u.oxw(2);return u.KtG(k.close(k.closeReasons.CANCEL))}),u._uU(1," Chiudi "),u.qZA()}}function d(P,A){if(1&P&&(u.TgZ(0,"div",1),u._UZ(1,"h5",2),u.YNc(2,y,1,0,"button",3),u.qZA(),u.TgZ(3,"div",4),u.Hsn(4),u.qZA(),u.TgZ(5,"div",5),u.Hsn(6,1),u.YNc(7,E,2,0,"button",6),u.qZA()),2&P){const T=u.oxw();u.xp6(1),u.Q6J("innerHTML",T.title,u.oJD),u.xp6(1),u.Q6J("ngIf",!T.disableCrossButton),u.xp6(1),u.Q6J("ngClass",T.bodyClass),u.xp6(4),u.Q6J("ngIf",!T.disableCloseButton)}}const C=["*",[["","footer",""]]],F=["*","[footer]"];let R=(()=>{class P{constructor(T){this.modalService=T,this.title="",this.options={},this.size="lg",this.disableCloseButton=!1,this.disableCrossButton=!1,this.bodyClass="",this.hidden=new u.vpe,this.closeReasons=g.$,this.defaultOptions={}}ngOnInit(){}setDefaultOptions(){this.options.hasOwnProperty("scrollable")||(this.defaultOptions.scrollable=!0),this.size&&(this.defaultOptions.size=this.size)}open(){this.setDefaultOptions(),this.modal=this.modalService.open(this.modalTemplateRef,(0,_.Z)((0,_.Z)({},this.defaultOptions),this.options));const T=this.modal.hidden.subscribe(()=>{T.unsubscribe(),this.hidden.emit()});return this.modal}close(T){this.modal&&this.modal.close(T)}}return P.\u0275fac=function(T){return new(T||P)(u.Y36(l.FF))},P.\u0275cmp=u.Xpm({type:P,selectors:[["app-modal"]],viewQuery:function(T,S){if(1&T&&u.Gf(i,5),2&T){let k;u.iGM(k=u.CRH())&&(S.modalTemplateRef=k.first)}},inputs:{title:"title",options:"options",size:"size",disableCloseButton:"disableCloseButton",disableCrossButton:"disableCrossButton",bodyClass:"bodyClass"},outputs:{hidden:"hidden"},ngContentSelectors:F,decls:2,vars:0,consts:[["modal",""],[1,"modal-header"],[1,"modal-title","mw-100","text-truncate","pe-1",3,"innerHTML"],["type","button","class","btn-close","aria-label","Close",3,"click",4,"ngIf"],["ngbAutofocus","",1,"modal-body",3,"ngClass"],[1,"modal-footer"],["type","button","class","btn btn-secondary",3,"click",4,"ngIf"],["type","button","aria-label","Close",1,"btn-close",3,"click"],["type","button",1,"btn","btn-secondary",3,"click"]],template:function(T,S){1&T&&(u.F$t(C),u.YNc(0,d,8,4,"ng-template",null,0,u.W1O))},dependencies:[v.mk,v.O5],styles:[".modal-body[_ngcontent-%COMP%]{outline:none!important}"]}),P})()},4610:(W,L,f)=>{f.d(L,{z:()=>u});var _=f(6814),g=f(5879);let u=(()=>{class l{}return l.\u0275fac=function(i){return new(i||l)},l.\u0275mod=g.oAB({type:l}),l.\u0275inj=g.cJS({imports:[_.ez]}),l})()},4707:(W,L,f)=>{f.d(L,{$:()=>_});var _=function(g){return g.CROSS="cross",g.CANCEL="cancel",g}(_||{})},3543:(W,L,f)=>{f.d(L,{C:()=>i});var _=f(7165),g=f(5619),u=f(5879),l=f(6814);let v=(()=>{class y{constructor(d,C){this.document=d,this.platformId=C,this.documentIsAccessible=(0,l.NF)(this.platformId)}static getCookieRegExp(d){const C=d.replace(/([\[\]\{\}\(\)\|\=\;\+\?\,\.\*\^\$])/gi,"\\$1");return new RegExp("(?:^"+C+"|;\\s*"+C+")=(.*?)(?:;|$)","g")}static safeDecodeURIComponent(d){try{return decodeURIComponent(d)}catch(C){return d}}check(d){return!!this.documentIsAccessible&&(d=encodeURIComponent(d),y.getCookieRegExp(d).test(this.document.cookie))}get(d){if(this.documentIsAccessible&&this.check(d)){d=encodeURIComponent(d);const F=y.getCookieRegExp(d).exec(this.document.cookie);return F[1]?y.safeDecodeURIComponent(F[1]):""}return""}getAll(){if(!this.documentIsAccessible)return{};const d={},C=this.document;return C.cookie&&""!==C.cookie&&C.cookie.split(";").forEach(F=>{const[R,P]=F.split("=");d[y.safeDecodeURIComponent(R.replace(/^ /,""))]=y.safeDecodeURIComponent(P)}),d}set(d,C,F,R,P,A,T){if(!this.documentIsAccessible)return;if("number"==typeof F||F instanceof Date||R||P||A||T)return void this.set(d,C,{expires:F,path:R,domain:P,secure:A,sameSite:T||"Lax"});let S=encodeURIComponent(d)+"="+encodeURIComponent(C)+";";const k=F||{};k.expires&&(S+="number"==typeof k.expires?"expires="+new Date((new Date).getTime()+1e3*k.expires*60*60*24).toUTCString()+";":"expires="+k.expires.toUTCString()+";"),k.path&&(S+="path="+k.path+";"),k.domain&&(S+="domain="+k.domain+";"),!1===k.secure&&"None"===k.sameSite&&(k.secure=!0,console.warn(`[ngx-cookie-service] Cookie ${d} was forced with secure flag because sameSite=None.More details : https://github.com/stevermeister/ngx-cookie-service/issues/86#issuecomment-597720130`)),k.secure&&(S+="secure;"),k.sameSite||(k.sameSite="Lax"),S+="sameSite="+k.sameSite+";",this.document.cookie=S}delete(d,C,F,R,P="Lax"){this.documentIsAccessible&&this.set(d,"",{expires:new Date("Thu, 01 Jan 1970 00:00:01 GMT"),path:C,domain:F,secure:R,sameSite:P})}deleteAll(d,C,F,R="Lax"){if(!this.documentIsAccessible)return;const P=this.getAll();for(const A in P)P.hasOwnProperty(A)&&this.delete(A,d,C,F,R)}}return y.\u0275fac=function(d){return new(d||y)(u.LFG(l.K0),u.LFG(u.Lbi))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})(),i=(()=>{class y{constructor(d){this.cookieService=d,this.choiceSubject=new g.X(this.choice)}get choice(){const d=this.cookieService.get(_.RY.COOKIE_CONSENT);if(d)try{return JSON.parse(d)}catch(C){return}}set choice(d){!d&&this.cookieService.check(_.RY.COOKIE_CONSENT)?this.cookieService.delete(_.RY.COOKIE_CONSENT,"/",void 0,!1,"Strict"):this.cookieService.set(_.RY.COOKIE_CONSENT,JSON.stringify(d),{expires:360,path:"/",sameSite:"Strict"}),this.choiceSubject.next(d)}get choiceObservable(){return this.choiceSubject.asObservable()}}return y.\u0275fac=function(d){return new(d||y)(u.LFG(v))},y.\u0275prov=u.Yz7({token:y,factory:y.\u0275fac,providedIn:"root"}),y})()},463:(W,L,f)=>{f.d(L,{y:()=>v});var _=f(3543),g=f(7165),u=f(3564),l=f(5879);let v=(()=>{class i{constructor(E,d){this.cookieConsentService=E,this.localStorageService=d,this.storage=null}getItem(E){return null===this.storage&&(this.storage=this.data),this.storage[E]}get data(){const E=this.localStorageService.getItem(g.dR.PREFERENCES);if(!E)return{};try{return JSON.parse(E)}catch(d){return{}}}setItem(E,d){var C;null===this.storage&&(this.storage=this.data),d?this.storage[E]=d:delete this.storage[E],null!==(C=this.cookieConsentService.choice)&&void 0!==C&&C.preferences&&this.localStorageService.setItem(g.dR.PREFERENCES,JSON.stringify(this.storage))}clearAll(){this.localStorageService.removeItem(g.dR.PREFERENCES)}resetItemsOnProfileChange(){const E=this.getItem(g.Ye.UPLOAD);E&&(E.lastPath=[],this.setItem(g.Ye.UPLOAD,E))}}return i.\u0275fac=function(E){return new(E||i)(l.LFG(_.C),l.LFG(u.n2))},i.\u0275prov=l.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})()},1394:(W,L,f)=>{f.d(L,{uj:()=>_e,ZU:()=>Z,q:()=>ce});var _=f(6814),g=f(3564),u=f(5545),l=f(6223),v=f(3946),i=f(5879);function E(h,b){if(!isNaN(Number(b)))return h.getNext(h.getToday(),"d",Number(b))}function d(h,b,p){var m;const D=h.isValid(b)?b:E(h,b)||void 0;return{min:D,max:(p=h.isValid(p)?p:E(h,p)||void 0)&&(!D||null!==(m=v.qj.from(p))&&void 0!==m&&m.after(D))?p:void 0}}var C=f(9515);const F=function(){return["bottom-end","top-end","auto"]};let R=(()=>{class h extends u.fS{constructor(p,m){super(),this.translateService=p,this.ngbCalendar=m,this.placeholder=this.translateService.instant("COMPONENTS.CUSTOM_FORM.DATEPICKER.DATE_FORMAT.PLACEHOLDER")}ngOnInit(){const p=this.field.props.startDate;!this.field.formControl.value&&typeof p<"u"&&this.field.formControl.setValue(E(this.ngbCalendar,p));const m=d(this.ngbCalendar,this.field.props.minDate,this.field.props.maxDate);this.field.props.minDate=m.min,this.field.props.maxDate=m.max}}return h.\u0275fac=function(p){return new(p||h)(i.Y36(C.sK),i.Y36(v.vL))},h.\u0275cmp=i.Xpm({type:h,selectors:[["formly-field-datepicker"]],features:[i.qOj],decls:7,vars:10,consts:[[1,"input-group"],["ngbDatepicker","",1,"form-control",3,"placeholder","formControl","formlyAttributes","minDate","maxDate","positionTarget","placement"],["d","ngbDatepicker"],["type","button",1,"btn","btn-outline-secondary","d-flex","align-items-center",3,"click"],["dpButton",""],[1,"material-icons-outlined","d-block"]],template:function(p,m){if(1&p){const D=i.EpF();i.TgZ(0,"div",0),i._UZ(1,"input",1,2),i.TgZ(3,"button",3,4),i.NdJ("click",function(){i.CHM(D);const B=i.MAs(2);return i.KtG(B.toggle())}),i.TgZ(5,"span",5),i._uU(6," calendar_month "),i.qZA()()()}if(2&p){const D=i.MAs(4);i.xp6(1),i.ekj("is-invalid",m.showError),i.Q6J("placeholder",m.placeholder)("formControl",m.formControl)("formlyAttributes",m.field)("minDate",m.field.props.minDate)("maxDate",m.field.props.maxDate)("positionTarget",D)("placement",i.DdM(9,F))}},dependencies:[u.JD,l.Fj,l.JJ,v.J4,l.oH],encapsulation:2,changeDetection:0}),h})();var P=f(1413),A=f(1088),T=f(8645),S=f(9773),k=f(2438),H=f(3620);const J=["dpFromDate"],ie=["dpToDate"],te=function(h,b){return{focused:h,"text-muted outside":b}};function O(h,b){if(1&h){const p=i.EpF();i.TgZ(0,"span",16),i.NdJ("mouseenter",function(){const G=i.CHM(p).$implicit,B=i.oxw();return i.KtG(B.hoveredDate=G)})("mouseleave",function(){i.CHM(p);const D=i.oxw();return i.KtG(D.hoveredDate=null)}),i._uU(1),i.qZA()}if(2&h){const p=b.$implicit,m=b.focused,D=b.disabled,G=i.oxw();i.ekj("range",G.isRange(p))("faded",G.isHovered(p)||G.isInside(p)),i.Q6J("ngClass",i.WLB(6,te,m,D)),i.xp6(1),i.hij(" ",p.day," ")}}const M=function(){return["bottom-end","top-end","bottom","top","auto"]};let U=(()=>{class h extends u.fS{constructor(p,m,D,G,B,pe){super(),this.ngbCalendar=p,this.formatter=m,this.translateService=D,this.breakpointObserver=G,this.changeDetectorRef=B,this.dateAdapterService=pe,this.hoveredDate=null,this.fromDate=null,this.toDate=null,this.placeholder="",this.numberOfCalendar=1,this.componentDestroyed=new T.x,this.placeholder=this.translateService.instant("COMPONENTS.CUSTOM_FORM.DATEPICKER.DATE_FORMAT.PLACEHOLDER")}ngOnInit(){this.field.validation=(0,P.Z)((0,P.Z)({},this.field.validation||{}),{},{show:!0}),this.breakpointObserver.observe([A.u3.XSmall]).pipe((0,S.R)(this.componentDestroyed)).subscribe(p=>{const m=p.matches?1:2;this.numberOfCalendar!==m&&(this.numberOfCalendar=m,this.changeDetectorRef.detectChanges())}),this.initialize()}initialize(){const p=d(this.ngbCalendar,this.field.props.minDate,this.field.props.maxDate);if(this.field.props.minDate=p.min,this.field.props.maxDate=p.max,this.maxRangeLength=this.field.props.maxLength&&this.field.props.maxLength>1?this.field.props.maxLength:void 0,this.field.formControl.value){const m=this.field.formControl.value;this.fromDate=m.start,this.toDate=m.end}else{const m=this.ngbCalendar.getPrev(this.ngbCalendar.getToday(),"d",6),D=this.ngbCalendar.getToday();this.fromDate=v.qj.from(E(this.ngbCalendar,this.field.props.startDate))||m;const G=v.qj.from(E(this.ngbCalendar,this.field.props.endDate));this.toDate=G&&G.after(this.fromDate)?G:D.after(this.fromDate)?D:this.ngbCalendar.getNext(this.fromDate,"d",6),this.updateFieldModel()}}ngAfterViewInit(){this.setInputEvent(this.fromDateInputRef.nativeElement,p=>{this.fromDate=p,this.updateFieldModel()}),this.setInputEvent(this.toDateInputRef.nativeElement,p=>{this.toDate=p,this.updateFieldModel()})}validateInput(p){const m=this.formatter.parse(p);return m&&this.ngbCalendar.isValid(v.qj.from(m))?v.qj.from(m):null}setInputEvent(p,m){(0,k.R)(p,"input").pipe((0,S.R)(this.componentDestroyed),(0,H.b)(1e3)).subscribe(()=>{if(!p.value)return void m(null);const D=this.validateInput(p.value);D?m(D):this.setFormControlError({invalid:p.value})})}onDateSelection(p,m=!1){!this.fromDate&&!this.toDate||m&&(!this.toDate||p.before(this.toDate))?this.fromDate=p:this.fromDate&&!this.toDate&&p&&p.after(this.fromDate)?this.toDate=p:(this.toDate=null,this.fromDate=p),this.updateFieldModel()}updateFieldModel(){this.field.formControl.setValue({start:this.fromDate,end:this.toDate}),this.checkFieldErrors()}checkFieldErrors(){var p,m;this.fromDate&&!this.toDate||this.toDate&&!this.fromDate?this.setFormControlError({range:!0}):!this.props.required||this.fromDate||this.toDate?this.field.props.minDate&&null!==(p=v.qj.from(this.field.props.minDate))&&void 0!==p&&p.after(this.fromDate)?this.setFormControlError({minDate:{minDate:this.field.props.minDate}}):this.field.props.maxDate&&null!==(m=v.qj.from(this.field.props.maxDate))&&void 0!==m&&m.before(this.toDate)?this.setFormControlError({maxDate:{maxDate:this.field.props.maxDate}}):this.setFormControlError(null):this.formControl.setErrors({required:!0}),this.fromDate&&this.toDate&&(this.toDate.before(this.fromDate)?this.setFormControlError({order:!0}):this.maxRangeLength&&this.dateAdapterService.toModel(this.toDate).getTime()-this.dateAdapterService.toModel(this.fromDate).getTime()>24*this.maxRangeLength*60*60*1e3&&this.setFormControlError({rangeLength:this.maxRangeLength}))}setFormControlError(p){this.formControl.setErrors(p?{ngbDate:p}:null)}isHovered(p){return this.fromDate&&!this.toDate&&this.hoveredDate&&p.after(this.fromDate)&&p.before(this.hoveredDate)}isInside(p){return this.toDate&&p.after(this.fromDate)&&p.before(this.toDate)}isRange(p){return p.equals(this.fromDate)||this.toDate&&p.equals(this.toDate)||this.isInside(p)||this.isHovered(p)}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}}return h.\u0275fac=function(p){return new(p||h)(i.Y36(v.vL),i.Y36(g.KN),i.Y36(C.sK),i.Y36(A.Yg),i.Y36(i.sBO),i.Y36(g.z3))},h.\u0275cmp=i.Xpm({type:h,selectors:[["formly-field-datepicker-range"]],viewQuery:function(p,m){if(1&p&&(i.Gf(J,5),i.Gf(ie,5)),2&p){let D;i.iGM(D=i.CRH())&&(m.fromDateInputRef=D.first),i.iGM(D=i.CRH())&&(m.toDateInputRef=D.first)}},features:[i.qOj],decls:23,vars:17,consts:[[1,"d-sm-flex"],[1,"flex-grow-1","me-sm-3"],[1,"dp-hidden","position-absolute"],[1,"input-group"],["name","datepicker","ngbDatepicker","","outsideDays","hidden","tabindex","-1",1,"form-control",3,"autoClose","displayMonths","dayTemplate","startDate","minDate","maxDate","positionTarget","placement","dateSelect"],["datepicker","ngbDatepicker"],["t",""],[1,"input-group-text"],["name","dpFromDate",1,"form-control",3,"placeholder","value"],["dpFromDate",""],["type","button",1,"btn","btn-outline-secondary","d-flex","align-items-center",3,"click"],["dpButton",""],[1,"material-icons-outlined","d-block"],[1,"flex-grow-1","mt-3","mt-sm-0"],["name","dpToDate",1,"form-control",3,"placeholder","value"],["dpToDate",""],[1,"custom-day",3,"ngClass","mouseenter","mouseleave"]],template:function(p,m){if(1&p){const D=i.EpF();i.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"input",4,5),i.NdJ("dateSelect",function(B){return m.onDateSelection(B)}),i.qZA(),i.YNc(6,O,2,9,"ng-template",null,6,i.W1O),i.qZA()(),i.TgZ(8,"div",3)(9,"span",7),i._uU(10,"Dal:"),i.qZA(),i._UZ(11,"input",8,9),i.TgZ(13,"button",10,11),i.NdJ("click",function(){i.CHM(D);const B=i.MAs(5);return i.KtG(B.toggle())}),i.TgZ(15,"span",12),i._uU(16," calendar_month "),i.qZA()()()(),i.TgZ(17,"div",13)(18,"div",3)(19,"span",7),i._uU(20,"Al:"),i.qZA(),i._UZ(21,"input",14,15),i.qZA()()()}if(2&p){const D=i.MAs(7),G=i.MAs(14);i.xp6(4),i.Q6J("autoClose","outside")("displayMonths",m.numberOfCalendar)("dayTemplate",D)("startDate",m.fromDate)("minDate",m.field.props.minDate)("maxDate",m.field.props.maxDate)("positionTarget",G)("placement",i.DdM(16,M)),i.xp6(7),i.ekj("is-invalid",m.showError),i.Q6J("placeholder",m.placeholder)("value",m.formatter.format(m.fromDate)),i.xp6(10),i.ekj("is-invalid",m.showError),i.Q6J("placeholder",m.placeholder)("value",m.formatter.format(m.toDate))}},dependencies:[_.mk,v.J4],styles:[".dp-hidden[_ngcontent-%COMP%]{width:0;margin:0;border:none;padding:0}.custom-day[_ngcontent-%COMP%]{text-align:center;padding:.185rem .25rem;display:inline-block;height:2rem;width:2rem}.custom-day.outside[_ngcontent-%COMP%]{opacity:.5}.custom-day[_ngcontent-%COMP%]:not(.text-muted).range:not(.faded), .custom-day[_ngcontent-%COMP%]:not(.text-muted):not(.faded):hover{background-color:#4864fe!important;color:#fff;border-radius:.25rem;border:0!important}.custom-day[_ngcontent-%COMP%]:not(.text-muted).faded{background-color:#dae0ff}.custom-day[_ngcontent-%COMP%]:not(.text-muted):not(.range).focused{background-color:var(--ei-gray-100);border-radius:.25rem;border:1px solid #dee2e6}"],changeDetection:0}),h})();function w(){const h=(0,i.f3M)(i.lqb);return{validationMessages:[{name:"ngbDate",message:b=>(0,i.r_H)(h,()=>function y(h){const b=(0,i.f3M)(g.KN);return h.invalid?`La data "${h.invalid}" non rispetta il formato richiesto o non \xe8 valida!`:h.minDate?`La data deve essere successiva o uguale al ${b.format(h.minDate.minDate)}!`:h.maxDate?`La data deve essere precedente o uguale al ${b.format(h.maxDate.maxDate)}!`:h.range?"Devono essere specificate sia la data di inizio che la data di fine del periodo!":h.order?"La data di inzio non pu\xf2 essere successiva alla data di fine!":h.rangeLength?`Il periodo non pu\xf2 essere maggiore di ${h.rangeLength} giorni!`:"La data inserita non \xe8 valida!"}(b))}],types:[{name:"datepicker",component:R,wrappers:["form-field"]},{name:"datepicker-range",component:U,wrappers:["form-field"]}]}}let Z=(()=>{class h{}return h.\u0275fac=function(p){return new(p||h)},h.\u0275mod=i.oAB({type:h}),h.\u0275inj=i.cJS({providers:[{provide:v.wf,useExisting:g.Ah},{provide:v.NG,useExisting:g.KN},{provide:u.l7,multi:!0,useFactory:w}],imports:[_.ez,u.X0.forChild(),l.u5,v.M,l.UX]}),h})();function X(h,b){1&h&&i.GkF(0)}const Y=function(h,b){return{$implicit:h,props:b}};function $(h,b){if(1&h&&(i.ynx(0),i.YNc(1,X,1,0,"ng-container",8),i.BQk()),2&h){const p=i.oxw(2);i.xp6(1),i.Q6J("ngTemplateOutlet",p.customLabelTemplate)("ngTemplateOutletContext",i.WLB(2,Y,p.id,p.props))}}function I(h,b){1&h&&(i.TgZ(0,"span",12),i._uU(1," *"),i.qZA())}function K(h,b){if(1&h&&(i.TgZ(0,"div")(1,"label",9),i._UZ(2,"span",10),i.YNc(3,I,2,0,"span",11),i.qZA()()),2&h){const p=i.oxw(3);i.xp6(1),i.uIk("for",p.id),i.xp6(1),i.Q6J("innerHTML",p.parsedLabel,i.oJD),i.xp6(1),i.Q6J("ngIf",p.props.required&&!0!==p.props.hideRequiredMarker)}}function re(h,b){if(1&h&&i.YNc(0,K,4,3,"div",2),2&h){const p=i.oxw(2);i.Q6J("ngIf",p.props.label&&!0!==p.props.hideLabel)}}function ne(h,b){if(1&h&&(i.YNc(0,$,2,5,"ng-container",6),i.YNc(1,re,1,1,"ng-template",null,7,i.W1O)),2&h){const p=i.MAs(2),m=i.oxw();i.Q6J("ngIf",m.hasCustomLabelTemplate)("ngIfElse",p)}}function ge(h,b){if(1&h&&(i.ynx(0),i.GkF(1,13),i.BQk()),2&h){i.oxw();const p=i.MAs(1);i.xp6(1),i.Q6J("ngTemplateOutlet",p)}}function Q(h,b){}function q(h,b){if(1&h&&(i.ynx(0),i.GkF(1,13),i.BQk()),2&h){i.oxw();const p=i.MAs(1);i.xp6(1),i.Q6J("ngTemplateOutlet",p)}}function z(h,b){if(1&h&&(i.TgZ(0,"div",14),i._UZ(1,"formly-validation-message",15),i.qZA()),2&h){const p=i.oxw();i.Udp("display","block"),i.xp6(1),i.Q6J("field",p.field)}}function ae(h,b){if(1&h&&i._UZ(0,"div",16),2&h){const p=i.oxw();i.Q6J("innerHTML",p.parsedDescription,i.oJD)}}let _e=(()=>{class h extends u.n2{constructor(p){super(),this.customFormUtilsService=p,this.hasCustomLabelTemplate=!1,this.parsedDescription="",this.parsedLabel=""}ngOnInit(){this.hasCustomLabelTemplate=!(!this.props.customLabelTemplate||!this.props.customLabelTemplate.elementRef),this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):"",this.parsedLabel=!this.hasCustomLabelTemplate&&this.props.label?this.customFormUtilsService.parseBBCode(this.props.label):""}get customLabelTemplate(){return this.props.customLabelTemplate}}return h.\u0275fac=function(p){return new(p||h)(i.Y36(g.d6))},h.\u0275cmp=i.Xpm({type:h,selectors:[["formly-custom-wrapper-form-field"]],features:[i.qOj],decls:9,vars:8,consts:[["labelTemplate",""],[1,"mb-3"],[4,"ngIf"],["fieldComponent",""],["class","invalid-feedback",3,"display",4,"ngIf"],["class","form-text text-muted",3,"innerHTML",4,"ngIf"],[4,"ngIf","ngIfElse"],["stringLabel",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"form-label"],[3,"innerHTML"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[3,"ngTemplateOutlet"],[1,"invalid-feedback"],[3,"field"],[1,"form-text","text-muted",3,"innerHTML"]],template:function(p,m){1&p&&(i.YNc(0,ne,3,2,"ng-template",null,0,i.W1O),i.TgZ(2,"div",1),i.YNc(3,ge,2,1,"ng-container",2),i.YNc(4,Q,0,0,"ng-template",null,3,i.W1O),i.YNc(6,q,2,1,"ng-container",2),i.YNc(7,z,2,3,"div",4),i.YNc(8,ae,1,1,"div",5),i.qZA()),2&p&&(i.xp6(2),i.ekj("form-floating","floating"===m.props.labelPosition)("has-error",m.showError),i.xp6(1),i.Q6J("ngIf","floating"!==m.props.labelPosition),i.xp6(3),i.Q6J("ngIf","floating"===m.props.labelPosition),i.xp6(1),i.Q6J("ngIf",m.showError),i.xp6(1),i.Q6J("ngIf",m.parsedDescription))},dependencies:[_.O5,_.tP,u.M2],encapsulation:2}),h})(),ce=(()=>{class h{}return h.\u0275fac=function(p){return new(p||h)},h.\u0275mod=i.oAB({type:h}),h.\u0275inj=i.cJS({imports:[_.ez]}),h})()},9473:(W,L,f)=>{f.d(L,{R:()=>i});var _=f(5879),g=f(6814);function u(y,E){1&y&&_._UZ(0,"div",3)}function l(y,E){if(1&y&&(_.TgZ(0,"small",4),_._uU(1),_.TgZ(2,"span",5)(3,"span"),_._uU(4,"."),_.qZA(),_.TgZ(5,"span"),_._uU(6,"."),_.qZA(),_.TgZ(7,"span"),_._uU(8,"."),_.qZA()()()),2&y){const d=_.oxw();_.xp6(1),_.Oqu(d.message)}}const v=function(y){return{"only-message":y}};let i=(()=>{class y{constructor(){this.message="Caricamento",this.onlyMessage=!1}ngOnInit(){}}return y.\u0275fac=function(d){return new(d||y)},y.\u0275cmp=_.Xpm({type:y,selectors:[["app-loader"]],inputs:{message:"message",onlyMessage:"onlyMessage"},decls:3,vars:5,consts:[[1,"loader-container","d-flex","flex-column","align-items-center","justify-content-center",3,"ngClass"],["class","loader-animation position-relative",4,"ngIf"],["class","loader-description d-block",4,"ngIf"],[1,"loader-animation","position-relative"],[1,"loader-description","d-block"],[1,"dots-animated"]],template:function(d,C){1&d&&(_.TgZ(0,"div",0),_.YNc(1,u,1,0,"div",1),_.YNc(2,l,9,1,"small",2),_.qZA()),2&d&&(_.Q6J("ngClass",_.VKq(3,v,C.onlyMessage)),_.xp6(1),_.Q6J("ngIf",!C.onlyMessage),_.xp6(1),_.Q6J("ngIf",C.message))},dependencies:[g.mk,g.O5],styles:['.loader-container[_ngcontent-%COMP%]:not(.only-message){padding-top:.175rem}.loader-container[_ngcontent-%COMP%]:not(.only-message)   .loader-description[_ngcontent-%COMP%]{margin-top:.5rem}.loader-animation[_ngcontent-%COMP%]{width:60px;height:60px}.loader-animation[_ngcontent-%COMP%]:before, .loader-animation[_ngcontent-%COMP%]:after{content:"";position:absolute;width:30px;height:30px;border-radius:.35rem;background-color:var(--ei-gray-700)}.loader-animation[_ngcontent-%COMP%]:before{top:0;left:0;animation:_ngcontent-%COMP%_loader-before-animation 2.4s cubic-bezier(0,0,.24,1.21) infinite}.loader-animation[_ngcontent-%COMP%]:after{bottom:0;right:0;animation:_ngcontent-%COMP%_loader-after-animation 2.4s cubic-bezier(0,0,.24,1.21) infinite}@keyframes _ngcontent-%COMP%_loader-after-animation{0%,to{transform:none}25%{transform:translate(-100%)}50%{transform:translate(-100%) translateY(-100%)}75%{transform:translateY(-100%)}}@keyframes _ngcontent-%COMP%_loader-before-animation{0%,to{transform:none}25%{transform:translate(100%)}50%{transform:translate(100%) translateY(100%)}75%{transform:translateY(100%)}}.dots-animated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{animation-name:_ngcontent-%COMP%_dots-animation;animation-duration:1.4s;animation-iteration-count:infinite;animation-fill-mode:both}.dots-animated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(2){animation-delay:.2s}.dots-animated[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]:nth-child(3){animation-delay:.4s}@keyframes _ngcontent-%COMP%_dots-animation{0%{opacity:.2}20%{opacity:1}to{opacity:.2}}']}),y})()},3620:(W,L,f)=>{f.d(L,{b:()=>l});var _=f(6321),g=f(9360),u=f(8251);function l(v,i=_.z){return(0,g.e)((y,E)=>{let d=null,C=null,F=null;const R=()=>{if(d){d.unsubscribe(),d=null;const A=C;C=null,E.next(A)}};function P(){const A=F+v,T=i.now();if(T<A)return d=this.schedule(void 0,A-T),void E.add(d);R()}y.subscribe((0,u.x)(E,A=>{C=A,F=i.now(),d||(d=i.schedule(P,v),E.add(d))},()=>{R(),E.complete()},void 0,()=>{C=d=null}))})}},2495:(W,L,f)=>{f.d(L,{Eq:()=>v,HM:()=>i,Ig:()=>g,fI:()=>y,su:()=>u});var _=f(5879);function g(d){return null!=d&&"false"!=`${d}`}function u(d,C=0){return function l(d){return!isNaN(parseFloat(d))&&!isNaN(Number(d))}(d)?Number(d):C}function v(d){return Array.isArray(d)?d:[d]}function i(d){return null==d?"":"string"==typeof d?d:`${d}px`}function y(d){return d instanceof _.SBq?d.nativeElement:d}},1088:(W,L,f)=>{f.d(L,{Yg:()=>ie,u3:()=>O});var _=f(5879),g=f(2495),u=f(8645),l=f(2572),v=f(5211),i=f(5592),y=f(8180),E=f(836),d=f(3620),C=f(7398),F=f(7921),R=f(9773),P=f(2831);const T=new Set;let S,k=(()=>{class M{constructor(w,Z){this._platform=w,this._nonce=Z,this._matchMedia=this._platform.isBrowser&&window.matchMedia?window.matchMedia.bind(window):J}matchMedia(w){return(this._platform.WEBKIT||this._platform.BLINK)&&function H(M,U){if(!T.has(M))try{S||(S=document.createElement("style"),U&&(S.nonce=U),S.setAttribute("type","text/css"),document.head.appendChild(S)),S.sheet&&(S.sheet.insertRule(`@media ${M} {body{ }}`,0),T.add(M))}catch(w){console.error(w)}}(w,this._nonce),this._matchMedia(w)}}return M.\u0275fac=function(w){return new(w||M)(_.LFG(P.t4),_.LFG(_.Ojb,8))},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function J(M){return{matches:"all"===M||""===M,media:M,addListener:()=>{},removeListener:()=>{}}}let ie=(()=>{class M{constructor(w,Z){this._mediaMatcher=w,this._zone=Z,this._queries=new Map,this._destroySubject=new u.x}ngOnDestroy(){this._destroySubject.next(),this._destroySubject.complete()}isMatched(w){return te((0,g.Eq)(w)).some(X=>this._registerQuery(X).mql.matches)}observe(w){const X=te((0,g.Eq)(w)).map($=>this._registerQuery($).observable);let Y=(0,l.a)(X);return Y=(0,v.z)(Y.pipe((0,y.q)(1)),Y.pipe((0,E.T)(1),(0,d.b)(0))),Y.pipe((0,C.U)($=>{const I={matches:!1,breakpoints:{}};return $.forEach(({matches:K,query:re})=>{I.matches=I.matches||K,I.breakpoints[re]=K}),I}))}_registerQuery(w){if(this._queries.has(w))return this._queries.get(w);const Z=this._mediaMatcher.matchMedia(w),Y={observable:new i.y($=>{const I=K=>this._zone.run(()=>$.next(K));return Z.addListener(I),()=>{Z.removeListener(I)}}).pipe((0,F.O)(Z),(0,C.U)(({matches:$})=>({query:w,matches:$})),(0,R.R)(this._destroySubject)),mql:Z};return this._queries.set(w,Y),Y}}return M.\u0275fac=function(w){return new(w||M)(_.LFG(k),_.LFG(_.R0b))},M.\u0275prov=_.Yz7({token:M,factory:M.\u0275fac,providedIn:"root"}),M})();function te(M){return M.map(U=>U.split(",")).reduce((U,w)=>U.concat(w)).map(U=>U.trim())}const O={XSmall:"(max-width: 599.98px)",Small:"(min-width: 600px) and (max-width: 959.98px)",Medium:"(min-width: 960px) and (max-width: 1279.98px)",Large:"(min-width: 1280px) and (max-width: 1919.98px)",XLarge:"(min-width: 1920px)",Handset:"(max-width: 599.98px) and (orientation: portrait), (max-width: 959.98px) and (orientation: landscape)",Tablet:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait), (min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",Web:"(min-width: 840px) and (orientation: portrait), (min-width: 1280px) and (orientation: landscape)",HandsetPortrait:"(max-width: 599.98px) and (orientation: portrait)",TabletPortrait:"(min-width: 600px) and (max-width: 839.98px) and (orientation: portrait)",WebPortrait:"(min-width: 840px) and (orientation: portrait)",HandsetLandscape:"(max-width: 959.98px) and (orientation: landscape)",TabletLandscape:"(min-width: 960px) and (max-width: 1279.98px) and (orientation: landscape)",WebLandscape:"(min-width: 1280px) and (orientation: landscape)"}},2831:(W,L,f)=>{f.d(L,{Mq:()=>A,Oy:()=>te,_i:()=>T,ht:()=>J,i$:()=>F,kV:()=>H,sA:()=>ie,t4:()=>l});var _=f(5879),g=f(6814);let u;try{u=typeof Intl<"u"&&Intl.v8BreakIterator}catch(O){u=!1}let d,R,P,S,l=(()=>{class O{constructor(U){this._platformId=U,this.isBrowser=this._platformId?(0,g.NF)(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!u)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return O.\u0275fac=function(U){return new(U||O)(_.LFG(_.Lbi))},O.\u0275prov=_.Yz7({token:O,factory:O.\u0275fac,providedIn:"root"}),O})();function F(O){return function C(){if(null==d&&typeof window<"u")try{window.addEventListener("test",null,Object.defineProperty({},"passive",{get:()=>d=!0}))}finally{d=d||!1}return d}()?O:!!O.capture}function A(){if(null==P){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return P=!1,P;if("scrollBehavior"in document.documentElement.style)P=!0;else{const O=Element.prototype.scrollTo;P=!!O&&!/\{\s*\[native code\]\s*\}/.test(O.toString())}}return P}function T(){if("object"!=typeof document||!document)return 0;if(null==R){const O=document.createElement("div"),M=O.style;O.dir="rtl",M.width="1px",M.overflow="auto",M.visibility="hidden",M.pointerEvents="none",M.position="absolute";const U=document.createElement("div"),w=U.style;w.width="2px",w.height="1px",O.appendChild(U),document.body.appendChild(O),R=0,0===O.scrollLeft&&(O.scrollLeft=1,R=0===O.scrollLeft?1:2),O.remove()}return R}function H(O){if(function k(){if(null==S){const O=typeof document<"u"?document.head:null;S=!(!O||!O.createShadowRoot&&!O.attachShadow)}return S}()){const M=O.getRootNode?O.getRootNode():null;if(typeof ShadowRoot<"u"&&ShadowRoot&&M instanceof ShadowRoot)return M}return null}function J(){let O=typeof document<"u"&&document?document.activeElement:null;for(;O&&O.shadowRoot;){const M=O.shadowRoot.activeElement;if(M===O)break;O=M}return O}function ie(O){return O.composedPath?O.composedPath()[0]:O.target}function te(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}},5545:(W,L,f)=>{f.d(L,{Du:()=>q,Hl:()=>Q,JD:()=>Te,M2:()=>Ae,T7:()=>Pe,X0:()=>Ne,_S:()=>I,cw:()=>be,fS:()=>ue,hv:()=>ke,kg:()=>m,l7:()=>le,n2:()=>we});var _=f(9376),g=f(91),u=f(1413),l=f(5879),v=f(6223),i=f(2664),y=f(3019),E=f(2096),d=f(5592),C=f(8645),F=f(3997),R=f(7921),P=f(3620),A=f(2181),T=f(4664),S=f(8180),k=f(9397),H=f(7398),J=f(6814),ie=f(6593);const te=["expression"],O=["errorPath"],M=["container"];function U(s,n){}function w(s,n){1&s&&l._UZ(0,"formly-field",1),2&s&&l.Q6J("field",n.$implicit)}const Z=["*"],X=["fieldComponent"];function $(s,n,e){if(n.id)return n.id;let t=n.type;return!t&&n.template&&(t="template"),t instanceof l.DyG&&(t=t.prototype.constructor.name),[s,t,n.key,e].join("_")}function I(s){return!z(s.key)&&""!==s.key}function K(s){var n;if(!I(s))return[];if((null===(n=s._keyPath)||void 0===n?void 0:n.key)!==s.key){let e=[];if("string"==typeof s.key){const t=-1===s.key.indexOf("[")?s.key:s.key.replace(/\[(\w+)\]/g,".$1");e=-1!==t.indexOf(".")?t.split("."):[t]}else e=Array.isArray(s.key)?s.key.slice(0):[`${s.key}`];D(s,"_keyPath",{key:s.key,path:e})}return s._keyPath.path.slice(0)}const re=["required","pattern","minLength","maxLength","min","max"];function ne(s,n){let e=K(s);if(0===e.length)return;let t=s;for(;t.parent;)t=t.parent,e=[...K(t),...e];if(void 0===n&&s.resetOnHide){const o=e.pop();delete e.reduce((a,c)=>a[c]||{},t.model)[o]}else!function ge(s,n,e){for(let t=0;t<n.length-1;t++){const o=n[t];(!s[o]||!b(s[o]))&&(s[o]=/^\d+$/.test(n[t+1])?[]:{}),s=s[o]}s[n[n.length-1]]=m(e)}(t.model,e,n)}function Q(s){let n=s.parent?s.parent.model:s.model;for(const e of K(s)){if(!n)return n;n=n[e]}return n}function q(s,...n){return n.forEach(e=>{for(const t in e)z(s[t])||_e(s[t])?s[t]=m(e[t]):h(s[t],e[t])&&q(s[t],e[t])}),s}function z(s){return null==s}function ae(s){return void 0===s}function _e(s){return""===s}function ce(s){return"function"==typeof s}function h(s,n){return b(s)&&b(n)&&Object.getPrototypeOf(s)===Object.getPrototypeOf(n)&&!(Array.isArray(s)||Array.isArray(n))}function b(s){return null!=s&&"object"==typeof s}function m(s){if(!b(s)||(0,i.b)(s)||s instanceof l.Rgc||s.changingThisBreaksApplicationSecurity||-1!==["RegExp","FileList","File","Blob"].indexOf(s.constructor.name))return s;if(s instanceof Set)return new Set(s);if(s instanceof Map)return new Map(s);if(s._isAMomentObject&&ce(s.clone))return s.clone();if(s instanceof v.TO)return null;if(s instanceof Date)return new Date(s.getTime());if(Array.isArray(s))return s.slice(0).map(t=>m(t));const n=Object.getPrototypeOf(s);let e=Object.create(n);return e=Object.setPrototypeOf(e,n),Object.keys(s).reduce((t,o)=>{const r=Object.getOwnPropertyDescriptor(s,o);return r.get?Object.defineProperty(t,o,r):t[o]=m(s[o]),t},e)}function D(s,n,e){Object.defineProperty(s,n,{enumerable:!1,writable:!0,configurable:!0}),s[n]=e}function G(s,n,e){let t=[];const o=()=>{t.forEach(a=>a()),t=[]},r=B(s,n,({firstChange:a,currentValue:c})=>{!a&&e(),o(),b(c)&&"Object"===c.constructor.name&&Object.keys(c).forEach(x=>{t.push(G(s,[...n,x],e))})});return()=>{r.unsubscribe(),o()}}function B(s,n,e){s._observers||D(s,"_observers",{});let t=s;for(let c=0;c<n.length-1;c++)(!t[n[c]]||!b(t[n[c]]))&&(t[n[c]]=/^\d+$/.test(n[c+1])?[]:{}),t=t[n[c]];const o=n[n.length-1],r=n.join(".");s._observers[r]||(s._observers[r]={value:t[o],onChange:[]});const a=s._observers[r];if(t[o]!==a.value&&(a.value=t[o]),-1===a.onChange.indexOf(e)&&(a.onChange.push(e),e({currentValue:a.value,firstChange:!0}),a.onChange.length>=1&&b(t))){const{enumerable:c}=Object.getOwnPropertyDescriptor(t,o)||{enumerable:!0};Object.defineProperty(t,o,{enumerable:c,configurable:!0,get:()=>a.value,set:x=>{if(x!==a.value){const N=a.value;a.value=x,a.onChange.forEach(j=>j({previousValue:N,currentValue:x,firstChange:!1}))}}})}return{setValue(c){if(c===a.value)return;const x=a.value;a.value=c,a.onChange.forEach(N=>{N!==e&&N({previousValue:x,currentValue:c,firstChange:!1})})},unsubscribe(){a.onChange=a.onChange.filter(c=>c!==e),0===a.onChange.length&&delete s._observers[r]}}}function pe(s,n){if(n=Array.isArray(n)?n.join("."):n,s.fieldGroup)for(let e=0,t=s.fieldGroup.length;e<t;e++){const o=s.fieldGroup[e],r=Array.isArray(o.key)?o.key.join("."):o.key;if(r===n)return o;if(o.fieldGroup&&(z(r)||0===n.indexOf(`${r}.`))){const a=pe(o,z(r)?n:n.slice(r.length+1));if(a)return a}}}function Ee(s){var n;null===(n=s._componentRefs)||void 0===n||n.forEach(e=>{e instanceof l.UuU?e.injector.get(l.sBO).markForCheck():e.markForCheck()})}const le=new l.OlP("FORMLY_CONFIG");let oe=(()=>{class s{constructor(){this.types={},this.validators={},this.wrappers={},this.messages={},this.extras={checkExpressionOn:"modelChange",lazyRender:!0,resetFieldOnHide:!0,renderFormlyFieldElement:!0,showError(e){var t,o,r,a;return(null===(t=e.formControl)||void 0===t?void 0:t.invalid)&&((null===(o=e.formControl)||void 0===o?void 0:o.touched)||(null===(r=e.options.parentForm)||void 0===r?void 0:r.submitted)||!(null===(a=e.field.validation)||void 0===a||!a.show))}},this.extensions={},this.presets={},this.extensionsByPriority={}}addConfig(e){e.types&&e.types.forEach(t=>this.setType(t)),e.validators&&e.validators.forEach(t=>this.setValidator(t)),e.wrappers&&e.wrappers.forEach(t=>this.setWrapper(t)),e.validationMessages&&e.validationMessages.forEach(t=>this.addValidatorMessage(t.name,t.message)),e.extensions&&this.setSortedExtensions(e.extensions),e.extras&&(this.extras=(0,u.Z)((0,u.Z)({},this.extras),e.extras)),e.presets&&(this.presets=(0,u.Z)((0,u.Z)({},this.presets),e.presets.reduce((t,o)=>(0,u.Z)((0,u.Z)({},t),{},{[o.name]:o.config}),{})))}setType(e){Array.isArray(e)?e.forEach(t=>this.setType(t)):(this.types[e.name]||(this.types[e.name]={name:e.name}),["component","extends","defaultOptions","wrappers"].forEach(t=>{e.hasOwnProperty(t)&&(this.types[e.name][t]=e[t])}))}getType(e,t=!1){if(e instanceof l.DyG)return{component:e,name:e.prototype.constructor.name};if(!this.types[e]){if(t)throw new Error(`[Formly Error] The type "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return null}return this.mergeExtendedType(e),this.types[e]}getMergedField(e={}){var t;const o=this.getType(e.type);if(!o)return;o.defaultOptions&&q(e,o.defaultOptions);const r=o.extends&&this.getType(o.extends).defaultOptions;r&&q(e,r),null!=e&&e.optionsTypes&&e.optionsTypes.forEach(c=>{const x=this.getType(c).defaultOptions;x&&q(e,x)});const a=this.resolveFieldTypeRef(e);null!=a&&null!==(t=a.instance)&&void 0!==t&&t.defaultOptions&&q(e,a.instance.defaultOptions),!e.wrappers&&o.wrappers&&(e.wrappers=[...o.wrappers])}resolveFieldTypeRef(e={}){const t=this.getType(e.type);if(!t)return null;if(!t.component||t._componentRef)return t._componentRef;const{_viewContainerRef:o,_injector:r}=e.options;if(!o||!r)return null;const a=o.createComponent(t.component,{injector:r});D(t,"_componentRef",a);try{a.destroy()}catch(c){console.error(`An error occurred while destroying the Formly component type "${e.type}"`,c)}return t._componentRef}setWrapper(e){this.wrappers[e.name]=e,e.types&&e.types.forEach(t=>{this.setTypeWrapper(t,e.name)})}getWrapper(e){if(e instanceof l.DyG)return{component:e,name:e.prototype.constructor.name};if(!this.wrappers[e])throw new Error(`[Formly Error] The wrapper "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.wrappers[e]}setTypeWrapper(e,t){this.types[e]||(this.types[e]={}),this.types[e].wrappers||(this.types[e].wrappers=[]),-1===this.types[e].wrappers.indexOf(t)&&this.types[e].wrappers.push(t)}setValidator(e){this.validators[e.name]=e}getValidator(e){if(!this.validators[e])throw new Error(`[Formly Error] The validator "${e}" could not be found. Please make sure that is registered through the FormlyModule declaration.`);return this.validators[e]}addValidatorMessage(e,t){this.messages[e]=t}getValidatorMessage(e){return this.messages[e]}setSortedExtensions(e){e.forEach(t=>{var o;const r=null!==(o=t.priority)&&void 0!==o?o:1;this.extensionsByPriority[r]=(0,u.Z)((0,u.Z)({},this.extensionsByPriority[r]),{},{[t.name]:t.extension})}),this.extensions=Object.keys(this.extensionsByPriority).map(Number).sort((t,o)=>t-o).reduce((t,o)=>(0,u.Z)((0,u.Z)({},t),this.extensionsByPriority[o]),{})}mergeExtendedType(e){if(!this.types[e].extends)return;const t=this.getType(this.types[e].extends);this.types[e].component||(this.types[e].component=t.component),this.types[e].wrappers||(this.types[e].wrappers=t.wrappers)}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),fe=(()=>{class s{constructor(e,t,o,r){this.config=e,this.injector=t,this.viewContainerRef=o,this.parentForm=r}buildForm(e,t=[],o,r){this.build({fieldGroup:t,model:o,form:e,options:r})}build(e){if(!this.config.extensions.core)throw new Error("NgxFormly: missing `forRoot()` call. use `forRoot()` when registering the `FormlyModule`.");e.parent?this._build(e):(this._setOptions(e),function Y(s,n){const e=s._updateTreeValidity.bind(s);s._updateTreeValidity=()=>{},n(),s._updateTreeValidity=e}(e.form,()=>{var t,o;this._build(e);const r=e.options;null===(t=r.checkExpressions)||void 0===t||t.call(r,e,!0),null===(o=r.detectChanges)||void 0===o||o.call(r,e)}))}_build(e){var t;if(!e)return;const o=Object.values(this.config.extensions);o.forEach(r=>{var a;return null===(a=r.prePopulate)||void 0===a?void 0:a.call(r,e)}),o.forEach(r=>{var a;return null===(a=r.onPopulate)||void 0===a?void 0:a.call(r,e)}),null===(t=e.fieldGroup)||void 0===t||t.forEach(r=>this._build(r)),o.forEach(r=>{var a;return null===(a=r.postPopulate)||void 0===a?void 0:a.call(r,e)})}_setOptions(e){e.form=e.form||new v.cw({}),e.model=e.model||{},e.options=e.options||{};const t=e.options;t._viewContainerRef||D(t,"_viewContainerRef",this.viewContainerRef),t._injector||D(t,"_injector",this.injector),t.build||(t._buildForm=()=>{console.warn("Formly: 'options._buildForm' is deprecated since v6.0, use 'options.build' instead."),this.build(e)},t.build=(o=e)=>(this.build(o),o)),!t.parentForm&&this.parentForm&&(D(t,"parentForm",this.parentForm),B(t,["parentForm","submitted"],({firstChange:o})=>{o||(t.checkExpressions(e),t.detectChanges(e))}))}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(oe),l.LFG(l.zs3),l.LFG(l.s_b,8),l.LFG(v.sg,8))},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function ve(s,n=!1){const e=s.formControl,t=e._fields?e._fields.indexOf(s):-1;-1!==t&&e._fields.splice(t,1);const o=e.parent;if(!o)return;const r={emitEvent:n};if(o instanceof v.Oe){const a=o.controls.findIndex(c=>c===e);-1!==a&&o.removeAt(a,r)}else if(o instanceof v.cw){const a=K(s),c=a[a.length-1];o.get([c])===e&&o.removeControl(c,r)}e.setParent(null)}function Oe(s){var n;return s.formControl?s.formControl:!1===s.shareFormControl?null:null===(n=s.form)||void 0===n?void 0:n.get(K(s))}function ye(s,n,e=!1){if((n=n||s.formControl)._fields||D(n,"_fields",[]),-1===n._fields.indexOf(s)&&n._fields.push(s),!s.formControl&&n){D(s,"formControl",n),n.setValidators(null),n.setAsyncValidators(null),s.props.disabled=!!s.props.disabled;const c=B(s,["props","disabled"],({firstChange:x,currentValue:N})=>{x||(N?s.formControl.disable():s.formControl.enable())});n instanceof v.NI&&n.registerOnDisabledChange(c.setValue)}if(!s.form||!I(s))return;let t=s.form;const o=K(s),r=Q(s);(!z(n.value)||!z(r))&&n.value!==r&&n instanceof v.NI&&n.patchValue(r);for(let c=0;c<o.length-1;c++){const x=o[c];t.get([x])||t.setControl(x,new v.cw({}),{emitEvent:e}),t=t.get([x])}const a=o[o.length-1];!s._hide&&t.get([a])!==n&&t.setControl(a,n,{emitEvent:e})}function de(s,n=!1){const e=s.status,t=s.value;s.updateValueAndValidity({emitEvent:!1,onlySelf:n}),e!==s.status&&s.statusChanges.emit(s.status),t!==s.value&&s.valueChanges.emit(s.value)}function xe(s){null==s||delete s._fields,s.setValidators(null),s.setAsyncValidators(null),(s instanceof v.cw||s instanceof v.Oe)&&Object.values(s.controls).forEach(n=>xe(n))}let Fe=(()=>{class s{constructor(e){this.ref=e}ngOnChanges(){this.name=this.name||"formly-group"}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(l.Rgc))},s.\u0275dir=l.lG2({type:s,selectors:[["","formlyTemplate",""]],inputs:{name:["formlyTemplate","name"]},features:[l.TTD]}),s})(),Ce=(()=>{class s{}return s.\u0275fac=function(e){return new(e||s)},s.\u0275prov=l.Yz7({token:s,factory:s.\u0275fac}),s})(),be=(()=>{class s{constructor(e,t,o,r,a){this.config=e,this.renderer=t,this._elementRef=o,this.hostContainerRef=r,this.form=a,this.hostObservers=[],this.componentRefs=[],this.hooksObservers=[],this.detectFieldBuild=!1,this.valueChangesUnsubscribe=()=>{}}get containerRef(){return this.config.extras.renderFormlyFieldElement?this.viewContainerRef:this.hostContainerRef}get elementRef(){var e;return this.config.extras.renderFormlyFieldElement?this._elementRef:(null===(e=this.componentRefs)||void 0===e?void 0:e[0])instanceof l.UuU?this.componentRefs[0].location:null}ngAfterContentInit(){this.triggerHook("afterContentInit")}ngAfterViewInit(){this.triggerHook("afterViewInit")}ngDoCheck(){this.detectFieldBuild&&this.field&&this.field.options&&this.render()}ngOnInit(){this.triggerHook("onInit")}ngOnChanges(e){this.triggerHook("onChanges",e)}ngOnDestroy(){this.resetRefs(this.field),this.hostObservers.forEach(e=>e.unsubscribe()),this.hooksObservers.forEach(e=>e()),this.valueChangesUnsubscribe(),this.triggerHook("onDestroy")}renderField(e,t,o=[]){var r,a;if(this.containerRef===e&&(this.resetRefs(this.field),this.containerRef.clear(),o=null===(a=this.field)||void 0===a?void 0:a.wrappers),(null===(r=o)||void 0===r?void 0:r.length)>0){const[x,...N]=o,{component:j}=this.config.getWrapper(x),V=e.createComponent(j);this.attachComponentRef(V,t),B(V.instance,["fieldComponent"],({currentValue:ee,previousValue:se,firstChange:he})=>{if(ee){if(se&&se._lContainer===ee._lContainer)return;const me=se?se.detach():null;me&&!me.destroyed?ee.insert(me):this.renderField(ee,t,N),!he&&V.changeDetectorRef.detectChanges()}})}else if(null!=t&&t.type){var c;const x=null===(c=this.form)||void 0===c||null===(c=c.templates)||void 0===c?void 0:c.find(j=>j.name===t.type);let N;if(x)N=e.createEmbeddedView(x.ref,{$implicit:t});else{const{component:j}=this.config.getType(t.type,!0);N=e.createComponent(j)}this.attachComponentRef(N,t)}}triggerHook(e,t){var o;if(("onInit"===e||"onChanges"===e&&t.field&&!t.field.firstChange)&&(this.valueChangesUnsubscribe=this.fieldChanges(this.field)),null!==(o=this.field)&&void 0!==o&&null!==(o=o.hooks)&&void 0!==o&&o[e]&&(!t||t.field)){const r=this.field.hooks[e](this.field);if((0,i.b)(r)&&-1!==["onInit","afterContentInit","afterViewInit"].indexOf(e)){const a=r.subscribe();this.hooksObservers.push(()=>a.unsubscribe())}}"onChanges"===e&&t.field&&(this.resetRefs(t.field.previousValue),this.render())}attachComponentRef(e,t){this.componentRefs.push(e),t._componentRefs.push(e),e instanceof l.UuU&&Object.assign(e.instance,{field:t})}render(){if(this.field){if(!this.field.options)return void(this.detectFieldBuild=!0);this.detectFieldBuild=!1,this.hostObservers.forEach(e=>e.unsubscribe()),this.hostObservers=[B(this.field,["hide"],({firstChange:e,currentValue:t})=>{const o=this.containerRef;!1===this.config.extras.lazyRender?(e&&this.renderField(o,this.field),(!e||e&&t)&&this.elementRef&&this.renderer.setStyle(this.elementRef.nativeElement,"display",t?"none":"")):t?(o.clear(),this.field.className&&this.renderer.removeAttribute(this.elementRef.nativeElement,"class")):(this.renderField(o,this.field),this.field.className&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",this.field.className)),!e&&this.field.options.detectChanges(this.field)}),B(this.field,["className"],({firstChange:e,currentValue:t})=>{(!e||e&&t)&&(!this.config.extras.lazyRender||!0!==this.field.hide)&&this.elementRef&&this.renderer.setAttribute(this.elementRef.nativeElement,"class",t)}),...["touched","pristine","status"].map(e=>B(this.field,["formControl",e],({firstChange:t})=>!t&&Ee(this.field)))]}}resetRefs(e){e&&(e._localFields?e._localFields=[]:D(this.field,"_localFields",[]),e._componentRefs?e._componentRefs=e._componentRefs.filter(t=>-1===this.componentRefs.indexOf(t)):D(this.field,"_componentRefs",[])),this.componentRefs=[]}fieldChanges(e){if(this.valueChangesUnsubscribe(),!e)return()=>{};const t=[G(e,["props"],()=>e.options.detectChanges(e))];e.options&&t.push(G(e.options,["formState"],()=>e.options.detectChanges(e)));for(const r of Object.keys(e._expressions||{})){const a=B(e,["_expressions",r],({currentValue:c,previousValue:x})=>{null!=x&&x.subscription&&(x.subscription.unsubscribe(),x.subscription=null),(0,i.b)(c.value$)&&(c.subscription=c.value$.subscribe())});t.push(()=>{var c;null!==(c=e._expressions[r])&&void 0!==c&&c.subscription&&e._expressions[r].subscription.unsubscribe(),a.unsubscribe()})}for(const r of[["focus"],["template"],["fieldGroupClassName"],["validation","show"]]){const a=B(e,r,({firstChange:c})=>!c&&e.options.detectChanges(e));t.push(()=>a.unsubscribe())}if(e.formControl&&!e.fieldGroup){const r=e.formControl;let a=r.valueChanges.pipe((0,F.x)((j,V)=>!(j!==V||Array.isArray(j)||b(j))));r.value!==Q(e)&&(a=a.pipe((0,R.O)(r.value)));const{updateOn:c,debounce:x}=e.modelOptions;(!c||"change"===c)&&(null==x?void 0:x.default)>0&&(a=r.valueChanges.pipe((0,P.b)(x.default)));const N=a.subscribe(j=>{var V,ee;(null===(V=r._fields)||void 0===V?void 0:V.length)>1&&r instanceof v.NI&&r.patchValue(j,{emitEvent:!1,onlySelf:!0}),null===(ee=e.parsers)||void 0===ee||ee.forEach(se=>j=se(j)),j===e.formControl.value?(I(e)&&ne(e,j),e.options.fieldChanges.next({value:j,field:e,type:"valueChanges"})):e.formControl.setValue(j)});t.push(()=>N.unsubscribe())}let o=[];return B(e,["_localFields"],({currentValue:r})=>{o.forEach(a=>a()),o=(r||[]).map(a=>this.fieldChanges(a))}),()=>{t.forEach(r=>r()),o.forEach(r=>r())}}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(oe),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.s_b),l.Y36(Ce,8))},s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-field"]],viewQuery:function(e,t){if(1&e&&l.Gf(M,7,l.s_b),2&e){let o;l.iGM(o=l.CRH())&&(t.viewContainerRef=o.first)}},inputs:{field:"field"},features:[l.TTD],decls:2,vars:0,consts:[["container",""]],template:function(e,t){1&e&&l.YNc(0,U,0,0,"ng-template",null,0,l.W1O)},styles:["[_nghost-%COMP%]:empty{display:none}"]}),s})(),Pe=(()=>{class s{constructor(e,t,o,r){this.builder=e,this.config=t,this.ngZone=o,this.fieldTemplates=r,this.modelChange=new l.vpe,this.field={type:"formly-group"},this._modelChangeValue={},this.valueChangesUnsubscribe=()=>{}}set form(e){this.field.form=e}get form(){return this.field.form}set model(e){this.config.extras.immutable&&this._modelChangeValue===e||this.setField({model:e})}get model(){return this.field.model}set fields(e){this.setField({fieldGroup:e})}get fields(){return this.field.fieldGroup}set options(e){this.setField({options:e})}get options(){return this.field.options}set templates(e){this.fieldTemplates.templates=e}ngDoCheck(){"changeDetectionCheck"===this.config.extras.checkExpressionOn&&this.checkExpressionChange()}ngOnChanges(e){e.fields&&this.form&&xe(this.form),(e.fields||e.form||e.model&&this._modelChangeValue!==e.model.currentValue)&&(this.valueChangesUnsubscribe(),this.builder.build(this.field),this.valueChangesUnsubscribe=this.valueChanges())}ngOnDestroy(){this.valueChangesUnsubscribe()}checkExpressionChange(){var e,t;null===(e=(t=this.field.options).checkExpressions)||void 0===e||e.call(t,this.field)}valueChanges(){this.valueChangesUnsubscribe();const e=this.field.options.fieldChanges.pipe((0,A.h)(({field:t,type:o})=>I(t)&&"valueChanges"===o),(0,T.w)(()=>this.ngZone.onStable.asObservable().pipe((0,S.q)(1)))).subscribe(()=>this.ngZone.runGuarded(()=>{this.checkExpressionChange(),this.modelChange.emit(this._modelChangeValue=m(this.model))}));return()=>e.unsubscribe()}setField(e){this.config.extras.immutable?this.field=(0,u.Z)((0,u.Z)({},this.field),m(e)):Object.keys(e).forEach(t=>this.field[t]=e[t])}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(fe),l.Y36(oe),l.Y36(l.R0b),l.Y36(Ce))},s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-form"]],contentQueries:function(e,t,o){if(1&e&&l.Suo(o,Fe,4),2&e){let r;l.iGM(r=l.CRH())&&(t.templates=r)}},inputs:{form:"form",model:"model",fields:"fields",options:"options"},outputs:{modelChange:"modelChange"},features:[l._Bn([fe,Ce]),l.TTD],decls:1,vars:1,consts:[[3,"field"]],template:function(e,t){1&e&&l._UZ(0,"formly-field",0),2&e&&l.Q6J("field",t.field)},dependencies:[be],encapsulation:2,changeDetection:0}),s})(),Te=(()=>{class s{constructor(e,t,o){this.renderer=e,this.elementRef=t,this.uiAttributesCache={},this.uiEvents={listeners:[],events:["click","keyup","keydown","keypress","focus","blur","change"],callback:(r,a)=>{switch(r){case"focus":return this.onFocus(a);case"blur":return this.onBlur(a);case"change":return this.onChange(a);default:return this.props[r](this.field,a)}}},this.document=o}get props(){return this.field.props||{}}get fieldAttrElements(){var e;return(null===(e=this.field)||void 0===e?void 0:e._elementRefs)||[]}ngOnChanges(e){var t;e.field&&(this.field.name&&this.setAttribute("name",this.field.name),this.uiEvents.listeners.forEach(o=>o()),this.uiEvents.events.forEach(o=>{var r;(null!==(r=this.props)&&void 0!==r&&r[o]||-1!==["focus","blur","change"].indexOf(o))&&this.uiEvents.listeners.push(this.renderer.listen(this.elementRef.nativeElement,o,a=>this.uiEvents.callback(o,a)))}),null!==(t=this.props)&&void 0!==t&&t.attributes&&B(this.field,["props","attributes"],({currentValue:o,previousValue:r})=>{r&&Object.keys(r).forEach(a=>this.removeAttribute(a)),o&&Object.keys(o).forEach(a=>{null!=o[a]&&this.setAttribute(a,o[a])})}),this.detachElementRef(e.field.previousValue),this.attachElementRef(e.field.currentValue),1===this.fieldAttrElements.length&&(!this.id&&this.field.id&&this.setAttribute("id",this.field.id),this.focusObserver=B(this.field,["focus"],({currentValue:o})=>{this.toggleFocus(o)}))),e.id&&this.setAttribute("id",this.id)}ngDoCheck(){if(!this.uiAttributes){const e=this.elementRef.nativeElement;this.uiAttributes=[...re,"tabindex","placeholder","readonly","disabled","step"].filter(t=>!e.hasAttribute||!e.hasAttribute(t))}this.uiAttributes.forEach(e=>{const t=this.props[e];this.uiAttributesCache[e]!==t&&(!this.props.attributes||!this.props.attributes.hasOwnProperty(e.toLowerCase()))&&(this.uiAttributesCache[e]=t,t||0===t?this.setAttribute(e,!0===t?e:`${t}`):this.removeAttribute(e))})}ngOnDestroy(){var e;this.uiEvents.listeners.forEach(t=>t()),this.detachElementRef(this.field),null===(e=this.focusObserver)||void 0===e||e.unsubscribe()}toggleFocus(e){const t=this.fieldAttrElements?this.fieldAttrElements[0]:null;if(!t||!t.nativeElement.focus)return;const o=!!this.document.activeElement&&this.fieldAttrElements.some(({nativeElement:r})=>this.document.activeElement===r||r.contains(this.document.activeElement));e&&!o?Promise.resolve().then(()=>t.nativeElement.focus()):!e&&o&&Promise.resolve().then(()=>t.nativeElement.blur())}onFocus(e){var t,o,r;null===(t=this.focusObserver)||void 0===t||t.setValue(!0),null===(o=(r=this.props).focus)||void 0===o||o.call(r,this.field,e)}onBlur(e){var t,o,r;null===(t=this.focusObserver)||void 0===t||t.setValue(!1),null===(o=(r=this.props).blur)||void 0===o||o.call(r,this.field,e)}onHostChange(e){e instanceof Event||this.onChange(e)}onChange(e){var t,o,r;null===(t=(o=this.props).change)||void 0===t||t.call(o,this.field,e),null===(r=this.field.formControl)||void 0===r||r.markAsDirty()}attachElementRef(e){var t;e&&(-1===(null===(t=e._elementRefs)||void 0===t?void 0:t.indexOf(this.elementRef))?e._elementRefs.push(this.elementRef):D(e,"_elementRefs",[this.elementRef]))}detachElementRef(e){const t=null!=e&&e._elementRefs?this.fieldAttrElements.indexOf(this.elementRef):-1;-1!==t&&e._elementRefs.splice(t,1)}setAttribute(e,t){this.renderer.setAttribute(this.elementRef.nativeElement,e,t)}removeAttribute(e){this.renderer.removeAttribute(this.elementRef.nativeElement,e)}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(J.K0))},s.\u0275dir=l.lG2({type:s,selectors:[["","formlyAttributes",""]],hostBindings:function(e,t){1&e&&l.NdJ("change",function(r){return t.onHostChange(r)})},inputs:{field:["formlyAttributes","field"],id:"id"},features:[l.TTD]}),s})(),ue=(()=>{class s{constructor(){this.field={}}set controls(e){this.field._localFields=e.map(o=>o.control._fields||[]).flat().filter(o=>o.formControl!==this.field.formControl)}get model(){return this.field.model}get form(){return this.field.form}get options(){return this.field.options}get key(){return this.field.key}get formControl(){return this.field.formControl}get props(){return this.field.props||{}}get to(){return this.props}get showError(){return this.options.showError(this)}get id(){return this.field.id}get formState(){var e;return(null===(e=this.options)||void 0===e?void 0:e.formState)||{}}}return s.\u0275fac=function(e){return new(e||s)},s.\u0275dir=l.lG2({type:s,viewQuery:function(e,t){if(1&e&&l.Gf(v.a5,5),2&e){let o;l.iGM(o=l.CRH())&&(t.controls=o)}},inputs:{field:"field"}}),s})(),Re=(()=>{class s extends ue{}return s.\u0275fac=function(){let n;return function(t){return(n||(n=l.n5z(s)))(t||s)}}(),s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-group"]],hostVars:2,hostBindings:function(e,t){2&e&&l.Tol(t.field.fieldGroupClassName||"")},features:[l.qOj],ngContentSelectors:Z,decls:2,vars:1,consts:[[3,"field",4,"ngFor","ngForOf"],[3,"field"]],template:function(e,t){1&e&&(l.F$t(),l.YNc(0,w,1,1,"formly-field",0),l.Hsn(1)),2&e&&l.Q6J("ngForOf",t.field.fieldGroup)},dependencies:[be,J.sg],encapsulation:2,changeDetection:0}),s})(),Ae=(()=>{class s{constructor(e){this.config=e}ngOnChanges(){const e=re.map(t=>`templateOptions.${t}`);this.errorMessage$=(0,y.T)(this.field.formControl.statusChanges,this.field.options?this.field.options.fieldChanges.pipe((0,A.h)(({field:t,type:o,property:r})=>t===this.field&&"expressionChanges"===o&&(-1!==r.indexOf("validation")||-1!==e.indexOf(r)))):(0,E.of)(null)).pipe((0,R.O)(null),(0,T.w)(()=>(0,i.b)(this.errorMessage)?this.errorMessage:(0,E.of)(this.errorMessage)))}get errorMessage(){const e=this.field.formControl;for(const a in e.errors)if(e.errors.hasOwnProperty(a)){var t,o,r;let c=this.config.getValidatorMessage(a);if(b(e.errors[a])){if(e.errors[a].errorPath)return;e.errors[a].message&&(c=e.errors[a].message)}return null!==(t=this.field.validation)&&void 0!==t&&null!==(t=t.messages)&&void 0!==t&&t[a]&&(c=this.field.validation.messages[a]),null!==(o=this.field.validators)&&void 0!==o&&null!==(o=o[a])&&void 0!==o&&o.message&&(c=this.field.validators[a].message),null!==(r=this.field.asyncValidators)&&void 0!==r&&null!==(r=r[a])&&void 0!==r&&r.message&&(c=this.field.asyncValidators[a].message),"function"==typeof c?c(e.errors[a],this.field):c}}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(oe))},s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-validation-message"]],inputs:{field:"field"},features:[l.TTD],decls:2,vars:3,template:function(e,t){1&e&&(l._uU(0),l.ALo(1,"async")),2&e&&l.Oqu(l.lcZ(1,1,t.errorMessage$))},dependencies:[J.Ov],encapsulation:2,changeDetection:0}),s})(),ke=(()=>{class s extends ue{onPopulate(e){I(e)&&ye(e,Oe(e)||new v.Oe([],{updateOn:e.modelOptions.updateOn})),e.fieldGroup=e.fieldGroup||[];const t=Array.isArray(e.model)?e.model.length:0;if(e.fieldGroup.length>t)for(let o=e.fieldGroup.length-1;o>=t;--o)ve(e.fieldGroup[o],!0),e.fieldGroup.splice(o,1);for(let o=e.fieldGroup.length;o<t;o++){const r=(0,u.Z)((0,u.Z)({},m("function"==typeof e.fieldArray?e.fieldArray(e):e.fieldArray)),{},{key:`${o}`});e.fieldGroup.push(r)}}add(e,t,{markAsDirty:o}={markAsDirty:!0}){e=null==e?this.field.fieldGroup.length:e,this.model||ne(this.field,[]),this.model.splice(e,0,t?m(t):void 0),this._build(),o&&this.formControl.markAsDirty()}remove(e,{markAsDirty:t}={markAsDirty:!0}){this.model.splice(e,1);const o=this.field.fieldGroup[e];this.field.fieldGroup.splice(e,1),this.field.fieldGroup.forEach((r,a)=>r.key=`${a}`),ve(o,!0),this._build(),t&&this.formControl.markAsDirty()}_build(){var e;(null!==(e=this.field.formControl._fields)&&void 0!==e?e:[this.field]).forEach(o=>this.options.build(o)),this.options.fieldChanges.next({field:this.field,value:Q(this.field),type:"valueChanges"})}}return s.\u0275fac=function(){let n;return function(t){return(n||(n=l.n5z(s)))(t||s)}}(),s.\u0275dir=l.lG2({type:s,features:[l.qOj]}),s})(),we=(()=>{class s extends ue{set _staticContent(e){this.fieldComponent=e}}return s.\u0275fac=function(){let n;return function(t){return(n||(n=l.n5z(s)))(t||s)}}(),s.\u0275dir=l.lG2({type:s,viewQuery:function(e,t){if(1&e&&(l.Gf(X,5,l.s_b),l.Gf(X,7,l.s_b)),2&e){let o;l.iGM(o=l.CRH())&&(t.fieldComponent=o.first),l.iGM(o=l.CRH())&&(t._staticContent=o.first)}},features:[l.qOj]}),s})(),Ie=(()=>{class s extends ue{constructor(e){super(),this.sanitizer=e,this.innerHtml={}}get template(){return this.field&&this.field.template!==this.innerHtml.template&&(this.innerHtml={template:this.field.template,content:this.props.safeHtml?this.sanitizer.bypassSecurityTrustHtml(this.field.template):this.field.template}),this.innerHtml.content}}return s.\u0275fac=function(e){return new(e||s)(l.Y36(ie.H7))},s.\u0275cmp=l.Xpm({type:s,selectors:[["formly-template"]],features:[l.qOj],decls:1,vars:1,consts:[[3,"innerHtml"]],template:function(e,t){1&e&&l._UZ(0,"div",0),2&e&&l.Q6J("innerHtml",t.template,l.oJD)},encapsulation:2,changeDetection:0}),s})();class je{onPopulate(n){if(n._expressions)return;D(n,"_expressions",{}),B(n,["hide"],({currentValue:t,firstChange:o})=>{D(n,"_hide",!!t),(!o||o&&!0===t)&&(n.props.hidden=t,n.options._hiddenFieldsForCheck.push(n))}),n.hideExpression&&B(n,["hideExpression"],({currentValue:t})=>{n._expressions.hide=this.parseExpressions(n,"hide","boolean"==typeof t?()=>t:t)});const e=(t,o)=>{"string"==typeof o||ce(o)?n._expressions[t]=this.parseExpressions(n,t,o):o instanceof d.y&&(n._expressions[t]={value$:o.pipe((0,k.b)(r=>{this.evalExpr(n,t,r),n.options.detectChanges(n)}))})};n.expressions=n.expressions||{};for(const t of Object.keys(n.expressions))B(n,["expressions",t],({currentValue:o})=>{e(t,ce(o)?(...r)=>o(n,r[3]):o)});n.expressionProperties=n.expressionProperties||{};for(const t of Object.keys(n.expressionProperties))B(n,["expressionProperties",t],({currentValue:o})=>e(t,o))}postPopulate(n){if(!n.parent&&!n.options.checkExpressions){let e=!1;n.options.checkExpressions=(t,o)=>{if(e)return;e=!0;const r=this.checkExpressions(t,o),a=n.options;a._hiddenFieldsForCheck.sort(c=>c.hide?-1:1).forEach(c=>this.changeHideState(c,c.hide,!o)),a._hiddenFieldsForCheck=[],r&&(this.checkExpressions(n),n.options&&n.options.detectChanges&&n.options.detectChanges(n)),e=!1},n.options._checkField=(t,o)=>{console.warn("Formly: 'options._checkField' is deprecated since v6.0, use 'options.checkExpressions' instead."),n.options.checkExpressions(t,o)}}}parseExpressions(n,e,t){let o,r;if(n.parent&&["hide","props.disabled"].includes(e)){const a=c=>"hide"===e?c.hide:c.props.disabled;o=()=>{let c=n.parent;for(;c.parent&&!a(c);)c=c.parent;return a(c)}}return"string"==typeof(t=t||(()=>!1))&&(t=function Le(s,n){try{return Function(...n,`return ${s};`)}catch(e){console.error(e)}}(t,["model","formState","field"])),{callback:a=>{try{const c=function Se(s,n,e){return"function"==typeof s?s.apply(n,e):!!s}(o?(...x)=>o(n)||t(...x):t,{field:n},[n.model,n.options.formState,n,a]);return!(!a&&(r===c||b(c)&&!(0,i.b)(c)&&JSON.stringify(c)===JSON.stringify(r))||(r=c,this.evalExpr(n,e,c),0))}catch(c){throw c.message=`[Formly Error] [Expression "${e}"] ${c.message}`,c}}}}checkExpressions(n,e=!1){var t;if(!n)return!1;let o=!1;if(n._expressions)for(const c of Object.keys(n._expressions)){var r,a;null!==(r=(a=n._expressions[c]).callback)&&void 0!==r&&r.call(a,e)&&(o=!0)}return null===(t=n.fieldGroup)||void 0===t||t.forEach(c=>this.checkExpressions(c,e)&&(o=!0)),o}changeDisabledState(n,e){n.fieldGroup&&n.fieldGroup.filter(t=>!t._expressions.hasOwnProperty("props.disabled")).forEach(t=>this.changeDisabledState(t,e)),I(n)&&n.props.disabled!==e&&(n.props.disabled=e)}changeHideState(n,e,t){if(n.fieldGroup&&n.fieldGroup.filter(c=>!c._expressions.hide).forEach(c=>this.changeHideState(c,e,t)),n.formControl&&I(n)){var o;D(n,"_hide",!(!e&&!n.hide));const c=n.formControl;if((null===(o=c._fields)||void 0===o?void 0:o.length)>1&&de(c),!0!==e||c._fields&&!c._fields.every(x=>!!x._hide)){if(!1===e){var r,a;n.resetOnHide&&!ae(n.defaultValue)&&ae(Q(n))&&ne(n,n.defaultValue),ye(n,void 0,!0),n.resetOnHide&&n.fieldArray&&(null===(r=n.fieldGroup)||void 0===r?void 0:r.length)!==(null===(a=n.model)||void 0===a?void 0:a.length)&&n.options.build(n)}}else ve(n,!0),t&&n.resetOnHide&&(ne(n,void 0),n.formControl.reset({value:void 0,disabled:n.formControl.disabled}),n.options.fieldChanges.next({value:void 0,field:n,type:"valueChanges"}),n.fieldGroup&&n.formControl instanceof v.Oe&&(n.fieldGroup.length=0))}n.options.fieldChanges&&n.options.fieldChanges.next({field:n,type:"hidden",value:e})}evalExpr(n,e,t){if(0===e.indexOf("model.")){const o=e.replace(/^model\./,""),r=n.fieldGroup?n:n.parent;let a=(null==n?void 0:n.key)===o?n.formControl:n.form.get(o);!a&&n.get(o)&&(a=n.get(o).formControl),ne({key:o,parent:r,model:n.model},t),a&&(!z(a.value)||!z(t))&&a.value!==t&&a.patchValue(t)}else{try{let o=n;const r=this._evalExpressionPath(n,e),a=r.length-1;for(let c=0;c<a;c++)o=o[r[c]];o[r[a]]=t}catch(o){throw o.message=`[Formly Error] [Expression "${e}"] ${o.message}`,o}["templateOptions.disabled","props.disabled"].includes(e)&&I(n)&&this.changeDisabledState(n,t)}this.emitExpressionChanges(n,e,t)}emitExpressionChanges(n,e,t){n.options.fieldChanges&&n.options.fieldChanges.next({field:n,type:"expressionChanges",property:e,value:t})}_evalExpressionPath(n,e){if(n._expressions[e]&&n._expressions[e].paths)return n._expressions[e].paths;let t=[];return-1===e.indexOf("[")?t=e.split("."):e.split(/[[\]]{1,2}/).filter(o=>o).forEach(o=>{const r=o.match(/['|"](.*?)['|"]/);r?t.push(r[1]):t.push(...o.split(".").filter(a=>a))}),n._expressions[e]&&(n._expressions[e].paths=t),t}}class Be{constructor(n){this.config=n}onPopulate(n){this.initFieldValidation(n,"validators"),this.initFieldValidation(n,"asyncValidators")}initFieldValidation(n,e){const t=[];if("validators"===e&&!(n.hasOwnProperty("fieldGroup")&&!I(n))&&t.push(this.getPredefinedFieldValidation(n)),n[e])for(const o of Object.keys(n[e]))"validation"===o?t.push(...n[e].validation.map(r=>this.wrapNgValidatorFn(n,r))):t.push(this.wrapNgValidatorFn(n,n[e][o],o));D(n,"_"+e,t)}getPredefinedFieldValidation(n){let e=[];return re.forEach(t=>B(n,["props",t],({currentValue:o,firstChange:r})=>{e=e.filter(a=>a!==t),null!=o&&!1!==o&&e.push(t),!r&&n.formControl&&de(n.formControl)})),t=>0===e.length?null:v.kI.compose(e.map(o=>()=>{var r,a;const c=n.props[o];switch(o){case"required":return v.kI.required(t);case"pattern":return v.kI.pattern(c)(t);case"minLength":const x=v.kI.minLength(c)(t),N=this.config.getValidatorMessage("minlength")||null!==(r=n.validation)&&void 0!==r&&null!==(r=r.messages)&&void 0!==r&&r.minlength?"minlength":"minLength";return x?{[N]:x.minlength}:null;case"maxLength":const j=v.kI.maxLength(c)(t),V=this.config.getValidatorMessage("maxlength")||null!==(a=n.validation)&&void 0!==a&&null!==(a=a.messages)&&void 0!==a&&a.maxlength?"maxlength":"maxLength";return j?{[V]:j.maxlength}:null;case"min":return v.kI.min(c)(t);case"max":return v.kI.max(c)(t);default:return null}}))(t)}wrapNgValidatorFn(n,e,t){let o;if("string"==typeof e&&(o=m(this.config.getValidator(e))),"object"==typeof e&&e.name&&(o=m(this.config.getValidator(e.name)),e.options&&(o.options=e.options)),"object"==typeof e&&e.expression){const{expression:r}=e,a=(0,g.Z)(e,te);o={name:t,validation:r,options:Object.keys(a).length>0?a:null}}return"function"==typeof e&&(o={name:t,validation:e}),r=>{const a=o.validation(r,n,o.options);return function p(s){return!!s&&"function"==typeof s.then}(a)?a.then(c=>this.handleAsyncResult(n,t?!!c:c,o)):(0,i.b)(a)?a.pipe((0,H.U)(c=>this.handleAsyncResult(n,t?!!c:c,o))):this.handleResult(n,t?!!a:a,o)}}handleAsyncResult(n,e,t){return n.options.detectChanges(n),this.handleResult(n,e,t)}handleResult(n,e,{name:t,options:o}){var r,a;"boolean"==typeof e&&(e=e?null:{[t]:o||!0});const c=n.formControl;return null==c||null===(r=c._childrenErrors)||void 0===r||null===(a=r[t])||void 0===a||a.call(r),b(e)&&Object.keys(e).forEach(x=>{const N=e[x].errorPath?e[x].errorPath:null==o?void 0:o.errorPath,j=N?n.formControl.get(N):null;if(j){const se=(0,g.Z)(e[x],O);j.setErrors((0,u.Z)((0,u.Z)({},j.errors||{}),{},{[x]:se})),!c._childrenErrors&&D(c,"_childrenErrors",{}),c._childrenErrors[x]=()=>{const he=j.errors||{},{[x]:me}=he,Me=(0,g.Z)(he,[x].map(_.Z));j.setErrors(0===Object.keys(Me).length?null:Me)}}}),e}}class Ue{prePopulate(n){this.root||(this.root=n),n.parent&&Object.defineProperty(n,"form",{get:()=>n.parent.formControl,configurable:!0})}onPopulate(n){n.hasOwnProperty("fieldGroup")&&!I(n)?D(n,"formControl",n.form):this.addFormControl(n)}postPopulate(n){if(this.root===n&&(this.root=null,this.setValidators(n)&&n.parent)){let t=n.parent;for(;t;)(I(t)||!t.parent)&&de(t.formControl,!0),t=t.parent}}addFormControl(n){let e=Oe(n);if(!n.fieldArray){if(!e){const t={updateOn:n.modelOptions.updateOn};if(n.fieldGroup)e=new v.cw({},t);else{const o=I(n)?Q(n):n.defaultValue;e=new v.NI({value:o,disabled:!!n.props.disabled},(0,u.Z)((0,u.Z)({},t),{},{initialValueIsDefault:!0}))}}ye(n,e)}}setValidators(n,e=!1){var t,o;!1===e&&I(n)&&null!==(t=n.props)&&void 0!==t&&t.disabled&&(e=!0);let r=!1;if(null===(o=n.fieldGroup)||void 0===o||o.forEach(a=>a&&this.setValidators(a,e)&&(r=!0)),I(n)||!n.parent||!I(n)&&!n.fieldGroup){const{formControl:a}=n;if(a&&(I(n)&&a instanceof v.NI&&(e&&a.enabled&&(a.disable({emitEvent:!1,onlySelf:!0}),r=!0),!e&&a.disabled&&(a.enable({emitEvent:!1,onlySelf:!0}),r=!0)),(null===a.validator||null===a.asyncValidator)&&(a.setValidators(()=>{const c=v.kI.compose(this.mergeValidators(n,"_validators"));return c?c(a):null}),a.setAsyncValidators(()=>{const c=v.kI.composeAsync(this.mergeValidators(n,"_asyncValidators"));return c?c(a):(0,E.of)(null)}),r=!0),r)){de(a,!0);let c=a.parent;for(let x=1;x<K(n).length;x++)c&&(de(c,!0),c=c.parent)}}return r}mergeValidators(n,e){var t;const o=[],r=n.formControl;return(null==r||null===(t=r._fields)||void 0===t?void 0:t.length)>1?r._fields.filter(a=>!a._hide).forEach(a=>o.push(...a[e])):n[e]&&o.push(...n[e]),n.fieldGroup&&n.fieldGroup.filter(a=>(null==a?void 0:a.fieldGroup)&&!I(a)).forEach(a=>o.push(...this.mergeValidators(a,e))),o}}class Ge{constructor(n){this.config=n,this.formId=0}prePopulate(n){var e,t;const o=n.parent;this.initRootOptions(n),this.initFieldProps(n),o&&(Object.defineProperty(n,"options",{get:()=>o.options,configurable:!0}),Object.defineProperty(n,"model",{get:()=>I(n)&&n.fieldGroup?Q(n):o.model,configurable:!0})),Object.defineProperty(n,"get",{value:r=>pe(n,r),configurable:!0}),null===(e=(t=this.getFieldComponentInstance(n)).prePopulate)||void 0===e||e.call(t,n)}onPopulate(n){var e,t;this.initFieldOptions(n),null===(e=(t=this.getFieldComponentInstance(n)).onPopulate)||void 0===e||e.call(t,n),n.fieldGroup&&n.fieldGroup.forEach((o,r)=>{o&&(Object.defineProperty(o,"parent",{get:()=>n,configurable:!0}),Object.defineProperty(o,"index",{get:()=>r,configurable:!0})),this.formId++})}postPopulate(n){var e,t;null===(e=(t=this.getFieldComponentInstance(n)).postPopulate)||void 0===e||e.call(t,n)}initFieldProps(n){var e;null!==(e=n.props)&&void 0!==e||(n.props=n.templateOptions),Object.defineProperty(n,"templateOptions",{get:()=>n.props,set:t=>n.props=t,configurable:!0})}initRootOptions(n){if(n.parent)return;const e=n.options;n.options.formState=n.options.formState||{},e.showError||(e.showError=this.config.extras.showError),e.fieldChanges||D(e,"fieldChanges",new C.x),e._hiddenFieldsForCheck||(e._hiddenFieldsForCheck=[]),e._markForCheck=t=>{console.warn("Formly: 'options._markForCheck' is deprecated since v6.0, use 'options.detectChanges' instead."),e.detectChanges(t)},e.detectChanges=t=>{var o;t._componentRefs&&(t.options.checkExpressions(t),Ee(t)),null===(o=t.fieldGroup)||void 0===o||o.forEach(r=>r&&e.detectChanges(r))},e.resetModel=t=>{var o;t=m(null!==(o=t)&&void 0!==o?o:e._initialModel),n.model&&(Object.keys(n.model).forEach(r=>delete n.model[r]),Object.assign(n.model,t||{})),e.build(n),n.form.reset(n.model),e.parentForm&&e.parentForm.control===n.formControl&&(e.parentForm.submitted=!1)},e.updateInitialValue=t=>e._initialModel=m(null!=t?t:n.model),n.options.updateInitialValue()}initFieldOptions(n){var e,t;if(q(n,{id:$(`formly_${this.formId}`,n,n.index),hooks:{},modelOptions:{},validation:{messages:{}},props:n.type&&I(n)?{label:"",placeholder:"",disabled:!1}:{}}),this.config.extras.resetFieldOnHide&&!1!==n.resetOnHide&&(n.resetOnHide=!0),"formly-template"!==n.type&&(n.template||null!==(e=n.expressions)&&void 0!==e&&e.template||null!==(t=n.expressionProperties)&&void 0!==t&&t.template)&&(n.type="formly-template"),!n.type&&n.fieldGroup&&(n.type="formly-group"),n.type&&this.config.getMergedField(n),I(n)&&!ae(n.defaultValue)&&ae(Q(n))){const o=a=>{var c;return a.hide||(null===(c=a.expressions)||void 0===c?void 0:c.hide)||a.hideExpression};let r=!n.resetOnHide||!o(n);if(!o(n)&&n.resetOnHide){let a=n.parent;for(;a&&!o(a);)a=a.parent;r=!a||!o(a)}r&&ne(n,n.defaultValue)}n.wrappers=n.wrappers||[]}getFieldComponentInstance(n){const e=()=>{var t,o,r;let a=this.config.resolveFieldTypeRef(n);const c=null===(t=n._componentRefs)||void 0===t?void 0:t.slice(-1)[0];return c instanceof l.UuU&&(null==c?void 0:c.componentType)===(null===(o=a)||void 0===o?void 0:o.componentType)&&(a=c),null===(r=a)||void 0===r?void 0:r.instance};return n._proxyInstance||D(n,"_proxyInstance",new Proxy({},{get:(t,o)=>{var r;return null===(r=e())||void 0===r?void 0:r[o]},set:(t,o,r)=>e()[o]=r})),n._proxyInstance}}function De(s){return{types:[{name:"formly-group",component:Re},{name:"formly-template",component:Ie}],extensions:[{name:"core",extension:new Ge(s),priority:-250},{name:"field-validation",extension:new Be(s),priority:-200},{name:"field-form",extension:new Ue,priority:-150},{name:"field-expression",extension:new je,priority:-100}]}}let Ne=(()=>{class s{constructor(e,t=[]){t&&t.forEach(o=>e.addConfig(o))}static forRoot(e={}){return{ngModule:s,providers:[{provide:le,multi:!0,useFactory:De,deps:[oe]},{provide:le,useValue:e,multi:!0},oe,fe]}}static forChild(e={}){return{ngModule:s,providers:[{provide:le,multi:!0,useFactory:De,deps:[oe]},{provide:le,useValue:e,multi:!0},fe]}}}return s.\u0275fac=function(e){return new(e||s)(l.LFG(oe),l.LFG(le,8))},s.\u0275mod=l.oAB({type:s}),s.\u0275inj=l.cJS({imports:[[J.ez]]}),s})()},91:(W,L,f)=>{function g(u,l){if(null==u)return{};var i,y,v=function _(u,l){if(null==u)return{};var y,E,v={},i=Object.keys(u);for(E=0;E<i.length;E++)!(l.indexOf(y=i[E])>=0)&&(v[y]=u[y]);return v}(u,l);if(Object.getOwnPropertySymbols){var E=Object.getOwnPropertySymbols(u);for(y=0;y<E.length;y++)!(l.indexOf(i=E[y])>=0)&&Object.prototype.propertyIsEnumerable.call(u,i)&&(v[i]=u[i])}return v}f.d(L,{Z:()=>g})}}]);