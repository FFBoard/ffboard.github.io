(self.webpackChunkpages=self.webpackChunkpages||[]).push([[344],{7429:(Ne,J,_)=>{"use strict";_.d(J,{d:()=>f});var y=_(5879),q=_(6223),S=_(1993),w=_(5661),e=_(336);let E=(()=>{var l;class s{constructor(){this.allowedProps={$ref:{validator:this.isString},anyOf:{validator:this.validateAnyOf},default:{validator:this.isNestedOfPrimitives},definitions:null,description:null,enum:{validator:this.validateEnum},items:{child:"allProps"},maximum:null,maxItems:null,maxLength:null,minimum:null,minItems:null,minLength:null,multipleOf:null,oneOf:{validator:this.validateOneOf},properties:null,required:{validator:this.validateRequired},title:null,type:{validator:this.isNestedOfPrimitives},uniqueItems:null,widget:{child:{formlyConfig:{child:{props:{child:{placeholder:{validator:this.isString},multiple:{validator:this.isBoolean},pattern:{validator:this.isString},type:{validator:function(t){return"hidden"===t}},minLength:{validator:this.isNumber},maxLength:{validator:this.isNumber},rows:{validator:this.isNumber},keepGroupsWithoutId:{validator:this.isBoolean},fieldsetTemplate:{validator:this.isBoolean},startDate:{child:{year:null,month:null,day:null}},endDate:{child:{year:null,month:null,day:null}},minDate:{child:{year:null,month:null,day:null}},maxDate:{child:{year:null,month:null,day:null}},selectDomain:{validator:this.isBoolean},resetButton:{validator:this.isBoolean},height:{validator:this.isString}}},type:{validator:function(t){return"radio"===t}}}}}}},this.fieldListKeys=["properties","definitions"]}validateSchema(t){this.isObject(t)&&((!t.hasOwnProperty("type")||!t.hasOwnProperty("properties")||"object"!==t.type)&&(t.type="object",t.properties={}),this.validate(t))}validate(t,u){u||(u=this.allowedProps);for(const[c,b]of Object.entries(t)){var n,d;if(u.hasOwnProperty(c)){if(null!==(n=u[c])&&void 0!==n&&n.hasOwnProperty("validator"))u[c].validator.call(this,b)||delete t[c];else if(this.fieldListKeys.includes(c))for(const O of Object.keys(t[c]))this.validate(t[c][O]);else if(!this.isPrimitive(b)){if(null===(d=u[c])||void 0===d||!d.hasOwnProperty("child")||!this.isObject(b)){delete t[c];continue}this.validate(t[c],"allProps"===u[c].child?this.allowedProps:u[c].child)}}else delete t[c]}}isObject(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)}isPrimitive(t){return this.isString(t)||this.isNumber(t)||this.isBoolean(t)||null==t}isString(t){return"string"==typeof t}isBoolean(t){return"boolean"==typeof t}isNumber(t){return"number"==typeof t}validateRequired(t){if(!Array.isArray(t))return!1;for(const u of t)if(!this.isString(u))return!1;return!0}validateEnum(t){if(!Array.isArray(t))return!1;for(const u of t)if(!this.isString(u)&&!this.isNumber(u))return!1;return!0}validateOneOf(t){var u;if(Array.isArray(t)&&null!==(u=t[0])&&void 0!==u&&u.hasOwnProperty("const")){for(const n of t){if(!this.isObject(n))return!1;this.validate(n,{const:null,title:null})}return!0}return this.validateAnyOf(t)}validateAnyOf(t){if(!Array.isArray(t))return!1;for(const u of t){if(!this.isObject(u))return!1;this.validate(u)}return!0}isNestedOfPrimitives(t){if(this.isPrimitive(t))return!0;if(Array.isArray(t)||this.isObject(t)){for(const u of Object.values(t))if(!this.isNestedOfPrimitives(u))return!1;return!0}return!1}}return(l=s).\u0275fac=function(t){return new(t||l)},l.\u0275prov=y.Yz7({token:l,factory:l.\u0275fac,providedIn:"root"}),s})();var m=_(5545);const a=["app-custom-form",""],i=[[["","buttons",""]]],r=["[buttons]"];let f=(()=>{var l;class s{constructor(t,u,n,d){this.formlyJsonschema=t,this.customFormSchemaService=u,this.toastService=n,this.destroyRef=d,this.model={},this.validateSchema=!1,this.enableModelChangeEvent=!1,this.defaultModel={},this.showFieldValidationOnInit=!1,this.cancelEvent=new y.vpe,this.submitEvent=new y.vpe,this.validityChangeEvent=new y.vpe,this.modelChangeEvent=new y.vpe,this.form=new q.nJ({}),this.fields=[],this.options={},this.isFormCurrentlyValid=!0}ngAfterViewInit(){this.validityChangeEvent.emit(this.isFormCurrentlyValid=this.form.valid)}ngOnInit(){this.createFields(),this.form.statusChanges.pipe((0,S.sL)(this.destroyRef)).subscribe(t=>{this.form.valid!==this.isFormCurrentlyValid&&this.validityChangeEvent.emit(this.isFormCurrentlyValid=this.form.valid)})}ngOnChanges(t){t.schema&&!t.schema.firstChange&&this.createFields()}createFields(){this.customFormSchemaService.isObject(this.schema)||(this.schema={}),this.validateSchema&&this.customFormSchemaService.validateSchema(this.schema),this.fields=[this.formlyJsonschema.toFieldConfig(this.schema)],this.showFieldValidationOnInit&&this.showFieldValidation()}showFieldValidation(){this.cycleFields(this.fields)}showFieldValidationWithMessage(){this.showFieldValidation(),this.toastService.show({content:"Tutti i campi sono stati <strong>validati</strong>: quelli con errore sono evidenziati da un <strong>bordo rosso</strong>!"})}cycleFields(t){t.forEach(u=>{this.forceValidation(u),u.fieldGroup&&this.cycleFields(u.fieldGroup)})}forceValidation(t){t.validation||(t.validation={}),t.validation.show=!0}reset(){this.options.resetModel&&this.options.resetModel(this.defaultModel)}cancel(){this.cancelEvent.emit()}submit(){this.form.valid&&(this.log(),this.submitEvent.emit(this.model))}onModelChange(t){this.enableModelChangeEvent&&this.modelChangeEvent.emit(t||{})}log(){}}return(l=s).\u0275fac=function(t){return new(t||l)(y.Y36(e.c),y.Y36(E),y.Y36(w.k),y.Y36(y.ktI))},l.\u0275cmp=y.Xpm({type:l,selectors:[["","app-custom-form",""]],inputs:{schema:"schema",model:"model",validateSchema:"validateSchema",enableModelChangeEvent:"enableModelChangeEvent",defaultModel:"defaultModel",showFieldValidationOnInit:"showFieldValidationOnInit"},outputs:{cancelEvent:"cancelEvent",submitEvent:"submitEvent",validityChangeEvent:"validityChangeEvent",modelChangeEvent:"modelChangeEvent"},features:[y.TTD],attrs:a,ngContentSelectors:r,decls:3,vars:5,consts:[[3,"formGroup","ngSubmit"],[3,"model","fields","form","options","modelChange"]],template:function(t,u){1&t&&(y.F$t(i),y.TgZ(0,"form",0),y.NdJ("ngSubmit",function(){return u.submit()}),y.TgZ(1,"formly-form",1),y.NdJ("modelChange",function(d){return u.onModelChange(d)}),y.qZA(),y.Hsn(2),y.qZA()),2&t&&(y.Q6J("formGroup",u.form),y.xp6(1),y.Q6J("model",u.model)("fields",u.fields)("form",u.form)("options",u.options))},dependencies:[m.T7,q._Y,q.JL,q.sg]}),s})()},5748:(Ne,J,_)=>{"use strict";_.d(J,{I:()=>Pn});var y=_(6814),q=_(7905),S=_(3888),w=_(5545),e=_(5879),E=_(8595);function m(g,Z){1&g&&e.GkF(0)}function a(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"div",13),e.TgZ(2,"div",14),e._uU(3," ("),e.YNc(4,m,1,0,"ng-container",15),e._uU(5,") "),e.qZA(),e.BQk()),2&g){const k=e.oxw(),x=e.MAs(15);e.xp6(1),e.Q6J("innerHTML",k.parsedTitle,e.oJD),e.xp6(3),e.Q6J("ngTemplateOutlet",x)}}function i(g,Z){1&g&&e.GkF(0)}function r(g,Z){if(1&g&&(e.TgZ(0,"div",16),e._uU(1," Lista di "),e.YNc(2,i,1,0,"ng-container",15),e.qZA()),2&g){e.oxw();const k=e.MAs(15);e.xp6(2),e.Q6J("ngTemplateOutlet",k)}}function f(g,Z){if(1&g&&e._UZ(0,"div",17),2&g){const k=e.oxw();e.Q6J("innerHTML",k.parsedDescription,e.oJD)}}const l=function(g){return{"mt-3":g}};function s(g,Z){if(1&g&&(e.TgZ(0,"div",18),e._UZ(1,"formly-validation-message",19),e.qZA()),2&g){const k=e.oxw();e.Q6J("ngClass",e.VKq(2,l,k.parsedDescription.length)),e.xp6(1),e.Q6J("field",k.field)}}function o(g,Z){if(1&g){const k=e.EpF();e.TgZ(0,"li")(1,"div",30),e.NdJ("click",function(){e.CHM(k);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.move(M,M-1))}),e._uU(2," arrow_circle_up "),e.qZA()()}2&g&&(e.xp6(1),e.Q6J("disableOnTouchDevice",!0))}const t=function(g){return{"ms-1":g}};function u(g,Z){if(1&g){const k=e.EpF();e.TgZ(0,"li",31)(1,"div",32),e.NdJ("click",function(){e.CHM(k);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.move(M,M+1))}),e._uU(2," arrow_circle_down "),e.qZA()()}if(2&g){const k=e.oxw().first;e.Q6J("ngClass",e.VKq(2,t,!k)),e.xp6(1),e.Q6J("disableOnTouchDevice",!0)}}function n(g,Z){if(1&g){const k=e.EpF();e.TgZ(0,"li",31)(1,"div",33),e.NdJ("click",function(){e.CHM(k);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.remove(M))}),e._uU(2," highlight_off "),e.qZA()()}if(2&g){const k=e.oxw();e.Q6J("ngClass",e.VKq(2,t,!(k.first&&k.last))),e.xp6(1),e.Q6J("disableOnTouchDevice",!0)}}const d=function(g){return{"mb-3":g}},c=function(g){return{"has-error":g}};function b(g,Z){if(1&g&&(e.TgZ(0,"li",22)(1,"fieldset",23)(2,"legend",24)(3,"div",25)(4,"div",26),e._uU(5),e.qZA(),e.TgZ(6,"ul",27),e.YNc(7,o,3,1,"li",28),e.YNc(8,u,3,4,"li",29),e.YNc(9,n,3,4,"li",29),e.qZA()()(),e._UZ(10,"formly-field",19),e.qZA()()),2&g){const k=Z.$implicit,x=Z.index,M=Z.first,B=Z.last;e.Q6J("ngClass",e.VKq(7,d,!B)),e.xp6(1),e.Q6J("ngClass",e.VKq(9,c,null==k.formControl?null:k.formControl.invalid)),e.xp6(4),e.hij("#",x+1,""),e.xp6(2),e.Q6J("ngIf",!M),e.xp6(1),e.Q6J("ngIf",!B),e.xp6(1),e.Q6J("ngIf",k.props&&!1!==k.props.removable),e.xp6(1),e.Q6J("field",k)}}function O(g,Z){if(1&g&&(e.TgZ(0,"ul",20),e.YNc(1,b,11,11,"li",21),e.qZA()),2&g){const k=e.oxw();e.xp6(1),e.Q6J("ngForOf",k.field.fieldGroup)}}const N=function(g){return{"d-none d-md-inline":g}};function v(g,Z){if(1&g&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e.TgZ(2,"span",31),e._uU(3),e.qZA()),2&g){const k=e.oxw();e.xp6(1),e.Oqu(k.field.fieldGroup?k.field.fieldGroup.length:0),e.xp6(1),e.Q6J("ngClass",e.VKq(3,N,k.props.label)),e.xp6(1),e.hij(" element",k.field.fieldGroup&&1===k.field.fieldGroup.length?"o":"i","")}}const p=function(){return[10,10]},h=function(g){return{placement:"top-end",offset:g}};let T=(()=>{var g;class Z extends w.hv{constructor(x){super(),this.customFormUtilsService=x,this.parsedTitle="",this.parsedDescription=""}ngOnInit(){this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):"",this.parsedTitle=this.props.label?this.customFormUtilsService.parseBBCode(this.props.label):""}get maxLengthExceeded(){return this.props.maxItems&&this.model&&this.model.length>=this.props.maxItems}move(x,M){const B=this.model[x];this.remove(x),this.add(M,B)}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(S.d6))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-array"]],features:[e.qOj],decls:16,vars:14,consts:[[1,"rounded","px-3","pb-3","pt-2","mb-3","formly-fieldset",3,"ngClass"],[1,"legend-reset","pb-1","px-2","mb-0","mw-100"],[1,"d-flex","align-items-center","mw-100"],[4,"ngIf","ngIfElse"],["nolabel",""],["class","mb-2 text-justify",3,"innerHTML",4,"ngIf"],["class","alert alert-danger formly-field-array-error text-center","role","alert",3,"ngClass",4,"ngIf"],["class","list-unstyled mb-3",4,"ngIf"],[1,"d-flex","flex-row-reverse"],["appTippy","Hai aggiunto il numero massimo di elementi!",3,"disableInstance","tippyProps"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"disabled","click"],[1,"material-icons"],["itemscount",""],[1,"fs-lg","text-truncate","mw-100",3,"innerHTML"],[1,"ms-2","fs-reset","lh-1","fst-italic","list-counter","text-nowrap"],[4,"ngTemplateOutlet"],[1,"fs-xl","text-truncate","mw-10"],[1,"mb-2","text-justify",3,"innerHTML"],["role","alert",1,"alert","alert-danger","formly-field-array-error","text-center",3,"ngClass"],[3,"field"],[1,"list-unstyled","mb-3"],["class","item",3,"ngClass",4,"ngFor","ngForOf"],[1,"item",3,"ngClass"],[1,"rounded","formly-fieldset","dashed","show-success","px-3",3,"ngClass"],[1,"legend-reset","ms-auto","mb-0","px-2"],[1,"d-flex","align-items-center"],[1,"fs-xl","ms-1"],[1,"ms-2","mb-0","item-icons","list-unstyled","d-flex","align-items-center"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["appTippy","Sposta in alto",1,"d-block","material-icons","cursor-pointer",3,"disableOnTouchDevice","click"],[3,"ngClass"],["appTippy","Sposta in basso",1,"d-block","material-icons","cursor-pointer",3,"disableOnTouchDevice","click"],["appTippy","Rimuovi",1,"d-block","material-icons","cursor-pointer","text-danger",3,"disableOnTouchDevice","click"]],template:function(x,M){if(1&x&&(e.TgZ(0,"fieldset",0)(1,"legend",1)(2,"div",2),e.YNc(3,a,6,2,"ng-container",3),e.YNc(4,r,3,1,"ng-template",null,4,e.W1O),e.qZA()(),e.YNc(6,f,1,1,"div",5),e.YNc(7,s,2,4,"div",6),e.YNc(8,O,2,1,"ul",7),e.TgZ(9,"div",8)(10,"div",9)(11,"button",10),e.NdJ("click",function(){return!M.maxLengthExceeded&&M.add()}),e.TgZ(12,"span",11),e._uU(13,"add"),e.qZA()()()(),e.YNc(14,v,4,5,"ng-template",null,12,e.W1O),e.qZA()),2&x){const B=e.MAs(5);e.Q6J("ngClass",e.VKq(9,c,M.formControl.invalid)),e.xp6(3),e.Q6J("ngIf",M.parsedTitle)("ngIfElse",B),e.xp6(3),e.Q6J("ngIf",M.parsedDescription),e.xp6(1),e.Q6J("ngIf",M.showError&&M.formControl.errors),e.xp6(1),e.Q6J("ngIf",M.field.fieldGroup&&M.field.fieldGroup.length),e.xp6(2),e.Q6J("disableInstance",!M.maxLengthExceeded)("tippyProps",e.VKq(12,h,e.DdM(11,p))),e.xp6(1),e.Q6J("disabled",M.maxLengthExceeded)}},dependencies:[y.mk,y.sg,y.O5,y.tP,w.cw,w.M2,E.$],styles:["legend[_ngcontent-%COMP%]   .item-icons[_ngcontent-%COMP%]{padding-top:.1rem}"]}),Z})();var C=_(1413),F=_(4020),D=_(6223),V=_(91),$=_(2181),j=_(8180),I=_(5619);const A=["language","theme"],L=["editor"];let P=(()=>{class g{constructor(k,x){this.ngZone=k,this.monacoPathConfig=x,this.isMonacoLoaded$=new I.X(!1),this._monacoPath="assets/monaco-editor/min/vs",window.monacoEditorAlreadyInitialized?k.run(()=>this.isMonacoLoaded$.next(!0)):(window.monacoEditorAlreadyInitialized=!0,this.monacoPathConfig&&(this.monacoPath=this.monacoPathConfig),this.loadMonaco())}set monacoPath(k){k&&(this._monacoPath=k)}loadMonaco(){const k=()=>{let G=this._monacoPath;window.amdRequire=window.require;const te=!!this.nodeRequire,oe=G.includes("http");te&&(window.require=this.nodeRequire,oe||(G=window.require("path").resolve(window.__dirname,this._monacoPath))),window.amdRequire.config({paths:{vs:G}}),window.amdRequire(["vs/editor/editor.main"],()=>{this.ngZone.run(()=>this.isMonacoLoaded$.next(!0))},le=>console.error("Error loading monaco-editor: ",le))};if(window.amdRequire)return k();window.require&&(this.addElectronFixScripts(),this.nodeRequire=window.require);const B=document.createElement("script");B.type="text/javascript",B.src=`${this._monacoPath}/loader.js`,B.addEventListener("load",k),document.body.appendChild(B)}addElectronFixScripts(){const k=document.createElement("script"),x=document.createTextNode("self.module = undefined;"),M=document.createTextNode("self.process.browser = true;");k.appendChild(x),k.appendChild(M),document.body.appendChild(k)}}return g.\u0275fac=function(k){return new(k||g)(e.LFG(e.R0b),e.LFG("MONACO_PATH",8))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),z=(()=>{class g{constructor(k){this.monacoLoader=k,this.init=new e.vpe,this.onTouched=()=>{},this.onErrorStatusChange=()=>{},this.propagateChange=()=>{}}get model(){return this.editor&&this.editor.getModel()}get modelMarkers(){return this.model&&monaco.editor.getModelMarkers({resource:this.model.uri})}ngOnInit(){this.monacoLoader.isMonacoLoaded$.pipe((0,$.h)(k=>k),(0,j.q)(1)).subscribe(()=>{this.initEditor()})}ngOnChanges(k){if(this.editor&&k.options&&!k.options.firstChange){const x=k.options.currentValue,{language:M,theme:B}=x,G=(0,V.Z)(x,A),{language:te,theme:oe}=k.options.previousValue;te!==M&&monaco.editor.setModelLanguage(this.editor.getModel(),this.options&&this.options.language?this.options.language:"text"),oe!==B&&monaco.editor.setTheme(B),this.editor.updateOptions(G)}if(this.editor&&k.uri){const x=k.uri.currentValue,M=k.uri.previousValue;if(M&&!x||!M&&x||x&&M&&x.path!==M.path){const B=this.editor.getValue();let G;this.modelUriInstance&&this.modelUriInstance.dispose(),x&&(G=monaco.editor.getModels().find(te=>te.uri.path===x.path)),this.modelUriInstance=G||monaco.editor.createModel(B,this.options.language||"text",this.uri),this.editor.setModel(this.modelUriInstance)}}}writeValue(k){this.value=k,this.editor&&k?this.editor.setValue(k):this.editor&&this.editor.setValue("")}registerOnChange(k){this.propagateChange=k}registerOnTouched(k){this.onTouched=k}validate(){return this.parsedError?{monaco:{value:this.parsedError.split("|")}}:null}registerOnValidatorChange(k){this.onErrorStatusChange=k}initEditor(){const k={value:[this.value].join("\n"),language:"text",automaticLayout:!0,scrollBeyondLastLine:!1,theme:"vc"};this.editor=monaco.editor.create(this.editorContent.nativeElement,this.options?(0,C.Z)((0,C.Z)({},k),this.options):k),this.registerEditorListeners(),this.init.emit(this.editor)}registerEditorListeners(){this.editor.onDidChangeModelContent(()=>{this.propagateChange(this.editor.getValue())}),this.editor.onDidChangeModelDecorations(()=>{const k=this.modelMarkers.map(({message:M})=>M).join("|");this.parsedError!==k&&(this.parsedError=k,this.onErrorStatusChange())}),this.editor.onDidBlurEditorText(()=>{this.onTouched()})}ngOnDestroy(){this.editor&&this.editor.dispose()}}return g.\u0275fac=function(k){return new(k||g)(e.Y36(P))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ngx-monaco-editor"]],viewQuery:function(k,x){if(1&k&&e.Gf(L,7),2&k){let M;e.iGM(M=e.CRH())&&(x.editorContent=M.first)}},inputs:{options:"options",uri:"uri"},outputs:{init:"init"},features:[e._Bn([{provide:D.JU,useExisting:(0,e.Gpc)(()=>g),multi:!0},{provide:D.Cf,useExisting:(0,e.Gpc)(()=>g),multi:!0}]),e.TTD],decls:4,vars:0,consts:[["fxFlex","",1,"editor-container"],["container",""],[1,"monaco-editor"],["editor",""]],template:function(k,x){1&k&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2,3),e.qZA())},styles:[".monaco-editor[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.editor-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:table;width:100%;height:100%;min-width:0}"],changeDetection:0}),g})(),X=(()=>{class g{}return g.\u0275fac=function(k){return new(k||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[]]}),g})();function re(g,Z){if(1&g&&(e.ynx(0),e.TgZ(1,"textarea",2),e._uU(2,"            "),e.qZA(),e.BQk()),2&g){const k=e.oxw();e.xp6(1),e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("cols",1)("rows",10)("formlyAttributes",k.field)}}function ae(g,Z){1&g&&(e.ynx(0),e.TgZ(1,"p",4),e._UZ(2,"span",5),e.qZA(),e.BQk())}function se(g,Z){if(1&g&&e._UZ(0,"ngx-monaco-editor",6),2&g){const k=e.oxw(2);e.Udp("height",k.editorHeight),e.Q6J("options",k.editorOptions)("formControl",k.formControl)}}function de(g,Z){if(1&g&&(e.YNc(0,ae,3,0,"ng-container",0),e.YNc(1,se,1,4,"ng-template",null,3,e.W1O)),2&g){const k=e.MAs(2),x=e.oxw();e.Q6J("ngIf",x.loading)("ngIfElse",k)}}let he=(()=>{var g;class Z extends w.fS{constructor(){super(...arguments),this.touchDevice=F.eX,this.editorOptions={theme:"vs-dark",language:"json"},this.loading=!0,this.editorHeight="350px"}ngOnInit(){this.touchDevice||(this.field.props.editorOptions&&(this.field.props.editorOptions.height&&(this.editorHeight=this.field.props.editorOptions.height,delete this.field.props.editorOptions.height),this.editorOptions=(0,C.Z)((0,C.Z)({},this.editorOptions),this.field.props.editorOptions)),this.loading=!1)}}return(g=Z).\u0275fac=function(){let k;return function(M){return(k||(k=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-code-editor-type"]],features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notTouchDevice",""],[1,"form-control",3,"formControl","cols","rows","formlyAttributes"],["codeEditor",""],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],[1,"d-block","formly-code-editor",3,"options","formControl"]],template:function(x,M){if(1&x&&(e.YNc(0,re,3,6,"ng-container",0),e.YNc(1,de,3,2,"ng-template",null,1,e.W1O)),2&x){const B=e.MAs(2);e.Q6J("ngIf",M.touchDevice)("ngIfElse",B)}},dependencies:[y.O5,w.JD,D.Fj,D.JJ,D.oH,z],encapsulation:2}),Z})();var pe=_(5861),ve=_(8784);function K(g,Z){if(1&g){const k=e.EpF();e.ynx(0),e.TgZ(1,"div",4),e.NdJ("click",function(){e.CHM(k);const M=e.oxw();return e.KtG(M.formControl.setValue(void 0))}),e._uU(2,"highlight_off"),e.qZA(),e.BQk()}}function W(g,Z){1&g&&(e.ynx(0),e.TgZ(1,"p",5),e._UZ(2,"span",6),e.qZA(),e.BQk())}function ne(g,Z){if(1&g&&e._UZ(0,"option",10),2&g){const k=Z.$implicit;e.Q6J("ngValue",k.id||k.name)("innerText",k.name)}}function ie(g,Z){if(1&g&&(e.ynx(0),e.TgZ(1,"select",8),e.YNc(2,ne,1,2,"option",9),e.qZA(),e.BQk()),2&g){const k=e.oxw(2);e.xp6(1),e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("formlyAttributes",k.field),e.xp6(1),e.Q6J("ngForOf",k.groupsList)}}function ee(g,Z){if(1&g&&e._UZ(0,"option",10),2&g){const k=Z.$implicit;e.Q6J("ngValue",k.id||k.name)("innerText",k.name)}}function ue(g,Z){if(1&g&&(e.TgZ(0,"select",11),e.YNc(1,ee,1,2,"option",9),e.qZA()),2&g){const k=e.oxw(2);e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("formlyAttributes",k.field),e.xp6(1),e.Q6J("ngForOf",k.groupsList)}}function fe(g,Z){if(1&g&&(e.YNc(0,ie,3,5,"ng-container",2),e.YNc(1,ue,2,5,"ng-template",null,7,e.W1O)),2&g){const k=e.MAs(2),x=e.oxw();e.Q6J("ngIf",x.field.props.multiple)("ngIfElse",k)}}const ce=function(g){return{"no-label":g}};let _e=(()=>{var g;class Z extends w.fS{constructor(x,M){super(),this.forumService=x,this.changeDetectorRef=M,this.loading=!0,this.groupsList=[]}ngOnInit(){var x=this;return(0,pe.Z)(function*(){x.field.defaultValue=void 0,x.field.props.hasOwnProperty("multiple")||(x.field.props.multiple=!0),x.groupsList=(yield x.forumService.getGroups()).sort((M,B)=>M.name.localeCompare(B.name)),x.field.props.keepGroupsWithoutId||(x.groupsList=x.groupsList.filter(M=>M.id>0)),x.loading=!1,x.field.formControl.updateValueAndValidity(),x.changeDetectorRef.detectChanges()})()}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(ve._),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-groups"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"position-relative","wrapper",3,"ngClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["formSelect",""],[1,"reset-icon","position-absolute","cursor-pointer","d-block","material-icons","text-danger",3,"click"],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],["single",""],["multiple","",1,"form-select",3,"formControl","formlyAttributes"],[3,"ngValue","innerText",4,"ngFor","ngForOf"],[3,"ngValue","innerText"],[1,"form-select",3,"formControl","formlyAttributes"]],template:function(x,M){if(1&x&&(e.TgZ(0,"div",0),e.YNc(1,K,3,0,"ng-container",1),e.YNc(2,W,3,0,"ng-container",2),e.YNc(3,fe,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&x){const B=e.MAs(4);e.Q6J("ngClass",e.VKq(4,ce,!M.props.label)),e.xp6(1),e.Q6J("ngIf",!M.props.label||void 0!==M.formControl.value),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,w.JD,D.YN,D.Kr,D.EJ,D.K7,D.JJ,D.oH],styles:[".reset-icon[_ngcontent-%COMP%]{right:0}.wrapper[_ngcontent-%COMP%]:not(.no-label)   .reset-icon[_ngcontent-%COMP%]{top:calc(-24px - .45rem)}.no-label[_ngcontent-%COMP%]{padding-top:calc(24px + .45rem)}.no-label[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{top:0}"]}),Z})();var Oe=_(1410),me=_(8645);const Me=[{value:S.ig.FORUMFREE,placeholder:"ForumFree"},{value:S.ig.FORUMCOMMUNITY,placeholder:"ForumCommunity"},{value:S.ig.BLOGFREE,placeholder:"BlogFree"}];function ye(g,Z){if(1&g&&e._UZ(0,"option",2),2&g){const k=Z.$implicit;e.Q6J("ngValue",k.value)("innerText",k.placeholder)}}let Ee=(()=>{var g;class Z{constructor(){this.model=S.ig.FORUMFREE,this.modelChange=new e.vpe,this.options=Me}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-domain-select"]],inputs:{model:"model"},outputs:{modelChange:"modelChange"},decls:2,vars:2,consts:[[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue","innerText",4,"ngFor","ngForOf"],[3,"ngValue","innerText"]],template:function(x,M){1&x&&(e.TgZ(0,"select",0),e.NdJ("ngModelChange",function(G){return M.model=G})("ngModelChange",function(G){return M.modelChange.emit(G)}),e.YNc(1,ye,1,2,"option",1),e.qZA()),2&x&&(e.Q6J("ngModel",M.model),e.xp6(1),e.Q6J("ngForOf",M.options))},dependencies:[y.sg,D.YN,D.Kr,D.EJ,D.JJ,D.On],encapsulation:2}),Z})();var De=_(7827),ze=_(9473),Ye=_(7357);function Ge(g,Z){1&g&&(e.TgZ(0,"div",4),e._UZ(1,"app-loader",5),e.qZA())}function Ke(g,Z){1&g&&e._UZ(0,"div",8),2&g&&e.Q6J("innerText","Nessun elemento inserito!")}function We(g,Z){if(1&g){const k=e.EpF();e.TgZ(0,"li")(1,"a",11)(2,"div",12),e.NdJ("click",function(M){const G=e.CHM(k).index,te=e.oxw(3);return e.KtG(te.remove(G,M))}),e.TgZ(3,"div",13),e._uU(4," remove "),e.qZA()(),e._UZ(5,"img",14),e.ALo(6,"uploadsreplace"),e.qZA(),e._UZ(7,"a",15),e.qZA()}if(2&g){const k=Z.$implicit,x=e.oxw(3);e.Gre("d-flex flex-column align-items-center item-",k.type,""),e.xp6(1),e.Q6J("href",k.link,e.LSH),e.xp6(1),e.Q6J("disableOnTouchDevice",!0),e.xp6(3),e.s9C("alt",k.title),e.Q6J("src",x.lazyImagePlaceholder,e.LSH)("lazyLoad",e.lcZ(6,12,k.image))("offset",100)("errorImage",x.defaultImage),e.xp6(2),e.Q6J("innerHTML",k.title,e.oJD)("href",k.link,e.LSH)}}function $e(g,Z){if(1&g&&(e.TgZ(0,"ul",9),e.YNc(1,We,8,14,"li",10),e.qZA()),2&g){const k=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",k.list)}}function Xe(g,Z){if(1&g&&(e.YNc(0,Ke,1,1,"div",6),e.YNc(1,$e,2,1,"ng-template",null,7,e.W1O)),2&g){const k=e.MAs(2),x=e.oxw();e.Q6J("ngIf",0===x.list.length)("ngIfElse",k)}}const et=function(g){return{"empty-list":g}};let tt=(()=>{var g;class Z{constructor(){this.list=[],this.defaultImage="/assets/default_avatar.png",this.loading=!0,this.removeEvent=new e.vpe,this.lazyImagePlaceholder=F.vX}remove(x,M){M.preventDefault(),M.stopPropagation();const B=this.list[x].id;this.list.splice(x,1),this.list=[...this.list],this.removeEvent.emit(B)}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-typeahead-content"]],inputs:{list:"list",listTitle:"listTitle",defaultImage:"defaultImage",loading:"loading"},outputs:{removeEvent:"removeEvent"},decls:5,vars:6,consts:[[1,"formly-list-container","rounded","px-3","pt-2","mt-2",3,"ngClass"],[1,"legend-reset","fs-reset","mb-0","px-2","pb-1",3,"innerText"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center"],["message","Recupero dei dati"],["class","text-center mb-0 px-1 pb-1 fst-italic",3,"innerText",4,"ngIf","ngIfElse"],["noEmpty",""],[1,"text-center","mb-0","px-1","pb-1","fst-italic",3,"innerText"],[1,"formly-list","list-unstyled","mb-0","d-grid","px-2"],[3,"class",4,"ngFor","ngForOf"],["target","_blank",1,"preview","rounded-circle","d-block","position-relative",3,"href"],["appTippy","Rimuovi",1,"remove-btn","alert","alert-danger","position-absolute","cursor-pointer","mb-0","py-0","px-1",3,"disableOnTouchDevice","click"],[1,"material-icons","d-block","fs-reset"],[1,"d-block","image-cover","rounded-circle",3,"src","lazyLoad","offset","errorImage","alt"],["target","_blank",1,"d-block","fw-bold","mt-1","item-title","text-truncate","mw-100",3,"innerHTML","href"]],template:function(x,M){if(1&x&&(e.TgZ(0,"fieldset",0),e._UZ(1,"legend",1),e.YNc(2,Ge,2,0,"div",2),e.YNc(3,Xe,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&x){const B=e.MAs(4);e.Q6J("ngClass",e.VKq(4,et,0===M.list.length)),e.xp6(1),e.Q6J("innerText",M.listTitle),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,De.z1,ze.R,E.$,Ye.g],styles:[".formly-list-container[_ngcontent-%COMP%]{border:1px dashed var(--bs-gray-500)}.formly-list-container[_ngcontent-%COMP%]:not(.empty-list){padding-bottom:.75rem}.formly-list-container.empty-list[_ngcontent-%COMP%]{padding-bottom:1rem}.formly-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:1rem}.formly-list[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{top:0;left:-8px}.formly-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px;border:2px solid}.formly-list[_ngcontent-%COMP%]   .item-ff[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#58a72e}.formly-list[_ngcontent-%COMP%]   .item-ff[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#58a72e!important}.formly-list[_ngcontent-%COMP%]   .item-fc[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#0082cd}.formly-list[_ngcontent-%COMP%]   .item-fc[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#0082cd!important}.formly-list[_ngcontent-%COMP%]   .item-bf[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#e67f22}.formly-list[_ngcontent-%COMP%]   .item-bf[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#e67f22!important}@media (min-width: 960px){.formly-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(75px,1fr));gap:1.5rem}.formly-list[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{top:4px}.formly-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:75px;height:75px}}"]}),Z})();var nt=_(1378),Fe=_(3620),rt=_(3997),ot=_(3019),je=_(9397),lt=_(4664),at=_(2096),st=_(1993),ut=_(5661),xe=_(8726);function ft(g,Z){1&g&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function ct(g,Z){if(1&g&&(e.TgZ(0,"legend",5)(1,"label",6),e._uU(2),e.YNc(3,ft,2,0,"span",7),e.qZA()()),2&g){const k=e.oxw();e.xp6(1),e.Q6J("for",k.field.id),e.xp6(1),e.hij(" ",k.props.label," "),e.xp6(1),e.Q6J("ngIf",k.props.required)}}function dt(g,Z){1&g&&e.GkF(0)}function ht(g,Z){1&g&&e.GkF(0)}function pt(g,Z){if(1&g&&e._UZ(0,"div",9),2&g){const k=e.oxw();e.Q6J("innerHTML",k.parsedDescription,e.oJD)}}function mt(g,Z){1&g&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"Loading..."),e.qZA()())}function vt(g,Z){1&g&&e.GkF(0)}function yt(g,Z){if(1&g&&(e.ynx(0),e.TgZ(1,"div",18),e.YNc(2,vt,1,0,"ng-container",2),e.qZA(),e.BQk()),2&g){const k=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",k.additionalInputsTemplate)}}function gt(g,Z){if(1&g&&(e.TgZ(0,"div",19),e._UZ(1,"formly-validation-message",20),e.qZA()),2&g){const k=e.oxw(2);e.Udp("display","block"),e.xp6(1),e.Q6J("field",k.field)}}function bt(g,Z){if(1&g){const k=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"input",12),e.NdJ("ngModelChange",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.inputValue=M)})("selectItem",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.selectEntity(M))})("focus",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.focusSubject.next(M.target.value))}),e.qZA(),e.YNc(3,mt,3,0,"div",13),e.qZA(),e.YNc(4,yt,3,1,"ng-container",14),e.qZA(),e.YNc(5,gt,2,3,"div",15)}if(2&g){const k=e.oxw();e.xp6(2),e.ekj("is-invalid",k.showError),e.Q6J("ngModel",k.inputValue)("formlyAttributes",k.field)("ngbTypeahead",k.search)("editable",!1)("inputFormatter",k.inputFormatter)("resultFormatter",k.resultFormatter),e.xp6(1),e.Q6J("ngIf",k.searching),e.xp6(1),e.Q6J("ngIf",k.additionalInputsTemplate),e.xp6(1),e.Q6J("ngIf",k.showError)}}let _t=(()=>{var g;class Z{constructor(x,M,B,G){this.customFormUtilsService=x,this.changeDetectorRef=M,this.toastService=B,this.destroyRef=G,this.showError=!1,this.selectItemEvent=new e.vpe,this.populateListEvent=new e.vpe,this.inputValue="",this.inputFormatter=te=>te.name,this.focusSubject=new me.x,this.searching=!1,this.formlyFieldValues=[],this.search=te=>{const oe=te.pipe((0,Fe.b)(700),(0,rt.x)());return(0,ot.T)(oe,this.focusSubject).pipe((0,je.b)(()=>this.setSearching(!0)),(0,lt.w)(le=>le.length<3?(0,at.of)([]):this.searchFunction(le)),(0,je.b)(()=>this.setSearching(!1)))}}ngOnInit(){this.formControl=this.field.formControl,this.props=this.field.props,this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):void 0,this.formlyFieldValues=Array.isArray(this.formControl.value)?this.formControl.value:Array.isArray(this.field.defaultValue)?this.field.defaultValue:[],this.populateListEvent.emit(this.formlyFieldValues),this.formControl.updateValueAndValidity(),this.removeItemObservable.pipe((0,st.sL)(this.destroyRef)).subscribe(x=>{const M=this.formlyFieldValues.indexOf(x);M>-1&&(this.formlyFieldValues.splice(M,1),this.formControl.setValue([...this.formlyFieldValues]))})}resultFormatter(x){return x.name.indexOf("&")>-1?function it(g){const Z=document.createElement("TEXTAREA");return Z.innerHTML=g,Z.value}(x.name):x.name}setSearching(x){this.searching=x,this.changeDetectorRef.detectChanges()}selectEntity(x){const M=x.item;if(x.preventDefault(),this.formlyFieldValues.includes(M.id))return this.toastService.show({content:`L'elemento <strong>${M.name}</strong> \xe8 gi\xe0 stato aggiunto alla lista!`,level:nt.m.ERROR}),void(this.inputValue="");this.formlyFieldValues.push(M.id),this.selectItemEvent.emit(x.item),this.inputValue="",this.updateFieldValue()}updateFieldValue(){this.formControl.setValue([...this.formlyFieldValues])}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(S.d6),e.Y36(e.sBO),e.Y36(ut.k),e.Y36(e.ktI))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-typeahead"]],inputs:{field:"field",showError:"showError",removeItemObservable:"removeItemObservable",searchFunction:"searchFunction",resultsTemplate:"resultsTemplate",additionalInputsTemplate:"additionalInputsTemplate"},outputs:{selectItemEvent:"selectItemEvent",populateListEvent:"populateListEvent"},decls:7,vars:6,consts:[[1,"mb-3","rounded","px-3","pt-2","pb-3","formly-fieldset"],["class","legend-reset fs-reset mb-0 px-2 mw-100 lh-1 py-1",4,"ngIf"],[4,"ngTemplateOutlet"],["class","form-text text-muted",3,"innerHTML",4,"ngIf"],["typeaheadTemplate",""],[1,"legend-reset","fs-reset","mb-0","px-2","mw-100","lh-1","py-1"],[1,"form-label","mb-0","mw-100","text-truncate",3,"for"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[1,"form-text","text-muted",3,"innerHTML"],[1,"d-flex","flex-column","flex-sm-row"],[1,"position-relative","flex-grow-1"],["type","text","placeholder","Cerca...","container","body",1,"form-control",3,"ngModel","formlyAttributes","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelChange","selectItem","focus"],["class","spinner-border spinner-border-sm text-primary position-absolute","role","status",4,"ngIf"],[4,"ngIf"],["class","invalid-feedback",3,"display",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute"],[1,"visually-hidden"],[1,"ms-sm-3","mt-3","mt-sm-0"],[1,"invalid-feedback"],[3,"field"]],template:function(x,M){if(1&x&&(e.TgZ(0,"fieldset",0),e.YNc(1,ct,4,3,"legend",1),e.YNc(2,dt,1,0,"ng-container",2),e.YNc(3,ht,1,0,"ng-container",2),e.YNc(4,pt,1,1,"div",3),e.qZA(),e.YNc(5,bt,6,11,"ng-template",null,4,e.W1O)),2&x){const B=e.MAs(6);e.ekj("has-error",M.formControl.invalid),e.xp6(1),e.Q6J("ngIf",M.props.label),e.xp6(1),e.Q6J("ngTemplateOutlet",B),e.xp6(1),e.Q6J("ngTemplateOutlet",M.resultsTemplate),e.xp6(1),e.Q6J("ngIf",M.parsedDescription)}},dependencies:[y.O5,y.tP,w.JD,w.M2,D.Fj,D.JJ,D.On,xe.dR],styles:[".spinner-border[_ngcontent-%COMP%]{top:calc(50% - 8px);right:10px}"],changeDetection:0}),Z})();function Ot(g,Z){if(1&g){const k=e.EpF();e.TgZ(0,"app-formly-typeahead-content",3),e.NdJ("removeEvent",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.removeItemSubject.next(M))}),e.qZA()}if(2&g){const k=e.oxw();e.Q6J("listTitle",k.listTitle)("list",k.list)("loading",k.loading)("defaultImage",k.defaultThumb)}}function Et(g,Z){if(1&g){const k=e.EpF();e.TgZ(0,"app-domain-select",4),e.NdJ("modelChange",function(M){e.CHM(k);const B=e.oxw();return e.KtG(B.selectedDomain=M)}),e.qZA()}if(2&g){const k=e.oxw();e.Q6J("model",k.selectedDomain)}}let Be=(()=>{var g;class Z{constructor(x,M){var G,B=this;this.globalsService=x,this.changeDetectorRef=M,this.showError=!1,this.listTitle="",this.defaultThumb="/assets/default_avatar.png",this.removeItemSubject=new me.x,this.list=[],this.hasDomainSelect=!1,this.loading=!0,this.lastResults=[],this.search=function(){var te=(0,pe.Z)(function*(oe){return B.lastDomain===B.selectedDomain&&B.lastSearchedValueWithoutResult&&oe.startsWith(B.lastSearchedValueWithoutResult)?[]:(B.lastDomain=B.selectedDomain,B.lastResults=yield B.searchFunction(oe,(0,S.vV)(B.selectedDomain)),B.lastSearchedValueWithoutResult=B.lastResults.length?void 0:oe,B.lastResults.map(ge=>({id:ge.id,name:ge.title})))});return function(oe){return te.apply(this,arguments)}}(),this.selectedDomain=this.lastDomain=(null===(G=this.globalsService.credentials)||void 0===G?void 0:G.site.domain)||S.ig.FORUMFREE}ngOnInit(){this.hasDomainSelect=!0===this.field.props.selectDomain}populateListEvent(x){var M=this;return(0,pe.Z)(function*(){M.list=(yield M.populateFunction(x)).sort((B,G)=>B.title.localeCompare(G.title)),M.loading=!1,M.changeDetectorRef.detectChanges()})()}selectItemEvent(x){const M=this.lastResults.find(B=>B.id===x.id);M&&(this.list=[...this.list,this.createEntityFunction(M)])}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(Oe.d),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-forum-typeahead"]],inputs:{field:"field",showError:"showError",listTitle:"listTitle",defaultThumb:"defaultThumb",searchFunction:"searchFunction",populateFunction:"populateFunction",createEntityFunction:"createEntityFunction"},decls:5,vars:6,consts:[[3,"field","showError","removeItemObservable","searchFunction","resultsTemplate","additionalInputsTemplate","populateListEvent","selectItemEvent"],["contentList",""],["circuitSelect",""],[3,"listTitle","list","loading","defaultImage","removeEvent"],[3,"model","modelChange"]],template:function(x,M){if(1&x&&(e.TgZ(0,"app-formly-typeahead",0),e.NdJ("populateListEvent",function(G){return M.populateListEvent(G)})("selectItemEvent",function(G){return M.selectItemEvent(G)}),e.qZA(),e.YNc(1,Ot,1,4,"ng-template",null,1,e.W1O),e.YNc(3,Et,1,1,"ng-template",null,2,e.W1O)),2&x){const B=e.MAs(2),G=e.MAs(4);e.Q6J("field",M.field)("showError",M.showError)("removeItemObservable",M.removeItemSubject)("searchFunction",M.search)("resultsTemplate",B)("additionalInputsTemplate",M.hasDomainSelect?G:void 0)}},dependencies:[Ee,tt,_t],encapsulation:2,changeDetection:0}),Z})(),Tt=(()=>{var g;class Z extends w.fS{constructor(x){var M;super(),M=this,this.forumService=x,this.defaultThumb="/assets/default_forum.jpg",this.search=function(){var B=(0,pe.Z)(function*(G,te){const oe=(0,S.$t)(te);return oe?(yield M.forumService.searchForumByName(G,te)).map(le=>({id:`${oe.shortdomain}${le.id}`,title:le.domain,preview:le.preview})):[]});return function(G,te){return B.apply(this,arguments)}}(),this.populateList=function(){var B=(0,pe.Z)(function*(G){const te=yield M.forumService.getForumDetailsFromCids(G),oe=(0,S.tX)(G,te.map(le=>le.cid));return[...te.map(le=>M.generateTypeaheadContentEntity(le.cid,le.domain,le.preview)),...oe.map(le=>M.generateTypeaheadContentEntity(le,le,M.defaultThumb,!0))]});return function(G){return B.apply(this,arguments)}}(),this.searchToTypeaheadContentEntity=B=>this.generateTypeaheadContentEntity(B.id,B.title,B.preview)}generateTypeaheadContentEntity(x,M,B,G=!1){const te=(0,S.$t)(x);if(!te)throw new Error(`Invalid cid ${x}!`);return{id:x,title:M,image:B,type:te.shortdomain,link:"https://"+(G?`${te.domain}/?cid=${te.id}`:`${M}.${te.domain}`)}}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(ve._))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-list"]],features:[e.qOj],decls:1,vars:6,consts:[["listTitle","Lista forum",3,"field","showError","defaultThumb","searchFunction","populateFunction","createEntityFunction"]],template:function(x,M){1&x&&e._UZ(0,"app-formly-forum-typeahead",0),2&x&&e.Q6J("field",M.field)("showError",M.showError)("defaultThumb",M.defaultThumb)("searchFunction",M.search)("populateFunction",M.populateList)("createEntityFunction",M.searchToTypeaheadContentEntity)},dependencies:[Be],encapsulation:2,changeDetection:0}),Z})();function xt(g,Z){if(1&g){const k=e.EpF();e.ynx(0),e.TgZ(1,"div",4),e.NdJ("click",function(){e.CHM(k);const M=e.oxw();return e.KtG(M.formControl.setValue(void 0))}),e._uU(2,"highlight_off"),e.qZA(),e.BQk()}}function wt(g,Z){1&g&&(e.ynx(0),e.TgZ(1,"p",5),e._UZ(2,"span",6),e.qZA(),e.BQk())}function At(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&g){const k=Z.$implicit;e.xp6(1),e.Q6J("ngValue",k.id)("innerHTML"," - "+k.name,e.oJD)}}function St(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,At,2,2,"ng-container",9),e.BQk()),2&g){const k=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",k.subsections)}}function kt(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.YNc(2,St,2,1,"ng-container",1),e.BQk()),2&g){const k=Z.$implicit;e.xp6(1),e.Q6J("ngValue",k.id)("innerHTML",k.name,e.oJD),e.xp6(1),e.Q6J("ngIf",k.subsections&&k.subsections.length)}}function Nt(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&g){const k=Z.$implicit;e.xp6(1),e.Q6J("ngValue",k)("innerHTML"," -- Sezione ristretta -- #"+k,e.oJD)}}function Ct(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,Nt,2,2,"ng-container",9),e.BQk()),2&g){const k=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",k.restrictedOrDeletedSections)}}function Mt(g,Z){if(1&g&&(e.ynx(0),e.TgZ(1,"select",8),e.YNc(2,kt,3,3,"ng-container",9),e.YNc(3,Ct,2,1,"ng-container",1),e.qZA(),e.BQk()),2&g){const k=e.oxw(2);e.xp6(1),e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("formlyAttributes",k.field),e.xp6(1),e.Q6J("ngForOf",k.sectionsList),e.xp6(1),e.Q6J("ngIf",k.restrictedOrDeletedSections.length>0)}}function Ft(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&g){const k=Z.$implicit;e.xp6(1),e.Q6J("ngValue",k.id)("innerHTML"," - "+k.name,e.oJD)}}function Pt(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,Ft,2,2,"ng-container",9),e.BQk()),2&g){const k=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",k.subsections)}}function Lt(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.YNc(2,Pt,2,1,"ng-container",1),e.BQk()),2&g){const k=Z.$implicit;e.xp6(1),e.Q6J("ngValue",k.id)("innerHTML",k.name,e.oJD),e.xp6(1),e.Q6J("ngIf",k.subsections&&k.subsections.length)}}function qt(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&g){const k=Z.$implicit;e.xp6(1),e.Q6J("ngValue",k)("innerHTML"," -- Sezione ristretta -- #"+k,e.oJD)}}function It(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,qt,2,2,"ng-container",9),e.BQk()),2&g){const k=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",k.restrictedOrDeletedSections)}}function Rt(g,Z){if(1&g&&(e.TgZ(0,"select",11),e.YNc(1,Lt,3,3,"ng-container",9),e.YNc(2,It,2,1,"ng-container",1),e.qZA()),2&g){const k=e.oxw(2);e.ekj("is-invalid",k.showError),e.Q6J("formControl",k.formControl)("formlyAttributes",k.field),e.xp6(1),e.Q6J("ngForOf",k.sectionsList),e.xp6(1),e.Q6J("ngIf",k.restrictedOrDeletedSections.length>0)}}function Dt(g,Z){if(1&g&&(e.YNc(0,Mt,4,6,"ng-container",2),e.YNc(1,Rt,3,6,"ng-template",null,7,e.W1O)),2&g){const k=e.MAs(2),x=e.oxw();e.Q6J("ngIf",x.field.props.multiple)("ngIfElse",k)}}const jt=function(g){return{"no-label":g}};let Bt=(()=>{var g;class Z extends w.fS{constructor(x,M){super(),this.forumService=x,this.changeDetectorRef=M,this.loading=!0,this.sectionsList=[],this.restrictedOrDeletedSections=[]}ngOnInit(){var x=this;return(0,pe.Z)(function*(){x.field.defaultValue=void 0,x.field.props.hasOwnProperty("multiple")||(x.field.props.multiple=!0),x.restrictedOrDeletedSections=Array.isArray(x.field.formControl.value)?[...x.field.formControl.value]:[];const M=yield x.forumService.getSections();x.sectionsList=M.map(B=>{const G=x.restrictedOrDeletedSections.indexOf(B.id);return G>-1&&x.restrictedOrDeletedSections.splice(G,1),(0,C.Z)((0,C.Z)({},B),{subsections:x.flattenSubsections(B)})}),x.loading=!1,x.field.formControl.updateValueAndValidity(),x.changeDetectorRef.detectChanges()})()}flattenSubsections(x){let M=[],B=-1;if(x.subsections&&x.subsections.length)for(const G of x.subsections)B=this.restrictedOrDeletedSections.indexOf(G.id),B>-1&&this.restrictedOrDeletedSections.splice(B,1),M.push(G),G.subsections&&(M=[...M,...this.flattenSubsections(G)]);return M}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(ve._),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-sections"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"position-relative","wrapper",3,"ngClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["formSelect",""],[1,"reset-icon","position-absolute","cursor-pointer","d-block","material-icons","text-danger",3,"click"],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],["single",""],["multiple","",1,"form-select",3,"formControl","formlyAttributes"],[4,"ngFor","ngForOf"],[3,"ngValue","innerHTML"],[1,"form-select",3,"formControl","formlyAttributes"]],template:function(x,M){if(1&x&&(e.TgZ(0,"div",0),e.YNc(1,xt,3,0,"ng-container",1),e.YNc(2,wt,3,0,"ng-container",2),e.YNc(3,Dt,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&x){const B=e.MAs(4);e.Q6J("ngClass",e.VKq(4,jt,!M.props.label)),e.xp6(1),e.Q6J("ngIf",!M.props.label||void 0!==M.formControl.value),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,w.JD,D.YN,D.Kr,D.EJ,D.K7,D.JJ,D.oH],styles:[".reset-icon[_ngcontent-%COMP%]{right:0}.wrapper[_ngcontent-%COMP%]:not(.no-label)   .reset-icon[_ngcontent-%COMP%]{top:calc(-24px - .45rem)}.no-label[_ngcontent-%COMP%]{padding-top:calc(24px + .45rem)}.no-label[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{top:0}"]}),Z})();var Ut=_(8418);let Zt=(()=>{var g;class Z extends w.fS{constructor(x){var M;super(),M=this,this.userService=x,this.defaultThumb="/assets/default_avatar.png",this.search=function(){var B=(0,pe.Z)(function*(G,te){return(yield M.userService.searchUserByName(G,te)).map(oe=>({id:oe.uid,title:oe.nickname,preview:oe.avatar}))});return function(G,te){return B.apply(this,arguments)}}(),this.populateList=function(){var B=(0,pe.Z)(function*(G){const te=yield M.userService.getDetailsFromUids(G),oe=(0,S.tX)(G,te.map(le=>le.uid));return[...te.map(le=>M.generateTypeaheadContentEntity(le.uid,le.nickname,le.avatar)),...oe.map(le=>M.generateTypeaheadContentEntity(le,le,M.defaultThumb))]});return function(G){return B.apply(this,arguments)}}(),this.searchToTypeaheadContentEntity=B=>this.generateTypeaheadContentEntity(B.id,B.title,B.preview)}generateTypeaheadContentEntity(x,M,B){const G=x.substring(0,2),te=(0,S.A)(G);if(!te)throw new Error(`Invalid uid ${x}!`);return{id:x,title:M,image:B,type:G,link:`${te}/?act=Profile&MID=${x.substring(2)}`}}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(Ut.K))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-users"]],features:[e.qOj],decls:1,vars:6,consts:[["listTitle","Lista utenti",3,"field","showError","defaultThumb","searchFunction","populateFunction","createEntityFunction"]],template:function(x,M){1&x&&e._UZ(0,"app-formly-forum-typeahead",0),2&x&&e.Q6J("field",M.field)("showError",M.showError)("defaultThumb",M.defaultThumb)("searchFunction",M.search)("populateFunction",M.populateList)("createEntityFunction",M.searchToTypeaheadContentEntity)},dependencies:[Be],encapsulation:2,changeDetection:0}),Z})(),Vt=(()=>{var g;class Z extends w.fS{constructor(){super(...arguments),this.defaultOptions={props:{label:""}}}}return(g=Z).\u0275fac=function(){let k;return function(M){return(k||(k=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-label"]],features:[e.qOj],decls:2,vars:1,template:function(x,M){1&x&&(e.TgZ(0,"h5"),e._uU(1),e.qZA()),2&x&&(e.xp6(1),e.Oqu(M.props.label))},encapsulation:2,changeDetection:0}),Z})();const Pe={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},Le=new e.OlP("config",{providedIn:"root",factory:()=>({modules:Pe})});var qe=_(6593),Ht=_(4911),Jt=_(2664),Qt=_(4036),zt=_(7394),Ie=_(2438),Yt=_(7081),Ue=_(9769);function Gt(g,Z){1&g&&e._UZ(0,"pre",3)}function Kt(g,Z){if(1&g&&e.YNc(0,Gt,1,0,"pre",2),2&g){const k=e.oxw(),x=e.MAs(6);e.Q6J("ngIf",k.preserve)("ngIfElse",x)}}function Wt(g,Z){1&g&&e._UZ(0,"pre",3)}function $t(g,Z){if(1&g&&e.YNc(0,Wt,1,0,"pre",2),2&g){const k=e.oxw(),x=e.MAs(6);e.Q6J("ngIf",k.preserve)("ngIfElse",x)}}function Xt(g,Z){1&g&&e._UZ(0,"div",3)}const en=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],tn=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function nn(g,Z){1&g&&e._UZ(0,"div",1)}function rn(g,Z){1&g&&e._UZ(0,"pre",1)}const Se=(g,Z)=>g||Z||"html";let Re=(()=>{var g;class Z{constructor(x,M){var B=this;this.config=M,this.quill$=(0,Ht.P)((0,pe.Z)(function*(){var G;if(!B.Quill){const te=B.document.addEventListener;B.document.addEventListener=B.document.__zone_symbol__addEventListener||B.document.addEventListener;const oe=yield Promise.resolve().then(_.t.bind(_,7536,19));B.document.addEventListener=te,B.Quill=oe.default?oe.default:oe}return null===(G=B.config.customOptions)||void 0===G||G.forEach(te=>{const oe=B.Quill.import(te.import);oe.whitelist=te.whitelist,B.Quill.register(oe,!0,B.config.suppressGlobalRegisterWarning)}),yield B.registerCustomModules(B.Quill,B.config.customModules,B.config.suppressGlobalRegisterWarning)})).pipe((0,Yt.d)({bufferSize:1,refCount:!0})),this.document=x.get(y.K0),this.config||(this.config={modules:Pe})}getQuill(){return this.quill$}registerCustomModules(x,M,B){return(0,pe.Z)(function*(){if(Array.isArray(M))for(let{implementation:G,path:te}of M)(0,Jt.b)(G)&&(G=yield(0,Qt.z)(G)),x.register(te,G,B);return x})()}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.LFG(e.zs3),e.LFG(Le,8))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),Z})(),on=(()=>{var g;class Z{constructor(){this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onNativeFocus=new e.vpe,this.onNativeBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.elementRef=(0,e.f3M)(e.SBq),this.document=(0,e.f3M)(y.K0),this.cd=(0,e.f3M)(e.sBO),this.domSanitizer=(0,e.f3M)(qe.H7),this.platformId=(0,e.f3M)(e.Lbi),this.renderer=(0,e.f3M)(e.Qsj),this.zone=(0,e.f3M)(e.R0b),this.service=(0,e.f3M)(Re),this.valueGetter=(x,M)=>{let B=M.querySelector(".ql-editor").innerHTML;("<p><br></p>"===B||"<div><br></div>"===B)&&(B=this.defaultEmptyValue);let G=B;const te=Se(this.format,this.service.config.format);if("text"===te)G=x.getText();else if("object"===te)G=x.getContents();else if("json"===te)try{G=JSON.stringify(x.getContents())}catch(oe){G=x.getText()}return G},this.valueSetter=(x,M)=>{const B=Se(this.format,this.service.config.format);if("html"===B)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(M=this.domSanitizer.sanitize(e.q3G.HTML,M)),x.clipboard.convert(M);if("json"===B)try{return JSON.parse(M)}catch(G){return[{insert:M}]}return M},this.selectionChangeHandler=(x,M,B)=>{const G=this.trackChanges||this.service.config.trackChanges,te=!x&&!!this.onModelTouched&&("user"===B||G&&"all"===G);!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!te||this.zone.run(()=>{null===x?this.onBlur.emit({editor:this.quillEditor,source:B}):null===M&&this.onFocus.emit({editor:this.quillEditor,source:B}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:M,range:x,source:B}),te&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(x,M,B)=>{const G=this.quillEditor.getText(),te=this.quillEditor.getContents();let oe=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===oe||"<div><br></div>"===oe)&&(oe=this.defaultEmptyValue);const le=this.trackChanges||this.service.config.trackChanges,ge=("user"===B||le&&"all"===le)&&!!this.onModelChange;!this.onContentChanged.observed&&!ge||this.zone.run(()=>{ge&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:te,delta:x,editor:this.quillEditor,html:oe,oldDelta:M,source:B,text:G}),this.cd.markForCheck()})},this.editorChangeHandler=(x,M,B,G)=>{if(this.onEditorChanged.observed)if("text-change"===x){const te=this.quillEditor.getText(),oe=this.quillEditor.getContents();let le=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===le||"<div><br></div>"===le)&&(le=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:oe,delta:M,editor:this.quillEditor,event:x,html:le,oldDelta:B,source:G,text:te}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:x,oldRange:B,range:M,source:G}),this.cd.markForCheck()})}}static normalizeClassNames(x){return x.trim().split(" ").reduce((B,G)=>{const te=G.trim();return te&&B.push(te),B},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,y.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,Ue.z)(x=>{var M;const B=[this.service.registerCustomModules(x,this.customModules)],G=null!==(M=this.beforeRender)&&void 0!==M?M:this.service.config.beforeRender;return G&&B.push(G()),Promise.all(B).then(()=>x)})).subscribe(x=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const M=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),B=Object.assign({},this.modules||this.service.config.modules);M?B.toolbar=M:void 0===B.toolbar&&(B.toolbar=Pe.toolbar);let G=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===G&&(G="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(be=>{this.renderer.setStyle(this.editorElem,be,this.styles[be])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(be=>{const we=x.import(be.import);we.whitelist=be.whitelist,x.register(we,!0)});let te=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;te||(te=this.service.config.bounds?this.service.config.bounds:this.document.body);let oe=this.debug;!oe&&!1!==oe&&this.service.config.debug&&(oe=this.service.config.debug);let le=this.readOnly;!le&&!1!==this.readOnly&&(le=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let ge=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(ge=this.service.config.defaultEmptyValue);let Ae=this.scrollingContainer;!Ae&&null!==this.scrollingContainer&&(Ae=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let Te=this.formats;if(!Te&&void 0===Te&&(Te=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new x(this.editorElem,{bounds:te,debug:oe,formats:Te,modules:B,placeholder:G,readOnly:le,defaultEmptyValue:ge,scrollingContainer:Ae,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container.addEventListener("mousedown",ke=>ke.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder){var be,we;const ke=null===(be=this.quillEditor)||void 0===be||null===(be=be.theme)||void 0===be?void 0:be.tooltip,Ce=null==ke||null===(we=ke.root)||void 0===we?void 0:we.querySelector("input[data-link]");null!=Ce&&Ce.dataset&&(Ce.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===Se(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const we=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(we,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var x;this.dispose(),null===(x=this.quillSubscription)||void 0===x||x.unsubscribe(),this.quillSubscription=null}ngOnChanges(x){if(this.quillEditor){if(x.readOnly&&this.quillEditor.enable(!x.readOnly.currentValue),x.placeholder&&(this.quillEditor.root.dataset.placeholder=x.placeholder.currentValue),x.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=x.defaultEmptyValue.currentValue),x.styles){const M=x.styles.currentValue,B=x.styles.previousValue;B&&Object.keys(B).forEach(G=>{this.renderer.removeStyle(this.editorElem,G)}),M&&Object.keys(M).forEach(G=>{this.renderer.setStyle(this.editorElem,G,this.styles[G])})}if(x.classes){const M=x.classes.currentValue,B=x.classes.previousValue;B&&this.removeClasses(B),M&&this.addClasses(M)}x.debounceTime&&this.addQuillEventListeners()}}addClasses(x){Z.normalizeClassNames(x).forEach(M=>{this.renderer.addClass(this.editorElem,M)})}removeClasses(x){Z.normalizeClassNames(x).forEach(M=>{this.renderer.removeClass(this.editorElem,M)})}writeValue(x){if(this.filterNull&&null===x||(this.content=x,!this.quillEditor))return;const M=Se(this.format,this.service.config.format),B=this.valueSetter(this.quillEditor,x);if(this.compareValues){const G=this.quillEditor.getContents();if(JSON.stringify(G)===JSON.stringify(B))return}x?"text"===M?this.quillEditor.setText(x):this.quillEditor.setContents(B):this.quillEditor.setText("")}setDisabledState(x=this.disabled){this.disabled=x,this.quillEditor&&(x?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(x){this.onModelChange=x}registerOnTouched(x){this.onModelTouched=x}registerOnValidatorChange(x){this.onValidatorChanged=x}validate(){if(!this.quillEditor)return null;const x={};let M=!0;const B=this.quillEditor.getText(),G=this.trimOnValidation?B.trim().length:1===B.length&&0===B.trim().length?0:B.length-1,te=this.quillEditor.getContents().ops,oe=te&&1===te.length&&["\n",""].includes(te[0].insert);return this.minLength&&G&&G<this.minLength&&(x.minLengthError={given:G,minLength:this.minLength},M=!1),this.maxLength&&G>this.maxLength&&(x.maxLengthError={given:G,maxLength:this.maxLength},M=!1),this.required&&!G&&oe&&(x.requiredError={empty:!0},M=!1),M?null:x}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new zt.w0,this.subscription.add((0,Ie.R)(this.quillEditor,"selection-change").subscribe(([B,G,te])=>{this.selectionChangeHandler(B,G,te)}));let x=(0,Ie.R)(this.quillEditor,"text-change"),M=(0,Ie.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(x=x.pipe((0,Fe.b)(this.debounceTime)),M=M.pipe((0,Fe.b)(this.debounceTime))),this.subscription.add(x.subscribe(([B,G,te])=>{this.textChangeHandler(B,G,te)})),this.subscription.add(M.subscribe(([B,G,te,oe])=>{this.editorChangeHandler(B,G,te,oe)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275dir=e.lG2({type:g,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[e.TTD]}),Z})(),Ze=(()=>{var g;class Z extends on{}return(g=Z).\u0275fac=function(){let k;return function(M){return(k||(k=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:D.JU,useExisting:(0,e.Gpc)(()=>g)},{multi:!0,provide:D.Cf,useExisting:(0,e.Gpc)(()=>g)}]),e.qOj,e.jDz],ngContentSelectors:tn,decls:7,vars:2,consts:[[3,"ngIf"],["noPreserveTpl",""],["quill-editor-element","",4,"ngIf","ngIfElse"],["quill-editor-element",""]],template:function(x,M){1&x&&(e.F$t(en),e.YNc(0,Kt,1,2,"ng-template",0),e.Hsn(1),e.Hsn(2,1),e.Hsn(3,2),e.YNc(4,$t,1,2,"ng-template",0),e.YNc(5,Xt,1,0,"ng-template",null,1,e.W1O)),2&x&&(e.Q6J("ngIf","top"!==M.toolbarPosition),e.xp6(4),e.Q6J("ngIf","top"===M.toolbarPosition))},dependencies:[y.ez,y.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),Z})(),ln=(()=>{var g;class Z{constructor(x,M){this.sanitizer=x,this.service=M,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(x){if(x.theme?this.themeClass=`ql-${x.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),x.content){const M=x.content.currentValue,B=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=B?M:this.sanitizer.bypassSecurityTrustHtml(M)}}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(qe.H7),e.Y36(Re))},g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(x,M){1&x&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&x&&(e.Q6J("ngClass",M.themeClass),e.xp6(1),e.Q6J("innerHTML",M.innerHTML,e.oJD))},dependencies:[y.ez,y.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),Z})(),an=(()=>{var g;class Z{constructor(x,M,B,G,te,oe){this.elementRef=x,this.renderer=M,this.zone=B,this.service=G,this.domSanitizer=te,this.platformId=oe,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new e.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(le,ge)=>{const Ae=Se(this.format,this.service.config.format);let Te=ge;if("text"===Ae)le.setText(Te);else{if("html"===Ae)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(ge=this.domSanitizer.sanitize(e.q3G.HTML,ge)),Te=le.clipboard.convert(ge);else if("json"===Ae)try{Te=JSON.parse(ge)}catch(be){Te=[{insert:ge}]}le.setContents(Te)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(x){this.quillEditor&&x.content&&this.valueSetter(this.quillEditor,x.content.currentValue)}ngAfterViewInit(){(0,y.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,Ue.z)(x=>{var M;const B=[this.service.registerCustomModules(x,this.customModules)],G=null!==(M=this.beforeRender)&&void 0!==M?M:this.service.config.beforeRender;return G&&B.push(G()),Promise.all(B).then(()=>x)})).subscribe(x=>{const M=Object.assign({},this.modules||this.service.config.modules);M.toolbar=!1,this.customOptions.forEach(oe=>{const le=x.import(oe.import);le.whitelist=oe.whitelist,x.register(le,!0)});let B=this.debug;!B&&!1!==B&&this.service.config.debug&&(B=this.service.config.debug);let G=this.formats;!G&&void 0===G&&(G=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const te=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new x(this.editorElem,{debug:B,formats:G,modules:M,readOnly:!0,strict:this.strict,theme:te})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var x;null===(x=this.quillSubscription)||void 0===x||x.unsubscribe(),this.quillSubscription=null}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Re),e.Y36(qe.H7),e.Y36(e.Lbi))},g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(x,M){1&x&&(e.YNc(0,nn,1,0,"div",0),e.YNc(1,rn,1,0,"pre",0)),2&x&&(e.Q6J("ngIf",!M.preserve),e.xp6(1),e.Q6J("ngIf",M.preserve))},dependencies:[y.ez,y.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),Z})(),sn=(()=>{var g;class Z{static forRoot(x){return{ngModule:Z,providers:[{provide:Le,useValue:x}]}}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[Ze,an,ln]}),Z})();const Ve=["#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];function fn(g,Z){const k=g.getSelection(!0);k&&(g.insertEmbed(k.index,"image",Z,"user"),g.setSelection(k.index+1,0))}function cn(g,Z,k){const x=g.getSelection(!0);if(x){const M=k||Z;g.insertText(x.index,M,"link",Z,"user"),g.setSelection(x.index+M.length,0)}}_(7536);var He=_(9054),dn=_(4825),hn=_(9773),pn=_(4887);const mn=["popover"],vn=function(){return["bottom-start","bottom","auto"]},yn=function(){return["bottom","auto"]};let gn=(()=>{var g;class Z{constructor(x,M){this.uploaderService=x,this.changeDetectorRef=M,this.imagesSelect=new e.vpe,this.filesSelect=new e.vpe,this.urlModel="",this.isUrlValid=!1,this.isUploading=!1,this.popoverMessage="",this.resetPopoverTimer=new me.x}checkImageUrl(){this.isUrlValid=!!/^https:\/\//i.test(this.urlModel)}insertImageFromUrl(x){x.close(),this.isUrlValid&&((0,He.Or)((0,He.Tb)(this.urlModel).ext)?this.imagesSelect.emit([this.urlModel]):this.filesSelect.emit([this.urlModel])),this.urlModel="",this.isUrlValid=!1}handleSelectionEvent(x,M){var B=this;return(0,pe.Z)(function*(){if(B.isUploading)return;B.isUploading=!0,M.close();const G=x.target;if(G.files&&G.files.length){const te=Array.from(G.files);G.value="",yield B.upload(te)}B.isUploading=!1})()}upload(x){var M=this;return(0,pe.Z)(function*(){const B=[],G=[],te=(yield M.uploaderService.uploadFromList(x)).filter(le=>!le.error);for(const le of te)(le.file.isImage?B:G).push(le.file.url);M.imagesSelect.emit(B),M.filesSelect.emit(G);const oe=x.length-(B.length+G.length);oe>0&&M.showError(oe)})()}showError(x){this.resetPopoverTimer.next(),this.popoverMessage=1===x?`${x} file \xe8 stato scartato perch\xe9 non supportato o il caricamento non \xe8 andato a buon fine!`:`${x} file sono stati scartati perch\xe9 non supportati o il caricamento non \xe8 andato a buon fine!`,this.changeDetectorRef.detectChanges(),this.popoverRef.open(),(0,dn.H)(5e3).pipe((0,hn.R)(this.resetPopoverTimer)).subscribe(()=>{this.closePopover(!0)})}closePopover(x=!1){this.popoverRef.isOpen()&&this.popoverRef.close(x)}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(pn.q),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-wysiwyg-image-upload"]],viewQuery:function(x,M){if(1&x&&e.Gf(mn,5),2&x){let B;e.iGM(B=e.CRH())&&(M.popoverRef=B.first)}},outputs:{imagesSelect:"imagesSelect",filesSelect:"filesSelect"},decls:24,vars:13,consts:[["ngbDropdown","","container","body","display","dynamic",1,"dropdown-no-caret",3,"placement","openChange"],["uploadDropown","ngbDropdown"],["type","button","ngbDropdownToggle","","triggers","manual","container","body","popoverClass","text-justify",3,"disabled","ngbPopover","placement"],["popover","ngbPopover"],["viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg"],["height","10","width","12","x","3","y","4",1,"ql-stroke"],["cx","6","cy","7","r","1",1,"ql-fill"],["points","5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12",1,"ql-even","ql-fill"],["ngbDropdownMenu",""],[1,"d-flex","flex-column","px-2"],["for","wysiwyg-image-url",1,"small","text-muted","me-auto"],[1,"input-group"],["type","text","placeholder","URL","id","wysiwyg-image-url",1,"form-control","form-control-sm","fs-reset",3,"ngModel","ngModelChange"],["type","button",1,"input-group-text","btn","btn-sm","btn-outline-primary","text-center",3,"disabled","click"],[1,"small","text-muted","d-flex","separator","align-items-center","my-2"],[1,"px-3","pb-1"],["type","button",1,"btn","btn-sm","btn-primary","text-center","d-block",3,"disabled","click"],["type","file",1,"d-none",3,"multiple","disabled","change"],["fileInput",""]],template:function(x,M){if(1&x){const B=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("openChange",function(te){return te&&M.closePopover()}),e.TgZ(2,"button",2,3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"rect",5)(6,"circle",6)(7,"polyline",7),e.qZA()(),e.kcU(),e.TgZ(8,"div",8)(9,"div",9)(10,"div")(11,"label",10),e._uU(12,"Inserisci da url:"),e.qZA(),e.TgZ(13,"div",11)(14,"input",12),e.NdJ("ngModelChange",function(te){return M.urlModel=te})("ngModelChange",function(){return M.checkImageUrl()}),e.qZA(),e.TgZ(15,"button",13),e.NdJ("click",function(){e.CHM(B);const te=e.MAs(1);return e.KtG(M.insertImageFromUrl(te))}),e._uU(16,"Salva"),e.qZA()()(),e.TgZ(17,"div",14)(18,"div",15),e._uU(19,"oppure"),e.qZA()(),e.TgZ(20,"button",16),e.NdJ("click",function(){e.CHM(B);const te=e.MAs(23);return e.KtG(te.click())}),e._uU(21,"Carica da locale!"),e.qZA()()()(),e.TgZ(22,"input",17,18),e.NdJ("change",function(te){e.CHM(B);const oe=e.MAs(1);return e.KtG(M.handleSelectionEvent(te,oe))}),e.qZA()}2&x&&(e.Q6J("placement",e.DdM(11,vn)),e.xp6(2),e.ekj("pending",M.isUploading),e.Q6J("disabled",M.isUploading)("ngbPopover",M.popoverMessage)("placement",e.DdM(12,yn)),e.xp6(12),e.Q6J("ngModel",M.urlModel),e.xp6(1),e.Q6J("disabled",!M.isUrlValid),e.xp6(5),e.Q6J("disabled",M.isUploading),e.xp6(2),e.Q6J("multiple",!0)("disabled",M.isUploading))},dependencies:[D.Fj,D.JJ,D.On,xe.jt,xe.iD,xe.Vi,xe.o8],styles:['.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex-grow:1;border-bottom:1px solid #dee2e6}.pending[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}#wysiwyg-image-url[_ngcontent-%COMP%]{max-width:100px}@media (min-width: 300px){#wysiwyg-image-url[_ngcontent-%COMP%]{max-width:150px}}@media (min-width: 576px){#wysiwyg-image-url[_ngcontent-%COMP%]{min-width:230px;max-width:unset}}']}),Z})();function bn(g,Z){if(1&g&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&g){const k=Z.$implicit;e.uIk("value",k.const)("selected",void 0===k.const?"selected":void 0),e.xp6(1),e.Oqu(k.title||"")}}function _n(g,Z){if(1&g&&(e.TgZ(0,"select"),e.YNc(1,bn,2,3,"option",4),e.qZA()),2&g){const k=e.oxw().$implicit;e.Tol("ql-"+k.type),e.xp6(1),e.Q6J("ngForOf",k.values)}}function On(g,Z){if(1&g&&e._UZ(0,"button"),2&g){const k=e.oxw().$implicit;e.Tol("ql-"+k.type),e.uIk("value",k.value)}}function En(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,_n,2,3,"select",5),e.YNc(2,On,1,3,"ng-template",null,6,e.W1O),e.BQk()),2&g){const k=Z.$implicit,x=e.MAs(3);e.xp6(1),e.Q6J("ngIf",k.values)("ngIfElse",x)}}function Tn(g,Z){if(1&g&&(e.TgZ(0,"span",1),e.YNc(1,En,4,2,"ng-container",4),e.qZA()),2&g){const k=Z.$implicit;e.xp6(1),e.Q6J("ngForOf",k)}}let xn=(()=>{var g;class Z{constructor(){this.itemGroups=function un(){return[[{type:"bold"},{type:"italic"},{type:"underline"},{type:"strike"}],[{type:"blockquote"},{type:"code-block"}],[{type:"header",value:1},{type:"header",value:2}],[{type:"list",value:"ordered"},{type:"list",value:"bullet"}],[{type:"script",value:"sub"},{type:"script",value:"super"}],[{type:"header",values:[{const:1,title:"Titolo 1"},{const:2,title:"Titolo 2"},{const:3,title:"Titolo 3"},{const:4,title:"Titolo 4"},{const:5,title:"Titolo 5"},{const:6,title:"Titolo 6"},{const:void 0,title:"Normale"}]}],[{type:"color",values:[void 0,...Ve].map(g=>({const:g}))},{type:"background",values:[void 0,...Ve].map(g=>({const:g}))}],[{type:"align",values:[void 0,"center","right","justify"].map(g=>({const:g}))}],[{type:"clean"}]]}()}insertImages(x){for(const M of x)fn(this.quill,M)}insertLinks(x){for(const M of x)cn(this.quill,M)}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-wysiwyg-toolbar"]],inputs:{quill:"quill"},decls:4,vars:1,consts:[["class","ql-formats",4,"ngFor","ngForOf"],[1,"ql-formats"],[1,"ql-link"],[1,"d-inline-block",3,"imagesSelect","filesSelect"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["btnTemplate",""]],template:function(x,M){1&x&&(e.YNc(0,Tn,2,1,"span",0),e.TgZ(1,"span",1),e._UZ(2,"button",2),e.TgZ(3,"app-wysiwyg-image-upload",3),e.NdJ("imagesSelect",function(G){return M.insertImages(G)})("filesSelect",function(G){return M.insertLinks(G)}),e.qZA()()),2&x&&e.Q6J("ngForOf",M.itemGroups)},dependencies:[y.sg,y.O5,D.YN,D.Kr,gn]}),Z})();const wn=function(g){return{height:g}};let An=(()=>{var g;class Z extends w.fS{}return(g=Z).\u0275fac=function(){let k;return function(M){return(k||(k=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-wysiwyg"]],features:[e.qOj],decls:3,vars:9,consts:[["linkPlaceholder","URL","bounds","self",1,"w-100",3,"formControl","formlyAttributes","placeholder","sanitize","debounceTime","styles","onEditorCreated"],["quill-editor-toolbar",""],[3,"quill"]],template:function(x,M){1&x&&(e.TgZ(0,"quill-editor",0),e.NdJ("onEditorCreated",function(G){return M.quill=G}),e.TgZ(1,"div",1),e._UZ(2,"app-wysiwyg-toolbar",2),e.qZA()()),2&x&&(e.Q6J("formControl",M.formControl)("formlyAttributes",M.field)("placeholder",M.field.props.placeholder||"")("sanitize",!0)("debounceTime",300)("styles",e.VKq(7,wn,M.props.height)),e.xp6(2),e.Q6J("quill",M.quill))},dependencies:[w.JD,D.JJ,Ze,D.oH,xn]}),Z})(),Sn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,w.X0.forChild({types:[{name:"wysiwyg",component:An,wrappers:["form-field"]}]}),D.u5,xe.XC,xe.dT,sn.forRoot(),D.UX]}),Z})(),kn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,D.u5]}),Z})();var Je=_(3038),Qe=_(5063);let Nn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,De.mZ,q.q,Je.G,Qe.g]}),Z})(),Cn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,w.X0.forChild(),D.u5,xe.ZS]}),Z})(),Mn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,kn,w.X0.forChild(),D.u5,D.UX,Nn,Cn]}),Z})();var Fn=_(4295);let Pn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,q.Vy,q.d3,Sn,Mn,w.X0.forChild({types:[{name:"array",component:T},{name:"code-editor",component:he,wrappers:["form-field"]},{name:"forum-groups",component:_e,wrappers:["form-field"]},{name:"forum-sections",component:Bt,wrappers:["form-field"]},{name:"label",component:Vt},{name:"forum-users",component:Zt},{name:"forum-list",component:Tt}]}),D.u5,Fn.$,q.q,X,xe.ZS,Je.G,Qe.g]}),Z})()},7536:function(Ne){typeof self<"u"&&self,Ne.exports=function(J){var _={};function y(q){if(_[q])return _[q].exports;var S=_[q]={i:q,l:!1,exports:{}};return J[q].call(S.exports,S,S.exports,y),S.l=!0,S.exports}return y.m=J,y.c=_,y.d=function(q,S,w){y.o(q,S)||Object.defineProperty(q,S,{configurable:!1,enumerable:!0,get:w})},y.n=function(q){var S=q&&q.__esModule?function(){return q.default}:function(){return q};return y.d(S,"a",S),S},y.o=function(q,S){return Object.prototype.hasOwnProperty.call(q,S)},y.p="",y(y.s=109)}([function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=y(17),S=y(18),w=y(19),e=y(45),E=y(46),m=y(47),a=y(48),i=y(49),r=y(12),f=y(32),l=y(33),s=y(31),o=y(1);_.default={Scope:o.Scope,create:o.create,find:o.find,query:o.query,register:o.register,Container:q.default,Format:S.default,Leaf:w.default,Embed:a.default,Scroll:e.default,Block:m.default,Inline:E.default,Text:i.default,Attributor:{Attribute:r.default,Class:f.default,Style:l.default,Store:s.default}}},function(J,_,y){"use strict";var s,q=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,t){o.__proto__=t}||function(o,t){for(var u in t)t.hasOwnProperty(u)&&(o[u]=t[u])},function(o,t){function u(){this.constructor=o}s(o,t),o.prototype=null===t?Object.create(t):(u.prototype=t.prototype,new u)});Object.defineProperty(_,"__esModule",{value:!0});var S=function(s){function o(t){var u=this;return(u=s.call(this,t="[Parchment] "+t)||this).message=t,u.name=u.constructor.name,u}return q(o,s),o}(Error);_.ParchmentError=S;var a,w={},e={},E={},m={};function f(s,o){var t;if(void 0===o&&(o=a.ANY),"string"==typeof s)t=m[s]||w[s];else if(s instanceof Text||s.nodeType===Node.TEXT_NODE)t=m.text;else if("number"==typeof s)s&a.LEVEL&a.BLOCK?t=m.block:s&a.LEVEL&a.INLINE&&(t=m.inline);else if(s instanceof HTMLElement){var u=(s.getAttribute("class")||"").split(/\s+/);for(var n in u)if(t=e[u[n]])break;t=t||E[s.tagName]}return null==t?null:o&a.LEVEL&t.scope&&o&a.TYPE&t.scope?t:null}_.DATA_KEY="__blot",function(s){s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY"}(a=_.Scope||(_.Scope={})),_.create=function i(s,o){var t=f(s);if(null==t)throw new S("Unable to create "+s+" blot");var u=t,n=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:u.create(o);return new u(n,o)},_.find=function r(s,o){return void 0===o&&(o=!1),null==s?null:null!=s[_.DATA_KEY]?s[_.DATA_KEY].blot:o?r(s.parentNode,o):null},_.query=f,_.register=function l(){for(var s=[],o=0;o<arguments.length;o++)s[o]=arguments[o];if(s.length>1)return s.map(function(n){return l(n)});var t=s[0];if("string"!=typeof t.blotName&&"string"!=typeof t.attrName)throw new S("Invalid definition");if("abstract"===t.blotName)throw new S("Cannot register abstract class");return m[t.blotName||t.attrName]=t,"string"==typeof t.keyName?w[t.keyName]=t:(null!=t.className&&(e[t.className]=t),null!=t.tagName&&(t.tagName=Array.isArray(t.tagName)?t.tagName.map(function(n){return n.toUpperCase()}):t.tagName.toUpperCase(),(Array.isArray(t.tagName)?t.tagName:[t.tagName]).forEach(function(n){(null==E[n]||null==t.className)&&(E[n]=t)}))),t}},function(J,_,y){var q=y(51),S=y(11),w=y(3),e=y(20),E=String.fromCharCode(0),m=function(a){this.ops=Array.isArray(a)?a:null!=a&&Array.isArray(a.ops)?a.ops:[]};m.prototype.insert=function(a,i){var r={};return 0===a.length?this:(r.insert=a,null!=i&&"object"==typeof i&&Object.keys(i).length>0&&(r.attributes=i),this.push(r))},m.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},m.prototype.retain=function(a,i){if(a<=0)return this;var r={retain:a};return null!=i&&"object"==typeof i&&Object.keys(i).length>0&&(r.attributes=i),this.push(r)},m.prototype.push=function(a){var i=this.ops.length,r=this.ops[i-1];if(a=w(!0,{},a),"object"==typeof r){if("number"==typeof a.delete&&"number"==typeof r.delete)return this.ops[i-1]={delete:r.delete+a.delete},this;if("number"==typeof r.delete&&null!=a.insert&&"object"!=typeof(r=this.ops[(i-=1)-1]))return this.ops.unshift(a),this;if(S(a.attributes,r.attributes)){if("string"==typeof a.insert&&"string"==typeof r.insert)return this.ops[i-1]={insert:r.insert+a.insert},"object"==typeof a.attributes&&(this.ops[i-1].attributes=a.attributes),this;if("number"==typeof a.retain&&"number"==typeof r.retain)return this.ops[i-1]={retain:r.retain+a.retain},"object"==typeof a.attributes&&(this.ops[i-1].attributes=a.attributes),this}}return i===this.ops.length?this.ops.push(a):this.ops.splice(i,0,a),this},m.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},m.prototype.filter=function(a){return this.ops.filter(a)},m.prototype.forEach=function(a){this.ops.forEach(a)},m.prototype.map=function(a){return this.ops.map(a)},m.prototype.partition=function(a){var i=[],r=[];return this.forEach(function(f){(a(f)?i:r).push(f)}),[i,r]},m.prototype.reduce=function(a,i){return this.ops.reduce(a,i)},m.prototype.changeLength=function(){return this.reduce(function(a,i){return i.insert?a+e.length(i):i.delete?a-i.delete:a},0)},m.prototype.length=function(){return this.reduce(function(a,i){return a+e.length(i)},0)},m.prototype.slice=function(a,i){a=a||0,"number"!=typeof i&&(i=1/0);for(var r=[],f=e.iterator(this.ops),l=0;l<i&&f.hasNext();){var s;l<a?s=f.next(a-l):(s=f.next(i-l),r.push(s)),l+=e.length(s)}return new m(r)},m.prototype.compose=function(a){var i=e.iterator(this.ops),r=e.iterator(a.ops),f=[],l=r.peek();if(null!=l&&"number"==typeof l.retain&&null==l.attributes){for(var s=l.retain;"insert"===i.peekType()&&i.peekLength()<=s;)s-=i.peekLength(),f.push(i.next());l.retain-s>0&&r.next(l.retain-s)}for(var o=new m(f);i.hasNext()||r.hasNext();)if("insert"===r.peekType())o.push(r.next());else if("delete"===i.peekType())o.push(i.next());else{var t=Math.min(i.peekLength(),r.peekLength()),u=i.next(t),n=r.next(t);if("number"==typeof n.retain){var d={};"number"==typeof u.retain?d.retain=t:d.insert=u.insert;var c=e.attributes.compose(u.attributes,n.attributes,"number"==typeof u.retain);if(c&&(d.attributes=c),o.push(d),!r.hasNext()&&S(o.ops[o.ops.length-1],d)){var b=new m(i.rest());return o.concat(b).chop()}}else"number"==typeof n.delete&&"number"==typeof u.retain&&o.push(n)}return o.chop()},m.prototype.concat=function(a){var i=new m(this.ops.slice());return a.ops.length>0&&(i.push(a.ops[0]),i.ops=i.ops.concat(a.ops.slice(1))),i},m.prototype.diff=function(a,i){if(this.ops===a.ops)return new m;var r=[this,a].map(function(t){return t.map(function(u){if(null!=u.insert)return"string"==typeof u.insert?u.insert:E;throw new Error("diff() called "+(t===a?"on":"with")+" non-document")}).join("")}),f=new m,l=q(r[0],r[1],i),s=e.iterator(this.ops),o=e.iterator(a.ops);return l.forEach(function(t){for(var u=t[1].length;u>0;){var n=0;switch(t[0]){case q.INSERT:n=Math.min(o.peekLength(),u),f.push(o.next(n));break;case q.DELETE:n=Math.min(u,s.peekLength()),s.next(n),f.delete(n);break;case q.EQUAL:n=Math.min(s.peekLength(),o.peekLength(),u);var d=s.next(n),c=o.next(n);S(d.insert,c.insert)?f.retain(n,e.attributes.diff(d.attributes,c.attributes)):f.push(c).delete(n)}u-=n}}),f.chop()},m.prototype.eachLine=function(a,i){i=i||"\n";for(var r=e.iterator(this.ops),f=new m,l=0;r.hasNext();){if("insert"!==r.peekType())return;var s=r.peek(),o=e.length(s)-r.peekLength(),t="string"==typeof s.insert?s.insert.indexOf(i,o)-o:-1;if(t<0)f.push(r.next());else if(t>0)f.push(r.next(t));else{if(!1===a(f,r.next(1).attributes||{},l))return;l+=1,f=new m}}f.length()>0&&a(f,{},l)},m.prototype.transform=function(a,i){if(i=!!i,"number"==typeof a)return this.transformPosition(a,i);for(var r=e.iterator(this.ops),f=e.iterator(a.ops),l=new m;r.hasNext()||f.hasNext();)if("insert"!==r.peekType()||!i&&"insert"===f.peekType())if("insert"===f.peekType())l.push(f.next());else{var s=Math.min(r.peekLength(),f.peekLength()),o=r.next(s),t=f.next(s);if(o.delete)continue;t.delete?l.push(t):l.retain(s,e.attributes.transform(o.attributes,t.attributes,i))}else l.retain(e.length(r.next()));return l.chop()},m.prototype.transformPosition=function(a,i){i=!!i;for(var r=e.iterator(this.ops),f=0;r.hasNext()&&f<=a;){var l=r.peekLength(),s=r.peekType();r.next(),"delete"!==s?("insert"===s&&(f<a||!i)&&(a+=l),f+=l):a-=Math.min(l,a-f)}return a},J.exports=m},function(J,_){"use strict";var y=Object.prototype.hasOwnProperty,q=Object.prototype.toString,S=Object.defineProperty,w=Object.getOwnPropertyDescriptor,e=function(r){return"function"==typeof Array.isArray?Array.isArray(r):"[object Array]"===q.call(r)},E=function(r){if(!r||"[object Object]"!==q.call(r))return!1;var s,f=y.call(r,"constructor"),l=r.constructor&&r.constructor.prototype&&y.call(r.constructor.prototype,"isPrototypeOf");if(r.constructor&&!f&&!l)return!1;for(s in r);return typeof s>"u"||y.call(r,s)},m=function(r,f){S&&"__proto__"===f.name?S(r,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):r[f.name]=f.newValue},a=function(r,f){if("__proto__"===f){if(!y.call(r,f))return;if(w)return w(r,f).value}return r[f]};J.exports=function i(){var r,f,l,s,o,t,u=arguments[0],n=1,d=arguments.length,c=!1;for("boolean"==typeof u&&(c=u,u=arguments[1]||{},n=2),(null==u||"object"!=typeof u&&"function"!=typeof u)&&(u={});n<d;++n)if(null!=(r=arguments[n]))for(f in r)l=a(u,f),u!==(s=a(r,f))&&(c&&s&&(E(s)||(o=e(s)))?(o?(o=!1,t=l&&e(l)?l:[]):t=l&&E(l)?l:{},m(u,{name:f,newValue:i(c,t,s)})):typeof s<"u"&&m(u,{name:f,newValue:s}));return u}},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BlockEmbed=_.bubbleFormats=void 0;var q=function(){function p(h,T){for(var C=0;C<T.length;C++){var F=T[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}return function(h,T,C){return T&&p(h.prototype,T),C&&p(h,C),h}}(),S=function p(h,T,C){null===h&&(h=Function.prototype);var F=Object.getOwnPropertyDescriptor(h,T);if(void 0===F){var D=Object.getPrototypeOf(h);return null===D?void 0:p(D,T,C)}if("value"in F)return F.value;var V=F.get;return void 0===V?void 0:V.call(C)},e=u(y(3)),m=u(y(2)),i=u(y(0)),f=u(y(16)),s=u(y(6)),t=u(y(7));function u(p){return p&&p.__esModule?p:{default:p}}function n(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function d(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?p:h}function c(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var O=function(p){function h(){return n(this,h),d(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return c(h,p),q(h,[{key:"attach",value:function(){S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new m.default).insert(this.value(),(0,e.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(C,F){var D=i.default.query(C,i.default.Scope.BLOCK_ATTRIBUTE);null!=D&&this.attributes.attribute(D,F)}},{key:"formatAt",value:function(C,F,D,V){this.format(D,V)}},{key:"insertAt",value:function(C,F,D){if("string"==typeof F&&F.endsWith("\n")){var V=i.default.create(N.blotName);this.parent.insertBefore(V,0===C?this:this.next),V.insertAt(0,F.slice(0,-1))}else S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,C,F,D)}}]),h}(i.default.Embed);O.scope=i.default.Scope.BLOCK_BLOT;var N=function(p){function h(T){n(this,h);var C=d(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,T));return C.cache={},C}return c(h,p),q(h,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(C,F){return 0===F.length()?C:C.insert(F.value(),v(F))},new m.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(C,F){S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"deleteAt",this).call(this,C,F),this.cache={}}},{key:"formatAt",value:function(C,F,D,V){F<=0||(i.default.query(D,i.default.Scope.BLOCK)?C+F===this.length()&&this.format(D,V):S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,C,Math.min(F,this.length()-C-1),D,V),this.cache={})}},{key:"insertAt",value:function(C,F,D){if(null!=D)return S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,C,F,D);if(0!==F.length){var V=F.split("\n"),$=V.shift();$.length>0&&(C<this.length()-1||null==this.children.tail?S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,Math.min(C,this.length()-1),$):this.children.tail.insertAt(this.children.tail.length(),$),this.cache={});var j=this;V.reduce(function(I,A){return(j=j.split(I,!0)).insertAt(0,A),A.length},C+$.length)}}},{key:"insertBefore",value:function(C,F){var D=this.children.head;S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,C,F),D instanceof f.default&&D.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(C,F){S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"moveChildren",this).call(this,C,F),this.cache={}}},{key:"optimize",value:function(C){S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,C),this.cache={}}},{key:"path",value:function(C){return S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"path",this).call(this,C,!0)}},{key:"removeChild",value:function(C){S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"removeChild",this).call(this,C),this.cache={}}},{key:"split",value:function(C){var F=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(F&&(0===C||C>=this.length()-1)){var D=this.clone();return 0===C?(this.parent.insertBefore(D,this),this):(this.parent.insertBefore(D,this.next),D)}var V=S(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"split",this).call(this,C,F);return this.cache={},V}}]),h}(i.default.Block);function v(p){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==p||("function"==typeof p.formats&&(h=(0,e.default)(h,p.formats())),null==p.parent||"scroll"==p.parent.blotName||p.parent.statics.scope!==p.statics.scope)?h:v(p.parent,h)}N.blotName="block",N.tagName="P",N.defaultChild="break",N.allowedChildren=[s.default,i.default.Embed,t.default],_.bubbleFormats=v,_.BlockEmbed=O,_.default=N},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.overload=_.expandConfig=void 0;var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},S=function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function j(I,A){var L=[],R=!0,Q=!1,H=void 0;try{for(var U,P=I[Symbol.iterator]();!(R=(U=P.next()).done)&&(L.push(U.value),!A||L.length!==A);R=!0);}catch(z){Q=!0,H=z}finally{try{!R&&P.return&&P.return()}finally{if(Q)throw H}}return L}(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function j(I,A){for(var L=0;L<A.length;L++){var R=A[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,A,L){return A&&j(I.prototype,A),L&&j(I,L),I}}();y(50);var E=v(y(2)),a=v(y(14)),r=v(y(8)),l=v(y(9)),o=v(y(0)),t=y(15),u=v(t),d=v(y(3)),b=v(y(10)),N=v(y(34));function v(j){return j&&j.__esModule?j:{default:j}}function p(j,I,A){return I in j?Object.defineProperty(j,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):j[I]=A,j}var T=(0,b.default)("quill"),C=function(){function j(I){var A=this,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function h(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}(this,j),this.options=F(I,L),this.container=this.options.container,null==this.container)return T.error("Invalid Quill container",I);this.options.debug&&j.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new r.default,this.scroll=o.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new u.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(r.default.events.EDITOR_CHANGE,function(H){H===r.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(r.default.events.SCROLL_UPDATE,function(H,P){var U=A.selection.lastRange,z=U&&0===U.length?U.index:void 0;D.call(A,function(){return A.editor.update(null,P,z)},H)});var Q=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+R+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return w(j,null,[{key:"debug",value:function(A){!0===A&&(A="log"),b.default.level(A)}},{key:"find",value:function(A){return A.__quill||o.default.find(A)}},{key:"import",value:function(A){return null==this.imports[A]&&T.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,L){var R=this,Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof A){var H=A.attrName||A.blotName;"string"==typeof H?this.register("formats/"+H,A,L):Object.keys(A).forEach(function(P){R.register(P,A[P],L)})}else null!=this.imports[A]&&!Q&&T.warn("Overwriting "+A+" with",L),this.imports[A]=L,(A.startsWith("blots/")||A.startsWith("formats/"))&&"abstract"!==L.blotName?o.default.register(L):A.startsWith("modules")&&"function"==typeof L.register&&L.register()}}]),w(j,[{key:"addContainer",value:function(A){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof A){var R=A;(A=document.createElement("div")).classList.add(R)}return this.container.insertBefore(A,L),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,L,R){var Q=this,H=V(A,L,R),P=S(H,4);return D.call(this,function(){return Q.editor.deleteText(A,L)},R=P[3],A=P[0],-1*(L=P[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,L){var R=this;return D.call(this,function(){var H=R.getSelection(!0),P=new E.default;if(null==H)return P;if(o.default.query(A,o.default.Scope.BLOCK))P=R.editor.formatLine(H.index,H.length,p({},A,L));else{if(0===H.length)return R.selection.format(A,L),P;P=R.editor.formatText(H.index,H.length,p({},A,L))}return R.setSelection(H,r.default.sources.SILENT),P},arguments.length>2&&void 0!==arguments[2]?arguments[2]:r.default.sources.API)}},{key:"formatLine",value:function(A,L,R,Q,H){var U,P=this,z=V(A,L,R,Q,H),Y=S(z,4);return L=Y[1],U=Y[2],D.call(this,function(){return P.editor.formatLine(A,L,U)},H=Y[3],A=Y[0],0)}},{key:"formatText",value:function(A,L,R,Q,H){var U,P=this,z=V(A,L,R,Q,H),Y=S(z,4);return L=Y[1],U=Y[2],D.call(this,function(){return P.editor.formatText(A,L,U)},H=Y[3],A=Y[0],0)}},{key:"getBounds",value:function(A){var R;R="number"==typeof A?this.selection.getBounds(A,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(A.index,A.length);var Q=this.container.getBoundingClientRect();return{bottom:R.bottom-Q.top,height:R.height,left:R.left-Q.left,right:R.right-Q.left,top:R.top-Q.top,width:R.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-A,R=V(A,L),Q=S(R,2);return this.editor.getContents(A=Q[0],L=Q[1])}},{key:"getFormat",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof A?this.editor.getFormat(A,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof A?this.scroll.lines(A.index,A.length):this.scroll.lines(A,L)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-A,R=V(A,L),Q=S(R,2);return this.editor.getText(A=Q[0],L=Q[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,L,R){var Q=this;return D.call(this,function(){return Q.editor.insertEmbed(A,L,R)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.sources.API,A)}},{key:"insertText",value:function(A,L,R,Q,H){var U,P=this,z=V(A,0,R,Q,H),Y=S(z,4);return U=Y[2],D.call(this,function(){return P.editor.insertText(A,L,U)},H=Y[3],A=Y[0],L.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,L,R){this.clipboard.dangerouslyPasteHTML(A,L,R)}},{key:"removeFormat",value:function(A,L,R){var Q=this,H=V(A,L,R),P=S(H,4);return L=P[1],D.call(this,function(){return Q.editor.removeFormat(A,L)},R=P[3],A=P[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var L=this;return D.call(this,function(){A=new E.default(A);var Q=L.getLength(),H=L.editor.deleteText(0,Q),P=L.editor.applyDelta(A),U=P.ops[P.ops.length-1];return null!=U&&"string"==typeof U.insert&&"\n"===U.insert[U.insert.length-1]&&(L.editor.deleteText(L.getLength()-1,1),P.delete(1)),H.compose(P)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.sources.API)}},{key:"setSelection",value:function(A,L,R){if(null==A)this.selection.setRange(null,L||j.sources.API);else{var Q=V(A,L,R),H=S(Q,4);R=H[3],this.selection.setRange(new t.Range(A=H[0],L=H[1]),R),R!==r.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.sources.API,R=(new E.default).insert(A);return this.setContents(R,L)}},{key:"update",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.default.sources.USER,L=this.scroll.update(A);return this.selection.update(A),L}},{key:"updateContents",value:function(A){var L=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.default.sources.API;return D.call(this,function(){return A=new E.default(A),L.editor.applyDelta(A,R)},R,!0)}}]),j}();function F(j,I){if((I=(0,d.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},I)).theme&&I.theme!==C.DEFAULTS.theme){if(I.theme=C.import("themes/"+I.theme),null==I.theme)throw new Error("Invalid theme "+I.theme+". Did you register it?")}else I.theme=N.default;var A=(0,d.default)(!0,{},I.theme.DEFAULTS);[A,I].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(H){!0===Q.modules[H]&&(Q.modules[H]={})})});var R=Object.keys(A.modules).concat(Object.keys(I.modules)).reduce(function(Q,H){var P=C.import("modules/"+H);return null==P?T.error("Cannot load "+H+" module. Are you sure you registered it?"):Q[H]=P.DEFAULTS||{},Q},{});return null!=I.modules&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,d.default)(!0,{},C.DEFAULTS,{modules:R},A,I),["bounds","container","scrollingContainer"].forEach(function(Q){"string"==typeof I[Q]&&(I[Q]=document.querySelector(I[Q]))}),I.modules=Object.keys(I.modules).reduce(function(Q,H){return I.modules[H]&&(Q[H]=I.modules[H]),Q},{}),I}function D(j,I,A,L){if(this.options.strict&&!this.isEnabled()&&I===r.default.sources.USER)return new E.default;var R=null==A?null:this.getSelection(),Q=this.editor.delta,H=j();if(null!=R&&(!0===A&&(A=R.index),null==L?R=$(R,H,I):0!==L&&(R=$(R,A,L,I)),this.setSelection(R,r.default.sources.SILENT)),H.length()>0){var P,z,U=[r.default.events.TEXT_CHANGE,H,Q,I];(P=this.emitter).emit.apply(P,[r.default.events.EDITOR_CHANGE].concat(U)),I!==r.default.sources.SILENT&&(z=this.emitter).emit.apply(z,U)}return H}function V(j,I,A,L,R){var Q={};return"number"==typeof j.index&&"number"==typeof j.length?"number"!=typeof I?(R=L,L=A,A=I,I=j.length,j=j.index):(I=j.length,j=j.index):"number"!=typeof I&&(R=L,L=A,A=I,I=0),"object"===(typeof A>"u"?"undefined":q(A))?(Q=A,R=L):"string"==typeof A&&(null!=L?Q[A]=L:R=A),[j,I,Q,R=R||r.default.sources.API]}function $(j,I,A,L){if(null==j)return null;var R=void 0,Q=void 0;if(I instanceof E.default){var H=[j.index,j.index+j.length].map(function(Y){return I.transformPosition(Y,L!==r.default.sources.USER)}),P=S(H,2);R=P[0],Q=P[1]}else{var U=[j.index,j.index+j.length].map(function(Y){return Y<I||Y===I&&L===r.default.sources.USER?Y:A>=0?Y+A:Math.max(I,Y+A)}),z=S(U,2);R=z[0],Q=z[1]}return new t.Range(R,Q-R)}C.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},C.events=r.default.events,C.sources=r.default.sources,C.version="1.3.7",C.imports={delta:E.default,parchment:o.default,"core/module":l.default,"core/theme":N.default},_.expandConfig=F,_.overload=V,_.default=C},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),S=function s(o,t,u){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var d=Object.getPrototypeOf(o);return null===d?void 0:s(d,t,u)}if("value"in n)return n.value;var c=n.get;return void 0===c?void 0:c.call(u)},e=a(y(7)),m=a(y(0));function a(s){return s&&s.__esModule?s:{default:s}}var l=function(s){function o(){return function i(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function r(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?s:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function f(s,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}(o,s),q(o,[{key:"formatAt",value:function(u,n,d,c){if(o.compare(this.statics.blotName,d)<0&&m.default.query(d,m.default.Scope.BLOT)){var b=this.isolate(u,n);c&&b.wrap(d,c)}else S(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"formatAt",this).call(this,u,n,d,c)}},{key:"optimize",value:function(u){if(S(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"optimize",this).call(this,u),this.parent instanceof o&&o.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(u,n){var d=o.order.indexOf(u),c=o.order.indexOf(n);return d>=0||c>=0?d-c:u===n?0:u<n?-1:1}}]),o}(m.default.Inline);l.allowedChildren=[l,m.default.Embed,e.default],l.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],_.default=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(i){function r(){return function e(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function E(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function m(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),r}(function w(i){return i&&i.__esModule?i:{default:i}}(y(0)).default.Text);_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function t(u,n){for(var d=0;d<n.length;d++){var c=n[d];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(u,c.key,c)}}return function(u,n,d){return n&&t(u.prototype,n),d&&t(u,d),u}}(),S=function t(u,n,d){null===u&&(u=Function.prototype);var c=Object.getOwnPropertyDescriptor(u,n);if(void 0===c){var b=Object.getPrototypeOf(u);return null===b?void 0:t(b,n,d)}if("value"in c)return c.value;var O=c.get;return void 0===O?void 0:O.call(d)},e=a(y(54));function a(t){return t&&t.__esModule?t:{default:t}}var l=(0,a(y(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(t){document.addEventListener(t,function(){for(var u=arguments.length,n=Array(u),d=0;d<u;d++)n[d]=arguments[d];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(c){var b;c.__quill&&c.__quill.emitter&&(b=c.__quill.emitter).handleDOM.apply(b,n)})})});var o=function(t){function u(){!function i(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var n=function r(t,u){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?t:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this));return n.listeners={},n.on("error",l.error),n}return function f(t,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}(u,t),q(u,[{key:"emit",value:function(){l.log.apply(l,arguments),S(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(d){for(var c=arguments.length,b=Array(c>1?c-1:0),O=1;O<c;O++)b[O-1]=arguments[O];(this.listeners[d.type]||[]).forEach(function(N){var v=N.node,p=N.handler;(d.target===v||v.contains(d.target))&&p.apply(void 0,[d].concat(b))})}},{key:"listenDOM",value:function(d,c,b){this.listeners[d]||(this.listeners[d]=[]),this.listeners[d].push({node:c,handler:b})}}]),u}(e.default);o.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},o.sources={API:"api",SILENT:"silent",USER:"user"},_.default=o},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var S=function w(e){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function q(w,e){if(!(w instanceof e))throw new TypeError("Cannot call a class as a function")})(this,w),this.quill=e,this.options=E};S.DEFAULTS={},_.default=S},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=["error","warn","log","info"],S="warn";function w(E){if(q.indexOf(E)<=q.indexOf(S)){for(var m,a=arguments.length,i=Array(a>1?a-1:0),r=1;r<a;r++)i[r-1]=arguments[r];(m=console)[E].apply(m,i)}}function e(E){return q.reduce(function(m,a){return m[a]=w.bind(console,a,E),m},{})}w.level=e.level=function(E){S=E},_.default=e},function(J,_,y){var q=Array.prototype.slice,S=y(52),w=y(53),e=J.exports=function(i,r,f){return f||(f={}),i===r||(i instanceof Date&&r instanceof Date?i.getTime()===r.getTime():!i||!r||"object"!=typeof i&&"object"!=typeof r?f.strict?i===r:i==r:function a(i,r,f){var l,s;if(E(i)||E(r)||i.prototype!==r.prototype)return!1;if(w(i))return!!w(r)&&(i=q.call(i),r=q.call(r),e(i,r,f));if(m(i)){if(!m(r)||i.length!==r.length)return!1;for(l=0;l<i.length;l++)if(i[l]!==r[l])return!1;return!0}try{var o=S(i),t=S(r)}catch(u){return!1}if(o.length!=t.length)return!1;for(o.sort(),t.sort(),l=o.length-1;l>=0;l--)if(o[l]!=t[l])return!1;for(l=o.length-1;l>=0;l--)if(!e(i[s=o[l]],r[s],f))return!1;return typeof i==typeof r}(i,r,f))};function E(i){return null==i}function m(i){return!(!i||"object"!=typeof i||"number"!=typeof i.length||"function"!=typeof i.copy||"function"!=typeof i.slice||i.length>0&&"number"!=typeof i[0])}},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=y(1),S=function(){function w(e,E,m){void 0===m&&(m={}),this.attrName=e,this.keyName=E,this.scope=null!=m.scope?m.scope&q.Scope.LEVEL|q.Scope.TYPE&q.Scope.ATTRIBUTE:q.Scope.ATTRIBUTE,null!=m.whitelist&&(this.whitelist=m.whitelist)}return w.keys=function(e){return[].map.call(e.attributes,function(E){return E.name})},w.prototype.add=function(e,E){return!!this.canAdd(e,E)&&(e.setAttribute(this.keyName,E),!0)},w.prototype.canAdd=function(e,E){return null!=q.query(e,q.Scope.BLOT&(this.scope|q.Scope.TYPE))&&(null==this.whitelist||("string"==typeof E?this.whitelist.indexOf(E.replace(/["']/g,""))>-1:this.whitelist.indexOf(E)>-1))},w.prototype.remove=function(e){e.removeAttribute(this.keyName)},w.prototype.value=function(e){var E=e.getAttribute(this.keyName);return this.canAdd(e,E)&&E?E:""},w}();_.default=S},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.Code=void 0;var q=function(N,v){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function O(N,v){var p=[],h=!0,T=!1,C=void 0;try{for(var D,F=N[Symbol.iterator]();!(h=(D=F.next()).done)&&(p.push(D.value),!v||p.length!==v);h=!0);}catch(V){T=!0,C=V}finally{try{!h&&F.return&&F.return()}finally{if(T)throw C}}return p}(N,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function(){function O(N,v){for(var p=0;p<v.length;p++){var h=v[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(N,h.key,h)}}return function(N,v,p){return v&&O(N.prototype,v),p&&O(N,p),N}}(),w=function O(N,v,p){null===N&&(N=Function.prototype);var h=Object.getOwnPropertyDescriptor(N,v);if(void 0===h){var T=Object.getPrototypeOf(N);return null===T?void 0:O(T,v,p)}if("value"in h)return h.value;var C=h.get;return void 0===C?void 0:C.call(p)},E=t(y(2)),a=t(y(0)),r=t(y(4)),l=t(y(6)),o=t(y(7));function t(O){return O&&O.__esModule?O:{default:O}}function u(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function n(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||"object"!=typeof N&&"function"!=typeof N?O:N}function d(O,N){if("function"!=typeof N&&null!==N)throw new TypeError("Super expression must either be null or a function, not "+typeof N);O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(O,N):O.__proto__=N)}var c=function(O){function N(){return u(this,N),n(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return d(N,O),N}(l.default);c.blotName="code",c.tagName="CODE";var b=function(O){function N(){return u(this,N),n(this,(N.__proto__||Object.getPrototypeOf(N)).apply(this,arguments))}return d(N,O),S(N,[{key:"delta",value:function(){var p=this,h=this.domNode.textContent;return h.endsWith("\n")&&(h=h.slice(0,-1)),h.split("\n").reduce(function(T,C){return T.insert(C).insert("\n",p.formats())},new E.default)}},{key:"format",value:function(p,h){if(p!==this.statics.blotName||!h){var T=this.descendant(o.default,this.length()-1),F=q(T,1)[0];null!=F&&F.deleteAt(F.length()-1,1),w(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"format",this).call(this,p,h)}}},{key:"formatAt",value:function(p,h,T,C){if(0!==h&&null!=a.default.query(T,a.default.Scope.BLOCK)&&(T!==this.statics.blotName||C!==this.statics.formats(this.domNode))){var F=this.newlineIndex(p);if(!(F<0||F>=p+h)){var D=this.newlineIndex(p,!0)+1,V=F-D+1,$=this.isolate(D,V),j=$.next;$.format(T,C),j instanceof N&&j.formatAt(0,p-D+h-V,T,C)}}}},{key:"insertAt",value:function(p,h,T){if(null==T){var C=this.descendant(o.default,p),F=q(C,2);F[0].insertAt(F[1],h)}}},{key:"length",value:function(){var p=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?p:p+1}},{key:"newlineIndex",value:function(p){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,p).lastIndexOf("\n");var T=this.domNode.textContent.slice(p).indexOf("\n");return T>-1?p+T:-1}},{key:"optimize",value:function(p){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),w(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"optimize",this).call(this,p);var h=this.next;null!=h&&h.prev===this&&h.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===h.statics.formats(h.domNode)&&(h.optimize(p),h.moveChildren(this),h.remove())}},{key:"replace",value:function(p){w(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"replace",this).call(this,p),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(h){var T=a.default.find(h);null==T?h.parentNode.removeChild(h):T instanceof a.default.Embed?T.remove():T.unwrap()})}}],[{key:"create",value:function(p){var h=w(N.__proto__||Object.getPrototypeOf(N),"create",this).call(this,p);return h.setAttribute("spellcheck",!1),h}},{key:"formats",value:function(){return!0}}]),N}(r.default);b.blotName="code-block",b.tagName="PRE",b.TAB="  ",_.Code=c,_.default=b},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},S=function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function j(I,A){var L=[],R=!0,Q=!1,H=void 0;try{for(var U,P=I[Symbol.iterator]();!(R=(U=P.next()).done)&&(L.push(U.value),!A||L.length!==A);R=!0);}catch(z){Q=!0,H=z}finally{try{!R&&P.return&&P.return()}finally{if(Q)throw H}}return L}(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function j(I,A){for(var L=0;L<A.length;L++){var R=A[L];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,A,L){return A&&j(I.prototype,A),L&&j(I,L),I}}(),E=h(y(2)),a=h(y(20)),r=h(y(0)),l=h(y(13)),o=h(y(24)),t=y(4),u=h(t),d=h(y(16)),b=h(y(21)),N=h(y(11)),p=h(y(3));function h(j){return j&&j.__esModule?j:{default:j}}var F=/^[ -~]*$/,D=function(){function j(I){(function C(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")})(this,j),this.scroll=I,this.delta=this.getDelta()}return w(j,[{key:"applyDelta",value:function(A){var L=this,R=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),(A=function $(j){return j.reduce(function(I,A){if(1===A.insert){var L=(0,b.default)(A.attributes);return delete L.image,I.insert({image:A.attributes.image},L)}if(null!=A.attributes&&(!0===A.attributes.list||!0===A.attributes.bullet)&&((A=(0,b.default)(A)).attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),"string"==typeof A.insert){var R=A.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return I.insert(R,A.attributes)}return I.push(A)},new E.default)}(A)).reduce(function(H,P){var U=P.retain||P.delete||P.insert.length||1,z=P.attributes||{};if(null!=P.insert){if("string"==typeof P.insert){var Y=P.insert;Y.endsWith("\n")&&R&&(R=!1,Y=Y.slice(0,-1)),H>=Q&&!Y.endsWith("\n")&&(R=!0),L.scroll.insertAt(H,Y);var X=L.scroll.line(H),re=S(X,2),ae=re[0],se=re[1],de=(0,p.default)({},(0,t.bubbleFormats)(ae));if(ae instanceof u.default){var he=ae.descendant(r.default.Leaf,se),pe=S(he,1);de=(0,p.default)(de,(0,t.bubbleFormats)(pe[0]))}z=a.default.attributes.diff(de,z)||{}}else if("object"===q(P.insert)){var K=Object.keys(P.insert)[0];if(null==K)return H;L.scroll.insertAt(H,K,P.insert[K])}Q+=U}return Object.keys(z).forEach(function(W){L.scroll.formatAt(H,U,W,z[W])}),H+U},0),A.reduce(function(H,P){return"number"==typeof P.delete?(L.scroll.deleteAt(H,P.delete),H):H+(P.retain||P.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,L){return this.scroll.deleteAt(A,L),this.update((new E.default).retain(A).delete(L))}},{key:"formatLine",value:function(A,L){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(H){if(null==R.scroll.whitelist||R.scroll.whitelist[H]){var P=R.scroll.lines(A,Math.max(L,1)),U=L;P.forEach(function(z){var Y=z.length();if(z instanceof l.default){var X=A-z.offset(R.scroll),re=z.newlineIndex(X+U)-X+1;z.formatAt(X,re,H,Q[H])}else z.format(H,Q[H]);U-=Y})}}),this.scroll.optimize(),this.update((new E.default).retain(A).retain(L,(0,b.default)(Q)))}},{key:"formatText",value:function(A,L){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(Q).forEach(function(H){R.scroll.formatAt(A,L,H,Q[H])}),this.update((new E.default).retain(A).retain(L,(0,b.default)(Q)))}},{key:"getContents",value:function(A,L){return this.delta.slice(A,A+L)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,L){return A.concat(L.delta())},new E.default)}},{key:"getFormat",value:function(A){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=[],Q=[];0===L?this.scroll.path(A).forEach(function(P){var z=S(P,1)[0];z instanceof u.default?R.push(z):z instanceof r.default.Leaf&&Q.push(z)}):(R=this.scroll.lines(A,L),Q=this.scroll.descendants(r.default.Leaf,A,L));var H=[R,Q].map(function(P){if(0===P.length)return{};for(var U=(0,t.bubbleFormats)(P.shift());Object.keys(U).length>0;){var z=P.shift();if(null==z)return U;U=V((0,t.bubbleFormats)(z),U)}return U});return p.default.apply(p.default,H)}},{key:"getText",value:function(A,L){return this.getContents(A,L).filter(function(R){return"string"==typeof R.insert}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(A,L,R){return this.scroll.insertAt(A,L,R),this.update((new E.default).retain(A).insert(function T(j,I,A){return I in j?Object.defineProperty(j,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):j[I]=A,j}({},L,R)))}},{key:"insertText",value:function(A,L){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return L=L.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(A,L),Object.keys(Q).forEach(function(H){R.scroll.formatAt(A,L.length,H,Q[H])}),this.update((new E.default).retain(A).insert(L,(0,b.default)(Q)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return!(A.statics.blotName!==u.default.blotName||A.children.length>1)&&A.children.head instanceof d.default}},{key:"removeFormat",value:function(A,L){var R=this.getText(A,L),Q=this.scroll.line(A+L),H=S(Q,2),P=H[0],U=H[1],z=0,Y=new E.default;null!=P&&(z=P instanceof l.default?P.newlineIndex(U)-U+1:P.length()-U,Y=P.delta().slice(U,U+z-1).insert("\n"));var re=this.getContents(A,L+z).diff((new E.default).insert(R).concat(Y)),ae=(new E.default).retain(A).concat(re);return this.applyDelta(ae)}},{key:"update",value:function(A){var L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,Q=this.delta;if(1===L.length&&"characterData"===L[0].type&&L[0].target.data.match(F)&&r.default.find(L[0].target)){var H=r.default.find(L[0].target),P=(0,t.bubbleFormats)(H),U=H.offset(this.scroll),z=L[0].oldValue.replace(o.default.CONTENTS,""),Y=(new E.default).insert(z),X=(new E.default).insert(H.value());A=(new E.default).retain(U).concat(Y.diff(X,R)).reduce(function(ae,se){return se.insert?ae.insert(se.insert,P):ae.push(se)},new E.default),this.delta=Q.compose(A)}else this.delta=this.getDelta(),(!A||!(0,N.default)(Q.compose(A),this.delta))&&(A=Q.diff(this.delta,R));return A}}]),j}();function V(j,I){return Object.keys(I).reduce(function(A,L){return null==j[L]||(I[L]===j[L]?A[L]=I[L]:Array.isArray(I[L])?I[L].indexOf(j[L])<0&&(A[L]=I[L].concat([j[L]])):A[L]=[I[L],j[L]]),A},{})}_.default=D},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.Range=void 0;var q=function(N,v){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function O(N,v){var p=[],h=!0,T=!1,C=void 0;try{for(var D,F=N[Symbol.iterator]();!(h=(D=F.next()).done)&&(p.push(D.value),!v||p.length!==v);h=!0);}catch(V){T=!0,C=V}finally{try{!h&&F.return&&F.return()}finally{if(T)throw C}}return p}(N,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function(){function O(N,v){for(var p=0;p<v.length;p++){var h=v[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(N,h.key,h)}}return function(N,v,p){return v&&O(N.prototype,v),p&&O(N,p),N}}(),e=o(y(0)),m=o(y(21)),i=o(y(11)),f=o(y(8));function o(O){return O&&O.__esModule?O:{default:O}}function t(O){if(Array.isArray(O)){for(var N=0,v=Array(O.length);N<O.length;N++)v[N]=O[N];return v}return Array.from(O)}function u(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}var n=(0,o(y(10)).default)("quill:selection"),d=function O(N){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;u(this,O),this.index=N,this.length=v},c=function(){function O(N,v){var p=this;u(this,O),this.emitter=v,this.scroll=N,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=e.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){p.mouseDown||setTimeout(p.update.bind(p,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(h,T){h===f.default.events.TEXT_CHANGE&&T.length()>0&&p.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(p.hasFocus()){var h=p.getNativeRange();null!=h&&h.start.node!==p.cursor.textNode&&p.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{p.setNativeRange(h.start.node,h.start.offset,h.end.node,h.end.offset)}catch(T){}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(h,T){if(T.range){var C=T.range;p.setNativeRange(C.startNode,C.startOffset,C.endNode,C.endOffset)}}),this.update(f.default.sources.SILENT)}return S(O,[{key:"handleComposition",value:function(){var v=this;this.root.addEventListener("compositionstart",function(){v.composing=!0}),this.root.addEventListener("compositionend",function(){if(v.composing=!1,v.cursor.parent){var p=v.cursor.restore();if(!p)return;setTimeout(function(){v.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)},1)}})}},{key:"handleDragging",value:function(){var v=this;this.emitter.listenDOM("mousedown",document.body,function(){v.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){v.mouseDown=!1,v.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(v,p){if(null==this.scroll.whitelist||this.scroll.whitelist[v]){this.scroll.update();var h=this.getNativeRange();if(null!=h&&h.native.collapsed&&!e.default.query(v,e.default.Scope.BLOCK)){if(h.start.node!==this.cursor.textNode){var T=e.default.find(h.start.node,!1);if(null==T)return;if(T instanceof e.default.Leaf){var C=T.split(h.start.offset);T.parent.insertBefore(this.cursor,C)}else T.insertBefore(this.cursor,h.start.node);this.cursor.attach()}this.cursor.format(v,p),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(v){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=this.scroll.length();v=Math.min(v,h-1),p=Math.min(v+p,h-1)-v;var T=void 0,C=this.scroll.leaf(v),F=q(C,2),D=F[0],V=F[1];if(null==D)return null;var $=D.position(V,!0),j=q($,2);T=j[0],V=j[1];var I=document.createRange();if(p>0){I.setStart(T,V);var A=this.scroll.leaf(v+p),L=q(A,2);if(null==(D=L[0]))return null;var R=D.position(V=L[1],!0),Q=q(R,2);return I.setEnd(T=Q[0],V=Q[1]),I.getBoundingClientRect()}var H="left",P=void 0;return T instanceof Text?(V<T.data.length?(I.setStart(T,V),I.setEnd(T,V+1)):(I.setStart(T,V-1),I.setEnd(T,V),H="right"),P=I.getBoundingClientRect()):(P=D.domNode.getBoundingClientRect(),V>0&&(H="right")),{bottom:P.top+P.height,height:P.height,left:P[H],right:P[H],top:P.top,width:0}}},{key:"getNativeRange",value:function(){var v=document.getSelection();if(null==v||v.rangeCount<=0)return null;var p=v.getRangeAt(0);if(null==p)return null;var h=this.normalizeNative(p);return n.info("getNativeRange",h),h}},{key:"getRange",value:function(){var v=this.getNativeRange();return null==v?[null,null]:[this.normalizedToRange(v),v]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(v){var p=this,h=[[v.start.node,v.start.offset]];v.native.collapsed||h.push([v.end.node,v.end.offset]);var T=h.map(function(D){var V=q(D,2),$=V[0],j=V[1],I=e.default.find($,!0),A=I.offset(p.scroll);return 0===j?A:I instanceof e.default.Container?A+I.length():A+I.index($,j)}),C=Math.min(Math.max.apply(Math,t(T)),this.scroll.length()-1),F=Math.min.apply(Math,[C].concat(t(T)));return new d(F,C-F)}},{key:"normalizeNative",value:function(v){if(!b(this.root,v.startContainer)||!v.collapsed&&!b(this.root,v.endContainer))return null;var p={start:{node:v.startContainer,offset:v.startOffset},end:{node:v.endContainer,offset:v.endOffset},native:v};return[p.start,p.end].forEach(function(h){for(var T=h.node,C=h.offset;!(T instanceof Text)&&T.childNodes.length>0;)if(T.childNodes.length>C)T=T.childNodes[C],C=0;else{if(T.childNodes.length!==C)break;C=(T=T.lastChild)instanceof Text?T.data.length:T.childNodes.length+1}h.node=T,h.offset=C}),p}},{key:"rangeToNative",value:function(v){var p=this,h=v.collapsed?[v.index]:[v.index,v.index+v.length],T=[],C=this.scroll.length();return h.forEach(function(F,D){F=Math.min(C-1,F);var $=p.scroll.leaf(F),j=q($,2),A=j[1],L=j[0].position(A,0!==D),R=q(L,2);T.push(R[0],A=R[1])}),T.length<2&&(T=T.concat(T)),T}},{key:"scrollIntoView",value:function(v){var p=this.lastRange;if(null!=p){var h=this.getBounds(p.index,p.length);if(null!=h){var T=this.scroll.length()-1,C=this.scroll.line(Math.min(p.index,T)),D=q(C,1)[0],V=D;if(p.length>0){var $=this.scroll.line(Math.min(p.index+p.length,T));V=q($,1)[0]}if(null!=D&&null!=V){var I=v.getBoundingClientRect();h.top<I.top?v.scrollTop-=I.top-h.top:h.bottom>I.bottom&&(v.scrollTop+=h.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(v,p){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,C=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(n.info("setNativeRange",v,p,h,T),null==v||null!=this.root.parentNode&&null!=v.parentNode&&null!=h.parentNode){var F=document.getSelection();if(null!=F)if(null!=v){this.hasFocus()||this.root.focus();var D=(this.getNativeRange()||{}).native;if(null==D||C||v!==D.startContainer||p!==D.startOffset||h!==D.endContainer||T!==D.endOffset){"BR"==v.tagName&&(p=[].indexOf.call(v.parentNode.childNodes,v),v=v.parentNode),"BR"==h.tagName&&(T=[].indexOf.call(h.parentNode.childNodes,h),h=h.parentNode);var V=document.createRange();V.setStart(v,p),V.setEnd(h,T),F.removeAllRanges(),F.addRange(V)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(v){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;if("string"==typeof p&&(h=p,p=!1),n.info("setRange",v),null!=v){var T=this.rangeToNative(v);this.setNativeRange.apply(this,t(T).concat([p]))}else this.setNativeRange(null);this.update(h)}},{key:"update",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,p=this.lastRange,h=this.getRange(),T=q(h,2),F=T[1];if(this.lastRange=T[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,i.default)(p,this.lastRange)){var D;!this.composing&&null!=F&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var $,V=[f.default.events.SELECTION_CHANGE,(0,m.default)(this.lastRange),(0,m.default)(p),v];(D=this.emitter).emit.apply(D,[f.default.events.EDITOR_CHANGE].concat(V)),v!==f.default.sources.SILENT&&($=this.emitter).emit.apply($,V)}}}]),O}();function b(O,N){return N instanceof Text&&(N=N.parentNode),O.contains(N)}_.Range=d,_.default=c},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),S=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var r=function(f){function l(){return function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function i(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,[{key:"insertInto",value:function(o,t){0===o.children.length?S(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"insertInto",this).call(this,o,t):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(0)).default.Embed);r.blotName="break",r.tagName="BR",_.default=r},function(J,_,y){"use strict";var a,q=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var f in r)r.hasOwnProperty(f)&&(i[f]=r[f])},function(i,r){function f(){this.constructor=i}a(i,r),i.prototype=null===r?Object.create(r):(f.prototype=r.prototype,new f)});Object.defineProperty(_,"__esModule",{value:!0});var S=y(44),w=y(30),e=y(1),E=function(a){function i(r){var f=a.call(this,r)||this;return f.build(),f}return q(i,a),i.prototype.appendChild=function(r){this.insertBefore(r)},i.prototype.attach=function(){a.prototype.attach.call(this),this.children.forEach(function(r){r.attach()})},i.prototype.build=function(){var r=this;this.children=new S.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var l=m(f);r.insertBefore(l,r.children.head||void 0)}catch(s){if(s instanceof e.ParchmentError)return;throw s}})},i.prototype.deleteAt=function(r,f){if(0===r&&f===this.length())return this.remove();this.children.forEachAt(r,f,function(l,s,o){l.deleteAt(s,o)})},i.prototype.descendant=function(r,f){var l=this.children.find(f),s=l[0],o=l[1];return null==r.blotName&&r(s)||null!=r.blotName&&s instanceof r?[s,o]:s instanceof i?s.descendant(r,o):[null,-1]},i.prototype.descendants=function(r,f,l){void 0===f&&(f=0),void 0===l&&(l=Number.MAX_VALUE);var s=[],o=l;return this.children.forEachAt(f,l,function(t,u,n){(null==r.blotName&&r(t)||null!=r.blotName&&t instanceof r)&&s.push(t),t instanceof i&&(s=s.concat(t.descendants(r,u,o))),o-=n}),s},i.prototype.detach=function(){this.children.forEach(function(r){r.detach()}),a.prototype.detach.call(this)},i.prototype.formatAt=function(r,f,l,s){this.children.forEachAt(r,f,function(o,t,u){o.formatAt(t,u,l,s)})},i.prototype.insertAt=function(r,f,l){var s=this.children.find(r),o=s[0];if(o)o.insertAt(s[1],f,l);else{var u=null==l?e.create("text",f):e.create(f,l);this.appendChild(u)}},i.prototype.insertBefore=function(r,f){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(l){return r instanceof l}))throw new e.ParchmentError("Cannot insert "+r.statics.blotName+" into "+this.statics.blotName);r.insertInto(this,f)},i.prototype.length=function(){return this.children.reduce(function(r,f){return r+f.length()},0)},i.prototype.moveChildren=function(r,f){this.children.forEach(function(l){r.insertBefore(l,f)})},i.prototype.optimize=function(r){if(a.prototype.optimize.call(this,r),0===this.children.length)if(null!=this.statics.defaultChild){var f=e.create(this.statics.defaultChild);this.appendChild(f),f.optimize(r)}else this.remove()},i.prototype.path=function(r,f){void 0===f&&(f=!1);var l=this.children.find(r,f),s=l[0],o=l[1],t=[[this,r]];return s instanceof i?t.concat(s.path(o,f)):(null!=s&&t.push([s,o]),t)},i.prototype.removeChild=function(r){this.children.remove(r)},i.prototype.replace=function(r){r instanceof i&&r.moveChildren(this),a.prototype.replace.call(this,r)},i.prototype.split=function(r,f){if(void 0===f&&(f=!1),!f){if(0===r)return this;if(r===this.length())return this.next}var l=this.clone();return this.parent.insertBefore(l,this.next),this.children.forEachAt(r,this.length(),function(s,o,t){s=s.split(o,f),l.appendChild(s)}),l},i.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},i.prototype.update=function(r,f){var l=this,s=[],o=[];r.forEach(function(t){t.target===l.domNode&&"childList"===t.type&&(s.push.apply(s,t.addedNodes),o.push.apply(o,t.removedNodes))}),o.forEach(function(t){if(!(null!=t.parentNode&&"IFRAME"!==t.tagName&&document.body.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var u=e.find(t);null!=u&&(null==u.domNode.parentNode||u.domNode.parentNode===l.domNode)&&u.detach()}}),s.filter(function(t){return t.parentNode==l.domNode}).sort(function(t,u){return t===u?0:t.compareDocumentPosition(u)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(t){var u=null;null!=t.nextSibling&&(u=e.find(t.nextSibling));var n=m(t);(n.next!=u||null==n.next)&&(null!=n.parent&&n.parent.removeChild(l),l.insertBefore(n,u||void 0))})},i}(w.default);function m(a){var i=e.find(a);if(null==i)try{i=e.create(a)}catch(r){i=e.create(e.Scope.INLINE),[].slice.call(a.childNodes).forEach(function(f){i.domNode.appendChild(f)}),a.parentNode&&a.parentNode.replaceChild(i.domNode,a),i.attach()}return i}_.default=E},function(J,_,y){"use strict";var a,q=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var f in r)r.hasOwnProperty(f)&&(i[f]=r[f])},function(i,r){function f(){this.constructor=i}a(i,r),i.prototype=null===r?Object.create(r):(f.prototype=r.prototype,new f)});Object.defineProperty(_,"__esModule",{value:!0});var S=y(12),w=y(31),e=y(17),E=y(1),m=function(a){function i(r){var f=a.call(this,r)||this;return f.attributes=new w.default(f.domNode),f}return q(i,a),i.formats=function(r){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?r.tagName.toLowerCase():void 0)},i.prototype.format=function(r,f){var l=E.query(r);l instanceof S.default?this.attributes.attribute(l,f):f&&null!=l&&(r!==this.statics.blotName||this.formats()[r]!==f)&&this.replaceWith(r,f)},i.prototype.formats=function(){var r=this.attributes.values(),f=this.statics.formats(this.domNode);return null!=f&&(r[this.statics.blotName]=f),r},i.prototype.replaceWith=function(r,f){var l=a.prototype.replaceWith.call(this,r,f);return this.attributes.copy(l),l},i.prototype.update=function(r,f){var l=this;a.prototype.update.call(this,r,f),r.some(function(s){return s.target===l.domNode&&"attributes"===s.type})&&this.attributes.build()},i.prototype.wrap=function(r,f){var l=a.prototype.wrap.call(this,r,f);return l instanceof i&&l.statics.scope===this.statics.scope&&this.attributes.move(l),l},i}(e.default);_.default=m},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var i in a)a.hasOwnProperty(i)&&(m[i]=a[i])},function(m,a){function i(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(_,"__esModule",{value:!0});var S=y(30),w=y(1),e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return q(m,E),m.value=function(a){return!0},m.prototype.index=function(a,i){return this.domNode===a||this.domNode.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(i,1):-1},m.prototype.position=function(a,i){var r=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return a>0&&(r+=1),[this.parent.domNode,r]},m.prototype.value=function(){var a;return(a={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,a},m.scope=w.Scope.INLINE_BLOT,m}(S.default);_.default=e},function(J,_,y){var q=y(11),S=y(3),w={attributes:{compose:function(E,m,a){"object"!=typeof E&&(E={}),"object"!=typeof m&&(m={});var i=S(!0,{},m);for(var r in a||(i=Object.keys(i).reduce(function(f,l){return null!=i[l]&&(f[l]=i[l]),f},{})),E)void 0!==E[r]&&void 0===m[r]&&(i[r]=E[r]);return Object.keys(i).length>0?i:void 0},diff:function(E,m){"object"!=typeof E&&(E={}),"object"!=typeof m&&(m={});var a=Object.keys(E).concat(Object.keys(m)).reduce(function(i,r){return q(E[r],m[r])||(i[r]=void 0===m[r]?null:m[r]),i},{});return Object.keys(a).length>0?a:void 0},transform:function(E,m,a){if("object"!=typeof E)return m;if("object"==typeof m){if(!a)return m;var i=Object.keys(m).reduce(function(r,f){return void 0===E[f]&&(r[f]=m[f]),r},{});return Object.keys(i).length>0?i:void 0}}},iterator:function(E){return new e(E)},length:function(E){return"number"==typeof E.delete?E.delete:"number"==typeof E.retain?E.retain:"string"==typeof E.insert?E.insert.length:1}};function e(E){this.ops=E,this.index=0,this.offset=0}e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(E){E||(E=1/0);var m=this.ops[this.index];if(m){var a=this.offset,i=w.length(m);if(E>=i-a?(E=i-a,this.index+=1,this.offset=0):this.offset+=E,"number"==typeof m.delete)return{delete:E};var r={};return m.attributes&&(r.attributes=m.attributes),"number"==typeof m.retain?r.retain=E:r.insert="string"==typeof m.insert?m.insert.substr(a,E):m.insert,r}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?w.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var E=this.offset,m=this.index,a=this.next(),i=this.ops.slice(this.index);return this.offset=E,this.index=m,[a].concat(i)}return[]},J.exports=w},function(J,_){var y=function(){"use strict";function q(l,s){return null!=s&&l instanceof s}var S,w,e;try{S=Map}catch(l){S=function(){}}try{w=Set}catch(l){w=function(){}}try{e=Promise}catch(l){e=function(){}}function E(l,s,o,t,u){"object"==typeof s&&(o=s.depth,t=s.prototype,u=s.includeNonEnumerable,s=s.circular);var n=[],d=[],c=typeof Buffer<"u";return typeof s>"u"&&(s=!0),typeof o>"u"&&(o=1/0),function b(O,N){if(null===O)return null;if(0===N)return O;var v,p;if("object"!=typeof O)return O;if(q(O,S))v=new S;else if(q(O,w))v=new w;else if(q(O,e))v=new e(function(I,A){O.then(function(L){I(b(L,N-1))},function(L){A(b(L,N-1))})});else if(E.__isArray(O))v=[];else if(E.__isRegExp(O))v=new RegExp(O.source,f(O)),O.lastIndex&&(v.lastIndex=O.lastIndex);else if(E.__isDate(O))v=new Date(O.getTime());else{if(c&&Buffer.isBuffer(O))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(O.length):new Buffer(O.length),O.copy(v),v;q(O,Error)?v=Object.create(O):typeof t>"u"?(p=Object.getPrototypeOf(O),v=Object.create(p)):(v=Object.create(t),p=t)}if(s){var h=n.indexOf(O);if(-1!=h)return d[h];n.push(O),d.push(v)}for(var T in q(O,S)&&O.forEach(function(I,A){var L=b(A,N-1),R=b(I,N-1);v.set(L,R)}),q(O,w)&&O.forEach(function(I){var A=b(I,N-1);v.add(A)}),O){var C;p&&(C=Object.getOwnPropertyDescriptor(p,T)),(!C||null!=C.set)&&(v[T]=b(O[T],N-1))}if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(O);for(T=0;T<F.length;T++){var D=F[T];(V=Object.getOwnPropertyDescriptor(O,D))&&!V.enumerable&&!u||(v[D]=b(O[D],N-1),V.enumerable||Object.defineProperty(v,D,{enumerable:!1}))}}if(u){var $=Object.getOwnPropertyNames(O);for(T=0;T<$.length;T++){var V,j=$[T];(V=Object.getOwnPropertyDescriptor(O,j))&&V.enumerable||(v[j]=b(O[j],N-1),Object.defineProperty(v,j,{enumerable:!1}))}}return v}(l,o)}function m(l){return Object.prototype.toString.call(l)}function f(l){var s="";return l.global&&(s+="g"),l.ignoreCase&&(s+="i"),l.multiline&&(s+="m"),s}return E.clonePrototype=function(s){if(null===s)return null;var o=function(){};return o.prototype=s,new o},E.__objToStr=m,E.__isDate=function a(l){return"object"==typeof l&&"[object Date]"===m(l)},E.__isArray=function i(l){return"object"==typeof l&&"[object Array]"===m(l)},E.__isRegExp=function r(l){return"object"==typeof l&&"[object RegExp]"===m(l)},E.__getRegExpFlags=f,E}();"object"==typeof J&&J.exports&&(J.exports=y)},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(p,h){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function v(p,h){var T=[],C=!0,F=!1,D=void 0;try{for(var $,V=p[Symbol.iterator]();!(C=($=V.next()).done)&&(T.push($.value),!h||T.length!==h);C=!0);}catch(j){F=!0,D=j}finally{try{!C&&V.return&&V.return()}finally{if(F)throw D}}return T}(p,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function(){function v(p,h){for(var T=0;T<h.length;T++){var C=h[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,h,T){return h&&v(p.prototype,h),T&&v(p,T),p}}(),w=function v(p,h,T){null===p&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,h);if(void 0===C){var F=Object.getPrototypeOf(p);return null===F?void 0:v(F,h,T)}if("value"in C)return C.value;var D=C.get;return void 0===D?void 0:D.call(T)},E=n(y(0)),a=n(y(8)),i=y(4),r=n(i),l=n(y(16)),o=n(y(13)),u=n(y(25));function n(v){return v&&v.__esModule?v:{default:v}}function O(v){return v instanceof r.default||v instanceof i.BlockEmbed}var N=function(v){function p(h,T){!function d(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,p);var C=function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?v:p}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h));return C.emitter=T.emitter,Array.isArray(T.whitelist)&&(C.whitelist=T.whitelist.reduce(function(F,D){return F[D]=!0,F},{})),C.domNode.addEventListener("DOMNodeInserted",function(){}),C.optimize(),C.enable(),C}return function b(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}(p,v),S(p,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,C){var F=this.line(T),D=q(F,2),V=D[0],$=D[1],j=this.line(T+C),A=q(j,1)[0];if(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"deleteAt",this).call(this,T,C),null!=A&&V!==A&&$>0){if(V instanceof i.BlockEmbed||A instanceof i.BlockEmbed)return void this.optimize();if(V instanceof o.default){var L=V.newlineIndex(V.length(),!0);if(L>-1&&(V=V.split(L+1))===A)return void this.optimize()}else if(A instanceof o.default){var R=A.newlineIndex(0);R>-1&&A.split(R+1)}V.moveChildren(A,A.children.head instanceof l.default?null:A.children.head),V.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(T,C,F,D){null!=this.whitelist&&!this.whitelist[F]||(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,T,C,F,D),this.optimize())}},{key:"insertAt",value:function(T,C,F){if(null==F||null==this.whitelist||this.whitelist[C]){if(T>=this.length())if(null==F||null==E.default.query(C,E.default.Scope.BLOCK)){var D=E.default.create(this.statics.defaultChild);this.appendChild(D),null==F&&C.endsWith("\n")&&(C=C.slice(0,-1)),D.insertAt(0,C,F)}else{var V=E.default.create(C,F);this.appendChild(V)}else w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertAt",this).call(this,T,C,F);this.optimize()}}},{key:"insertBefore",value:function(T,C){if(T.statics.scope===E.default.Scope.INLINE_BLOT){var F=E.default.create(this.statics.defaultChild);F.appendChild(T),T=F}w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,T,C)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(O,T)}},{key:"lines",value:function(){return function D(V,$,j){var I=[],A=j;return V.children.forEachAt($,j,function(L,R,Q){O(L)?I.push(L):L instanceof E.default.Container&&(I=I.concat(D(L,R,A))),A-=Q}),I}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],C=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,T,C),T.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,T,C))}},{key:"path",value:function(T){return w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(!0!==this.batch){var C=a.default.sources.USER;"string"==typeof T&&(C=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,C,T),w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,C,T)}}}]),p}(E.default.Scroll);N.blotName="scroll",N.className="ql-editor",N.tagName="DIV",N.defaultChild="block",N.allowedChildren=[r.default,i.BlockEmbed,u.default],_.default=N},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SHORTKEY=_.default=void 0;var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(P){return typeof P}:function(P){return P&&"function"==typeof Symbol&&P.constructor===Symbol&&P!==Symbol.prototype?"symbol":typeof P},S=function(U,z){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return function P(U,z){var Y=[],X=!0,re=!1,ae=void 0;try{for(var de,se=U[Symbol.iterator]();!(X=(de=se.next()).done)&&(Y.push(de.value),!z||Y.length!==z);X=!0);}catch(he){re=!0,ae=he}finally{try{!X&&se.return&&se.return()}finally{if(re)throw ae}}return Y}(U,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function P(U,z){for(var Y=0;Y<z.length;Y++){var X=z[Y];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(U,X.key,X)}}return function(U,z,Y){return z&&P(U.prototype,z),Y&&P(U,Y),U}}(),E=v(y(21)),a=v(y(11)),r=v(y(3)),l=v(y(2)),o=v(y(20)),u=v(y(0)),d=v(y(5)),b=v(y(10)),N=v(y(9));function v(P){return P&&P.__esModule?P:{default:P}}function p(P,U,z){return U in P?Object.defineProperty(P,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):P[U]=z,P}var F=(0,b.default)("quill:keyboard"),D=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",V=function(P){function U(z,Y){!function h(P,U){if(!(P instanceof U))throw new TypeError("Cannot call a class as a function")}(this,U);var X=function T(P,U){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?P:U}(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,z,Y));return X.bindings={},Object.keys(X.options.bindings).forEach(function(re){"list autofill"===re&&null!=z.scroll.whitelist&&!z.scroll.whitelist.list||X.options.bindings[re]&&X.addBinding(X.options.bindings[re])}),X.addBinding({key:U.keys.ENTER,shiftKey:null},L),X.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(X.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},j),X.addBinding({key:U.keys.DELETE},{collapsed:!0},I)):(X.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),X.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),X.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},A),X.addBinding({key:U.keys.DELETE},{collapsed:!1},A),X.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),X.listen(),X}return function C(P,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);P.prototype=Object.create(U&&U.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(P,U):P.__proto__=U)}(U,P),w(U,null,[{key:"match",value:function(Y,X){return X=H(X),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(re){return!!X[re]!==Y[re]&&null!==X[re]})&&X.key===(Y.which||Y.keyCode)}}]),w(U,[{key:"addBinding",value:function(Y){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ae=H(Y);if(null==ae||null==ae.key)return F.warn("Attempted to add invalid keyboard binding",ae);"function"==typeof X&&(X={handler:X}),"function"==typeof re&&(re={handler:re}),ae=(0,r.default)(ae,X,re),this.bindings[ae.key]=this.bindings[ae.key]||[],this.bindings[ae.key].push(ae)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(X){if(!X.defaultPrevented){var ae=(Y.bindings[X.which||X.keyCode]||[]).filter(function(ye){return U.match(X,ye)});if(0!==ae.length){var se=Y.quill.getSelection();if(null!=se&&Y.quill.hasFocus()){var de=Y.quill.getLine(se.index),he=S(de,2),pe=he[0],ve=he[1],K=Y.quill.getLeaf(se.index),W=S(K,2),ne=W[0],ie=W[1],ee=0===se.length?[ne,ie]:Y.quill.getLeaf(se.index+se.length),ue=S(ee,2),fe=ue[0],ce=ue[1],_e=ne instanceof u.default.Text?ne.value().slice(0,ie):"",Oe=fe instanceof u.default.Text?fe.value().slice(ce):"",me={collapsed:0===se.length,empty:0===se.length&&pe.length()<=1,format:Y.quill.getFormat(se),offset:ve,prefix:_e,suffix:Oe};ae.some(function(ye){if(null!=ye.collapsed&&ye.collapsed!==me.collapsed||null!=ye.empty&&ye.empty!==me.empty||null!=ye.offset&&ye.offset!==me.offset)return!1;if(Array.isArray(ye.format)){if(ye.format.every(function(Ee){return null==me.format[Ee]}))return!1}else if("object"===q(ye.format)&&!Object.keys(ye.format).every(function(Ee){return!0===ye.format[Ee]?null!=me.format[Ee]:!1===ye.format[Ee]?null==me.format[Ee]:(0,a.default)(ye.format[Ee],me.format[Ee])}))return!1;return!(null!=ye.prefix&&!ye.prefix.test(me.prefix)||null!=ye.suffix&&!ye.suffix.test(me.suffix))&&!0!==ye.handler.call(Y,se,me)})&&X.preventDefault()}}}})}}]),U}(N.default);function $(P,U){var z;return p(z={key:P,shiftKey:U,altKey:null},P===V.keys.LEFT?"prefix":"suffix",/^$/),p(z,"handler",function(re){var ae=re.index;P===V.keys.RIGHT&&(ae+=re.length+1);var se=this.quill.getLeaf(ae);return!(S(se,1)[0]instanceof u.default.Embed&&(P===V.keys.LEFT?U?this.quill.setSelection(re.index-1,re.length+1,d.default.sources.USER):this.quill.setSelection(re.index-1,d.default.sources.USER):U?this.quill.setSelection(re.index,re.length+1,d.default.sources.USER):this.quill.setSelection(re.index+re.length+1,d.default.sources.USER),1))}),z}function j(P,U){if(!(0===P.index||this.quill.getLength()<=1)){var z=this.quill.getLine(P.index),X=S(z,1)[0],re={};if(0===U.offset){var ae=this.quill.getLine(P.index-1),de=S(ae,1)[0];if(null!=de&&de.length()>1){var he=X.formats(),pe=this.quill.getFormat(P.index-1,1);re=o.default.attributes.diff(he,pe)||{}}}var ve=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(P.index-ve,ve,d.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(P.index-ve,ve,re,d.default.sources.USER),this.quill.focus()}}function I(P,U){var z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(P.index>=this.quill.getLength()-z)){var Y={},X=0,re=this.quill.getLine(P.index),se=S(re,1)[0];if(U.offset>=se.length()-1){var de=this.quill.getLine(P.index+1),pe=S(de,1)[0];if(pe){var ve=se.formats(),K=this.quill.getFormat(P.index,1);Y=o.default.attributes.diff(ve,K)||{},X=pe.length()}}this.quill.deleteText(P.index,z,d.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(P.index+X-1,z,Y,d.default.sources.USER)}}function A(P){var U=this.quill.getLines(P),z={};if(U.length>1){var Y=U[0].formats(),X=U[U.length-1].formats();z=o.default.attributes.diff(X,Y)||{}}this.quill.deleteText(P,d.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(P.index,1,z,d.default.sources.USER),this.quill.setSelection(P.index,d.default.sources.SILENT),this.quill.focus()}function L(P,U){var z=this;P.length>0&&this.quill.scroll.deleteAt(P.index,P.length);var Y=Object.keys(U.format).reduce(function(X,re){return u.default.query(re,u.default.Scope.BLOCK)&&!Array.isArray(U.format[re])&&(X[re]=U.format[re]),X},{});this.quill.insertText(P.index,"\n",Y,d.default.sources.USER),this.quill.setSelection(P.index+1,d.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(X){null==Y[X]&&(Array.isArray(U.format[X])||"link"!==X&&z.quill.format(X,U.format[X],d.default.sources.USER))})}function R(P){return{key:V.keys.TAB,shiftKey:!P,format:{"code-block":!0},handler:function(z){var Y=u.default.query("code-block"),X=z.index,re=z.length,ae=this.quill.scroll.descendant(Y,X),se=S(ae,2),de=se[0],he=se[1];if(null!=de){var pe=this.quill.getIndex(de),ve=de.newlineIndex(he,!0)+1,K=de.newlineIndex(pe+he+re),W=de.domNode.textContent.slice(ve,K).split("\n");he=0,W.forEach(function(ne,ie){P?(de.insertAt(ve+he,Y.TAB),he+=Y.TAB.length,0===ie?X+=Y.TAB.length:re+=Y.TAB.length):ne.startsWith(Y.TAB)&&(de.deleteAt(ve+he,Y.TAB.length),he-=Y.TAB.length,0===ie?X-=Y.TAB.length:re-=Y.TAB.length),he+=ne.length+1}),this.quill.update(d.default.sources.USER),this.quill.setSelection(X,re,d.default.sources.SILENT)}}}}function Q(P){return{key:P[0].toUpperCase(),shortKey:!0,handler:function(z,Y){this.quill.format(P,!Y.format[P],d.default.sources.USER)}}}function H(P){if("string"==typeof P||"number"==typeof P)return H({key:P});if("object"===(typeof P>"u"?"undefined":q(P))&&(P=(0,E.default)(P,!1)),"string"==typeof P.key)if(null!=V.keys[P.key.toUpperCase()])P.key=V.keys[P.key.toUpperCase()];else{if(1!==P.key.length)return null;P.key=P.key.toUpperCase().charCodeAt(0)}return P.shortKey&&(P[D]=P.shortKey,delete P.shortKey),P}V.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},V.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:V.keys.TAB,format:["blockquote","indent","list"],handler:function(U,z){if(z.collapsed&&0!==z.offset)return!0;this.quill.format("indent","+1",d.default.sources.USER)}},outdent:{key:V.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,z){if(z.collapsed&&0!==z.offset)return!0;this.quill.format("indent","-1",d.default.sources.USER)}},"outdent backspace":{key:V.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,z){null!=z.format.indent?this.quill.format("indent","-1",d.default.sources.USER):null!=z.format.list&&this.quill.format("list",!1,d.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:V.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,d.default.sources.USER)}},tab:{key:V.keys.TAB,handler:function(U){this.quill.history.cutoff();var z=(new l.default).retain(U.index).delete(U.length).insert("\t");this.quill.updateContents(z,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,d.default.sources.SILENT)}},"list empty enter":{key:V.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,z){this.quill.format("list",!1,d.default.sources.USER),z.format.indent&&this.quill.format("indent",!1,d.default.sources.USER)}},"checklist enter":{key:V.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var z=this.quill.getLine(U.index),Y=S(z,2),X=Y[0],re=Y[1],ae=(0,r.default)({},X.formats(),{list:"checked"}),se=(new l.default).retain(U.index).insert("\n",ae).retain(X.length()-re-1).retain(1,{list:"unchecked"});this.quill.updateContents(se,d.default.sources.USER),this.quill.setSelection(U.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:V.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,z){var Y=this.quill.getLine(U.index),X=S(Y,2),re=X[0],ae=X[1],se=(new l.default).retain(U.index).insert("\n",z.format).retain(re.length()-ae-1).retain(1,{header:null});this.quill.updateContents(se,d.default.sources.USER),this.quill.setSelection(U.index+1,d.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,z){var Y=z.prefix.length,X=this.quill.getLine(U.index),re=S(X,2),ae=re[0],se=re[1];if(se>Y)return!0;var de=void 0;switch(z.prefix.trim()){case"[]":case"[ ]":de="unchecked";break;case"[x]":de="checked";break;case"-":case"*":de="bullet";break;default:de="ordered"}this.quill.insertText(U.index," ",d.default.sources.USER),this.quill.history.cutoff();var he=(new l.default).retain(U.index-se).delete(Y+1).retain(ae.length()-2-se).retain(1,{list:de});this.quill.updateContents(he,d.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-Y,d.default.sources.SILENT)}},"code exit":{key:V.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var z=this.quill.getLine(U.index),Y=S(z,2),X=Y[0],re=Y[1],ae=(new l.default).retain(U.index+X.length()-re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ae,d.default.sources.USER)}},"embed left":$(V.keys.LEFT,!1),"embed left shift":$(V.keys.LEFT,!0),"embed right":$(V.keys.RIGHT,!1),"embed right shift":$(V.keys.RIGHT,!0)}},_.default=V,_.SHORTKEY=D},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(t,u){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return function o(t,u){var n=[],d=!0,c=!1,b=void 0;try{for(var N,O=t[Symbol.iterator]();!(d=(N=O.next()).done)&&(n.push(N.value),!u||n.length!==u);d=!0);}catch(v){c=!0,b=v}finally{try{!d&&O.return&&O.return()}finally{if(c)throw b}}return n}(t,u);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function o(t,u,n){null===t&&(t=Function.prototype);var d=Object.getOwnPropertyDescriptor(t,u);if(void 0===d){var c=Object.getPrototypeOf(t);return null===c?void 0:o(c,u,n)}if("value"in d)return d.value;var b=d.get;return void 0===b?void 0:b.call(n)},w=function(){function o(t,u){for(var n=0;n<u.length;n++){var d=u[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,u,n){return u&&o(t.prototype,u),n&&o(t,n),t}}(),E=i(y(0)),a=i(y(7));function i(o){return o&&o.__esModule?o:{default:o}}var s=function(o){function t(u,n){!function r(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var d=function f(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return d.selection=n,d.textNode=document.createTextNode(t.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return function l(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),w(t,null,[{key:"value",value:function(){}}]),w(t,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(n,d){if(0!==this._length)return S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,n,d);for(var c=this,b=0;null!=c&&c.statics.scope!==E.default.Scope.BLOCK_BLOT;)b+=c.offset(c.parent),c=c.parent;null!=c&&(this._length=t.CONTENTS.length,c.optimize(),c.formatAt(b,t.CONTENTS.length,n,d),this._length=0)}},{key:"index",value:function(n,d){return n===this.textNode?0:S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,n,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var n=this.textNode,d=this.selection.getNativeRange(),c=void 0,b=void 0,O=void 0;if(null!=d&&d.start.node===n&&d.end.node===n){var N=[n,d.start.offset,d.end.offset];c=N[0],b=N[1],O=N[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==t.CONTENTS){var v=this.textNode.data.split(t.CONTENTS).join("");this.next instanceof a.default?(c=this.next.domNode,this.next.insertAt(0,v),this.textNode.data=t.CONTENTS):(this.textNode.data=v,this.parent.insertBefore(E.default.create(this.textNode),this),this.textNode=document.createTextNode(t.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=b){var p=[b,O].map(function(T){return Math.max(0,Math.min(c.data.length,T-1))}),h=q(p,2);return{startNode:c,startOffset:b=h[0],endNode:c,endOffset:O=h[1]}}}}},{key:"update",value:function(n,d){var c=this;if(n.some(function(O){return"characterData"===O.type&&O.target===c.textNode})){var b=this.restore();b&&(d.range=b)}}},{key:"value",value:function(){return""}}]),t}(E.default.Embed);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\ufeff",_.default=s},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var S=E(y(0)),w=y(4),e=E(w);function E(f){return f&&f.__esModule?f:{default:f}}var r=function(f){function l(){return function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function i(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),l}(S.default.Container);r.allowedChildren=[e.default,w.BlockEmbed,r],_.default=r},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.ColorStyle=_.ColorClass=_.ColorAttributor=void 0;var q=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),S=function s(o,t,u){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var d=Object.getPrototypeOf(o);return null===d?void 0:s(d,t,u)}if("value"in n)return n.value;var c=n.get;return void 0===c?void 0:c.call(u)},e=function E(s){return s&&s.__esModule?s:{default:s}}(y(0));var r=function(s){function o(){return function m(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function a(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?s:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function i(s,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}(o,s),q(o,[{key:"value",value:function(u){var n=S(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"value",this).call(this,u);return n.startsWith("rgb(")?"#"+(n=n.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(d){return("00"+parseInt(d).toString(16)).slice(-2)}).join(""):n}}]),o}(e.default.Attributor.Style),f=new e.default.Attributor.Class("color","ql-color",{scope:e.default.Scope.INLINE}),l=new r("color","color",{scope:e.default.Scope.INLINE});_.ColorAttributor=r,_.ColorClass=f,_.ColorStyle=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.sanitize=_.default=void 0;var q=function(){function l(s,o){for(var t=0;t<o.length;t++){var u=o[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}return function(s,o,t){return o&&l(s.prototype,o),t&&l(s,t),s}}(),S=function l(s,o,t){null===s&&(s=Function.prototype);var u=Object.getOwnPropertyDescriptor(s,o);if(void 0===u){var n=Object.getPrototypeOf(s);return null===n?void 0:l(n,o,t)}if("value"in u)return u.value;var d=u.get;return void 0===d?void 0:d.call(t)};var r=function(l){function s(){return function m(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function a(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?l:s}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function i(l,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(l,s):l.__proto__=s)}(s,l),q(s,[{key:"format",value:function(t,u){if(t!==this.statics.blotName||!u)return S(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"format",this).call(this,t,u);u=this.constructor.sanitize(u),this.domNode.setAttribute("href",u)}}],[{key:"create",value:function(t){var u=S(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,t);return t=this.sanitize(t),u.setAttribute("href",t),u.setAttribute("rel","noopener noreferrer"),u.setAttribute("target","_blank"),u}},{key:"formats",value:function(t){return t.getAttribute("href")}},{key:"sanitize",value:function(t){return f(t,this.PROTOCOL_WHITELIST)?t:this.SANITIZED_URL}}]),s}(function E(l){return l&&l.__esModule?l:{default:l}}(y(6)).default);function f(l,s){var o=document.createElement("a");o.href=l;var t=o.href.slice(0,o.href.indexOf(":"));return s.indexOf(t)>-1}r.blotName="link",r.tagName="A",r.SANITIZED_URL="about:blank",r.PROTOCOL_WHITELIST=["http","https","mailto","tel"],_.default=r,_.sanitize=f},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},S=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),e=a(y(23)),m=a(y(107));function a(s){return s&&s.__esModule?s:{default:s}}var r=0;function f(s,o){s.setAttribute(o,"true"!==s.getAttribute(o))}var l=function(){function s(o){var t=this;(function i(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")})(this,s),this.select=o,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){t.togglePicker()}),this.label.addEventListener("keydown",function(u){switch(u.keyCode){case e.default.keys.ENTER:t.togglePicker();break;case e.default.keys.ESCAPE:t.escape(),u.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return S(s,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(t){var u=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),t.hasAttribute("value")&&n.setAttribute("data-value",t.getAttribute("value")),t.textContent&&n.setAttribute("data-label",t.textContent),n.addEventListener("click",function(){u.selectItem(n,!0)}),n.addEventListener("keydown",function(d){switch(d.keyCode){case e.default.keys.ENTER:u.selectItem(n,!0),d.preventDefault();break;case e.default.keys.ESCAPE:u.escape(),d.preventDefault()}}),n}},{key:"buildLabel",value:function(){var t=document.createElement("span");return t.classList.add("ql-picker-label"),t.innerHTML=m.default,t.tabIndex="0",t.setAttribute("role","button"),t.setAttribute("aria-expanded","false"),this.container.appendChild(t),t}},{key:"buildOptions",value:function(){var t=this,u=document.createElement("span");u.classList.add("ql-picker-options"),u.setAttribute("aria-hidden","true"),u.tabIndex="-1",u.id="ql-picker-options-"+r,r+=1,this.label.setAttribute("aria-controls",u.id),this.options=u,[].slice.call(this.select.options).forEach(function(n){var d=t.buildItem(n);u.appendChild(d),!0===n.selected&&t.selectItem(d)}),this.container.appendChild(u)}},{key:"buildPicker",value:function(){var t=this;[].slice.call(this.select.attributes).forEach(function(u){t.container.setAttribute(u.name,u.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var t=this;this.close(),setTimeout(function(){return t.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(t){var u=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.container.querySelector(".ql-selected");if(t!==n&&(null!=n&&n.classList.remove("ql-selected"),null!=t&&(t.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(t.parentNode.children,t),t.hasAttribute("data-value")?this.label.setAttribute("data-value",t.getAttribute("data-value")):this.label.removeAttribute("data-value"),t.hasAttribute("data-label")?this.label.setAttribute("data-label",t.getAttribute("data-label")):this.label.removeAttribute("data-label"),u))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":q(Event))){var d=document.createEvent("Event");d.initEvent("change",!0,!0),this.select.dispatchEvent(d)}this.close()}}},{key:"update",value:function(){var t=void 0;if(this.select.selectedIndex>-1){var u=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];t=this.select.options[this.select.selectedIndex],this.selectItem(u)}else this.selectItem(null);var n=null!=t&&t!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),s}();_.default=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var S=F(y(0)),e=F(y(5)),E=y(4),m=F(E),i=F(y(16)),f=F(y(25)),s=F(y(24)),t=F(y(35)),n=F(y(6)),c=F(y(22)),O=F(y(7)),v=F(y(55)),h=F(y(42)),C=F(y(23));function F(D){return D&&D.__esModule?D:{default:D}}e.default.register({"blots/block":m.default,"blots/block/embed":E.BlockEmbed,"blots/break":i.default,"blots/container":f.default,"blots/cursor":s.default,"blots/embed":t.default,"blots/inline":n.default,"blots/scroll":c.default,"blots/text":O.default,"modules/clipboard":v.default,"modules/history":h.default,"modules/keyboard":C.default}),S.default.register(m.default,i.default,s.default,n.default,c.default,O.default),_.default=e.default},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=y(1),S=function(){function w(e){this.domNode=e,this.domNode[q.DATA_KEY]={blot:this}}return Object.defineProperty(w.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),w.create=function(e){if(null==this.tagName)throw new q.ParchmentError("Blot definition missing tagName");var E;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),E="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):E=document.createElement(this.tagName),this.className&&E.classList.add(this.className),E},w.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},w.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return q.create(e)},w.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[q.DATA_KEY]},w.prototype.deleteAt=function(e,E){this.isolate(e,E).remove()},w.prototype.formatAt=function(e,E,m,a){var i=this.isolate(e,E);if(null!=q.query(m,q.Scope.BLOT)&&a)i.wrap(m,a);else if(null!=q.query(m,q.Scope.ATTRIBUTE)){var r=q.create(this.statics.scope);i.wrap(r),r.format(m,a)}},w.prototype.insertAt=function(e,E,m){var a=null==m?q.create("text",E):q.create(E,m),i=this.split(e);this.parent.insertBefore(a,i)},w.prototype.insertInto=function(e,E){void 0===E&&(E=null),null!=this.parent&&this.parent.children.remove(this);var m=null;e.children.insertBefore(this,E),null!=E&&(m=E.domNode),(this.domNode.parentNode!=e.domNode||this.domNode.nextSibling!=m)&&e.domNode.insertBefore(this.domNode,m),this.parent=e,this.attach()},w.prototype.isolate=function(e,E){var m=this.split(e);return m.split(E),m},w.prototype.length=function(){return 1},w.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},w.prototype.optimize=function(e){null!=this.domNode[q.DATA_KEY]&&delete this.domNode[q.DATA_KEY].mutations},w.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},w.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},w.prototype.replaceWith=function(e,E){var m="string"==typeof e?q.create(e,E):e;return m.replace(this),m},w.prototype.split=function(e,E){return 0===e?this:this.next},w.prototype.update=function(e,E){},w.prototype.wrap=function(e,E){var m="string"==typeof e?q.create(e,E):e;return null!=this.parent&&this.parent.insertBefore(m,this.next),m.appendChild(this),m},w.blotName="abstract",w}();_.default=S},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=y(12),S=y(32),w=y(33),e=y(1),E=function(){function m(a){this.attributes={},this.domNode=a,this.build()}return m.prototype.attribute=function(a,i){i?a.add(this.domNode,i)&&(null!=a.value(this.domNode)?this.attributes[a.attrName]=a:delete this.attributes[a.attrName]):(a.remove(this.domNode),delete this.attributes[a.attrName])},m.prototype.build=function(){var a=this;this.attributes={};var i=q.default.keys(this.domNode),r=S.default.keys(this.domNode),f=w.default.keys(this.domNode);i.concat(r).concat(f).forEach(function(l){var s=e.query(l,e.Scope.ATTRIBUTE);s instanceof q.default&&(a.attributes[s.attrName]=s)})},m.prototype.copy=function(a){var i=this;Object.keys(this.attributes).forEach(function(r){var f=i.attributes[r].value(i.domNode);a.format(r,f)})},m.prototype.move=function(a){var i=this;this.copy(a),Object.keys(this.attributes).forEach(function(r){i.attributes[r].remove(i.domNode)}),this.attributes={}},m.prototype.values=function(){var a=this;return Object.keys(this.attributes).reduce(function(i,r){return i[r]=a.attributes[r].value(a.domNode),i},{})},m}();_.default=E},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var i in a)a.hasOwnProperty(i)&&(m[i]=a[i])},function(m,a){function i(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});function w(E,m){return(E.getAttribute("class")||"").split(/\s+/).filter(function(i){return 0===i.indexOf(m+"-")})}Object.defineProperty(_,"__esModule",{value:!0});var e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return q(m,E),m.keys=function(a){return(a.getAttribute("class")||"").split(/\s+/).map(function(i){return i.split("-").slice(0,-1).join("-")})},m.prototype.add=function(a,i){return!!this.canAdd(a,i)&&(this.remove(a),a.classList.add(this.keyName+"-"+i),!0)},m.prototype.remove=function(a){w(a,this.keyName).forEach(function(r){a.classList.remove(r)}),0===a.classList.length&&a.removeAttribute("class")},m.prototype.value=function(a){var r=(w(a,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(a,r)?r:""},m}(y(12).default);_.default=e},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var i in a)a.hasOwnProperty(i)&&(m[i]=a[i])},function(m,a){function i(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});function w(E){var m=E.split("-"),a=m.slice(1).map(function(i){return i[0].toUpperCase()+i.slice(1)}).join("");return m[0]+a}Object.defineProperty(_,"__esModule",{value:!0});var e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return q(m,E),m.keys=function(a){return(a.getAttribute("style")||"").split(";").map(function(i){return i.split(":")[0].trim()})},m.prototype.add=function(a,i){return!!this.canAdd(a,i)&&(a.style[w(this.keyName)]=i,!0)},m.prototype.remove=function(a){a.style[w(this.keyName)]="",a.getAttribute("style")||a.removeAttribute("style")},m.prototype.value=function(a){var i=a.style[w(this.keyName)];return this.canAdd(a,i)?i:""},m}(y(12).default);_.default=e},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function e(E,m){for(var a=0;a<m.length;a++){var i=m[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(E,i.key,i)}}return function(E,m,a){return m&&e(E.prototype,m),a&&e(E,a),E}}();var w=function(){function e(E,m){(function S(e,E){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.quill=E,this.options=m,this.modules={}}return q(e,[{key:"init",value:function(){var m=this;Object.keys(this.options.modules).forEach(function(a){null==m.modules[a]&&m.addModule(a)})}},{key:"addModule",value:function(m){var a=this.quill.constructor.import("modules/"+m);return this.modules[m]=new a(this.quill,this.options.modules[m]||{}),this.modules[m]}}]),e}();w.DEFAULTS={modules:{}},w.themes={default:w},_.default=w},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function o(t,u){for(var n=0;n<u.length;n++){var d=u[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,u,n){return u&&o(t.prototype,u),n&&o(t,n),t}}(),S=function o(t,u,n){null===t&&(t=Function.prototype);var d=Object.getOwnPropertyDescriptor(t,u);if(void 0===d){var c=Object.getPrototypeOf(t);return null===c?void 0:o(c,u,n)}if("value"in d)return d.value;var b=d.get;return void 0===b?void 0:b.call(n)},e=a(y(0)),m=a(y(7));function a(o){return o&&o.__esModule?o:{default:o}}var l="\ufeff",s=function(o){function t(u){!function i(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function r(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return n.contentNode=document.createElement("span"),n.contentNode.setAttribute("contenteditable",!1),[].slice.call(n.domNode.childNodes).forEach(function(d){n.contentNode.appendChild(d)}),n.leftGuard=document.createTextNode(l),n.rightGuard=document.createTextNode(l),n.domNode.appendChild(n.leftGuard),n.domNode.appendChild(n.contentNode),n.domNode.appendChild(n.rightGuard),n}return function f(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),q(t,[{key:"index",value:function(n,d){return n===this.leftGuard?0:n===this.rightGuard?1:S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,n,d)}},{key:"restore",value:function(n){var d=void 0,c=void 0,b=n.data.split(l).join("");if(n===this.leftGuard)if(this.prev instanceof m.default){var O=this.prev.length();this.prev.insertAt(O,b),d={startNode:this.prev.domNode,startOffset:O+b.length}}else c=document.createTextNode(b),this.parent.insertBefore(e.default.create(c),this),d={startNode:c,startOffset:b.length};else n===this.rightGuard&&(this.next instanceof m.default?(this.next.insertAt(0,b),d={startNode:this.next.domNode,startOffset:b.length}):(c=document.createTextNode(b),this.parent.insertBefore(e.default.create(c),this.next),d={startNode:c,startOffset:b.length}));return n.data=l,d}},{key:"update",value:function(n,d){var c=this;n.forEach(function(b){if("characterData"===b.type&&(b.target===c.leftGuard||b.target===c.rightGuard)){var O=c.restore(b.target);O&&(d.range=O)}})}}]),t}(e.default.Embed);_.default=s},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.AlignStyle=_.AlignClass=_.AlignAttribute=void 0;var S=function w(i){return i&&i.__esModule?i:{default:i}}(y(0));var e={scope:S.default.Scope.BLOCK,whitelist:["right","center","justify"]},E=new S.default.Attributor.Attribute("align","align",e),m=new S.default.Attributor.Class("align","ql-align",e),a=new S.default.Attributor.Style("align","text-align",e);_.AlignAttribute=E,_.AlignClass=m,_.AlignStyle=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.BackgroundStyle=_.BackgroundClass=void 0;var S=function e(a){return a&&a.__esModule?a:{default:a}}(y(0)),w=y(26);var E=new S.default.Attributor.Class("background","ql-bg",{scope:S.default.Scope.INLINE}),m=new w.ColorAttributor("background","background-color",{scope:S.default.Scope.INLINE});_.BackgroundClass=E,_.BackgroundStyle=m},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.DirectionStyle=_.DirectionClass=_.DirectionAttribute=void 0;var S=function w(i){return i&&i.__esModule?i:{default:i}}(y(0));var e={scope:S.default.Scope.BLOCK,whitelist:["rtl"]},E=new S.default.Attributor.Attribute("direction","dir",e),m=new S.default.Attributor.Class("direction","ql-direction",e),a=new S.default.Attributor.Style("direction","direction",e);_.DirectionAttribute=E,_.DirectionClass=m,_.DirectionStyle=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.FontClass=_.FontStyle=void 0;var q=function(){function o(t,u){for(var n=0;n<u.length;n++){var d=u[n];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(t,d.key,d)}}return function(t,u,n){return u&&o(t.prototype,u),n&&o(t,n),t}}(),S=function o(t,u,n){null===t&&(t=Function.prototype);var d=Object.getOwnPropertyDescriptor(t,u);if(void 0===d){var c=Object.getPrototypeOf(t);return null===c?void 0:o(c,u,n)}if("value"in d)return d.value;var b=d.get;return void 0===b?void 0:b.call(n)},e=function E(o){return o&&o.__esModule?o:{default:o}}(y(0));var r={scope:e.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new e.default.Attributor.Class("font","ql-font",r),l=function(o){function t(){return function m(o,t){if(!(o instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function a(o,t){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?o:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function i(o,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);o.prototype=Object.create(t&&t.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(o,t):o.__proto__=t)}(t,o),q(t,[{key:"value",value:function(n){return S(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,n).replace(/["']/g,"")}}]),t}(e.default.Attributor.Style),s=new l("font","font-family",r);_.FontStyle=s,_.FontClass=f},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.SizeStyle=_.SizeClass=void 0;var S=function w(m){return m&&m.__esModule?m:{default:m}}(y(0));var e=new S.default.Attributor.Class("size","ql-size",{scope:S.default.Scope.INLINE,whitelist:["small","large","huge"]}),E=new S.default.Attributor.Style("size","font-size",{scope:S.default.Scope.INLINE,whitelist:["10px","18px","32px"]});_.SizeClass=e,_.SizeStyle=E},function(J,_,y){"use strict";J.exports={align:{"":y(76),center:y(77),right:y(78),justify:y(79)},background:y(80),blockquote:y(81),bold:y(82),clean:y(83),code:y(58),"code-block":y(58),color:y(84),direction:{"":y(85),rtl:y(86)},float:{center:y(87),full:y(88),left:y(89),right:y(90)},formula:y(91),header:{1:y(92),2:y(93)},italic:y(94),image:y(95),indent:{"+1":y(96),"-1":y(97)},link:y(98),list:{ordered:y(99),bullet:y(100),check:y(101)},script:{sub:y(102),super:y(103)},strike:y(104),underline:y(105),video:y(106)}},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.getLastChangeIndex=_.default=void 0;var q=function(){function u(n,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(n,b.key,b)}}return function(n,d,c){return d&&u(n.prototype,d),c&&u(n,c),n}}(),w=i(y(0)),E=i(y(5));function i(u){return u&&u.__esModule?u:{default:u}}var s=function(u){function n(d,c){!function r(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}(this,n);var b=function f(u,n){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?u:n}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,d,c));return b.lastRecorded=0,b.ignoreChange=!1,b.clear(),b.quill.on(E.default.events.EDITOR_CHANGE,function(O,N,v,p){O!==E.default.events.TEXT_CHANGE||b.ignoreChange||(b.options.userOnly&&p!==E.default.sources.USER?b.transform(N):b.record(N,v))}),b.quill.keyboard.addBinding({key:"Z",shortKey:!0},b.undo.bind(b)),b.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},b.redo.bind(b)),/Win/i.test(navigator.platform)&&b.quill.keyboard.addBinding({key:"Y",shortKey:!0},b.redo.bind(b)),b}return function l(u,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(u,n):u.__proto__=n)}(n,u),q(n,[{key:"change",value:function(c,b){if(0!==this.stack[c].length){var O=this.stack[c].pop();this.stack[b].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[c],E.default.sources.USER),this.ignoreChange=!1;var N=t(O[c]);this.quill.setSelection(N)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(c,b){if(0!==c.ops.length){this.stack.redo=[];var O=this.quill.getContents().diff(b),N=Date.now();if(this.lastRecorded+this.options.delay>N&&this.stack.undo.length>0){var v=this.stack.undo.pop();O=O.compose(v.undo),c=v.redo.compose(c)}else this.lastRecorded=N;this.stack.undo.push({redo:c,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(c){this.stack.undo.forEach(function(b){b.undo=c.transform(b.undo,!0),b.redo=c.transform(b.redo,!0)}),this.stack.redo.forEach(function(b){b.undo=c.transform(b.undo,!0),b.redo=c.transform(b.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(i(y(9)).default);function t(u){var n=u.reduce(function(c,b){return c+(b.delete||0)},0),d=u.length()-n;return function o(u){var n=u.ops[u.ops.length-1];return null!=n&&(null!=n.insert?"string"==typeof n.insert&&n.insert.endsWith("\n"):null!=n.attributes&&Object.keys(n.attributes).some(function(d){return null!=w.default.query(d,w.default.Scope.BLOCK)}))}(u)&&(d-=1),d}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},_.default=s,_.getLastChangeIndex=t},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BaseTooltip=void 0;var q=function(){function L(R,Q){for(var H=0;H<Q.length;H++){var P=Q[H];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(R,P.key,P)}}return function(R,Q,H){return Q&&L(R.prototype,Q),H&&L(R,H),R}}(),S=function L(R,Q,H){null===R&&(R=Function.prototype);var P=Object.getOwnPropertyDescriptor(R,Q);if(void 0===P){var U=Object.getPrototypeOf(R);return null===U?void 0:L(U,Q,H)}if("value"in P)return P.value;var z=P.get;return void 0===z?void 0:z.call(H)},e=N(y(3)),m=N(y(2)),i=N(y(8)),f=N(y(23)),s=N(y(34)),t=N(y(59)),n=N(y(60)),c=N(y(28)),O=N(y(61));function N(L){return L&&L.__esModule?L:{default:L}}function v(L,R){if(!(L instanceof R))throw new TypeError("Cannot call a class as a function")}function p(L,R){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?L:R}function h(L,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);L.prototype=Object.create(R&&R.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(L,R):L.__proto__=R)}var T=[!1,"center","right","justify"],C=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],D=["1","2","3",!1],V=["small",!1,"large","huge"],$=function(L){function R(Q,H){v(this,R);var P=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,Q,H));return Q.emitter.listenDOM("click",document.body,function z(Y){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",z);null!=P.tooltip&&!P.tooltip.root.contains(Y.target)&&document.activeElement!==P.tooltip.textbox&&!P.quill.hasFocus()&&P.tooltip.hide(),null!=P.pickers&&P.pickers.forEach(function(X){X.container.contains(Y.target)||X.close()})}),P}return h(R,L),q(R,[{key:"addModule",value:function(H){var P=S(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,H);return"toolbar"===H&&this.extendToolbar(P),P}},{key:"buildButtons",value:function(H,P){H.forEach(function(U){(U.getAttribute("class")||"").split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),null!=P[Y]))if("direction"===Y)U.innerHTML=P[Y][""]+P[Y].rtl;else if("string"==typeof P[Y])U.innerHTML=P[Y];else{var X=U.value||"";null!=X&&P[Y][X]&&(U.innerHTML=P[Y][X])}})})}},{key:"buildPickers",value:function(H,P){var U=this;this.pickers=H.map(function(Y){if(Y.classList.contains("ql-align"))return null==Y.querySelector("option")&&A(Y,T),new n.default(Y,P.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var X=Y.classList.contains("ql-background")?"background":"color";return null==Y.querySelector("option")&&A(Y,C,"background"===X?"#ffffff":"#000000"),new t.default(Y,P[X])}return null==Y.querySelector("option")&&(Y.classList.contains("ql-font")?A(Y,F):Y.classList.contains("ql-header")?A(Y,D):Y.classList.contains("ql-size")&&A(Y,V)),new c.default(Y)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){U.pickers.forEach(function(X){X.update()})})}}]),R}(s.default);$.DEFAULTS=(0,e.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,Q=this.container.querySelector("input.ql-image[type=file]");null==Q&&((Q=document.createElement("input")).setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(null!=Q.files&&null!=Q.files[0]){var H=new FileReader;H.onload=function(P){var U=R.quill.getSelection(!0);R.quill.updateContents((new m.default).retain(U.index).delete(U.length).insert({image:P.target.result}),i.default.sources.USER),R.quill.setSelection(U.index+1,i.default.sources.SILENT),Q.value=""},H.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(L){function R(Q,H){v(this,R);var P=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,Q,H));return P.textbox=P.root.querySelector('input[type="text"]'),P.listen(),P}return h(R,L),q(R,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(P){f.default.match(P,"enter")?(H.save(),P.preventDefault()):f.default.match(P,"escape")&&(H.cancel(),P.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",P=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=P?this.textbox.value=P:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,i.default.sources.USER)),this.quill.root.scrollTop=P;break;case"video":H=function I(L){var R=L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||L.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=L.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":L}(H);case"formula":if(!H)break;var U=this.quill.getSelection(!0);if(null!=U){var z=U.index+U.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),H,i.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(z+1," ",i.default.sources.USER),this.quill.setSelection(z+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),R}(O.default);function A(L,R){var Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R.forEach(function(H){var P=document.createElement("option");H===Q?P.setAttribute("selected","selected"):P.setAttribute("value",H),L.appendChild(P)})}_.BaseTooltip=j,_.default=$},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function S(){this.head=this.tail=null,this.length=0}return S.prototype.append=function(){for(var w=[],e=0;e<arguments.length;e++)w[e]=arguments[e];this.insertBefore(w[0],null),w.length>1&&this.append.apply(this,w.slice(1))},S.prototype.contains=function(w){for(var e,E=this.iterator();e=E();)if(e===w)return!0;return!1},S.prototype.insertBefore=function(w,e){w&&(w.next=e,null!=e?(w.prev=e.prev,null!=e.prev&&(e.prev.next=w),e.prev=w,e===this.head&&(this.head=w)):null!=this.tail?(this.tail.next=w,w.prev=this.tail,this.tail=w):(w.prev=null,this.head=this.tail=w),this.length+=1)},S.prototype.offset=function(w){for(var e=0,E=this.head;null!=E;){if(E===w)return e;e+=E.length(),E=E.next}return-1},S.prototype.remove=function(w){this.contains(w)&&(null!=w.prev&&(w.prev.next=w.next),null!=w.next&&(w.next.prev=w.prev),w===this.head&&(this.head=w.next),w===this.tail&&(this.tail=w.prev),this.length-=1)},S.prototype.iterator=function(w){return void 0===w&&(w=this.head),function(){var e=w;return null!=w&&(w=w.next),e}},S.prototype.find=function(w,e){void 0===e&&(e=!1);for(var E,m=this.iterator();E=m();){var a=E.length();if(w<a||e&&w===a&&(null==E.next||0!==E.next.length()))return[E,w];w-=a}return[null,0]},S.prototype.forEach=function(w){for(var e,E=this.iterator();e=E();)w(e)},S.prototype.forEachAt=function(w,e,E){if(!(e<=0))for(var r,m=this.find(w),f=w-m[1],l=this.iterator(m[0]);(r=l())&&f<w+e;){var s=r.length();w>f?E(r,w-f,Math.min(e,f+s-w)):E(r,0,Math.min(s,w+e-f)),f+=s}},S.prototype.map=function(w){return this.reduce(function(e,E){return e.push(w(E)),e},[])},S.prototype.reduce=function(w,e){for(var E,m=this.iterator();E=m();)e=w(e,E);return e},S}();_.default=q},function(J,_,y){"use strict";var a,q=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,r){i.__proto__=r}||function(i,r){for(var f in r)r.hasOwnProperty(f)&&(i[f]=r[f])},function(i,r){function f(){this.constructor=i}a(i,r),i.prototype=null===r?Object.create(r):(f.prototype=r.prototype,new f)});Object.defineProperty(_,"__esModule",{value:!0});var S=y(17),w=y(1),e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=function(a){function i(r){var f=a.call(this,r)||this;return f.scroll=f,f.observer=new MutationObserver(function(l){f.update(l)}),f.observer.observe(f.domNode,e),f.attach(),f}return q(i,a),i.prototype.detach=function(){a.prototype.detach.call(this),this.observer.disconnect()},i.prototype.deleteAt=function(r,f){this.update(),0===r&&f===this.length()?this.children.forEach(function(l){l.remove()}):a.prototype.deleteAt.call(this,r,f)},i.prototype.formatAt=function(r,f,l,s){this.update(),a.prototype.formatAt.call(this,r,f,l,s)},i.prototype.insertAt=function(r,f,l){this.update(),a.prototype.insertAt.call(this,r,f,l)},i.prototype.optimize=function(r,f){var l=this;void 0===r&&(r=[]),void 0===f&&(f={}),a.prototype.optimize.call(this,f);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)r.push(s.pop());for(var o=function(d,c){void 0===c&&(c=!0),null!=d&&d!==l&&null!=d.domNode.parentNode&&(null==d.domNode[w.DATA_KEY].mutations&&(d.domNode[w.DATA_KEY].mutations=[]),c&&o(d.parent))},t=function(d){null==d.domNode[w.DATA_KEY]||null==d.domNode[w.DATA_KEY].mutations||(d instanceof S.default&&d.children.forEach(t),d.optimize(f))},u=r,n=0;u.length>0;n+=1){if(n>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(u.forEach(function(d){var c=w.find(d.target,!0);null!=c&&(c.domNode===d.target&&("childList"===d.type?(o(w.find(d.previousSibling,!1)),[].forEach.call(d.addedNodes,function(b){var O=w.find(b,!1);o(O,!1),O instanceof S.default&&O.children.forEach(function(N){o(N,!1)})})):"attributes"===d.type&&o(c.prev)),o(c))}),this.children.forEach(t),s=(u=[].slice.call(this.observer.takeRecords())).slice();s.length>0;)r.push(s.pop())}},i.prototype.update=function(r,f){var l=this;void 0===f&&(f={}),(r=r||this.observer.takeRecords()).map(function(s){var o=w.find(s.target,!0);return null==o?null:null==o.domNode[w.DATA_KEY].mutations?(o.domNode[w.DATA_KEY].mutations=[s],o):(o.domNode[w.DATA_KEY].mutations.push(s),null)}).forEach(function(s){null==s||s===l||null==s.domNode[w.DATA_KEY]||s.update(s.domNode[w.DATA_KEY].mutations||[],f)}),null!=this.domNode[w.DATA_KEY].mutations&&a.prototype.update.call(this,this.domNode[w.DATA_KEY].mutations,f),this.optimize(r,f)},i.blotName="scroll",i.defaultChild="block",i.scope=w.Scope.BLOCK_BLOT,i.tagName="DIV",i}(S.default);_.default=m},function(J,_,y){"use strict";var m,q=this&&this.__extends||(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,i){a.__proto__=i}||function(a,i){for(var r in i)i.hasOwnProperty(r)&&(a[r]=i[r])},function(a,i){function r(){this.constructor=a}m(a,i),a.prototype=null===i?Object.create(i):(r.prototype=i.prototype,new r)});Object.defineProperty(_,"__esModule",{value:!0});var S=y(18),w=y(1);var E=function(m){function a(){return null!==m&&m.apply(this,arguments)||this}return q(a,m),a.formats=function(i){if(i.tagName!==a.tagName)return m.formats.call(this,i)},a.prototype.format=function(i,r){var f=this;i!==this.statics.blotName||r?m.prototype.format.call(this,i,r):(this.children.forEach(function(l){l instanceof S.default||(l=l.wrap(a.blotName,!0)),f.attributes.copy(l)}),this.unwrap())},a.prototype.formatAt=function(i,r,f,l){null!=this.formats()[f]||w.query(f,w.Scope.ATTRIBUTE)?this.isolate(i,r).format(f,l):m.prototype.formatAt.call(this,i,r,f,l)},a.prototype.optimize=function(i){m.prototype.optimize.call(this,i);var r=this.formats();if(0===Object.keys(r).length)return this.unwrap();var f=this.next;f instanceof a&&f.prev===this&&function e(m,a){if(Object.keys(m).length!==Object.keys(a).length)return!1;for(var i in m)if(m[i]!==a[i])return!1;return!0}(r,f.formats())&&(f.moveChildren(this),f.remove())},a.blotName="inline",a.scope=w.Scope.INLINE_BLOT,a.tagName="SPAN",a}(S.default);_.default=E},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var i in a)a.hasOwnProperty(i)&&(m[i]=a[i])},function(m,a){function i(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(_,"__esModule",{value:!0});var S=y(18),w=y(1),e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return q(m,E),m.formats=function(a){var i=w.query(m.blotName).tagName;if(a.tagName!==i)return E.formats.call(this,a)},m.prototype.format=function(a,i){null!=w.query(a,w.Scope.BLOCK)&&(a!==this.statics.blotName||i?E.prototype.format.call(this,a,i):this.replaceWith(m.blotName))},m.prototype.formatAt=function(a,i,r,f){null!=w.query(r,w.Scope.BLOCK)?this.format(r,f):E.prototype.formatAt.call(this,a,i,r,f)},m.prototype.insertAt=function(a,i,r){if(null==r||null!=w.query(i,w.Scope.INLINE))E.prototype.insertAt.call(this,a,i,r);else{var f=this.split(a),l=w.create(i,r);f.parent.insertBefore(l,f)}},m.prototype.update=function(a,i){navigator.userAgent.match(/Trident/)?this.build():E.prototype.update.call(this,a,i)},m.blotName="block",m.scope=w.Scope.BLOCK_BLOT,m.tagName="P",m}(S.default);_.default=e},function(J,_,y){"use strict";var e,q=this&&this.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,m){E.__proto__=m}||function(E,m){for(var a in m)m.hasOwnProperty(a)&&(E[a]=m[a])},function(E,m){function a(){this.constructor=E}e(E,m),E.prototype=null===m?Object.create(m):(a.prototype=m.prototype,new a)});Object.defineProperty(_,"__esModule",{value:!0});var w=function(e){function E(){return null!==e&&e.apply(this,arguments)||this}return q(E,e),E.formats=function(m){},E.prototype.format=function(m,a){e.prototype.formatAt.call(this,0,this.length(),m,a)},E.prototype.formatAt=function(m,a,i,r){0===m&&a===this.length()?this.format(i,r):e.prototype.formatAt.call(this,m,a,i,r)},E.prototype.formats=function(){return this.statics.formats(this.domNode)},E}(y(19).default);_.default=w},function(J,_,y){"use strict";var E,q=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var i in a)a.hasOwnProperty(i)&&(m[i]=a[i])},function(m,a){function i(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(i.prototype=a.prototype,new i)});Object.defineProperty(_,"__esModule",{value:!0});var S=y(19),w=y(1),e=function(E){function m(a){var i=E.call(this,a)||this;return i.text=i.statics.value(i.domNode),i}return q(m,E),m.create=function(a){return document.createTextNode(a)},m.value=function(a){var i=a.data;return i.normalize&&(i=i.normalize()),i},m.prototype.deleteAt=function(a,i){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+i)},m.prototype.index=function(a,i){return this.domNode===a?i:-1},m.prototype.insertAt=function(a,i,r){null==r?(this.text=this.text.slice(0,a)+i+this.text.slice(a),this.domNode.data=this.text):E.prototype.insertAt.call(this,a,i,r)},m.prototype.length=function(){return this.text.length},m.prototype.optimize=function(a){E.prototype.optimize.call(this,a),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof m&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},m.prototype.position=function(a,i){return void 0===i&&(i=!1),[this.domNode,a]},m.prototype.split=function(a,i){if(void 0===i&&(i=!1),!i){if(0===a)return this;if(a===this.length())return this.next}var r=w.create(this.domNode.splitText(a));return this.parent.insertBefore(r,this.next),this.text=this.statics.value(this.domNode),r},m.prototype.update=function(a,i){var r=this;a.some(function(f){return"characterData"===f.type&&f.target===r.domNode})&&(this.text=this.statics.value(this.domNode))},m.prototype.value=function(){return this.text},m.blotName="text",m.scope=w.Scope.INLINE_BLOT,m}(S.default);_.default=e},function(J,_,y){"use strict";var q=document.createElement("div");if(q.classList.toggle("test-class",!1),q.classList.contains("test-class")){var S=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(w,e){return arguments.length>1&&!this.contains(w)==!e?e:S.call(this,w)}}String.prototype.startsWith||(String.prototype.startsWith=function(w,e){return this.substr(e=e||0,w.length)===w}),String.prototype.endsWith||(String.prototype.endsWith=function(w,e){var E=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>E.length)&&(e=E.length);var m=E.indexOf(w,e-=w.length);return-1!==m&&m===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var i,E=Object(this),m=E.length>>>0,a=arguments[1],r=0;r<m;r++)if(e.call(a,i=E[r],r,E))return i}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(J,_){var y=-1,q=1,S=0;function w(n,d,c){if(n==d)return n?[[S,n]]:[];(c<0||n.length<c)&&(c=null);var b=a(n,d),O=n.substring(0,b);b=i(n=n.substring(b),d=d.substring(b));var N=n.substring(n.length-b),v=function e(n,d){var c;if(!n)return[[q,d]];if(!d)return[[y,n]];var b=n.length>d.length?n:d,O=n.length>d.length?d:n,N=b.indexOf(O);if(-1!=N)return c=[[q,b.substring(0,N)],[S,O],[q,b.substring(N+O.length)]],n.length>d.length&&(c[0][0]=c[2][0]=y),c;if(1==O.length)return[[y,n],[q,d]];var v=function r(n,d){var c=n.length>d.length?n:d,b=n.length>d.length?d:n;if(c.length<4||2*b.length<c.length)return null;function O(V,$,j){for(var R,Q,H,P,I=V.substring(j,j+Math.floor(V.length/4)),A=-1,L="";-1!=(A=$.indexOf(I,A+1));){var U=a(V.substring(j),$.substring(A)),z=i(V.substring(0,j),$.substring(0,A));L.length<z+U&&(L=$.substring(A-z,A)+$.substring(A,A+U),R=V.substring(0,j-z),Q=V.substring(j+U),H=$.substring(0,A-z),P=$.substring(A+U))}return 2*L.length>=V.length?[R,Q,H,P,L]:null}var p,h,T,C,F,N=O(c,b,Math.ceil(c.length/4)),v=O(c,b,Math.ceil(c.length/2));return N||v?(p=v?N&&N[4].length>v[4].length?N:v:N,n.length>d.length?(h=p[0],T=p[1],C=p[2],F=p[3]):(C=p[0],F=p[1],h=p[2],T=p[3]),[h,T,C,F,p[4]]):null}(n,d);if(v){var h=v[1],C=v[3],F=v[4],D=w(v[0],v[2]),V=w(h,C);return D.concat([[S,F]],V)}return function E(n,d){for(var c=n.length,b=d.length,O=Math.ceil((c+b)/2),N=O,v=2*O,p=new Array(v),h=new Array(v),T=0;T<v;T++)p[T]=-1,h[T]=-1;p[N+1]=0,h[N+1]=0;for(var C=c-b,F=C%2!=0,D=0,V=0,$=0,j=0,I=0;I<O;I++){for(var A=-I+D;A<=I-V;A+=2){for(var L=N+A,Q=(R=A==-I||A!=I&&p[L-1]<p[L+1]?p[L+1]:p[L-1]+1)-A;R<c&&Q<b&&n.charAt(R)==d.charAt(Q);)R++,Q++;if(p[L]=R,R>c)V+=2;else if(Q>b)D+=2;else if(F&&(H=N+C-A)>=0&&H<v&&-1!=h[H]&&R>=(P=c-h[H]))return m(n,d,R,Q)}for(var U=-I+$;U<=I-j;U+=2){for(var P,H=N+U,z=(P=U==-I||U!=I&&h[H-1]<h[H+1]?h[H+1]:h[H-1]+1)-U;P<c&&z<b&&n.charAt(c-P-1)==d.charAt(b-z-1);)P++,z++;if(h[H]=P,P>c)j+=2;else if(z>b)$+=2;else if(!F){var R;if((L=N+C-U)>=0&&L<v&&-1!=p[L]&&(Q=N+(R=p[L])-L,R>=(P=c-P)))return m(n,d,R,Q)}}}return[[y,n],[q,d]]}(n,d)}(n=n.substring(0,n.length-b),d=d.substring(0,d.length-b));return O&&v.unshift([S,O]),N&&v.push([S,N]),f(v),null!=c&&(v=function o(n,d){var c=function s(n,d){if(0===d)return[S,n];for(var c=0,b=0;b<n.length;b++){var O=n[b];if(O[0]===y||O[0]===S){var N=c+O[1].length;if(d===N)return[b+1,n];if(d<N){n=n.slice();var v=d-c,p=[O[0],O[1].slice(0,v)],h=[O[0],O[1].slice(v)];return n.splice(b,1,p,h),[b+1,n]}c=N}}throw new Error("cursor_pos is out of bounds!")}(n,d),b=c[1],O=c[0],N=b[O],v=b[O+1];if(null==N)return n;if(N[0]!==S)return n;if(null!=v&&N[1]+v[1]===v[1]+N[1])return b.splice(O,2,v,N),u(b,O,2);if(null!=v&&0===v[1].indexOf(N[1])){b.splice(O,2,[v[0],N[1]],[0,N[1]]);var p=v[1].slice(N[1].length);return p.length>0&&b.splice(O+2,0,[v[0],p]),u(b,O,3)}return n}(v,c)),function t(n){for(var d=!1,c=function(v){return v.charCodeAt(0)>=56320&&v.charCodeAt(0)<=57343},b=function(v){return v.charCodeAt(v.length-1)>=55296&&v.charCodeAt(v.length-1)<=56319},O=2;O<n.length;O+=1)n[O-2][0]===S&&b(n[O-2][1])&&n[O-1][0]===y&&c(n[O-1][1])&&n[O][0]===q&&c(n[O][1])&&(d=!0,n[O-1][1]=n[O-2][1].slice(-1)+n[O-1][1],n[O][1]=n[O-2][1].slice(-1)+n[O][1],n[O-2][1]=n[O-2][1].slice(0,-1));if(!d)return n;var N=[];for(O=0;O<n.length;O+=1)n[O][1].length>0&&N.push(n[O]);return N}(v)}function m(n,d,c,b){var O=n.substring(0,c),N=d.substring(0,b),v=n.substring(c),p=d.substring(b),h=w(O,N),T=w(v,p);return h.concat(T)}function a(n,d){if(!n||!d||n.charAt(0)!=d.charAt(0))return 0;for(var c=0,b=Math.min(n.length,d.length),O=b,N=0;c<O;)n.substring(N,O)==d.substring(N,O)?N=c=O:b=O,O=Math.floor((b-c)/2+c);return O}function i(n,d){if(!n||!d||n.charAt(n.length-1)!=d.charAt(d.length-1))return 0;for(var c=0,b=Math.min(n.length,d.length),O=b,N=0;c<O;)n.substring(n.length-O,n.length-N)==d.substring(d.length-O,d.length-N)?N=c=O:b=O,O=Math.floor((b-c)/2+c);return O}function f(n){n.push([S,""]);for(var v,d=0,c=0,b=0,O="",N="";d<n.length;)switch(n[d][0]){case q:b++,N+=n[d][1],d++;break;case y:c++,O+=n[d][1],d++;break;case S:c+b>1?(0!==c&&0!==b&&(0!==(v=a(N,O))&&(d-c-b>0&&n[d-c-b-1][0]==S?n[d-c-b-1][1]+=N.substring(0,v):(n.splice(0,0,[S,N.substring(0,v)]),d++),N=N.substring(v),O=O.substring(v)),0!==(v=i(N,O))&&(n[d][1]=N.substring(N.length-v)+n[d][1],N=N.substring(0,N.length-v),O=O.substring(0,O.length-v))),0===c?n.splice(d-b,c+b,[q,N]):0===b?n.splice(d-c,c+b,[y,O]):n.splice(d-c-b,c+b,[y,O],[q,N]),d=d-c-b+(c?1:0)+(b?1:0)+1):0!==d&&n[d-1][0]==S?(n[d-1][1]+=n[d][1],n.splice(d,1)):d++,b=0,c=0,O="",N=""}""===n[n.length-1][1]&&n.pop();var p=!1;for(d=1;d<n.length-1;)n[d-1][0]==S&&n[d+1][0]==S&&(n[d][1].substring(n[d][1].length-n[d-1][1].length)==n[d-1][1]?(n[d][1]=n[d-1][1]+n[d][1].substring(0,n[d][1].length-n[d-1][1].length),n[d+1][1]=n[d-1][1]+n[d+1][1],n.splice(d-1,1),p=!0):n[d][1].substring(0,n[d+1][1].length)==n[d+1][1]&&(n[d-1][1]+=n[d+1][1],n[d][1]=n[d][1].substring(n[d+1][1].length)+n[d+1][1],n.splice(d+1,1),p=!0)),d++;p&&f(n)}var l=w;function u(n,d,c){for(var b=d+c-1;b>=0&&b>=d-1;b--)if(b+1<n.length){var O=n[b],N=n[b+1];O[0]===N[1]&&n.splice(b,2,[O[0],O[1]+N[1]])}return n}l.INSERT=q,l.DELETE=y,l.EQUAL=S,J.exports=l},function(J,_){function y(q){var S=[];for(var w in q)S.push(w);return S}(J.exports="function"==typeof Object.keys?Object.keys:y).shim=y},function(J,_){var y="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function q(w){return"[object Arguments]"==Object.prototype.toString.call(w)}function S(w){return w&&"object"==typeof w&&"number"==typeof w.length&&Object.prototype.hasOwnProperty.call(w,"callee")&&!Object.prototype.propertyIsEnumerable.call(w,"callee")||!1}(_=J.exports=y?q:S).supported=q,_.unsupported=S},function(J,_){"use strict";var y=Object.prototype.hasOwnProperty,q="~";function S(){}function w(E,m,a){this.fn=E,this.context=m,this.once=a||!1}function e(){this._events=new S,this._eventsCount=0}Object.create&&(S.prototype=Object.create(null),(new S).__proto__||(q=!1)),e.prototype.eventNames=function(){var a,i,m=[];if(0===this._eventsCount)return m;for(i in a=this._events)y.call(a,i)&&m.push(q?i.slice(1):i);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(a)):m},e.prototype.listeners=function(m,a){var r=this._events[q?q+m:m];if(a)return!!r;if(!r)return[];if(r.fn)return[r.fn];for(var f=0,l=r.length,s=new Array(l);f<l;f++)s[f]=r[f].fn;return s},e.prototype.emit=function(m,a,i,r,f,l){var s=q?q+m:m;if(!this._events[s])return!1;var u,n,o=this._events[s],t=arguments.length;if(o.fn){switch(o.once&&this.removeListener(m,o.fn,void 0,!0),t){case 1:return o.fn.call(o.context),!0;case 2:return o.fn.call(o.context,a),!0;case 3:return o.fn.call(o.context,a,i),!0;case 4:return o.fn.call(o.context,a,i,r),!0;case 5:return o.fn.call(o.context,a,i,r,f),!0;case 6:return o.fn.call(o.context,a,i,r,f,l),!0}for(n=1,u=new Array(t-1);n<t;n++)u[n-1]=arguments[n];o.fn.apply(o.context,u)}else{var c,d=o.length;for(n=0;n<d;n++)switch(o[n].once&&this.removeListener(m,o[n].fn,void 0,!0),t){case 1:o[n].fn.call(o[n].context);break;case 2:o[n].fn.call(o[n].context,a);break;case 3:o[n].fn.call(o[n].context,a,i);break;case 4:o[n].fn.call(o[n].context,a,i,r);break;default:if(!u)for(c=1,u=new Array(t-1);c<t;c++)u[c-1]=arguments[c];o[n].fn.apply(o[n].context,u)}}return!0},e.prototype.on=function(m,a,i){var r=new w(a,i||this),f=q?q+m:m;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],r]:this._events[f].push(r):(this._events[f]=r,this._eventsCount++),this},e.prototype.once=function(m,a,i){var r=new w(a,i||this,!0),f=q?q+m:m;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],r]:this._events[f].push(r):(this._events[f]=r,this._eventsCount++),this},e.prototype.removeListener=function(m,a,i,r){var f=q?q+m:m;if(!this._events[f])return this;if(!a)return 0==--this._eventsCount?this._events=new S:delete this._events[f],this;var l=this._events[f];if(l.fn)l.fn===a&&(!r||l.once)&&(!i||l.context===i)&&(0==--this._eventsCount?this._events=new S:delete this._events[f]);else{for(var s=0,o=[],t=l.length;s<t;s++)(l[s].fn!==a||r&&!l[s].once||i&&l[s].context!==i)&&o.push(l[s]);o.length?this._events[f]=1===o.length?o[0]:o:0==--this._eventsCount?this._events=new S:delete this._events[f]}return this},e.prototype.removeAllListeners=function(m){var a;return m?this._events[a=q?q+m:m]&&(0==--this._eventsCount?this._events=new S:delete this._events[a]):(this._events=new S,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this},e.prefixed=q,e.EventEmitter=e,typeof J<"u"&&(J.exports=e)},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.matchText=_.matchSpacing=_.matchNewline=_.matchBlot=_.matchAttributor=_.default=void 0;var q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},S=function(W,ne){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return function K(W,ne){var ie=[],ee=!0,ue=!1,fe=void 0;try{for(var _e,ce=W[Symbol.iterator]();!(ee=(_e=ce.next()).done)&&(ie.push(_e.value),!ne||ie.length!==ne);ee=!0);}catch(Oe){ue=!0,fe=Oe}finally{try{!ee&&ce.return&&ce.return()}finally{if(ue)throw fe}}return ie}(W,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function K(W,ne){for(var ie=0;ie<ne.length;ie++){var ee=ne[ie];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(W,ee.key,ee)}}return function(W,ne,ie){return ne&&K(W.prototype,ne),ie&&K(W,ie),W}}(),E=h(y(3)),a=h(y(2)),r=h(y(0)),l=h(y(5)),o=h(y(10)),u=h(y(9)),n=y(36),d=y(37),b=h(y(13)),O=y(26),N=y(38),v=y(39),p=y(40);function h(K){return K&&K.__esModule?K:{default:K}}function T(K,W,ne){return W in K?Object.defineProperty(K,W,{value:ne,enumerable:!0,configurable:!0,writable:!0}):K[W]=ne,K}var V=(0,o.default)("quill:clipboard"),$="__ql-matcher",j=[[Node.TEXT_NODE,ve],[Node.TEXT_NODE,de],["br",function re(K,W){return H(W,"\n")||W.insert("\n"),W}],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,function pe(K,W){var ne={},ie=K.style||{};return ie.fontStyle&&"italic"===Q(K).fontStyle&&(ne.italic=!0),ie.fontWeight&&(Q(K).fontWeight.startsWith("bold")||parseInt(Q(K).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(W=R(W,ne)),parseFloat(ie.textIndent||0)>0&&(W=(new a.default).insert("\t").concat(W)),W}],["li",function se(K,W){var ne=r.default.query(K);if(null==ne||"list-item"!==ne.blotName||!H(W,"\n"))return W;for(var ie=-1,ee=K.parentNode;!ee.classList.contains("ql-clipboard");)"list"===(r.default.query(ee)||{}).blotName&&(ie+=1),ee=ee.parentNode;return ie<=0?W:W.compose((new a.default).retain(W.length()-1).retain(1,{indent:ie}))}],["b",z.bind(z,"bold")],["i",z.bind(z,"italic")],["style",function ae(){return new a.default}]],I=[n.AlignAttribute,N.DirectionAttribute].reduce(function(K,W){return K[W.keyName]=W,K},{}),A=[n.AlignStyle,d.BackgroundStyle,O.ColorStyle,N.DirectionStyle,v.FontStyle,p.SizeStyle].reduce(function(K,W){return K[W.keyName]=W,K},{}),L=function(K){function W(ne,ie){!function C(K,W){if(!(K instanceof W))throw new TypeError("Cannot call a class as a function")}(this,W);var ee=function F(K,W){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||"object"!=typeof W&&"function"!=typeof W?K:W}(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ne,ie));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],j.concat(ee.options.matchers).forEach(function(ue){var fe=S(ue,2),_e=fe[1];!ie.matchVisual&&_e===he||ee.addMatcher(fe[0],_e)}),ee}return function D(K,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function, not "+typeof W);K.prototype=Object.create(W&&W.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(K,W):K.__proto__=W)}(W,K),w(W,[{key:"addMatcher",value:function(ie,ee){this.matchers.push([ie,ee])}},{key:"convert",value:function(ie){if("string"==typeof ie)return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[b.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(ue,T({},b.default.blotName,ee[b.default.blotName]))}var fe=this.prepareMatching(),ce=S(fe,2),me=U(this.container,ce[0],ce[1]);return H(me,"\n")&&null==me.ops[me.ops.length-1].attributes&&(me=me.compose((new a.default).retain(me.length()-1).delete(1))),V.log("convert",this.container.innerHTML,me),this.container.innerHTML="",me}},{key:"dangerouslyPasteHTML",value:function(ie,ee){var ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:l.default.sources.API;if("string"==typeof ie)this.quill.setContents(this.convert(ie),ee),this.quill.setSelection(0,l.default.sources.SILENT);else{var fe=this.convert(ee);this.quill.updateContents((new a.default).retain(ie).concat(fe),ue),this.quill.setSelection(ie+fe.length(),l.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var ee=this;if(!ie.defaultPrevented&&this.quill.isEnabled()){var ue=this.quill.getSelection(),fe=(new a.default).retain(ue.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(l.default.sources.SILENT),setTimeout(function(){fe=fe.concat(ee.convert()).delete(ue.length),ee.quill.updateContents(fe,l.default.sources.USER),ee.quill.setSelection(fe.length()-ue.length,l.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=ce,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,ee=[],ue=[];return this.matchers.forEach(function(fe){var ce=S(fe,2),_e=ce[0],Oe=ce[1];switch(_e){case Node.TEXT_NODE:ue.push(Oe);break;case Node.ELEMENT_NODE:ee.push(Oe);break;default:[].forEach.call(ie.container.querySelectorAll(_e),function(me){me[$]=me[$]||[],me[$].push(Oe)})}}),[ee,ue]}}]),W}(u.default);function R(K,W,ne){return"object"===(typeof W>"u"?"undefined":q(W))?Object.keys(W).reduce(function(ie,ee){return R(ie,ee,W[ee])},K):K.reduce(function(ie,ee){return ee.attributes&&ee.attributes[W]?ie.push(ee):ie.insert(ee.insert,(0,E.default)({},T({},W,ne),ee.attributes))},new a.default)}function Q(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var W="__ql-computed-style";return K[W]||(K[W]=window.getComputedStyle(K))}function H(K,W){for(var ne="",ie=K.ops.length-1;ie>=0&&ne.length<W.length;--ie){var ee=K.ops[ie];if("string"!=typeof ee.insert)break;ne=ee.insert+ne}return ne.slice(-1*W.length)===W}function P(K){if(0===K.childNodes.length)return!1;var W=Q(K);return["block","list-item"].indexOf(W.display)>-1}function U(K,W,ne){return K.nodeType===K.TEXT_NODE?ne.reduce(function(ie,ee){return ee(K,ie)},new a.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(ie,ee){var ue=U(ee,W,ne);return ee.nodeType===K.ELEMENT_NODE&&(ue=W.reduce(function(fe,ce){return ce(ee,fe)},ue),ue=(ee[$]||[]).reduce(function(fe,ce){return ce(ee,fe)},ue)),ie.concat(ue)},new a.default):new a.default}function z(K,W,ne){return R(ne,K,!0)}function Y(K,W){var ne=r.default.Attributor.Attribute.keys(K),ie=r.default.Attributor.Class.keys(K),ee=r.default.Attributor.Style.keys(K),ue={};return ne.concat(ie).concat(ee).forEach(function(fe){var ce=r.default.query(fe,r.default.Scope.ATTRIBUTE);null!=ce&&(ue[ce.attrName]=ce.value(K),ue[ce.attrName])||(null!=(ce=I[fe])&&(ce.attrName===fe||ce.keyName===fe)&&(ue[ce.attrName]=ce.value(K)||void 0),null!=(ce=A[fe])&&(ce.attrName===fe||ce.keyName===fe)&&(ue[(ce=A[fe]).attrName]=ce.value(K)||void 0))}),Object.keys(ue).length>0&&(W=R(W,ue)),W}function X(K,W){var ne=r.default.query(K);if(null==ne)return W;if(ne.prototype instanceof r.default.Embed){var ie={},ee=ne.value(K);null!=ee&&(ie[ne.blotName]=ee,W=(new a.default).insert(ie,ne.formats(K)))}else"function"==typeof ne.formats&&(W=R(W,ne.blotName,ne.formats(K)));return W}function de(K,W){return H(W,"\n")||(P(K)||W.length()>0&&K.nextSibling&&P(K.nextSibling))&&W.insert("\n"),W}function he(K,W){if(P(K)&&null!=K.nextElementSibling&&!H(W,"\n\n")){var ne=K.offsetHeight+parseFloat(Q(K).marginTop)+parseFloat(Q(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+1.5*ne&&W.insert("\n")}return W}function ve(K,W){var ne=K.data;if("O:P"===K.parentNode.tagName)return W.insert(ne.trim());if(0===ne.trim().length&&K.parentNode.classList.contains("ql-clipboard"))return W;if(!Q(K.parentNode).whiteSpace.startsWith("pre")){var ie=function(ue,fe){return(fe=fe.replace(/[^\u00a0]/g,"")).length<1&&ue?" ":fe};ne=(ne=ne.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,ie.bind(ie,!0)),(null==K.previousSibling&&P(K.parentNode)||null!=K.previousSibling&&P(K.previousSibling))&&(ne=ne.replace(/^\s+/,ie.bind(ie,!1))),(null==K.nextSibling&&P(K.parentNode)||null!=K.nextSibling&&P(K.nextSibling))&&(ne=ne.replace(/\s+$/,ie.bind(ie,!1)))}return W.insert(ne)}L.DEFAULTS={matchers:[],matchVisual:!0},_.default=L,_.matchAttributor=Y,_.matchBlot=X,_.matchNewline=de,_.matchSpacing=he,_.matchText=ve},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),S=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var r=function(f){function l(){return function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function i(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,[{key:"optimize",value:function(o){S(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"optimize",this).call(this,o),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return S(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(6)).default);r.blotName="bold",r.tagName=["STRONG","B"],_.default=r},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.addControls=_.default=void 0;var q=function(h,T){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return function p(h,T){var C=[],F=!0,D=!1,V=void 0;try{for(var j,$=h[Symbol.iterator]();!(F=(j=$.next()).done)&&(C.push(j.value),!T||C.length!==T);F=!0);}catch(I){D=!0,V=I}finally{try{!F&&$.return&&$.return()}finally{if(D)throw V}}return C}(h,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function(){function p(h,T){for(var C=0;C<T.length;C++){var F=T[C];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}return function(h,T,C){return T&&p(h.prototype,T),C&&p(h,C),h}}(),e=o(y(2)),m=o(y(0)),i=o(y(5)),f=o(y(10)),s=o(y(9));function o(p){return p&&p.__esModule?p:{default:p}}function n(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?p:h}var c=(0,f.default)("quill:toolbar"),b=function(p){function h(T,C){!function u(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h);var V,F=n(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,T,C));if(Array.isArray(F.options.container)){var D=document.createElement("div");N(D,F.options.container),T.container.parentNode.insertBefore(D,T.container),F.container=D}else F.container="string"==typeof F.options.container?document.querySelector(F.options.container):F.options.container;return F.container instanceof HTMLElement?(F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function($){F.addHandler($,F.options.handlers[$])}),[].forEach.call(F.container.querySelectorAll("button, select"),function($){F.attach($)}),F.quill.on(i.default.events.EDITOR_CHANGE,function($,j){$===i.default.events.SELECTION_CHANGE&&F.update(j)}),F.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var $=F.quill.selection.getRange(),j=q($,1);F.update(j[0])}),F):(V=c.error("Container required for toolbar",F.options),n(F,V))}return function d(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}(h,p),S(h,[{key:"addHandler",value:function(C,F){this.handlers[C]=F}},{key:"attach",value:function(C){var F=this,D=[].find.call(C.classList,function($){return 0===$.indexOf("ql-")});if(D){if(D=D.slice(3),"BUTTON"===C.tagName&&C.setAttribute("type","button"),null==this.handlers[D]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[D])return void c.warn("ignoring attaching to disabled format",D,C);if(null==m.default.query(D))return void c.warn("ignoring attaching to nonexistent format",D,C)}C.addEventListener("SELECT"===C.tagName?"change":"click",function($){var j=void 0;if("SELECT"===C.tagName){if(C.selectedIndex<0)return;var I=C.options[C.selectedIndex];j=!I.hasAttribute("selected")&&(I.value||!1)}else j=!C.classList.contains("ql-active")&&(C.value||!C.hasAttribute("value")),$.preventDefault();F.quill.focus();var A=F.quill.selection.getRange(),R=q(A,1)[0];if(null!=F.handlers[D])F.handlers[D].call(F,j);else if(m.default.query(D).prototype instanceof m.default.Embed){if(!(j=prompt("Enter "+D)))return;F.quill.updateContents((new e.default).retain(R.index).delete(R.length).insert(function t(p,h,T){return h in p?Object.defineProperty(p,h,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[h]=T,p}({},D,j)),i.default.sources.USER)}else F.quill.format(D,j,i.default.sources.USER);F.update(R)}),this.controls.push([D,C])}}},{key:"update",value:function(C){var F=null==C?{}:this.quill.getFormat(C);this.controls.forEach(function(D){var V=q(D,2),$=V[0],j=V[1];if("SELECT"===j.tagName){var I=void 0;if(null==C)I=null;else if(null==F[$])I=j.querySelector("option[selected]");else if(!Array.isArray(F[$])){var A=F[$];"string"==typeof A&&(A=A.replace(/\"/g,'\\"')),I=j.querySelector('option[value="'+A+'"]')}null==I?(j.value="",j.selectedIndex=-1):I.selected=!0}else if(null==C)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var L=F[$]===j.getAttribute("value")||null!=F[$]&&F[$].toString()===j.getAttribute("value")||null==F[$]&&!j.getAttribute("value");j.classList.toggle("ql-active",L)}else j.classList.toggle("ql-active",null!=F[$])})}}]),h}(s.default);function O(p,h,T){var C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("ql-"+h),null!=T&&(C.value=T),p.appendChild(C)}function N(p,h){Array.isArray(h[0])||(h=[h]),h.forEach(function(T){var C=document.createElement("span");C.classList.add("ql-formats"),T.forEach(function(F){if("string"==typeof F)O(C,F);else{var D=Object.keys(F)[0],V=F[D];Array.isArray(V)?function v(p,h,T){var C=document.createElement("select");C.classList.add("ql-"+h),T.forEach(function(F){var D=document.createElement("option");!1!==F?D.setAttribute("value",F):D.setAttribute("selected","selected"),C.appendChild(D)}),p.appendChild(C)}(C,D,V):O(C,D,V)}}),p.appendChild(C)})}b.DEFAULTS={},b.DEFAULTS={container:null,handlers:{clean:function(){var h=this,T=this.quill.getSelection();if(null!=T)if(0==T.length){var C=this.quill.getFormat();Object.keys(C).forEach(function(F){null!=m.default.query(F,m.default.Scope.INLINE)&&h.quill.format(F,!1)})}else this.quill.removeFormat(T,i.default.sources.USER)},direction:function(h){var T=this.quill.getFormat().align;"rtl"===h&&null==T?this.quill.format("align","right",i.default.sources.USER):!h&&"right"===T&&this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",h,i.default.sources.USER)},indent:function(h){var T=this.quill.getSelection(),C=this.quill.getFormat(T),F=parseInt(C.indent||0);if("+1"===h||"-1"===h){var D="+1"===h?1:-1;"rtl"===C.direction&&(D*=-1),this.quill.format("indent",F+D,i.default.sources.USER)}},link:function(h){!0===h&&(h=prompt("Enter link URL:")),this.quill.format("link",h,i.default.sources.USER)},list:function(h){var T=this.quill.getSelection(),C=this.quill.getFormat(T);this.quill.format("list","check"===h?"checked"!==C.list&&"unchecked"!==C.list&&"unchecked":h,i.default.sources.USER)}}},_.default=b,_.addControls=N},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),S=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var r=function(f){function l(s,o){!function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return t.label.innerHTML=o,t.container.classList.add("ql-color-picker"),[].slice.call(t.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(u){u.classList.add("ql-primary")}),t}return function i(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,[{key:"buildItem",value:function(o){var t=S(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"buildItem",this).call(this,o);return t.style.backgroundColor=o.getAttribute("value")||"",t}},{key:"selectItem",value:function(o,t){S(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,o,t);var u=this.label.querySelector(".ql-color-label"),n=o&&o.getAttribute("data-value")||"";u&&("line"===u.tagName?u.style.stroke=n:u.style.fill=n)}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(28)).default);_.default=r},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),S=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var r=function(f){function l(s,o){!function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,s));return t.container.classList.add("ql-icon-picker"),[].forEach.call(t.container.querySelectorAll(".ql-picker-item"),function(u){u.innerHTML=o[u.getAttribute("data-value")||""]}),t.defaultItem=t.container.querySelector(".ql-selected"),t.selectItem(t.defaultItem),t}return function i(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,[{key:"selectItem",value:function(o,t){S(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"selectItem",this).call(this,o,t),this.label.innerHTML=(o=o||this.defaultItem).innerHTML}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(28)).default);_.default=r},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function e(E,m){for(var a=0;a<m.length;a++){var i=m[a];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(E,i.key,i)}}return function(E,m,a){return m&&e(E.prototype,m),a&&e(E,a),E}}();var w=function(){function e(E,m){var a=this;(function S(e,E){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.quill=E,this.boundsContainer=m||document.body,this.root=E.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return q(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(m){var a=m.left+m.width/2-this.root.offsetWidth/2,i=m.bottom+this.quill.root.scrollTop;this.root.style.left=a+"px",this.root.style.top=i+"px",this.root.classList.remove("ql-flip");var r=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),l=0;return f.right>r.right&&(this.root.style.left=a+(l=r.right-f.right)+"px"),f.left<r.left&&(this.root.style.left=a+(l=r.left-f.left)+"px"),f.bottom>r.bottom&&(this.root.style.top=i-(m.bottom-m.top+(f.bottom-f.top))+"px",this.root.classList.add("ql-flip")),l}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();_.default=w},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(p,h){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function v(p,h){var T=[],C=!0,F=!1,D=void 0;try{for(var $,V=p[Symbol.iterator]();!(C=($=V.next()).done)&&(T.push($.value),!h||T.length!==h);C=!0);}catch(j){F=!0,D=j}finally{try{!C&&V.return&&V.return()}finally{if(F)throw D}}return T}(p,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},S=function v(p,h,T){null===p&&(p=Function.prototype);var C=Object.getOwnPropertyDescriptor(p,h);if(void 0===C){var F=Object.getPrototypeOf(p);return null===F?void 0:v(F,h,T)}if("value"in C)return C.value;var D=C.get;return void 0===D?void 0:D.call(T)},w=function(){function v(p,h){for(var T=0;T<h.length;T++){var C=h[T];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(p,C.key,C)}}return function(p,h,T){return h&&v(p.prototype,h),T&&v(p,T),p}}(),E=u(y(3)),a=u(y(8)),i=y(43),r=u(i),l=u(y(27)),s=y(15),t=u(y(41));function u(v){return v&&v.__esModule?v:{default:v}}function n(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function d(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?v:p}function c(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var b=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(v){function p(h,T){n(this,p),null!=T.modules.toolbar&&null==T.modules.toolbar.container&&(T.modules.toolbar.container=b);var C=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h,T));return C.quill.container.classList.add("ql-snow"),C}return c(p,v),w(p,[{key:"extendToolbar",value:function(T){T.container.classList.add("ql-snow"),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),t.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),t.default),this.tooltip=new N(this.quill,this.options.bounds),T.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(C,F){T.handlers.link.call(T,!F.format.link)})}}]),p}(r.default);O.DEFAULTS=(0,E.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(p){if(p){var h=this.quill.getSelection();if(null==h||0==h.length)return;var T=this.quill.getText(h);/^\S+@\S+\.\S+$/.test(T)&&0!==T.indexOf("mailto:")&&(T="mailto:"+T),this.quill.theme.tooltip.edit("link",T)}else this.quill.format("link",!1)}}}}});var N=function(v){function p(h,T){n(this,p);var C=d(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h,T));return C.preview=C.root.querySelector("a.ql-preview"),C}return c(p,v),w(p,[{key:"listen",value:function(){var T=this;S(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(C){T.root.classList.contains("ql-editing")?T.save():T.edit("link",T.preview.textContent),C.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(C){if(null!=T.linkRange){var F=T.linkRange;T.restoreFocus(),T.quill.formatText(F,"link",!1,a.default.sources.USER),delete T.linkRange}C.preventDefault(),T.hide()}),this.quill.on(a.default.events.SELECTION_CHANGE,function(C,F,D){if(null!=C){if(0===C.length&&D===a.default.sources.USER){var V=T.quill.scroll.descendant(l.default,C.index),$=q(V,2),j=$[0];if(null!=j){T.linkRange=new s.Range(C.index-$[1],j.length());var A=l.default.formats(j.domNode);return T.preview.textContent=A,T.preview.setAttribute("href",A),T.show(),void T.position(T.quill.getBounds(T.linkRange))}}else delete T.linkRange;T.hide()}})}},{key:"show",value:function(){S(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),p}(i.BaseTooltip);N.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),_.default=O},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var S=ee(y(29)),w=y(36),e=y(38),E=y(64),a=ee(y(65)),r=ee(y(66)),f=y(67),l=ee(f),s=y(37),o=y(26),t=y(39),u=y(40),d=ee(y(56)),b=ee(y(68)),N=ee(y(27)),p=ee(y(69)),T=ee(y(70)),F=ee(y(71)),V=ee(y(72)),j=ee(y(73)),I=y(13),A=ee(I),R=ee(y(74)),H=ee(y(75)),U=ee(y(57)),Y=ee(y(41)),re=ee(y(28)),se=ee(y(59)),he=ee(y(60)),ve=ee(y(61)),W=ee(y(108)),ie=ee(y(62));function ee(ue){return ue&&ue.__esModule?ue:{default:ue}}S.default.register({"attributors/attribute/direction":e.DirectionAttribute,"attributors/class/align":w.AlignClass,"attributors/class/background":s.BackgroundClass,"attributors/class/color":o.ColorClass,"attributors/class/direction":e.DirectionClass,"attributors/class/font":t.FontClass,"attributors/class/size":u.SizeClass,"attributors/style/align":w.AlignStyle,"attributors/style/background":s.BackgroundStyle,"attributors/style/color":o.ColorStyle,"attributors/style/direction":e.DirectionStyle,"attributors/style/font":t.FontStyle,"attributors/style/size":u.SizeStyle},!0),S.default.register({"formats/align":w.AlignClass,"formats/direction":e.DirectionClass,"formats/indent":E.IndentClass,"formats/background":s.BackgroundStyle,"formats/color":o.ColorStyle,"formats/font":t.FontClass,"formats/size":u.SizeClass,"formats/blockquote":a.default,"formats/code-block":A.default,"formats/header":r.default,"formats/list":l.default,"formats/bold":d.default,"formats/code":I.Code,"formats/italic":b.default,"formats/link":N.default,"formats/script":p.default,"formats/strike":T.default,"formats/underline":F.default,"formats/image":V.default,"formats/video":j.default,"formats/list/item":f.ListItem,"modules/formula":R.default,"modules/syntax":H.default,"modules/toolbar":U.default,"themes/bubble":W.default,"themes/snow":ie.default,"ui/icons":Y.default,"ui/picker":re.default,"ui/icon-picker":he.default,"ui/color-picker":se.default,"ui/tooltip":ve.default},!0),_.default=S.default},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.IndentClass=void 0;var q=function(){function l(s,o){for(var t=0;t<o.length;t++){var u=o[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(s,u.key,u)}}return function(s,o,t){return o&&l(s.prototype,o),t&&l(s,t),s}}(),S=function l(s,o,t){null===s&&(s=Function.prototype);var u=Object.getOwnPropertyDescriptor(s,o);if(void 0===u){var n=Object.getPrototypeOf(s);return null===n?void 0:l(n,o,t)}if("value"in u)return u.value;var d=u.get;return void 0===d?void 0:d.call(t)},e=function E(l){return l&&l.__esModule?l:{default:l}}(y(0));var r=function(l){function s(){return function m(l,s){if(!(l instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function a(l,s){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?l:s}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function i(l,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);l.prototype=Object.create(s&&s.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(l,s):l.__proto__=s)}(s,l),q(s,[{key:"add",value:function(t,u){if("+1"===u||"-1"===u){var n=this.value(t)||0;u="+1"===u?n+1:n-1}return 0===u?(this.remove(t),!0):S(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"add",this).call(this,t,u)}},{key:"canAdd",value:function(t,u){return S(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,t,u)||S(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,t,parseInt(u))}},{key:"value",value:function(t){return parseInt(S(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"value",this).call(this,t))||void 0}}]),s}(e.default.Attributor.Class),f=new r("indent","ql-indent",{scope:e.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});_.IndentClass=f},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(i){function r(){return function e(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function E(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function m(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),r}(function w(i){return i&&i.__esModule?i:{default:i}}(y(4)).default);a.blotName="blockquote",a.tagName="blockquote",_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function r(f,l){for(var s=0;s<l.length;s++){var o=l[s];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(f,o.key,o)}}return function(f,l,s){return l&&r(f.prototype,l),s&&r(f,s),f}}();var i=function(r){function f(){return function E(r,f){if(!(r instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function m(r,f){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?r:f}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function a(r,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);r.prototype=Object.create(f&&f.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(r,f):r.__proto__=f)}(f,r),q(f,null,[{key:"formats",value:function(s){return this.tagName.indexOf(s.tagName)+1}}]),f}(function e(r){return r&&r.__esModule?r:{default:r}}(y(4)).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],_.default=i},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.ListItem=void 0;var q=function(){function n(d,c){for(var b=0;b<c.length;b++){var O=c[b];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(d,O.key,O)}}return function(d,c,b){return c&&n(d.prototype,c),b&&n(d,b),d}}(),S=function n(d,c,b){null===d&&(d=Function.prototype);var O=Object.getOwnPropertyDescriptor(d,c);if(void 0===O){var N=Object.getPrototypeOf(d);return null===N?void 0:n(N,c,b)}if("value"in O)return O.value;var v=O.get;return void 0===v?void 0:v.call(b)},e=r(y(0)),m=r(y(4)),i=r(y(25));function r(n){return n&&n.__esModule?n:{default:n}}function l(n,d){if(!(n instanceof d))throw new TypeError("Cannot call a class as a function")}function s(n,d){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||"object"!=typeof d&&"function"!=typeof d?n:d}function o(n,d){if("function"!=typeof d&&null!==d)throw new TypeError("Super expression must either be null or a function, not "+typeof d);n.prototype=Object.create(d&&d.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(n,d):n.__proto__=d)}var t=function(n){function d(){return l(this,d),s(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return o(d,n),q(d,[{key:"format",value:function(b,O){b!==u.blotName||O?S(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,b,O):this.replaceWith(e.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():S(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(b,O){return this.parent.isolate(this.offset(this.parent),this.length()),b===this.parent.statics.blotName?(this.parent.replaceWith(b,O),this):(this.parent.unwrap(),S(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"replaceWith",this).call(this,b,O))}}],[{key:"formats",value:function(b){return b.tagName===this.tagName?void 0:S(d.__proto__||Object.getPrototypeOf(d),"formats",this).call(this,b)}}]),d}(m.default);t.blotName="list-item",t.tagName="LI";var u=function(n){function d(c){l(this,d);var b=s(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,c)),O=function(v){if(v.target.parentNode===c){var p=b.statics.formats(c),h=e.default.find(v.target);"checked"===p?h.format("list","unchecked"):"unchecked"===p&&h.format("list","checked")}};return c.addEventListener("touchstart",O),c.addEventListener("mousedown",O),b}return o(d,n),q(d,null,[{key:"create",value:function(b){var O="ordered"===b?"OL":"UL",N=S(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,O);return("checked"===b||"unchecked"===b)&&N.setAttribute("data-checked","checked"===b),N}},{key:"formats",value:function(b){return"OL"===b.tagName?"ordered":"UL"===b.tagName?b.hasAttribute("data-checked")?"true"===b.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),q(d,[{key:"format",value:function(b,O){this.children.length>0&&this.children.tail.format(b,O)}},{key:"formats",value:function(){return function f(n,d,c){return d in n?Object.defineProperty(n,d,{value:c,enumerable:!0,configurable:!0,writable:!0}):n[d]=c,n}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(b,O){if(b instanceof t)S(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"insertBefore",this).call(this,b,O);else{var N=null==O?this.length():O.offset(this),v=this.split(N);v.parent.insertBefore(b,v)}}},{key:"optimize",value:function(b){S(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"optimize",this).call(this,b);var O=this.next;null!=O&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(b){if(b.statics.blotName!==this.statics.blotName){var O=e.default.create(this.statics.defaultChild);b.moveChildren(O),this.appendChild(O)}S(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"replace",this).call(this,b)}}]),d}(i.default);u.blotName="list",u.scope=e.default.Scope.BLOCK_BLOT,u.tagName=["OL","UL"],u.defaultChild="list-item",u.allowedChildren=[t],_.ListItem=t,_.default=u},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(i){function r(){return function e(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function E(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function m(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),r}(function w(i){return i&&i.__esModule?i:{default:i}}(y(56)).default);a.blotName="italic",a.tagName=["EM","I"],_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function f(l,s){for(var o=0;o<s.length;o++){var t=s[o];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(l,t.key,t)}}return function(l,s,o){return s&&f(l.prototype,s),o&&f(l,o),l}}(),S=function f(l,s,o){null===l&&(l=Function.prototype);var t=Object.getOwnPropertyDescriptor(l,s);if(void 0===t){var u=Object.getPrototypeOf(l);return null===u?void 0:f(u,s,o)}if("value"in t)return t.value;var n=t.get;return void 0===n?void 0:n.call(o)};var r=function(f){function l(){return function m(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l),function a(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?f:l}(this,(l.__proto__||Object.getPrototypeOf(l)).apply(this,arguments))}return function i(f,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(l,f),q(l,null,[{key:"create",value:function(o){return"super"===o?document.createElement("sup"):"sub"===o?document.createElement("sub"):S(l.__proto__||Object.getPrototypeOf(l),"create",this).call(this,o)}},{key:"formats",value:function(o){return"SUB"===o.tagName?"sub":"SUP"===o.tagName?"super":void 0}}]),l}(function E(f){return f&&f.__esModule?f:{default:f}}(y(6)).default);r.blotName="script",r.tagName=["SUB","SUP"],_.default=r},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(i){function r(){return function e(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function E(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function m(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),r}(function w(i){return i&&i.__esModule?i:{default:i}}(y(6)).default);a.blotName="strike",a.tagName="S",_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var a=function(i){function r(){return function e(i,r){if(!(i instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function E(i,r){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?i:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function m(i,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);i.prototype=Object.create(r&&r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(i,r):i.__proto__=r)}(r,i),r}(function w(i){return i&&i.__esModule?i:{default:i}}(y(6)).default);a.blotName="underline",a.tagName="U",_.default=a},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),S=function s(o,t,u){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var d=Object.getPrototypeOf(o);return null===d?void 0:s(d,t,u)}if("value"in n)return n.value;var c=n.get;return void 0===c?void 0:c.call(u)},e=function m(s){return s&&s.__esModule?s:{default:s}}(y(0)),E=y(27);var f=["alt","height","width"],l=function(s){function o(){return function a(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function i(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?s:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function r(s,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}(o,s),q(o,[{key:"format",value:function(u,n){f.indexOf(u)>-1?n?this.domNode.setAttribute(u,n):this.domNode.removeAttribute(u):S(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,u,n)}}],[{key:"create",value:function(u){var n=S(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,u);return"string"==typeof u&&n.setAttribute("src",this.sanitize(u)),n}},{key:"formats",value:function(u){return f.reduce(function(n,d){return u.hasAttribute(d)&&(n[d]=u.getAttribute(d)),n},{})}},{key:"match",value:function(u){return/\.(jpe?g|gif|png)$/.test(u)||/^data:image\/.+;base64/.test(u)}},{key:"sanitize",value:function(u){return(0,E.sanitize)(u,["http","https","data"])?u:"//:0"}},{key:"value",value:function(u){return u.getAttribute("src")}}]),o}(e.default.Embed);l.blotName="image",l.tagName="IMG",_.default=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var q=function(){function s(o,t){for(var u=0;u<t.length;u++){var n=t[u];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(o,n.key,n)}}return function(o,t,u){return t&&s(o.prototype,t),u&&s(o,u),o}}(),S=function s(o,t,u){null===o&&(o=Function.prototype);var n=Object.getOwnPropertyDescriptor(o,t);if(void 0===n){var d=Object.getPrototypeOf(o);return null===d?void 0:s(d,t,u)}if("value"in n)return n.value;var c=n.get;return void 0===c?void 0:c.call(u)},w=y(4),E=function m(s){return s&&s.__esModule?s:{default:s}}(y(27));var f=["height","width"],l=function(s){function o(){return function a(s,o){if(!(s instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function i(s,o){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?s:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function r(s,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(s,o):s.__proto__=o)}(o,s),q(o,[{key:"format",value:function(u,n){f.indexOf(u)>-1?n?this.domNode.setAttribute(u,n):this.domNode.removeAttribute(u):S(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,u,n)}}],[{key:"create",value:function(u){var n=S(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,u);return n.setAttribute("frameborder","0"),n.setAttribute("allowfullscreen",!0),n.setAttribute("src",this.sanitize(u)),n}},{key:"formats",value:function(u){return f.reduce(function(n,d){return u.hasAttribute(d)&&(n[d]=u.getAttribute(d)),n},{})}},{key:"sanitize",value:function(u){return E.default.sanitize(u)}},{key:"value",value:function(u){return u.getAttribute("src")}}]),o}(w.BlockEmbed);l.blotName="video",l.className="ql-video",l.tagName="IFRAME",_.default=l},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.FormulaBlot=void 0;var q=function(){function u(n,d){for(var c=0;c<d.length;c++){var b=d[c];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(n,b.key,b)}}return function(n,d,c){return d&&u(n.prototype,d),c&&u(n,c),n}}(),S=function u(n,d,c){null===n&&(n=Function.prototype);var b=Object.getOwnPropertyDescriptor(n,d);if(void 0===b){var O=Object.getPrototypeOf(n);return null===O?void 0:u(O,d,c)}if("value"in b)return b.value;var N=b.get;return void 0===N?void 0:N.call(c)},e=r(y(35)),m=r(y(5)),i=r(y(9));function r(u){return u&&u.__esModule?u:{default:u}}function f(u,n){if(!(u instanceof n))throw new TypeError("Cannot call a class as a function")}function l(u,n){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?u:n}function s(u,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);u.prototype=Object.create(n&&n.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(u,n):u.__proto__=n)}var o=function(u){function n(){return f(this,n),l(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return s(n,u),q(n,null,[{key:"create",value:function(c){var b=S(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,c);return"string"==typeof c&&(window.katex.render(c,b,{throwOnError:!1,errorColor:"#f00"}),b.setAttribute("data-value",c)),b}},{key:"value",value:function(c){return c.getAttribute("data-value")}}]),n}(e.default);o.blotName="formula",o.className="ql-formula",o.tagName="SPAN";var t=function(u){function n(){f(this,n);var d=l(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return d}return s(n,u),q(n,null,[{key:"register",value:function(){m.default.register(o,!0)}}]),n}(i.default);_.FormulaBlot=o,_.default=t},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.CodeToken=_.CodeBlock=void 0;var q=function(){function c(b,O){for(var N=0;N<O.length;N++){var v=O[N];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(b,v.key,v)}}return function(b,O,N){return O&&c(b.prototype,O),N&&c(b,N),b}}(),S=function c(b,O,N){null===b&&(b=Function.prototype);var v=Object.getOwnPropertyDescriptor(b,O);if(void 0===v){var p=Object.getPrototypeOf(b);return null===p?void 0:c(p,O,N)}if("value"in v)return v.value;var h=v.get;return void 0===h?void 0:h.call(N)},e=l(y(0)),m=l(y(5)),i=l(y(9));function l(c){return c&&c.__esModule?c:{default:c}}function s(c,b){if(!(c instanceof b))throw new TypeError("Cannot call a class as a function")}function o(c,b){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?c:b}function t(c,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);c.prototype=Object.create(b&&b.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(c,b):c.__proto__=b)}var u=function(c){function b(){return s(this,b),o(this,(b.__proto__||Object.getPrototypeOf(b)).apply(this,arguments))}return t(b,c),q(b,[{key:"replaceWith",value:function(N){this.domNode.textContent=this.domNode.textContent,this.attach(),S(b.prototype.__proto__||Object.getPrototypeOf(b.prototype),"replaceWith",this).call(this,N)}},{key:"highlight",value:function(N){var v=this.domNode.textContent;this.cachedText!==v&&((v.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=N(v),this.domNode.normalize(),this.attach()),this.cachedText=v)}}]),b}(l(y(13)).default);u.className="ql-syntax";var n=new e.default.Attributor.Class("token","hljs",{scope:e.default.Scope.INLINE}),d=function(c){function b(O,N){s(this,b);var v=o(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,O,N));if("function"!=typeof v.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var p=null;return v.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(p),p=setTimeout(function(){v.highlight(),p=null},v.options.interval)}),v.highlight(),v}return t(b,c),q(b,null,[{key:"register",value:function(){m.default.register(n,!0),m.default.register(u,!0)}}]),q(b,[{key:"highlight",value:function(){var N=this;if(!this.quill.selection.composing){this.quill.update(m.default.sources.USER);var v=this.quill.getSelection();this.quill.scroll.descendants(u).forEach(function(p){p.highlight(N.options.highlight)}),this.quill.update(m.default.sources.SILENT),null!=v&&this.quill.setSelection(v,m.default.sources.SILENT)}}}]),b}(i.default);d.DEFAULTS={highlight:null==window.hljs?null:function(c){return window.hljs.highlightAuto(c).value},interval:1e3},_.CodeBlock=u,_.CodeToken=n,_.default=d},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(J,_){J.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(J,_){J.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(J,_){J.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(J,_){J.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(J,_){J.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(J,_,y){"use strict";Object.defineProperty(_,"__esModule",{value:!0}),_.default=_.BubbleTooltip=void 0;var q=function b(O,N,v){null===O&&(O=Function.prototype);var p=Object.getOwnPropertyDescriptor(O,N);if(void 0===p){var h=Object.getPrototypeOf(O);return null===h?void 0:b(h,N,v)}if("value"in p)return p.value;var T=p.get;return void 0===T?void 0:T.call(v)},S=function(){function b(O,N){for(var v=0;v<N.length;v++){var p=N[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(O,p.key,p)}}return function(O,N,v){return N&&b(O.prototype,N),v&&b(O,v),O}}(),e=s(y(3)),m=s(y(8)),a=y(43),i=s(a),r=y(15),l=s(y(41));function s(b){return b&&b.__esModule?b:{default:b}}function o(b,O){if(!(b instanceof O))throw new TypeError("Cannot call a class as a function")}function t(b,O){if(!b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?b:O}function u(b,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);b.prototype=Object.create(O&&O.prototype,{constructor:{value:b,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(b,O):b.__proto__=O)}var n=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],d=function(b){function O(N,v){o(this,O),null!=v.modules.toolbar&&null==v.modules.toolbar.container&&(v.modules.toolbar.container=n);var p=t(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,v));return p.quill.container.classList.add("ql-bubble"),p}return u(O,b),S(O,[{key:"extendToolbar",value:function(v){this.tooltip=new c(this.quill,this.options.bounds),this.tooltip.root.appendChild(v.container),this.buildButtons([].slice.call(v.container.querySelectorAll("button")),l.default),this.buildPickers([].slice.call(v.container.querySelectorAll("select")),l.default)}}]),O}(i.default);d.DEFAULTS=(0,e.default)(!0,{},i.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var c=function(b){function O(N,v){o(this,O);var p=t(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,v));return p.quill.on(m.default.events.EDITOR_CHANGE,function(h,T,C,F){if(h===m.default.events.SELECTION_CHANGE)if(null!=T&&T.length>0&&F===m.default.sources.USER){p.show(),p.root.style.left="0px",p.root.style.width="",p.root.style.width=p.root.offsetWidth+"px";var D=p.quill.getLines(T.index,T.length);if(1===D.length)p.position(p.quill.getBounds(T));else{var V=D[D.length-1],$=p.quill.getIndex(V),j=Math.min(V.length()-1,T.index+T.length-$),I=p.quill.getBounds(new r.Range($,j));p.position(I)}}else document.activeElement!==p.textbox&&p.quill.hasFocus()&&p.hide()}),p}return u(O,b),S(O,[{key:"listen",value:function(){var v=this;q(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){v.root.classList.remove("ql-editing")}),this.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!v.root.classList.contains("ql-hidden")){var p=v.quill.getSelection();null!=p&&v.position(v.quill.getBounds(p))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(v){var p=q(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,v),h=this.root.querySelector(".ql-tooltip-arrow");if(h.style.marginLeft="",0===p)return p;h.style.marginLeft=-1*p-h.offsetWidth/2+"px"}}]),O}(a.BaseTooltip);c.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),_.BubbleTooltip=c,_.default=d},function(J,_,y){J.exports=y(63)}]).default},336:(Ne,J,_)=>{"use strict";_.d(J,{c:()=>u});var y=_(9376),q=_(91),S=_(1413),w=_(5879),e=_(6223),E=_(5545),m=_(9397);const a=["key"],i=["allOf"];function f(n){return""===n||null==n}function l(n){return null!=n&&"object"==typeof n&&!Array.isArray(n)}function s(n){return Number.isInteger?Number.isInteger(n):"number"==typeof n&&Math.floor(n)===n}function o(n){return"object"==typeof n&&(n.hasOwnProperty("const")||n.enum&&1===n.enum.length)}function t(n){if(!n.fieldGroup)return(0,E._S)(n)&&void 0!==(0,E.Hl)(n)?1:0;const d=n.fieldGroup.reduce((c,b)=>t(b)+c,0);if(0===d&&(0,E._S)(n)){const c=(0,E.Hl)(n);if(null===c||void 0!==c&&(n.fieldArray&&Array.isArray(c)||!n.fieldArray&&l(c)))return 1}return d}let u=(()=>{class n{toFieldConfig(c,b){return c=(0,E.kg)(c),this._toFieldConfig(c,(0,S.Z)({schema:c},b||{}))}_toFieldConfig(c,b){var O;let{key:N}=b,v=(0,q.Z)(b,a);c=this.resolveSchema(c,v);const p=this.guessSchemaType(c);let h={type:p[0],defaultValue:c.default,props:{label:c.title,readonly:c.readOnly,description:c.description}};switch(null!=N&&(h.key=N),!v.ignoreDefault&&(c.readOnly||v.readOnly)&&(h.props.disabled=!0,v=(0,S.Z)((0,S.Z)({},v),{},{readOnly:!0})),v.resetOnHide&&(h.resetOnHide=!0),N&&v.strict&&this.addValidator(h,"type",(T,C)=>{const F=(0,E.Hl)(C);if(null!=F)switch(h.type){case"string":return"string"==typeof F;case"integer":return s(F);case"number":return"number"==typeof F;case"object":return l(F);case"array":return Array.isArray(F)}return!0}),!1===v.shareFormControl&&(h.shareFormControl=!1),v.ignoreDefault&&delete h.defaultValue,this.addValidator(h,"type",{schemaType:p,expression:({value:T})=>{if(void 0===T||null===T&&-1!==p.indexOf("null"))return!0;switch(p[0]){case"null":return null===typeof T;case"string":return"string"==typeof T;case"integer":return s(T);case"number":return"number"==typeof T;case"object":return l(T);case"array":return Array.isArray(T)}return!0}}),h.type){case"number":case"integer":h.parsers=[T=>f(T)?T:Number(T)],c.hasOwnProperty("minimum")&&(h.props.min=c.minimum),c.hasOwnProperty("maximum")&&(h.props.max=c.maximum),c.hasOwnProperty("exclusiveMinimum")&&(h.props.exclusiveMinimum=c.exclusiveMinimum,this.addValidator(h,"exclusiveMinimum",({value:T})=>f(T)||T>c.exclusiveMinimum)),c.hasOwnProperty("exclusiveMaximum")&&(h.props.exclusiveMaximum=c.exclusiveMaximum,this.addValidator(h,"exclusiveMaximum",({value:T})=>f(T)||T<c.exclusiveMaximum)),c.hasOwnProperty("multipleOf")&&(h.props.step=c.multipleOf,this.addValidator(h,"multipleOf",({value:T})=>{if(f(T)||"number"!=typeof T||0===T||c.multipleOf<=0)return!0;const C=Math.pow(10,function r(n){if(!isFinite(n))return 0;let d=1,c=0;for(;Math.round(n*d)/d!==n;)d*=10,c++;return c}(c.multipleOf));return Math.round(T*C)%Math.round(c.multipleOf*C)==0}));break;case"string":h.parsers=[T=>(-1!==p.indexOf("null")?T=f(T)?null:T:h.props.required||(T=""===T?void 0:T),T)],["minLength","maxLength","pattern"].forEach(T=>{c.hasOwnProperty(T)&&(h.props[T]=c[T])});break;case"object":{h.fieldGroup||(h.fieldGroup=[]);const{propDeps:T,schemaDeps:C}=this.resolveDependencies(c);Object.keys(c.properties||{}).forEach(F=>{const D=Array.isArray(c.required)&&-1!==c.required.indexOf(F),V=this._toFieldConfig(c.properties[F],(0,S.Z)((0,S.Z)({},v),{},{key:F,isOptional:v.isOptional||!D}));if(h.fieldGroup.push(V),(D||T[F])&&(V.expressions=(0,S.Z)((0,S.Z)({},V.expressions||{}),{},{"props.required":$=>{let j=$.parent;const I=$.fieldGroup&&null!=$.key?j.model:$.model;for(;null==j.key&&j.parent;)j=j.parent;return!!(I||j&&j.props&&j.props.required)&&(!(!Array.isArray(c.required)||-1===c.required.indexOf(F))||T[F]&&$.model&&T[F].some(L=>!f($.model[L])))}})),C[F]){const $=I=>I.hasOwnProperty("const")?I.const:I.enum[0],j=C[F].oneOf;j&&j.every(I=>I.properties&&I.properties[F]&&o(I.properties[F]))?j.forEach(I=>{const A=I.properties,{[F]:L}=A,R=(0,q.Z)(A,[F].map(y.Z));h.fieldGroup.push((0,S.Z)((0,S.Z)({},this._toFieldConfig((0,S.Z)((0,S.Z)({},I),{},{properties:R}),(0,S.Z)((0,S.Z)({},v),{},{shareFormControl:!1,resetOnHide:!0}))),{},{expressions:{hide:Q=>!Q.model||$(L)!==Q.model[F]}}))}):h.fieldGroup.push((0,S.Z)((0,S.Z)({},this._toFieldConfig(C[F],v)),{},{expressions:{hide:I=>!I.model||f(I.model[F])}}))}}),c.oneOf&&h.fieldGroup.push(this.resolveMultiSchema("oneOf",c.oneOf,(0,S.Z)((0,S.Z)({},v),{},{shareFormControl:!1}))),c.anyOf&&h.fieldGroup.push(this.resolveMultiSchema("anyOf",c.anyOf,v));break}case"array":c.hasOwnProperty("minItems")&&(h.props.minItems=c.minItems,this.addValidator(h,"minItems",(T,C)=>{const F=(0,E.Hl)(C);return f(F)||F.length>=c.minItems}),!v.isOptional&&c.minItems>0&&void 0===h.defaultValue&&(h.defaultValue=Array.from(new Array(c.minItems)))),c.hasOwnProperty("maxItems")&&(h.props.maxItems=c.maxItems,this.addValidator(h,"maxItems",(T,C)=>{const F=(0,E.Hl)(C);return f(F)||F.length<=c.maxItems})),c.hasOwnProperty("uniqueItems")&&(h.props.uniqueItems=c.uniqueItems,this.addValidator(h,"uniqueItems",(T,C)=>{const F=(0,E.Hl)(C);return!(!f(F)&&c.uniqueItems)||Array.from(new Set(F.map(V=>JSON.stringify(V,($,j)=>l(j)?Object.keys(V).sort().reduce((I,A)=>(I[A]=V[A],I),{}):j)))).length===F.length})),c.items&&!Array.isArray(c.items)&&(c.items=this.resolveSchema(c.items,v)),this.isEnum(c)||(h.fieldArray=T=>{const C=c.items;if(!Array.isArray(C)){if(!C)return{};const $=C.oneOf||C.anyOf,j=this._toFieldConfig(C,$?(0,S.Z)((0,S.Z)({},v),{},{key:`${T.fieldGroup.length}`}):v);return $&&!(0,E._S)(j)&&(j.key=null),j.props.required=!0,j}const F=T.fieldGroup?T.fieldGroup.length:0,D=C[F]?C[F]:c.additionalItems,V=D?this._toFieldConfig(D,v):{};return V.props&&(V.props.required=!0),C[F]&&(V.props.removable=!1),V})}if(c.hasOwnProperty("const")&&(h.props.const=c.const,this.addValidator(h,"const",({value:T})=>T===c.const),h.type||(h.defaultValue=c.const)),this.isEnum(c)){const T=this.toEnumOptions(c),C="array"===h.type;h.type="enum",h.props.multiple=C,h.props.options=T;const F=T.map(D=>D.value);this.addValidator(h,"enum",({value:D})=>void 0===D||(C?!!Array.isArray(D)&&D.every(V=>F.includes(V)):F.includes(D)))}return c.oneOf&&!h.type&&(delete h.key,h.fieldGroup=[this.resolveMultiSchema("oneOf",c.oneOf,(0,S.Z)((0,S.Z)({},v),{},{key:N,shareFormControl:!1}))]),c.oneOf&&!h.type&&(delete h.key,h.fieldGroup=[this.resolveMultiSchema("oneOf",c.oneOf,(0,S.Z)((0,S.Z)({},v),{},{key:N,shareFormControl:!1}))]),null!==(O=c.widget)&&void 0!==O&&O.formlyConfig&&(h=this.mergeFields(h,c.widget.formlyConfig)),h.templateOptions=h.props,v.map?v.map(h,c):h}resolveSchema(c,b){return c&&c.$ref&&(c=this.resolveDefinition(c,b)),c&&c.allOf&&(c=this.resolveAllOf(c,b)),c}resolveAllOf(c,b){let{allOf:O}=c,N=(0,q.Z)(c,i);if(!O.length)throw Error(`allOf array can not be empty ${O}.`);return O.reduce((v,p)=>(p=this.resolveSchema(p,b),v.required&&p.required&&(v.required=[...v.required,...p.required]),p.uniqueItems&&(v.uniqueItems=p.uniqueItems),["maxLength","maximum","exclusiveMaximum","maxItems","maxProperties"].forEach(h=>{!f(v[h])&&!f(p[h])&&(v[h]=v[h]<p[h]?v[h]:p[h])}),["minLength","minimum","exclusiveMinimum","minItems","minProperties"].forEach(h=>{!f(v[h])&&!f(p[h])&&(v[h]=v[h]>p[h]?v[h]:p[h])}),(0,E.Du)(v,p)),N)}resolveMultiSchema(c,b,O){return{type:"multischema",fieldGroup:[{type:"enum",defaultValue:-1,props:{multiple:"anyOf"===c,options:b.map((N,v)=>({label:N.title,value:v,disabled:N.readOnly}))},hooks:{onInit:N=>N.formControl.valueChanges.pipe((0,m.b)(()=>N.options.detectChanges(N.parent)))}},{fieldGroup:b.map((N,v)=>(0,S.Z)((0,S.Z)({},this._toFieldConfig(N,(0,S.Z)((0,S.Z)({},O),{},{resetOnHide:!0}))),{},{expressions:{hide:(p,h)=>{const T=p.parent.parent.fieldGroup[0].formControl;if(-1===T.value||h){let C=p.parent.fieldGroup.map((F,D)=>[F,D,this.isFieldValid(F,D,b,O)]).sort(([F,,D],[V,,$])=>{if(D!==$)return $?1:-1;const j=t(F),I=t(V);return j===I&&F.props.disabled===V.props.disabled?0:I>j?1:-1}).map(([,F])=>F);if("anyOf"===c){const F=C.filter(D=>t(p.parent.fieldGroup[D]));C=F.length>0?F:[C[0]||0]}C=C.length>0?C:[0],T.setValue("anyOf"===c?C:C[0])}return Array.isArray(T.value)?-1===T.value.indexOf(v):T.value!==v}}}))}]}}resolveDefinition(c,b){const[O,N]=c.$ref.split("#/");if(O)throw Error(`Remote schemas for ${c.$ref} not supported yet.`);const v=N?N.split("/").reduce((p,h)=>null!=p&&p.hasOwnProperty(h)?p[h]:null,b.schema):null;if(!v)throw Error(`Cannot find a definition for ${c.$ref}.`);return v.$ref?this.resolveDefinition(v,b):(0,S.Z)((0,S.Z)({},v),["title","description","default","widget"].reduce((p,h)=>(c.hasOwnProperty(h)&&(p[h]=c[h]),p),{}))}resolveDependencies(c){const b={},O={};return Object.keys(c.dependencies||{}).forEach(N=>{const v=c.dependencies[N];Array.isArray(v)?v.forEach(p=>{b[p]?b[p].push(N):b[p]=[N]}):O[N]=v}),{propDeps:b,schemaDeps:O}}guessSchemaType(c){const b=null==c?void 0:c.type;return!b&&null!=c&&c.properties?["object"]:Array.isArray(b)?1===b.length?b:2===b.length&&-1!==b.indexOf("null")?b.sort(O=>"null"==O?1:-1):b:b?[b]:[]}addValidator(c,b,O){c.validators=c.validators||{},c.validators[b]=O}isEnum(c){return!!c.enum||c.anyOf&&c.anyOf.every(o)||c.oneOf&&c.oneOf.every(o)||c.uniqueItems&&c.items&&!Array.isArray(c.items)&&this.isEnum(c.items)}toEnumOptions(c){if(c.enum)return c.enum.map(O=>({value:O,label:O}));const b=O=>{const N=O.hasOwnProperty("const")?O.const:O.enum[0],v={value:N,label:O.title||N};return O.readOnly&&(v.disabled=!0),v};return c.anyOf?c.anyOf.map(b):c.oneOf?c.oneOf.map(b):this.toEnumOptions(c.items)}isFieldValid(c,b,O,N){const v=O[b];v._field||Object.defineProperty(v,"_field",{enumerable:!1,writable:!0,configurable:!0});let p=v._field;const h=c.model?(0,E.kg)(c.model):c.fieldArray?[]:{};return p?(p.model=h,c.options.build(p)):p=v._field=c.options.build({form:Array.isArray(h)?new e.Oe([]):new e.cw({}),fieldGroup:[this._toFieldConfig(v,(0,S.Z)((0,S.Z)({},N),{},{resetOnHide:!0,ignoreDefault:!0,map:null,strict:!0}))],model:h,options:{}}),p.form.valid}mergeFields(c,b){for(let O in b){const N="templateOptions"===O?"props":O;l(c[N])&&l(b[O])?c[N]=this.mergeFields(c[N],b[O]):null!=b[O]&&(c[N]=b[O])}return c}}return n.\u0275fac=function(c){return new(c||n)},n.\u0275prov=w.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})()}}]);