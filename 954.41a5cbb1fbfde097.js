"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[954],{954:(H,M,a)=>{a.r(M),a.d(M,{ScriptMainModule:()=>Me});var x=a(9090),c=a(6814),g=a(6223),O=a(2630),L=a(7905),A=a(4610),p=a(3946),Z=a(8109),v=a(342),U=a(4295),k=a(3038),h=a(5063),t=a(5879);let T=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[v.Iq,c.ez,U.$,L.q,p.lQ,p.XC,Z.Bz,k.G,h.g]}),r})();var m=a(5861),f=a(7165),P=a(1410),d=a(3729),K=a(463),_=a(4064);let N=(()=>{var n;class r{constructor(i){this.preferencesService=i,this.acceptedOptionsValues={type:["card","list"],orderBy:["az","date","installed"],reverse:[!0,!1],installedFirst:[!0,!1],ffmobileFirst:[!0,!1]}}get options(){const i=this.preferencesService.getItem(f.Ye.SCRIPT_LAYOUT_OPTIONS);return i&&this.checkOptions(i)?i:_.Hc}set options(i){this.preferencesService.setItem(f.Ye.SCRIPT_LAYOUT_OPTIONS,i)}checkOptions(i){for(const e of Object.keys(_.Hc))if(!i.hasOwnProperty(e)||!this.acceptedOptionsValues[e].includes(i[e]))return!1;return!0}}return(n=r).\u0275fac=function(i){return new(i||n)(t.LFG(K.y))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),r})();var Q=a(9121),I=a(9246),z=a(4143),G=a(2986),$=a(5245),W=a(5125),V=a(3285),X=a(146),tt=a(9473),y=a(1413),q=a(1378),B=a(5661),F=a(4020),D=a(4291);const et=["app-script-buttons",""],R=function(n,r){return["./",n,r]};function it(n,r){if(1&n&&(t.TgZ(0,"li"),t._UZ(1,"a",13),t.qZA()),2&n){const s=r.$implicit,i=r.index,e=t.oxw(4);t.xp6(1),t.Q6J("routerLink",t.WLB(2,R,e.script.scriptId,s.slug))("innerText",s.name||"Altro "+(i+2))}}const nt=function(){return["bottom-end","top-end","auto"]};function st(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",7)(2,"button",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"path",10),t.qZA()(),t.kcU(),t.TgZ(5,"ul",11),t.YNc(6,it,2,5,"li",12),t.ALo(7,"slice"),t.qZA()(),t.BQk()),2&n){const s=t.oxw(3);t.xp6(1),t.Q6J("placement",t.DdM(5,nt)),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,s.externalSandboxes,1))}}const rt=function(n){return{"in-group left":n}};function ot(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"div",5)(2,"button",6),t.NdJ("click",function(i){return i.stopPropagation()}),t.qZA(),t.YNc(3,st,8,6,"ng-container",2),t.qZA(),t.BQk()),2&n){const s=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(4,rt,s.externalSandboxes.length>1))("innerText",s.externalSandboxesButtonText)("routerLink",t.WLB(6,R,s.script.scriptId,s.externalSandboxes[0].slug)),t.xp6(1),t.Q6J("ngIf",s.externalSandboxes.length>1)}}const at=function(n){return["settings",n]};function lt(n,r){if(1&n&&(t.TgZ(0,"button",14),t.NdJ("click",function(i){return i.stopPropagation()}),t._uU(1," Impostazioni "),t.qZA()),2&n){const s=t.oxw(2);t.Q6J("routerLink",t.VKq(1,at,s.script.scriptId))}}function ct(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(e){t.CHM(s);const o=t.oxw(2);return t.KtG(o.isParent&&o.show(e,o.isParentMessage))}),t.TgZ(1,"button",16),t.NdJ("click",function(e){t.CHM(s);const o=t.oxw(2);return t.KtG(o.emitClick(e,o.actionEnum.UNINSTALL))}),t._uU(2," Disinstalla "),t.qZA()()}if(2&n){const s=t.oxw(2);t.xp6(1),t.Q6J("disabled",s.disabled||s.isParent)}}function pt(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ot,4,9,"ng-container",2),t.YNc(2,lt,2,3,"button",3),t.YNc(3,ct,3,1,"div",4),t.BQk()),2&n){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.externalSandboxes.length>0),t.xp6(1),t.Q6J("ngIf",("{}"!==s.script.settingsSchema||s.hasInSettingsSandbox)&&s.canEdit),t.xp6(1),t.Q6J("ngIf",s.canManage)}}function dt(n,r){if(1&n&&(t.TgZ(0,"a",19),t.NdJ("click",function(i){return i.stopPropagation()}),t._uU(1,"Guida"),t.qZA()),2&n){const s=t.oxw(2);t.s9C("href",s.script.faqLink,t.LSH)}}const ut=function(n){return{"shake-it":n}};function gt(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(e){t.CHM(s);const o=t.oxw(2);return t.KtG(o.needParent&&o.show(e,o.needParentMessage))}),t.TgZ(1,"button",21),t.NdJ("click",function(e){t.CHM(s);const o=t.oxw(2);return t.KtG(o.emitClick(e,o.actionEnum.INSTALL))}),t._uU(2," Installa "),t.qZA()()}if(2&n){const s=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,ut,s.highlighted))("disabled",s.disabled||s.needParent)}}function mt(n,r){if(1&n&&(t.YNc(0,dt,2,1,"a",17),t.YNc(1,gt,3,4,"div",18)),2&n){const s=t.oxw();t.Q6J("ngIf",s.script.faqLink),t.xp6(1),t.Q6J("ngIf",s.canManage)}}let E=(()=>{var n;class r{constructor(i,e){this.scriptManagerService=i,this.toastService=e,this.installed=!1,this.disabled=!1,this.highlighted=!1,this.canManage=!0,this.canEdit=!0,this.needParent=!1,this.isParent=!1,this.actionEnum=d.n0,this.needParentMessage="Prima assicurati di aver <strong>installato <u>tutti</u></strong> i seguenti script: ",this.isParentMessage="Prima assicurati di aver <strong>disinstallato <u>tutti</u></strong> i seguenti script: ",this.hasInSettingsSandbox=!1,this.externalSandboxes=[],this.externalSandboxesButtonText="Altro"}ngOnInit(){this.needParentMessage+=this.script.parentNameList.join(", ")+"!",this.isParentMessage+=this.script.childNameList.join(", ")+"!",this.externalSandboxes=this.script.sandboxes.filter(i=>!i.inSettings),this.hasInSettingsSandbox=this.script.sandboxes.length!==this.externalSandboxes.length,this.externalSandboxes.length&&this.externalSandboxes[0].name&&(this.externalSandboxesButtonText=this.externalSandboxes[0].name)}emitClick(i,e){i.stopPropagation(),!(this.needParent&&e===d.n0.INSTALL||this.isParent&&e===d.n0.UNINSTALL)&&this.scriptManagerService.pushButtonEvent(this.script.scriptId,e)}show(i,e){i.stopPropagation(),this.toastService.show({content:e,level:q.m.ERROR})}}return(n=r).\u0275fac=function(i){return new(i||n)(t.Y36(I.E),t.Y36(B.k))},n.\u0275cmp=t.Xpm({type:n,selectors:[["","app-script-buttons",""]],inputs:{installed:"installed",disabled:"disabled",script:"script",highlighted:"highlighted",canManage:"canManage",canEdit:"canEdit",needParent:"needParent",isParent:"isParent"},attrs:et,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notInstalledButtons",""],[4,"ngIf"],["class","btn btn-primary d-block shadow-none mx-1",3,"routerLink","click",4,"ngIf"],["class","cursor-pointer mx-1",3,"click",4,"ngIf"],[1,"btn-group","mx-1","min-w-0"],[1,"btn","btn-indigo","d-block","shadow-none","text-truncate",3,"ngClass","innerText","routerLink","click"],["ngbDropdown","","display","dynamic",1,"dropdown-no-caret","btn-group",3,"placement"],["ngbDropdownToggle","",1,"btn","btn-indigo","px-1","shadow-none","in-group","right"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","fill","currentColor","viewBox","0 0 16 16"],["d","M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"],["ngbDropdownMenu","",1,"list-unstyled","mb-0","dropdown-menu"],[4,"ngFor","ngForOf"],[1,"dropdown-item","d-block",3,"routerLink","innerText"],[1,"btn","btn-primary","d-block","shadow-none","mx-1",3,"routerLink","click"],[1,"cursor-pointer","mx-1",3,"click"],[1,"btn","btn-danger","d-block","shadow-none",3,"disabled","click"],["class","btn btn-primary d-block shadow-none mx-1","target","_blank",3,"href","click",4,"ngIf"],["class","cursor-pointer",3,"click",4,"ngIf"],["target","_blank",1,"btn","btn-primary","d-block","shadow-none","mx-1",3,"href","click"],[1,"cursor-pointer",3,"click"],[1,"btn","btn-success","d-block","shadow-none","mx-1",3,"ngClass","disabled","click"]],template:function(i,e){if(1&i&&(t.YNc(0,pt,4,3,"ng-container",0),t.YNc(1,mt,2,2,"ng-template",null,1,t.W1O)),2&i){const o=t.MAs(2);t.Q6J("ngIf",e.installed)("ngIfElse",o)}},dependencies:[c.mk,c.sg,c.O5,p.jt,p.iD,p.Vi,Z.rH,c.OU],styles:[".btn[_ngcontent-%COMP%]{padding:.2rem .5rem;margin-top:.25rem;margin-bottom:.25rem}.shake-it[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake 2s infinite}.btn-indigo.in-group.left[_ngcontent-%COMP%]{border-right:var(--bs-border-width) var(--bs-border-style) #6222cc}.btn-indigo.in-group.right[_ngcontent-%COMP%]{border-left:var(--bs-border-width) var(--bs-border-style) #6222cc}@keyframes _ngcontent-%COMP%_shake{5%,45%{transform:translate3d(-1px,0,0)}10%,40%{transform:translate3d(2px,0,0)}15%,25%,35%{transform:translate3d(-4px,0,0)}20%,30%{transform:translate3d(4px,0,0)}50%{transform:translateZ(0)}}@media (min-width: 576px){.btn[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}}"]}),r})();var w=a(8595);const ht=["app-script-card-footer",""];function ft(n,r){1&n&&(t.TgZ(0,"div",10),t._uU(1," tablet_mac "),t.qZA())}function _t(n,r){1&n&&(t.TgZ(0,"div",10),t._uU(1," desktop_windows "),t.qZA())}function vt(n,r){if(1&n&&(t.TgZ(0,"li",11)(1,"div",10),t._uU(2," visibility_off "),t.qZA()()),2&n){const s=t.oxw();t.Q6J("tippyProps",s.hiddenTippyProps)}}let bt=(()=>{var n;class r{constructor(i){this.changeDetectorRef=i,this.scriptBaseUrl="",this.isOtherTab=!1,this.directLink="",this.directLinkMessage="",this.layoutList="",this.directLinkTippyProps={offset:[-8,10]},this.layoutTippyProps={offset:[-36,10]},this.hiddenTippyProps={offset:[-60,10]},this.forumLink="",this.forumName="",this.isTouch=F.eX,this.tippyProps={theme:"popover",animation:"shift-away",placement:"top-start",hideOnClick:F.eX},this.directLinkMessages={info:"Copia il link diretto allo script",copied:"Link copiato!"},this.directLinkTimeout=0,this.directLinkTippyProps=(0,y.Z)((0,y.Z)({},this.tippyProps),this.directLinkTippyProps),this.layoutTippyProps=(0,y.Z)((0,y.Z)({},this.tippyProps),this.layoutTippyProps),this.hiddenTippyProps=(0,y.Z)((0,y.Z)({},this.tippyProps),this.hiddenTippyProps)}ngOnInit(){this.directLink=`${this.scriptBaseUrl}?${f.RT.SCRIPT}=${this.script.scriptId}`,this.directLinkMessage=this.isTouch?this.directLinkMessages.copied:this.directLinkMessages.info,this.layoutList=this.createLayoutList(),this.forumLink=this.isOtherTab&&this.dev.otherTabCustom?this.dev.otherTabCustom.url:this.tab.url,this.forumName=this.isOtherTab&&this.dev.otherTabCustom?this.dev.otherTabCustom.name:this.tab.name}changeDirectLinkMessage(){this.isTouch||(this.directLinkMessage=this.directLinkMessages.copied,window.clearTimeout(this.directLinkTimeout),this.directLinkTimeout=window.setTimeout(()=>{this.directLinkMessage=this.directLinkMessages.info,this.changeDetectorRef.detectChanges()},3e3))}createLayoutList(){return"Questo script \xe8 compatibile con layout "+[this.script.cpQuirks?d.tK.QUIRKS:"",this.script.cpStandard?d.tK.STANDARD:"",this.script.cpMobile?d.tK.FFMOBILE:""].filter(e=>e).join(", ").replace(/, ([^,]*)$/," e $1")}}return(n=r).\u0275fac=function(i){return new(i||n)(t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["","app-script-card-footer",""]],inputs:{tab:"tab",dev:"dev",script:"script",scriptBaseUrl:"scriptBaseUrl",isOtherTab:"isOtherTab"},attrs:ht,decls:13,vars:13,consts:[[1,"list-unstyled","me-auto","d-flex","align-items-center"],[1,"me-2","cursor-pointer","direct-link",3,"cdkCopyToClipboard","appTippy","tippyProps","click"],[1,"material-icons-outlined","icon-small","d-block"],[1,"cursor-pointer",3,"appTippy","tippyProps"],["class","material-icons-outlined icon-body d-block",4,"ngIf","ngIfElse"],["desktopIcon",""],["class","cursor-pointer ms-2","appTippy","Questo script \xe8 nascosto nella lista. Solo gli utenti abilitati possono visualizzarlo.",3,"tippyProps",4,"ngIf"],[1,"author-nick","me-1"],["target","_blank",1,"text-reset",3,"href","innerText"],[1,"author-forum"],[1,"material-icons-outlined","icon-body","d-block"],["appTippy","Questo script \xe8 nascosto nella lista. Solo gli utenti abilitati possono visualizzarlo.",1,"cursor-pointer","ms-2",3,"tippyProps"]],template:function(i,e){if(1&i&&(t.TgZ(0,"ul",0)(1,"li",1),t.NdJ("click",function(){return e.changeDirectLinkMessage()}),t.TgZ(2,"div",2),t._uU(3,"share"),t.qZA()(),t.TgZ(4,"li",3),t.YNc(5,ft,2,0,"div",4),t.YNc(6,_t,2,0,"ng-template",null,5,t.W1O),t.qZA(),t.YNc(8,vt,3,1,"li",6),t.qZA(),t.TgZ(9,"div",7),t._UZ(10,"a",8),t.qZA(),t.TgZ(11,"div",9),t._UZ(12,"a",8),t.qZA()),2&i){const o=t.MAs(7);t.xp6(1),t.Q6J("cdkCopyToClipboard",e.directLink)("appTippy",e.directLinkMessage)("tippyProps",e.directLinkTippyProps),t.xp6(3),t.Q6J("appTippy",e.layoutList)("tippyProps",e.layoutTippyProps),t.xp6(1),t.Q6J("ngIf",e.script.cpMobile)("ngIfElse",o),t.xp6(3),t.Q6J("ngIf",e.script.hidden),t.xp6(2),t.hYB("href","",e.forumLink,"?act=Profile&MID=",e.dev.id,"",t.LSH),t.Q6J("innerText",e.dev.name),t.xp6(2),t.s9C("href",e.forumLink,t.LSH),t.Q6J("innerText",e.forumName)}},dependencies:[v.i3,c.O5,w.$],styles:['@charset "UTF-8";.author-nick[_ngcontent-%COMP%]:after{content:"\\2022";display:inline-block;margin-left:.25rem}']}),r})();var Y=a(7357);function Ct(n,r){if(1&n&&(t.TgZ(0,"a",10),t._uU(1),t.qZA()),2&n){const s=t.oxw();t.s9C("href",s.script.faqLink,t.LSH),t.xp6(1),t.Oqu(s.script.name)}}function Tt(n,r){if(1&n&&t._UZ(0,"div",11),2&n){const s=t.oxw();t.Q6J("innerText",s.script.name)}}const yt=function(n,r,s,i){return{installed:n,highlighted:r,"script-hidden":s,"touch-device":i}},Zt=function(n){return{"fst-italic":n}};let Pt=(()=>{var n;class r{constructor(){this.installed=!1,this.highlighted=!1,this.scriptBaseUrl="",this.needParent=!1,this.isParent=!1,this.devs=_.$m,this.tabs=_.yT,this.tabEnum=d.tr,this.defaultPreview="/assets/default_script.png",this.isTouch=F.eX,this.description="",this.descriptionMaxLength=250,this.defaultDescription=_.n5}ngOnInit(){this.description=this.script.description?this.script.description.length>this.descriptionMaxLength?this.cutString(this.script.description,this.descriptionMaxLength)+"...":this.script.description:this.defaultDescription}cutString(i,e){let o=new RegExp("^.{"+e+"}\\w*"),l=i.match(o);return l?l[0].replace(/[^a-zA-Z0-9]*$/g,""):i}}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-script-card"]],inputs:{script:"script",installed:"installed",scriptIdPendingRequest:"scriptIdPendingRequest",highlighted:"highlighted",scriptBaseUrl:"scriptBaseUrl",permission:"permission",needParent:"needParent",isParent:"isParent"},decls:12,vars:30,consts:[[1,"card","h-100",3,"ngClass"],[1,"card-img-top","overflow-hidden","position-relative","border-bottom"],["appImage","",1,"image-cover",3,"src","alt","srcReplacer"],[1,"card-body","d-flex","flex-column","position-relative"],[1,"card-title","h5"],["target","_blank",3,"href",4,"ngIf","ngIfElse"],["noPublicLink",""],[1,"card-text","script-description","text-justify",3,"ngClass","innerHTML"],["app-script-buttons","",1,"d-flex","align-items-center","justify-content-end","mt-auto","flex-wrap","flex-sm-nowrap",3,"installed","disabled","script","highlighted","canEdit","canManage","needParent","isParent"],["app-script-card-footer","",1,"card-footer","text-muted","d-flex","justify-content-end",3,"script","tab","dev","scriptBaseUrl","isOtherTab"],["target","_blank",3,"href"],[3,"innerText"]],template:function(i,e){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.ALo(3,"uploadsreplace"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,Ct,2,2,"a",5),t.YNc(7,Tt,1,1,"ng-template",null,6,t.W1O),t.qZA(),t._UZ(9,"p",7)(10,"div",8),t.qZA(),t._UZ(11,"div",9),t.qZA()),2&i){const o=t.MAs(8);t.Q6J("ngClass",t.l5B(23,yt,e.installed,e.highlighted,e.script.hidden,e.isTouch)),t.xp6(2),t.s9C("src",t.lcZ(3,21,e.script.preview),t.LSH),t.MGl("alt","",e.script.name," preview"),t.Q6J("srcReplacer",e.defaultPreview),t.xp6(4),t.Q6J("ngIf",e.script.faqLink)("ngIfElse",o),t.xp6(3),t.Q6J("ngClass",t.VKq(28,Zt,!e.script.description))("innerHTML",e.description,t.oJD),t.xp6(1),t.Q6J("installed",e.installed)("disabled",e.scriptIdPendingRequest===e.script.scriptId)("script",e.script)("highlighted",e.highlighted)("canEdit",!e.permission||e.permission.edit)("canManage",!e.permission||e.permission.manage)("needParent",e.needParent)("isParent",e.isParent),t.xp6(1),t.Q6J("script",e.script)("tab",e.tabs[e.script.publisher])("dev",e.devs[e.script.author])("scriptBaseUrl",e.scriptBaseUrl)("isOtherTab",e.script.publisher===e.tabEnum.OTHER)}},dependencies:[c.mk,c.O5,D.t,E,bt,Y.g],styles:[".card-img-top[_ngcontent-%COMP%]{height:200px}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:inherit;transition:all .8s ease}.card[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013;transition:box-shadow .2s ease-in}.card[_ngcontent-%COMP%]:not(.touch-device):hover{box-shadow:0 .5rem 1rem #00000040}.card[_ngcontent-%COMP%]:not(.touch-device):hover   .card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.15);opacity:.7}.card.script-hidden[_ngcontent-%COMP%]{background-color:#0000000f}.card.highlighted[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-color:#e8d9ff;animation:_ngcontent-%COMP%_card-body-animation 2s infinite}.card.highlighted[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background-color:#e8d9ff;animation:_ngcontent-%COMP%_card-footer-animation 2s infinite}.card-body[_ngcontent-%COMP%]   .script-description[_ngcontent-%COMP%]{font-size:.9rem}.card-footer[_ngcontent-%COMP%]{font-size:.85rem;padding-left:.75rem}[app-script-buttons][_ngcontent-%COMP%]{margin:0 -.25rem}@keyframes _ngcontent-%COMP%_card-body-animation{0%,to{background-color:#e8d9ff}50%{background-color:#fff}}@keyframes _ngcontent-%COMP%_card-footer-animation{0%,to{background-color:#e8d9ff}50%{background-color:#f7f7f7}}"]}),r})();const St=["app-script-panel-content",""];function Mt(n,r){if(1&n&&t._UZ(0,"div",18),2&n){const s=t.oxw();t.Q6J("innerHTML",s.script.description,t.oJD)}}function xt(n,r){if(1&n&&(t.TgZ(0,"li",19)(1,"div",6)(2,"div",20),t._uU(3," local_library "),t.qZA(),t.TgZ(4,"div")(5,"a",21),t._uU(6,"Guida all'uso"),t.qZA()()()()),2&n){const s=t.oxw();t.xp6(5),t.s9C("href",s.script.faqLink,t.LSH)}}const Ot=function(){return{theme:"popover",animation:"shift-away"}},Lt=function(n){return{"ms-sm-auto":n}};let At=(()=>{var n;class r{constructor(){this.installed=!1,this.scriptBaseUrl="",this.needParent=!1,this.isParent=!1,this.devs=_.$m,this.tabs=_.yT,this.defaultPreview="/assets/default_script.png",this.directLink="",this.layoutList="",this.forumLink="",this.forumName=""}ngOnInit(){this.directLink=`${this.scriptBaseUrl}?${f.RT.SCRIPT}=${this.script.scriptId}`,this.layoutList=this.createLayoutList(),this.forumLink=this.script.publisher===d.tr.OTHER&&this.devs[this.script.author].otherTabCustom?this.devs[this.script.author].otherTabCustom.url:this.tabs[this.script.publisher].url,this.forumName=this.script.publisher===d.tr.OTHER&&this.devs[this.script.author].otherTabCustom?this.devs[this.script.author].otherTabCustom.name:this.tabs[this.script.publisher].name}createLayoutList(){return[this.script.cpQuirks?d.tK.QUIRKS:"",this.script.cpStandard?d.tK.STANDARD:"",this.script.cpMobile?d.tK.FFMOBILE:""].filter(e=>e).join(", ").replace(/, ([^,]*)$/," e $1")}}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["","app-script-panel-content",""]],inputs:{script:"script",installed:"installed",scriptIdPendingRequest:"scriptIdPendingRequest",scriptBaseUrl:"scriptBaseUrl",permission:"permission",needParent:"needParent",isParent:"isParent"},attrs:St,decls:28,vars:26,consts:[[1,"script-preview","w-100"],["appImage","",1,"image-cover",3,"src","alt","srcReplacer"],[1,"px-3","px-sm-4","py-3"],["class","script-description text-justify px-3 px-sm-4 py-3 rounded fst-italic position-relative mb-3",3,"innerHTML",4,"ngIf"],[1,"script-utilities","list-unstyled","d-flex","flex-wrap","align-items-start"],[1,"mb-2","mb-xl-0"],[1,"d-flex","align-items-center"],[1,"d-block","material-icons","text-success","me-2"],[1,"ms-sm-auto","me-xl-auto","mb-2","mb-xl-0"],["appTippy","Link copiato!","trigger","click",1,"d-flex","align-items-center","cursor-pointer",3,"cdkCopyToClipboard","tippyProps"],[1,"d-block","material-icons","text-danger","me-2"],["class","mb-2 mb-sm-0",4,"ngIf"],[3,"ngClass"],[1,"material-icons-outlined","text-indigo","d-block","me-2"],[1,"author-nick","me-1"],["target","_blank",1,"text-reset",3,"href","innerText"],[1,"author-forum"],["app-script-buttons","",1,"script-buttons","d-md-none","d-flex","justify-content-center","mt-3","flex-wrap","flex-sm-nowrap",3,"installed","disabled","script","canEdit","canManage","needParent","isParent"],[1,"script-description","text-justify","px-3","px-sm-4","py-3","rounded","fst-italic","position-relative","mb-3",3,"innerHTML"],[1,"mb-2","mb-sm-0"],[1,"d-block","material-icons","text-primary","me-2"],["target","_blank",1,"text-reset",3,"href"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.ALo(2,"uploadsreplace"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,Mt,1,1,"div",3),t.TgZ(5,"ul",4)(6,"li",5)(7,"div",6)(8,"div",7),t._uU(9," task_alt "),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.qZA()()(),t.TgZ(12,"li",8)(13,"div",9)(14,"div",10),t._uU(15,"share"),t.qZA(),t.TgZ(16,"div"),t._uU(17,"Copia il link diretto allo script"),t.qZA()()(),t.YNc(18,xt,7,1,"li",11),t.TgZ(19,"li",12)(20,"div",6)(21,"div",13),t._uU(22," account_circle "),t.qZA(),t.TgZ(23,"div",14),t._UZ(24,"a",15),t.qZA(),t.TgZ(25,"div",16),t._UZ(26,"a",15),t.qZA()()()(),t._UZ(27,"div",17),t.qZA()),2&i&&(t.xp6(1),t.s9C("src",t.lcZ(2,21,e.script.preview),t.LSH),t.MGl("alt","",e.script.name," preview"),t.Q6J("srcReplacer",e.defaultPreview),t.xp6(3),t.Q6J("ngIf",e.script.description),t.xp6(7),t.hij("Layout: ",e.layoutList,""),t.xp6(2),t.Q6J("cdkCopyToClipboard",e.directLink)("tippyProps",t.DdM(23,Ot)),t.xp6(5),t.Q6J("ngIf",e.script.faqLink),t.xp6(1),t.Q6J("ngClass",t.VKq(24,Lt,e.script.faqLink)),t.xp6(5),t.hYB("href","",e.forumLink,"?act=Profile&MID=",e.devs[e.script.author].id,"",t.LSH),t.Q6J("innerText",e.devs[e.script.author].name),t.xp6(2),t.s9C("href",e.forumLink,t.LSH),t.Q6J("innerText",e.forumName),t.xp6(1),t.Q6J("installed",e.installed)("disabled",e.scriptIdPendingRequest===e.script.scriptId)("script",e.script)("canEdit",!e.permission||e.permission.edit)("canManage",!e.permission||e.permission.manage)("needParent",e.needParent)("isParent",e.isParent))},dependencies:[v.i3,c.mk,c.O5,D.t,w.$,E,Y.g],styles:['@charset "UTF-8";.script-preview[_ngcontent-%COMP%]{height:150px}.script-description[_ngcontent-%COMP%]{background-color:#0000000a}.author-nick[_ngcontent-%COMP%]:after{content:"\\2022";display:inline-block;margin-left:.25rem}.script-utilities[_ngcontent-%COMP%]{flex-direction:column}@media (min-width: 576px){.script-utilities[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 576px) and (max-width: 1199.98px){.script-utilities[_ngcontent-%COMP%]:before{content:"";width:100%;display:block;order:0}.script-utilities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type, .script-utilities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(2){order:-1}.script-preview[_ngcontent-%COMP%]{height:200px}}@media (min-width: 1200px){.script-preview[_ngcontent-%COMP%]{height:300px}}']}),r})();function Ut(n,r){if(1&n&&(t.TgZ(0,"a",10),t.NdJ("click",function(i){return i.stopPropagation()}),t._uU(1),t.qZA()),2&n){const s=t.oxw();t.s9C("href",s.script.faqLink,t.LSH),t.xp6(1),t.Oqu(s.script.name)}}function kt(n,r){if(1&n&&t._UZ(0,"div",11),2&n){const s=t.oxw();t.Q6J("innerText",s.script.name)}}const It=function(n,r,s){return{expanded:n,"script-hidden":r,highlighted:s}},qt=function(n){return{"fst-italic":n}};let Ft=(()=>{var n;class r{constructor(){this.installed=!1,this.highlighted=!1,this.scriptBaseUrl="",this.needParent=!1,this.isParent=!1,this.defaultDescription=_.n5,this.isCollapsed=!0}ngOnInit(){}}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-script-panel"]],inputs:{script:"script",installed:"installed",scriptIdPendingRequest:"scriptIdPendingRequest",highlighted:"highlighted",scriptBaseUrl:"scriptBaseUrl",permission:"permission",needParent:"needParent",isParent:"isParent"},decls:12,vars:27,consts:[[1,"header-container","d-flex","align-items-center","ps-4","p-3","cursor-pointer",3,"ngClass","click"],[1,"header-info","d-flex","align-items-center","flex-grow-1"],[1,"panel-title","pe-3","pe-xl-0","fw-500"],["class","d-block","target","_blank",3,"href","click",4,"ngIf","ngIfElse"],["noPublicLink",""],[1,"panel-short-description","px-3","flex-grow-1","text-truncate","fs-sm","d-none","d-xl-block",3,"ngClass","innerHTML"],["app-script-buttons","",1,"ms-auto","d-none","d-md-flex","min-w-0",3,"installed","disabled","script","highlighted","canEdit","canManage","needParent","isParent"],[1,"collapse-icon","ms-3","material-icons"],["app-script-panel-content","",1,"content","fs-sm",3,"ngbCollapse","script","installed","scriptIdPendingRequest","scriptBaseUrl","permission","needParent","isParent","ngbCollapseChange"],["collapse","ngbCollapse"],["target","_blank",1,"d-block",3,"href","click"],[3,"innerText"]],template:function(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(11);return t.KtG(u.toggle())}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,Ut,2,2,"a",3),t.YNc(4,kt,1,1,"ng-template",null,4,t.W1O),t.qZA(),t._UZ(6,"div",5)(7,"div",6),t.qZA(),t.TgZ(8,"div",7),t._uU(9,"chevron_left"),t.qZA()(),t.TgZ(10,"div",8,9),t.NdJ("ngbCollapseChange",function(u){return e.isCollapsed=u}),t.qZA()}if(2&i){const o=t.MAs(5);t.Q6J("ngClass",t.kEZ(21,It,!e.isCollapsed,e.script.hidden,e.highlighted)),t.xp6(3),t.Q6J("ngIf",e.script.faqLink)("ngIfElse",o),t.xp6(3),t.Q6J("ngClass",t.VKq(25,qt,!e.script.description))("innerHTML",e.script.description||e.defaultDescription,t.oJD),t.xp6(1),t.Q6J("installed",e.installed)("disabled",e.scriptIdPendingRequest===e.script.scriptId)("script",e.script)("highlighted",e.highlighted)("canEdit",!e.permission||e.permission.edit)("canManage",!e.permission||e.permission.manage)("needParent",e.needParent)("isParent",e.isParent),t.xp6(3),t.Q6J("ngbCollapse",e.isCollapsed)("script",e.script)("installed",e.installed)("scriptIdPendingRequest",e.scriptIdPendingRequest)("scriptBaseUrl",e.scriptBaseUrl)("permission",e.permission)("needParent",e.needParent)("isParent",e.isParent)}},dependencies:[c.mk,c.O5,p._D,E,At],styles:[".header-container[_ngcontent-%COMP%]{transition:background-color .3s}.header-container[_ngcontent-%COMP%]:not(.expanded):not(.script-hidden):not(.highlighted):hover{background-color:rgb(var(--bs-light-rgb))}.header-container.highlighted[_ngcontent-%COMP%]{background-color:#e8d9ff;animation:_ngcontent-%COMP%_back-animation 2s infinite}.header-container.script-hidden[_ngcontent-%COMP%]{background-color:#0000000f}.header-container.expanded[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}.panel-short-description[_ngcontent-%COMP%]{color:var(--bs-gray-600);transition:color .3s}.expanded[_ngcontent-%COMP%]   .panel-short-description[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]:hover   .panel-short-description[_ngcontent-%COMP%]{color:inherit}.header-info[_ngcontent-%COMP%]{min-width:0}.collapse-icon[_ngcontent-%COMP%]{transition:transform .2s;transform:rotate(0)}@keyframes _ngcontent-%COMP%_back-animation{0%,to{background-color:#e8d9ff}50%{background-color:#fff}}@media (min-width: 1200px){.header-info[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{flex-shrink:0;margin-bottom:2px}}@media (min-width: 576px){.header-info[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:1.1rem}}"]}),r})();function Et(n,r){if(1&n&&(t.TgZ(0,"li",null,5),t._UZ(2,"app-script-card",6),t.qZA()),2&n){const s=r.$implicit,i=t.MAs(1),e=t.oxw(3);t.uIk("data-installed",s.installed)("data-ffmobile",s.cpMobile)("data-justchanged",s.justChanged)("data-highlighted",s.scriptId===e.highlightScriptId),t.xp6(2),t.Q6J("script",s)("installed",s.installed)("highlighted","true"===i.dataset.highlighted)("scriptIdPendingRequest",e.scriptIdPendingRequest)("scriptBaseUrl",e.scriptBaseUrl)("permission",e.data.permissions?e.data.permissions["script"+s.scriptId]:void 0)("needParent",s.needParent)("isParent",s.isParent)}}function wt(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Et,3,12,"li",4),t.BQk()),2&n){const s=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",s.renderScriptList)}}function Jt(n,r){if(1&n&&(t.TgZ(0,"li",8,5),t._UZ(2,"app-script-panel",6),t.qZA()),2&n){const s=r.$implicit,i=t.MAs(1),e=t.oxw(3);t.uIk("data-installed",s.installed)("data-ffmobile",s.cpMobile)("data-justchanged",s.justChanged)("data-highlighted",s.scriptId===e.highlightScriptId),t.xp6(2),t.Q6J("script",s)("installed",s.installed)("highlighted","true"===i.dataset.highlighted)("scriptIdPendingRequest",e.scriptIdPendingRequest)("scriptBaseUrl",e.scriptBaseUrl)("permission",e.data.permissions?e.data.permissions["script"+s.scriptId]:void 0)("needParent",s.needParent)("isParent",s.isParent)}}function Nt(n,r){if(1&n&&t.YNc(0,Jt,3,12,"li",7),2&n){const s=t.oxw(2);t.Q6J("ngForOf",s.renderScriptList)}}const Qt=function(n,r,s,i){return{"installed-first":n,"ffmobile-first":r,"mx-auto list-panel p-0 flat-container":s,"px-3 px-md-0":i}};function zt(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"ul",2),t.YNc(2,wt,2,1,"ng-container",0),t.YNc(3,Nt,1,1,"ng-template",null,3,t.W1O),t.qZA(),t.BQk()),2&n){const s=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("ngClass",t.l5B(3,Qt,i.data.layoutOptions.installedFirst,i.data.layoutOptions.ffmobileFirst,"list"===i.data.layoutOptions.type,"card"===i.data.layoutOptions.type)),t.xp6(1),t.Q6J("ngIf","card"===i.data.layoutOptions.type)("ngIfElse",s)}}function Bt(n,r){1&n&&(t.TgZ(0,"div",9)(1,"div",10),t._uU(2," Nessuno script disponibile con questi criteri di ricerca! "),t.qZA()())}let j=(()=>{var n;class r{constructor(i,e,o,l,u){this.scriptListService=i,this.scriptManagerService=e,this.toastService=o,this.router=l,this.changeDetectorRef=u,this.isActive=!0,this.needsRefreshOnActivation=!1,this.orderedBy="date",this.reversed=!1,this.justChangedList=[],this.scriptBaseUrl="",this.renderScriptList=[];const b=this.scriptListService.listInputs;if(!b)throw new Error("Missing script list data!");this.data=b}ngOnInit(){var i=this;this.scriptBaseUrl=window.location.protocol+"//"+window.location.host+this.router.url.split("?")[0],this.createList(),this.listInputsSubscription=this.scriptListService.getListInputsObservable().subscribe(e=>{this.resetJustChangedList(),this.data=e,this.orderList(),this.changeDetectorRef.detectChanges()}),this.scriptButtonSubscription=this.scriptManagerService.getButtonObservable().subscribe(function(){var e=(0,m.Z)(function*(o){i.isActive?yield i.manageButtonClick(o.id,o.action):i.needsRefreshOnActivation=!0});return function(o){return e.apply(this,arguments)}}())}ngOnChanges(i){i.list&&!i.list.firstChange&&(this.resetJustChangedList(),this.orderedBy="date",this.reversed=!1,this.createList()),i.isActive&&!i.isActive.firstChange&&(this.isActive?this.needsRefreshOnActivation&&(this.needsRefreshOnActivation=!1,this.orderedBy="date",this.reversed=!1,this.createList()):this.resetJustChangedList())}createList(){this.renderScriptList=this.list.map(i=>(0,y.Z)((0,y.Z)({},i),{needParent:!this.checkParentDependencies(i),isParent:!this.checkChildDependencies(i),justChanged:this.justChangedList.includes(i.scriptId),installed:this.data.installedList.includes(i.scriptId)})),this.renderScriptList.length&&this.orderList()}orderList(){let i=!1;"date"===this.data.layoutOptions.orderBy?"date"!==this.orderedBy&&(this.orderedBy="date",this.renderScriptList.sort((e,o)=>e.scriptId<o.scriptId?-1:1),i=!0):"installed"===this.data.layoutOptions.orderBy?"installed"!==this.orderedBy&&(this.orderedBy="installed",this.renderScriptList.sort((e,o)=>e.rank<o.rank?-1:1),i=!0):"az"!==this.orderedBy&&(this.orderedBy="az",this.renderScriptList.sort((e,o)=>e.name>o.name?1:o.name>e.name?-1:0),i=!0),this.data.layoutOptions.reverse?this.reversed?i&&this.renderScriptList.reverse():(this.reversed=!0,this.renderScriptList.reverse()):this.reversed&&(this.reversed=!1,this.renderScriptList.reverse())}checkParentDependencies(i){return 0===i.parentIdList.length||i.parentIdList.every(e=>this.data.installedList.includes(e))}checkChildDependencies(i){return 0===i.childIdList.length||i.childIdList.every(e=>!this.data.installedList.includes(e))}manageButtonClick(i,e){var o=this;return(0,m.Z)(function*(){if(o.scriptIdPendingRequest)return void o.toastService.advice(q.V.REQUEST_PENDING);const l=o.renderScriptList.find(b=>b.scriptId===i);o.scriptIdPendingRequest=i,(yield o.scriptManagerService.manage(o.data.targetInfo.targetId,o.data.targetInfo.targetType,i,e))?(l.installed=e===d.n0.INSTALL,o.toggleJustChangedList(i,l)):o.toastService.advice(q.V.GENERIC),delete o.scriptIdPendingRequest;for(const b of l.parentIdList){const C=o.renderScriptList.find(S=>S.scriptId===b);C&&(C.isParent=!o.checkChildDependencies(C))}for(const b of l.childIdList){const C=o.renderScriptList.find(S=>S.scriptId===b);C&&(C.needParent=!o.checkParentDependencies(C))}o.changeDetectorRef.detectChanges()})()}toggleJustChangedList(i,e){this.justChangedList.includes(i)?(this.justChangedList.splice(this.justChangedList.indexOf(i),1),e.justChanged=!1):(this.justChangedList.push(i),e.justChanged=!0)}resetJustChangedList(){for(const i of this.justChangedList){const e=this.renderScriptList.find(o=>o.scriptId===i);e&&(e.justChanged=!1)}this.justChangedList=[]}ngOnDestroy(){this.listInputsSubscription.unsubscribe(),this.scriptButtonSubscription.unsubscribe()}}return(n=r).\u0275fac=function(i){return new(i||n)(t.Y36(Q.o),t.Y36(I.E),t.Y36(B.k),t.Y36(Z.F0),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-script-list"]],inputs:{list:"list",isActive:"isActive",highlightScriptId:"highlightScriptId"},features:[t.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["emptyList",""],[1,"list-unstyled","script-list","d-grid","mb-0",3,"ngClass"],["scriptPanel",""],[4,"ngFor","ngForOf"],["li",""],[3,"script","installed","highlighted","scriptIdPendingRequest","scriptBaseUrl","permission","needParent","isParent"],["class","border-bottom",4,"ngFor","ngForOf"],[1,"border-bottom"],[1,"container","alert","alert-primary","mb-0"],[1,"fw-bold","text-center"]],template:function(i,e){if(1&i&&(t.YNc(0,zt,5,8,"ng-container",0),t.YNc(1,Bt,3,0,"ng-template",null,1,t.W1O)),2&i){const o=t.MAs(2);t.Q6J("ngIf",e.renderScriptList.length)("ngIfElse",o)}},dependencies:[c.mk,c.sg,c.O5,Pt,Ft],styles:[".script-list[_ngcontent-%COMP%]:not(.list-panel){gap:1rem}.script-list.list-panel[_ngcontent-%COMP%]{max-width:1100px}.script-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:0;min-height:0}.script-list[_ngcontent-%COMP%]   li[data-highlighted=true][_ngcontent-%COMP%]{order:-4!important}.script-list.installed-first[_ngcontent-%COMP%]:not(.ffmobile-first)   [data-installed=true][_ngcontent-%COMP%]:not([data-justchanged=true]), .script-list.installed-first[_ngcontent-%COMP%]:not(.ffmobile-first)   [data-installed=false][data-justchanged=true][_ngcontent-%COMP%]{order:-1}.script-list.installed-first.ffmobile-first[_ngcontent-%COMP%]   li[data-installed=true][_ngcontent-%COMP%]:not([data-justchanged=true])[data-ffmobile=true], .script-list.installed-first.ffmobile-first[_ngcontent-%COMP%]   li[data-installed=false][data-justchanged=true][data-ffmobile=true][_ngcontent-%COMP%]{order:-3}.script-list.installed-first.ffmobile-first[_ngcontent-%COMP%]   li[data-installed=true][_ngcontent-%COMP%]:not([data-justchanged=true])[data-ffmobile=false], .script-list.installed-first.ffmobile-first[_ngcontent-%COMP%]   li[data-installed=false][data-justchanged=true][data-ffmobile=false][_ngcontent-%COMP%]{order:-2}.script-list.ffmobile-first[_ngcontent-%COMP%]   [data-ffmobile=true][_ngcontent-%COMP%]{order:-1}@media (min-width: 500px){.script-list[_ngcontent-%COMP%]:not(.list-panel){grid-template-columns:repeat(auto-fill,minmax(420px,1fr))}}@media (min-width: 960px){.script-list[_ngcontent-%COMP%]:not(.list-panel){gap:1.5rem}}"],changeDetection:0}),r})();const Dt=["app-script-filters",""];function Rt(n,r){if(1&n&&(t.ynx(0),t.TgZ(1,"option",22),t._uU(2),t.qZA(),t.BQk()),2&n){const s=r.$implicit;t.xp6(1),t.Q6J("value",s[0]),t.xp6(1),t.Oqu(s[1].name)}}function Yt(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"div",23),t.NdJ("click",function(){t.CHM(s);const e=t.oxw();return t.KtG(e.resetCustomFilter())}),t._uU(1," clear "),t.qZA()}}let jt=(()=>{var n;class r{constructor(){this.filterDisabled=!0,this.filterChangeEvent=new t.vpe,this.devs=Object.entries(_.$m).filter(i=>i[1].active),this.selectedDev="all",this.customFilterValue="",this.filters={}}ngOnInit(){}resetCustomFilter(){0!==this.customFilterValue.length&&(this.customFilterValue="",this.onChangeSingleFilter(this.customFilterValue,"keywords"))}onChangeSingleFilter(i,e){if(!this.filterDisabled&&i!==this.filters[e]){if("onlyInstalled"===e)i?this.filters[e]=!0:delete this.filters[e];else if("keywords"!==e&&"all"===i&&(i=""),i)this.filters[e]=i;else{if(!this.filters.hasOwnProperty(e))return;delete this.filters[e]}this.filterChangeEvent.emit(this.filters)}}}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["","app-script-filters",""]],inputs:{filterDisabled:"filterDisabled"},outputs:{filterChangeEvent:"filterChangeEvent"},attrs:Dt,decls:29,vars:8,consts:[[1,"mb-0","h5"],[1,"flat-icon","green"],[1,"material-icons"],[1,"filters","list-unstyled","my-auto"],[1,"author-filter","mt-2"],["for","author-filter"],["id","author-filter",1,"form-select","form-select-sm",3,"disabled","ngModel","ngModelChange"],["value","all"],[4,"ngFor","ngForOf"],[1,"custom-filter","mt-2"],["for","custom-filter"],[1,"input-group","input-group-sm","position-relative"],[1,"input-group-text",3,"disabled","click"],[1,"material-icons-outlined","icon-small"],["class","material-icons d-block icon-small text-danger position-absolute reset-custom-filter cursor-pointer",3,"click",4,"ngIf"],["type","text","placeholder","Cerca...","id","custom-filter",1,"form-control",3,"ngModel","disabled","ngModelChange","keyup.enter"],["customFilter",""],[1,"installed-filter","mt-2"],[1,"form-check"],["type","checkbox","id","installed-filter",1,"form-check-input",3,"disabled","change"],["installedFilter",""],["for","installed-filter",1,"form-check-label"],[3,"value"],[1,"material-icons","d-block","icon-small","text-danger","position-absolute","reset-custom-filter","cursor-pointer",3,"click"]],template:function(i,e){if(1&i){const o=t.EpF();t.TgZ(0,"div",0),t._uU(1,"Applica un filtro"),t.qZA(),t.TgZ(2,"div",1)(3,"span",2),t._uU(4,"filter_alt"),t.qZA()(),t.TgZ(5,"ul",3)(6,"li",4)(7,"label",5),t._uU(8,"Autore:"),t.qZA(),t.TgZ(9,"select",6),t.NdJ("ngModelChange",function(u){return e.onChangeSingleFilter(u,"dev")}),t.TgZ(10,"option",7),t._uU(11,"Tutti"),t.qZA(),t.YNc(12,Rt,3,2,"ng-container",8),t.qZA()(),t.TgZ(13,"li",9)(14,"label",10),t._uU(15,"Parola chiave:"),t.qZA(),t.TgZ(16,"div",11)(17,"button",12),t.NdJ("click",function(){t.CHM(o);const u=t.MAs(22);return t.KtG(e.onChangeSingleFilter(u.value.trim(),"keywords"))}),t.TgZ(18,"span",13),t._uU(19,"search"),t.qZA()(),t.YNc(20,Yt,2,0,"div",14),t.TgZ(21,"input",15,16),t.NdJ("ngModelChange",function(u){return e.customFilterValue=u})("keyup.enter",function(){t.CHM(o);const u=t.MAs(22);return t.KtG(e.onChangeSingleFilter(u.value.trim(),"keywords"))}),t.qZA()()(),t.TgZ(23,"li",17)(24,"div",18)(25,"input",19,20),t.NdJ("change",function(){t.CHM(o);const u=t.MAs(26);return t.KtG(e.onChangeSingleFilter(u.checked,"onlyInstalled"))}),t.qZA(),t.TgZ(27,"label",21),t._uU(28," Mostra solo script installati "),t.qZA()()()()}2&i&&(t.xp6(9),t.Q6J("disabled",e.filterDisabled)("ngModel",e.selectedDev),t.xp6(3),t.Q6J("ngForOf",e.devs),t.xp6(5),t.Q6J("disabled",e.filterDisabled),t.xp6(3),t.Q6J("ngIf",e.customFilterValue.trim().length>0),t.xp6(1),t.Q6J("ngModel",e.customFilterValue)("disabled",e.filterDisabled),t.xp6(4),t.Q6J("disabled",e.filterDisabled))},dependencies:[c.sg,c.O5,g.YN,g.Kr,g.Fj,g.EJ,g.JJ,g.On],styles:[".flat-icon[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:1rem}label[_ngcontent-%COMP%]{font-size:.9rem}#custom-filter[_ngcontent-%COMP%]{padding-right:calc(.5rem + 26px)}.reset-custom-filter[_ngcontent-%COMP%]{top:calc(50% - 10px);right:5px;z-index:6}.custom-filter[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{margin-top:1px}"]}),r})();const Ht=["app-script-layouts",""];let Kt=(()=>{var n;class r{constructor(i){this.scriptLayoutService=i,this.layoutDisabled=!0,this.layoutOptionsEvent=new t.vpe,this.layoutOptions=this.scriptLayoutService.options}ngOnInit(){}changeTypeOption(i){!this.layoutDisabled&&this.layoutOptions.type!==i&&(this.layoutOptions.type=i,this.emitOptions())}changeOption(){this.layoutDisabled||this.emitOptions()}emitOptions(){this.scriptLayoutService.options=this.layoutOptions,this.layoutOptionsEvent.emit(this.layoutOptions)}}return(n=r).\u0275fac=function(i){return new(i||n)(t.Y36(N))},n.\u0275cmp=t.Xpm({type:n,selectors:[["","app-script-layouts",""]],inputs:{layoutDisabled:"layoutDisabled"},outputs:{layoutOptionsEvent:"layoutOptionsEvent"},attrs:Ht,decls:35,vars:10,consts:[[1,"mb-0","h5"],[1,"layout-type-icons","d-flex","align-items-center"],[1,"flat-icon",3,"ngClass","click"],[1,"material-icons","d-block"],[1,"flat-icon","ms-2",3,"ngClass","click"],[1,"filters","list-unstyled","my-auto"],[1,"order-type","mt-2"],["for","order-type"],["id","order-type",1,"form-select","form-select-sm",3,"disabled","ngModel","ngModelChange"],["value","az","selected",""],["value","date"],["value","installed"],[1,"order-reverse","mt-2"],[1,"form-check"],["type","checkbox","id","order-reverse",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","order-reverse",1,"form-check-label"],[1,"ffmobile-first","mt-2"],["type","checkbox","id","ffmobile-first","checked","",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","ffmobile-first",1,"form-check-label"],[1,"installed-first","mt-2"],["type","checkbox","id","installed-first","checked","",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","installed-first",1,"form-check-label"]],template:function(i,e){1&i&&(t.TgZ(0,"div",0),t._uU(1,"Opzioni di layout"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2),t.NdJ("click",function(){return e.changeTypeOption("card")}),t.TgZ(4,"span",3),t._uU(5,"apps"),t.qZA()(),t.TgZ(6,"div",4),t.NdJ("click",function(){return e.changeTypeOption("list")}),t.TgZ(7,"span",3),t._uU(8,"view_list"),t.qZA()()(),t.TgZ(9,"ul",5)(10,"li",6)(11,"label",7),t._uU(12,"Criterio:"),t.qZA(),t.TgZ(13,"select",8),t.NdJ("ngModelChange",function(l){return e.layoutOptions.orderBy=l})("ngModelChange",function(){return e.changeOption()}),t.TgZ(14,"option",9),t._uU(15,"Alfabetico"),t.qZA(),t.TgZ(16,"option",10),t._uU(17,"Data di creazione"),t.qZA(),t.TgZ(18,"option",11),t._uU(19,"Numero di installazioni"),t.qZA()()(),t.TgZ(20,"li",12)(21,"div",13)(22,"input",14),t.NdJ("ngModelChange",function(l){return e.layoutOptions.reverse=l})("ngModelChange",function(){return e.changeOption()}),t.qZA(),t.TgZ(23,"label",15),t._uU(24," Inverti l'ordinamento "),t.qZA()()(),t.TgZ(25,"li",16)(26,"div",13)(27,"input",17),t.NdJ("ngModelChange",function(l){return e.layoutOptions.ffmobileFirst=l})("ngModelChange",function(){return e.changeOption()}),t.qZA(),t.TgZ(28,"label",18),t._uU(29," Mostra prima gli script per mobile "),t.qZA()()(),t.TgZ(30,"li",19)(31,"div",13)(32,"input",20),t.NdJ("ngModelChange",function(l){return e.layoutOptions.installedFirst=l})("ngModelChange",function(){return e.changeOption()}),t.qZA(),t.TgZ(33,"label",21),t._uU(34," Mostra prima gli script installati "),t.qZA()()()()),2&i&&(t.xp6(3),t.Q6J("ngClass",e.layoutDisabled?"card"===e.layoutOptions.type?"gray":"outline-gray":"card"===e.layoutOptions.type?"indigo cursor-pointer":"outline-indigo cursor-pointer"),t.xp6(3),t.Q6J("ngClass",e.layoutDisabled?"card"===e.layoutOptions.type?"outline-gray":"gray":"card"===e.layoutOptions.type?"outline-indigo cursor-pointer":"indigo cursor-pointer"),t.xp6(7),t.Q6J("disabled",e.layoutDisabled)("ngModel",e.layoutOptions.orderBy),t.xp6(9),t.Q6J("disabled",e.layoutDisabled)("ngModel",e.layoutOptions.reverse),t.xp6(5),t.Q6J("disabled",e.layoutDisabled)("ngModel",e.layoutOptions.ffmobileFirst),t.xp6(5),t.Q6J("disabled",e.layoutDisabled)("ngModel",e.layoutOptions.installedFirst))},dependencies:[c.mk,g.YN,g.Kr,g.Wl,g.EJ,g.JJ,g.On],styles:[".layout-type-icons[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:1rem}label[_ngcontent-%COMP%]{font-size:.9rem}"]}),r})();var Gt=a(4464);const $t=["app-script-pageinfo",""];function Wt(n,r){1&n&&t.GkF(0)}const Vt=function(n,r){return{$implicit:n,link:r,type:"forum"}};function Xt(n,r){if(1&n){const s=t.EpF();t.ynx(0),t.TgZ(1,"p",9),t._uU(2," Questo pannello consente di gestire l'installazione e la rimozione degli "),t.TgZ(3,"em"),t._uU(4,"script su un forum"),t.qZA(),t._uU(5," di cui si possiede l'amministrazione. Prima di compiere qualsiasi operazione \xe8 necessario "),t.TgZ(6,"em"),t._uU(7,"selezionare il forum"),t.qZA(),t._uU(8," su cui agire. Uno script per forum \xe8 "),t.TgZ(9,"em"),t._uU(10,"attivo per tutti gli utenti"),t.qZA(),t._uU(11," che visitano il forum su cui \xe8 installato, influenzando pertanto l'esperienza di navigazione di molti. "),t.TgZ(12,"a",10),t.NdJ("click",function(){t.CHM(s),t.oxw();const e=t.MAs(6);return t.KtG(e.open())}),t.qZA()(),t.YNc(13,Wt,1,0,"ng-container",11),t.BQk()}if(2&n){const s=t.oxw(),i=t.MAs(4);t.xp6(12),t.Q6J("innerText",s.readMore),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(3,Vt,(null==s.forum?null:s.forum.subdomain)||"-",(null==s.forum?null:s.forum.url)||""))}}function te(n,r){1&n&&t.GkF(0)}const ee=function(n,r){return{$implicit:n,link:r,type:"profilo"}};function ie(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"p",9),t._uU(1," Questo pannello consente di gestire l'installazione e la rimozione degli "),t.TgZ(2,"em"),t._uU(3,"script sul profilo "),t.qZA(),t._uU(4," con cui si \xe8 loggati. Uno script per profilo \xe8 legato all'account su cui \xe8 installato: ci\xf2 significa che \xe8 "),t.TgZ(5,"em"),t._uU(6,"attivo su tutti i forum"),t.qZA(),t._uU(7," visitati con quell'account, senza in genere influenzare l'esperienza di navigazione di altri, con l'eccezione di alcuni elementi limitati alla pagina profilo. "),t.TgZ(8,"a",10),t.NdJ("click",function(){t.CHM(s),t.oxw();const e=t.MAs(6);return t.KtG(e.open())}),t.qZA()(),t.YNc(9,te,1,0,"ng-container",11)}if(2&n){const s=t.oxw(),i=t.MAs(4);t.xp6(8),t.Q6J("innerText",s.readMore),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(3,ee,s.profile.user.nickname,s.profile.user.url))}}function ne(n,r){if(1&n&&t._UZ(0,"a",24),2&n){const s=t.oxw(),e=s.$implicit;t.Q6J("href",s.link,t.LSH)("innerHTML",e,t.oJD)}}function se(n,r){1&n&&t._UZ(0,"div",25),2&n&&t.Q6J("innerText","-")}const re=function(){return{animation:"shift-away",theme:"popover"}};function oe(n,r){if(1&n&&(t.TgZ(0,"div",26),t._uU(1," priority_high "),t.qZA()),2&n){const s=t.oxw(2);t.Q6J("appTippy",s.scriptTip)("tippyProps",t.DdM(2,re))}}function ae(n,r){if(1&n&&(t.TgZ(0,"div",12)(1,"div",13),t.YNc(2,ne,1,2,"a",14),t.YNc(3,se,1,1,"ng-template",null,15,t.W1O),t.TgZ(5,"div",16),t._UZ(6,"span",17),t.TgZ(7,"span",18),t._uU(8," selezionato"),t.qZA()()(),t.TgZ(9,"div",19)(10,"div",20),t._UZ(11,"div",21),t.YNc(12,oe,2,3,"div",22),t.qZA(),t.TgZ(13,"div",16)(14,"span"),t._uU(15,"script"),t.qZA(),t._UZ(16,"span",23),t.qZA()()()),2&n){const s=r.link,i=r.type,e=t.MAs(4),o=t.oxw();t.xp6(2),t.Q6J("ngIf",s)("ngIfElse",e),t.xp6(4),t.Q6J("innerText",i),t.xp6(5),t.Q6J("ngClass",o.installed>o.scriptMaxSuggestedNumber?"text-danger":"text-success")("innerText",o.installed),t.xp6(1),t.Q6J("ngIf",o.installed>o.scriptMaxSuggestedNumber),t.xp6(4),t.Q6J("innerText"," installat"+(1===o.installed?"o":"i"))}}let le=(()=>{var n;class r{constructor(){this.isForum=!1,this.installed=0,this.scriptMaxSuggestedNumber=9,this.scriptTip="Installare un numero elevato di script aumenta il rischio di incompatibilit\xe0 e il tempo di caricamento della pagina. Si dovrebbero disinstallare gli script non utilizzati o meno utili!",this.readMore=z.f}ngOnInit(){}}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["","app-script-pageinfo",""]],inputs:{isForum:"isForum",forum:"forum",profile:"profile",installed:"installed"},attrs:$t,decls:197,vars:3,consts:[[4,"ngIf","ngIfElse"],["profileInfo",""],["infoTemplate",""],["title","Pannello gestione script","size","xl"],["modal",""],[1,"fst-italic"],[1,"mb-1"],[1,"fw-bold","text-decoration-underline"],[1,"mb-0"],[1,"mb-0","text-justify"],["role","button",1,"cursor-pointer",3,"innerText","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"row","my-auto","py-3"],[1,"col-6","border-end","text-center","d-flex","flex-column","align-items-center","min-w-0"],["class","d-block fs-lg lh-1 text-truncate text-uppercase mw-100","target","_blank",3,"href","innerHTML",4,"ngIf","ngIfElse"],["noLink",""],[1,"fv-small-caps"],[3,"innerText"],[1,"d-none","d-sm-inline"],[1,"col-6","text-center"],[1,"position-relative"],[1,"fs-lg","lh-1","text-uppercase",3,"ngClass","innerText"],["class","d-block text-danger material-icons alert-icon position-absolute cursor-pointer",3,"appTippy","tippyProps",4,"ngIf"],[1,"d-none","d-sm-inline",3,"innerText"],["target","_blank",1,"d-block","fs-lg","lh-1","text-truncate","text-uppercase","mw-100",3,"href","innerHTML"],[1,"fs-lg","lh-1","text-uppercase",3,"innerText"],[1,"d-block","text-danger","material-icons","alert-icon","position-absolute","cursor-pointer",3,"appTippy","tippyProps"]],template:function(i,e){if(1&i&&(t.YNc(0,Xt,14,6,"ng-container",0),t.YNc(1,ie,10,6,"ng-template",null,1,t.W1O),t.YNc(3,ae,17,7,"ng-template",null,2,t.W1O),t.TgZ(5,"app-modal",3,4)(7,"p"),t._uU(8," Il pannello di gestione degli script consente di "),t.TgZ(9,"strong"),t._uU(10,"installare e disinstallare script"),t.qZA(),t._uU(11," su un forum o un profilo. "),t.qZA(),t.TgZ(12,"h6",5),t._uU(13,"Cos'\xe8 uno script?"),t.qZA(),t.TgZ(14,"p"),t._uU(15," Uno script \xe8 un insieme di codici che permette l'aggiunta di "),t.TgZ(16,"strong"),t._uU(17,"nuove funzionalit\xe0 o il miglioramento di quelle esistenti"),t.qZA(),t._uU(18,". Il codice dello script, una volta installato, viene eseguito nelle varie pagine durante la normale navigazione. Generalmente si tratta di codice "),t.TgZ(19,"em"),t._uU(20,"HTML (il corpo), CSS (i vestiti) e Javascript (il cervello)"),t.qZA(),t._uU(21,", che insieme formano il c.d. "),t.TgZ(22,"em"),t._uU(23,"frontend"),t.qZA(),t._uU(24,"; tuttavia, gli script pi\xf9 complessi possono prevedere anche la presenza di un "),t.TgZ(25,"em"),t._uU(26,"backend"),t.qZA(),t._uU(27,", ossia in genere il salvataggio di informazioni o l'esecuzione di operazioni da parte di un server. "),t.qZA(),t.TgZ(28,"h6",5),t._uU(29,"Lista script"),t.qZA(),t.TgZ(30,"p",6),t._uU(31," La lista degli script \xe8 un "),t.TgZ(32,"strong"),t._uU(33,"elenco di tutti gli script disponibili"),t.qZA(),t._uU(34," per il forum o il profilo selezionato. A seconda del layout scelto tramite i pulsanti nell'apposita area "),t.TgZ(35,"em"),t._uU(36,"Opzioni di layout"),t.qZA(),t._uU(37,", la lista si presenta come insieme di "),t.TgZ(38,"em"),t._uU(39,"card"),t.qZA(),t._uU(40," o di "),t.TgZ(41,"em"),t._uU(42,"panel"),t.qZA(),t._uU(43,". Nel primo caso, ogni "),t.TgZ(44,"em"),t._uU(45,"card"),t.qZA(),t._uU(46," \xe8 dedicata ad uno script e contiene tutte le sue informazioni; nel secondo caso ad ogni script \xe8 dedicato un "),t.TgZ(47,"em"),t._uU(48,"panel"),t.qZA(),t._uU(49,", nella cui area sempre visibile sono riportate le sole informazioni essenziali, mentre nella parte normalmente nascosta sono inseriti tutti i dettagli. Per espandere o chiudere un "),t.TgZ(50,"em"),t._uU(51,"panel"),t.qZA(),t._uU(52," \xe8 sufficiente cliccare sull'area principale, il c.d. "),t.TgZ(53,"em"),t._uU(54,"header"),t.qZA(),t._uU(55,"."),t._UZ(56,"br")(57,"br"),t._uU(58,"Per ogni script sono presenti i seguenti pulsanti: "),t.qZA(),t.TgZ(59,"ul")(60,"li")(61,"em"),t._uU(62,"installa"),t.qZA(),t._uU(63,": questo pulsante, visibile solo quando lo script "),t.TgZ(64,"span",7),t._uU(65,"non \xe8 ancora installato"),t.qZA(),t._uU(66,", permette, se cliccato, di "),t.TgZ(67,"strong"),t._uU(68,"aggiungere"),t.qZA(),t._uU(69," il relativo script al forum o profilo selezionato; "),t.qZA(),t.TgZ(70,"li")(71,"em"),t._uU(72,"disinstalla"),t.qZA(),t._uU(73,": questo pulsante, visibile solo quando lo script \xe8 "),t.TgZ(74,"span",7),t._uU(75,"gi\xe0 installato"),t.qZA(),t._uU(76,", permette, se cliccato, di "),t.TgZ(77,"strong"),t._uU(78,"rimuovere"),t.qZA(),t._uU(79," lo script dal forum o profilo selezionato; "),t.qZA(),t.TgZ(80,"li")(81,"em"),t._uU(82,"impostazioni"),t.qZA(),t._uU(83,": alcuni script richiedono o consentono un'ulteriore personalizzazione. Cliccando questo pulsante, visibile solo quando lo script \xe8 "),t.TgZ(84,"span",7),t._uU(85,"gi\xe0 installato"),t.qZA(),t._uU(86,", si viene indirizzati nella pagina dedicata alle "),t.TgZ(87,"strong"),t._uU(88,"impostazioni dello script"),t.qZA(),t._uU(89,"; "),t.qZA(),t.TgZ(90,"li")(91,"em"),t._uU(92,"guida"),t.qZA(),t._uU(93,": molti script possiedono una guida dedicata che ne esplicita il funzionamento e le eventuali personalizzazioni possibili. Cliccando questo pulsante si viene indirizzati alla pagina contenente la guida dello script. "),t.qZA()(),t.TgZ(94,"h6",5),t._uU(95,"Opzioni di layout"),t.qZA(),t.TgZ(96,"p",6),t._uU(97," Nell'area dedicata alle "),t.TgZ(98,"em"),t._uU(99,"opzioni di layout"),t.qZA(),t._uU(100," sono presenti alcune personalizzazioni che \xe8 possibile applicare alla lista degli script: "),t.qZA(),t.TgZ(101,"ul")(102,"li")(103,"em"),t._uU(104,"layout"),t.qZA(),t._uU(105,": tramite le due icone in alto a destra, \xe8 possibile optare per la visualizzazione a "),t.TgZ(106,"em"),t._uU(107,"card"),t.qZA(),t._uU(108," o quella a "),t.TgZ(109,"em"),t._uU(110,"panel"),t.qZA(),t._uU(111,"; "),t.qZA(),t.TgZ(112,"li")(113,"em"),t._uU(114,"criterio"),t.qZA(),t._uU(115,": tramite questo select, \xe8 possibile stabilire secondo quale criterio saranno ordinati gli script nella lista. Il criterio "),t.TgZ(116,"em"),t._uU(117,"alfabetico"),t.qZA(),t._uU(118," ordina gli script per nome, il criterio "),t.TgZ(119,"em"),t._uU(120,"data di creazione"),t.qZA(),t._uU(121," per data di inserimento e il criterio "),t.TgZ(122,"em"),t._uU(123,"numero di installazioni"),t.qZA(),t._uU(124," per numero di forum o profili che hanno aggiunto i vari script; "),t.qZA(),t.TgZ(125,"li")(126,"em"),t._uU(127,"inverti l'ordinamento"),t.qZA(),t._uU(128,": abilitando questo checkbox, l'ordinamento viene invertito. Ad esempio, supponendo di utilizzare il criterio "),t.TgZ(129,"em"),t._uU(130,"alfabetico"),t.qZA(),t._uU(131,", invertendo l'ordinamento gli script saranno mostrati secondo un elenco Z-A, anzich\xe9 A-Z; "),t.qZA(),t.TgZ(132,"li")(133,"em"),t._uU(134,"mostra prima gli script per mobile"),t.qZA(),t._uU(135,": spuntando questo checkbox, vengono mostrati prima gli script compatibili con layout FFMobile; "),t.qZA(),t.TgZ(136,"li")(137,"em"),t._uU(138,"mostra prima gli script installati"),t.qZA(),t._uU(139,": se questa casella \xe8 attiva, vengono inseriti prima gli script gi\xe0 installati. "),t.qZA()(),t.TgZ(140,"h6",5),t._uU(141,"Filtri"),t.qZA(),t.TgZ(142,"p",6),t._uU(143," Nell'area dedicata ai "),t.TgZ(144,"em"),t._uU(145,"filtri"),t.qZA(),t._uU(146," \xe8 possibile stabilire alcuni criteri di ricerca tra i vari script: "),t.qZA(),t.TgZ(147,"ul")(148,"li")(149,"em"),t._uU(150,"autore"),t.qZA(),t._uU(151,": tramite questo select, \xe8 possibile filtrare gli script per l'account che li ha creati; "),t.qZA(),t.TgZ(152,"li")(153,"em"),t._uU(154,"parola chiave"),t.qZA(),t._uU(155,": inserendo delle parole chiave in questo campo, \xe8 possibile cercare tra i vari script quelli che, nel nome o nella descrizione, contengono tali parole; "),t.qZA(),t.TgZ(156,"li")(157,"em"),t._uU(158,"mostra solo script installati"),t.qZA(),t._uU(159,": abilitando questo checkbox, vengono evidenziati esclusivamente gli script gi\xe0 installati. "),t.qZA()(),t.TgZ(160,"h6",5),t._uU(161,"Compatibilit\xe0 con i layout"),t.qZA(),t.TgZ(162,"p"),t._uU(163," Data la presenza di diversi layout e la parziale mancanza di coordinamento tra le informazioni e la struttura degli stessi, alcuni script potrebbero non risultare disponibili per tutti i layout. \xc8 possibile verificare per quali layout \xe8 compatibile uno script mediante le icone presenti nel "),t.TgZ(164,"em"),t._uU(165,"footer"),t.qZA(),t._uU(166," delle "),t.TgZ(167,"em"),t._uU(168,"card"),t.qZA(),t._uU(169,", ovvero espandendo il "),t.TgZ(170,"em"),t._uU(171,"panel"),t.qZA(),t._uU(172," per visualizzarne i dettagli. Nel primo caso, le informazioni vengono mostrate al passaggio del mouse, o, da dispositivi touch, al tocco dell'icona a forma di smartphone, se lo script \xe8 compatibile con il layout FFMobile, oppure, in caso contrario, a forma di computer. Nel secondo caso, \xe8 presente l'elenco dei layout compatibili sotto l'anteprima dello script. "),t.qZA(),t.TgZ(173,"h6",5),t._uU(174,"Script per forum"),t.qZA(),t.TgZ(175,"p"),t._uU(176," Alcuni script sono pensati e realizzati per essere installati sui forum. In questo caso, prima di procedere alla gestione degli stessi, \xe8 necessario "),t.TgZ(177,"strong"),t._uU(178,"selezionare il forum"),t.qZA(),t._uU(179," su cui agire. Affinch\xe9 si possa installare, rimuovere o modificare uno script su un forum, il profilo con cui \xe8 stato eseguito il login deve possedere poteri di "),t.TgZ(180,"strong"),t._uU(181,"amministrazione del forum oppure di amministrazione degli script"),t.qZA(),t._uU(182,". Uno script per forum si differenzia dagli script per utenti in quanto viene eseguito per "),t.TgZ(183,"strong"),t._uU(184,"tutti gli utenti e visitatori"),t.qZA(),t._uU(185," del forum su cui \xe8 installato. Questo tipo di script, tuttavia, non produce effetti nel momento in cui si passa su un altro forum, se non nel caso in cui anche quest'ultimo lo abbia installato. "),t.qZA(),t.TgZ(186,"h6",5),t._uU(187,"Script per utenti"),t.qZA(),t.TgZ(188,"p"),t._uU(189," Alcuni script sono pensati e realizzati per essere installati sui profili. Tali script rimangono legati all'account che li ha aggiunti e lo seguono su "),t.TgZ(190,"strong"),t._uU(191,"ogni forum"),t.qZA(),t._uU(192," che visita. Questo tipo di script, in genere, non ha effetti sugli altri account, ma si limita ad aggiungere o migliorare le funzionalit\xe0 per il solo profilo che li installa. Tuttavia, \xe8 possibile che alcuni script aggiungano degli elementi nella pagina del profilo: in questo caso, anche coloro che visualizzano tale pagina ne osservano gli effetti. "),t.qZA(),t.TgZ(193,"h6",5),t._uU(194,"Numero massimo di script installabili"),t.qZA(),t.TgZ(195,"p",8),t._uU(196),t.qZA()()),2&i){const o=t.MAs(2);t.Q6J("ngIf",e.isForum)("ngIfElse",o),t.xp6(196),t.hij(" Sebbene per il momento non sia presente un limite agli script installabili su forum o profili, occorre tuttavia considerare che all'aumentare del numero di script presenti, aumenta da un lato la possibilit\xe0 di comportamenti indesiderati dovuti a incompatibilit\xe0 tra gli script stessi, dall'altro il tempo di caricamento totale della pagina. Pur dipendendo in parte dalla natura dello script installato, uno script articolato infatti richiede comunemente pi\xf9 codice e pertanto pi\xf9 tempo per essere caricato, si ritiene che il numero totale di script aggiunti non dovrebbe eccedere ",e.scriptMaxSuggestedNumber,". Se cos\xec fosse, si suggerisce di controllare gli script presenti ed eliminare quelli non utilizzati o che si crede essere meno utili al miglioramento dell'esperienza di navigazione. ")}},dependencies:[c.mk,c.O5,c.tP,Gt.z,w.$],styles:["@keyframes _ngcontent-%COMP%_blobbing{10%,12%{transform:scale(1.5,.7) translateY(.25rem)}17%{transform:scale(.7,1.5) translateY(-.125rem)}22%{transform:scale(1)}}.alert-icon[_ngcontent-%COMP%]{left:53%;bottom:-3px;animation:_ngcontent-%COMP%_blobbing 2.5s infinite}"]}),r})();function ce(n,r){1&n&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2,"Ci sono dei filtri attivi!"),t.qZA()())}function pe(n,r){if(1&n&&t._UZ(0,"app-script-list",15),2&n){const s=t.oxw(3).$implicit,i=t.oxw(2);t.Q6J("list",i.scripts[s[0]])("isActive",i.shownTab===s[0]&&!i.isFilterActive)("highlightScriptId",i.highlightScriptId)}}function de(n,r){1&n&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2," Nessuno script disponibile! "),t.qZA()())}function ue(n,r){if(1&n&&(t.ynx(0),t.YNc(1,pe,1,3,"app-script-list",13),t.YNc(2,de,3,0,"ng-template",null,14,t.W1O),t.BQk()),2&n){const s=t.MAs(3),i=t.oxw(2).$implicit,e=t.oxw(2);t.xp6(1),t.Q6J("ngIf",e.scripts[i[0]].length)("ngIfElse",s)}}function ge(n,r){1&n&&t._UZ(0,"div",18)}function me(n,r){if(1&n&&(t.YNc(0,ue,4,2,"ng-container",11),t.YNc(1,ge,1,0,"ng-template",null,12,t.W1O)),2&n){const s=t.MAs(2),i=t.oxw().$implicit,e=t.oxw(2);t.Q6J("ngIf",e.scripts.hasOwnProperty(i[0]))("ngIfElse",s)}}const he=function(n){return{active:n}};function fe(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"li",8),t.NdJ("shown",function(){t.CHM(s);const e=t.oxw(2);return t.KtG(e.onShown())}),t._UZ(1,"a",9),t.YNc(2,me,3,2,"ng-template",10),t.qZA()}if(2&n){const s=r.$implicit,i=t.oxw(2);t.Q6J("ngbNavItem",s[0])("ngClass",t.VKq(3,he,s[0]===i.activeTab)),t.xp6(1),t.Q6J("innerText",s[1].name)}}function _e(n,r){if(1&n){const s=t.EpF();t.TgZ(0,"ul",4,5),t.NdJ("activeIdChange",function(e){t.CHM(s);const o=t.oxw();return t.KtG(o.activeTab=e)})("activeIdChange",function(e){t.CHM(s);const o=t.oxw();return t.KtG(o.onChangeTab(e))}),t.YNc(2,fe,3,5,"li",6),t.qZA(),t._UZ(3,"div",7)}if(2&n){const s=t.MAs(1),i=t.oxw();t.Q6J("activeId",i.activeTab)("destroyOnHide",!1),t.xp6(2),t.Q6J("ngForOf",i.tabs),t.xp6(1),t.Q6J("ngbNavOutlet",s)}}let ve=(()=>{var n;class r{constructor(){this.isFilterActive=!1,this.highlightScriptTab="",this.tabs=Object.entries(_.yT),this.scripts={},this.firstRedered=!1,this.activeTab="",this.shownTab=""}ngOnInit(){this.activeTab=this.highlightScriptTab&&_.yT.hasOwnProperty(this.highlightScriptTab)?this.highlightScriptTab:"ffb",this.setFirstTabContent()}setFirstTabContent(){this.shownTab=this.activeTab,this.isFilterActive||(this.firstRedered=!0),this.scripts[this.activeTab]=this.scriptsPerTab[this.activeTab]||[]}ngOnChanges(i){i.isFilterActive&&!i.isFilterActive.firstChange&&!this.firstRedered&&(this.firstRedered=!0),i.scriptsPerTab&&!i.scriptsPerTab.firstChange&&(this.scripts={},this.setFirstTabContent())}onChangeTab(i){this.activeTab=i,this.scripts.hasOwnProperty(this.activeTab)||(this.scripts[this.activeTab]=this.scriptsPerTab[this.activeTab]||[])}onShown(){this.shownTab=this.activeTab}}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-script-tabs"]],inputs:{scriptsPerTab:"scriptsPerTab",isFilterActive:"isFilterActive",highlightScriptTab:"highlightScriptTab",highlightScriptId:"highlightScriptId"},features:[t.TTD],decls:3,vars:2,consts:[["class","container alert alert-primary",4,"ngIf","ngIfElse"],["bootstrapTabs",""],[1,"container","alert","alert-primary"],[1,"text-center","fw-bold"],["ngbNav","",1,"d-flex","justify-content-center",3,"activeId","destroyOnHide","activeIdChange"],["nav","ngbNav"],["class","flex-grow-1",3,"ngbNavItem","ngClass","shown",4,"ngFor","ngForOf"],[1,"tab-content-wrapper",3,"ngbNavOutlet"],[1,"flex-grow-1",3,"ngbNavItem","ngClass","shown"],["ngbNavLink","",1,"text-center",3,"innerText"],["ngbNavContent",""],[4,"ngIf","ngIfElse"],["placeholder",""],[3,"list","isActive","highlightScriptId",4,"ngIf","ngIfElse"],["noScript",""],[3,"list","isActive","highlightScriptId"],[1,"container","alert","alert-primary","mb-0"],[1,"fw-bold","text-center"],[1,"min-vh-100"]],template:function(i,e){if(1&i&&(t.YNc(0,ce,3,0,"div",0),t.YNc(1,_e,4,4,"ng-template",null,1,t.W1O)),2&i){const o=t.MAs(2);t.Q6J("ngIf",e.isFilterActive&&!e.firstRedered)("ngIfElse",o)}},dependencies:[c.mk,c.sg,c.O5,p.uN,p.Pz,p.nv,p.Is,p.Vx,p.tO,p.Dy,j],styles:['.tab-content-wrapper[_ngcontent-%COMP%]{margin-top:2rem}.nav[_ngcontent-%COMP%]{max-width:1320px;background:#fff;border:1px solid #dee2e6;box-shadow:0 .125rem .25rem #00000013;border-radius:.25rem;margin:0 1rem;position:relative;z-index:1;flex-direction:column;overflow:hidden}.nav-item[_ngcontent-%COMP%]{transition:background-color .3s}.nav-item[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid #dee2e6}.nav-item.active[_ngcontent-%COMP%]{background-color:#4864fe}.nav-link[_ngcontent-%COMP%]{transition:color .3s}.nav-link[_ngcontent-%COMP%]:not(.active){color:inherit!important}.nav-link.active[_ngcontent-%COMP%]{color:#fff!important}@media (min-width: 576px){.tab-content-wrapper[_ngcontent-%COMP%]{margin-top:3rem}.nav[_ngcontent-%COMP%]{flex-direction:row;overflow:initial}.nav-item[_ngcontent-%COMP%]{transition:initial;width:25%}.nav-item[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:none}.nav-item.active[_ngcontent-%COMP%]{background-color:initial}.nav-item[_ngcontent-%COMP%]:nth-of-type(2).active ~ .nav-item[_ngcontent-%COMP%]:last-of-type:after{left:25%}.nav-item[_ngcontent-%COMP%]:nth-of-type(3).active ~ .nav-item[_ngcontent-%COMP%]:last-of-type:after{left:50%}.nav-item[_ngcontent-%COMP%]:last-of-type.active:after{left:75%}.nav-item[_ngcontent-%COMP%]:last-of-type:after{content:"";display:block;position:absolute;height:100%;width:25%;left:0;bottom:0;z-index:-1;border-radius:.25rem;background-color:#4864fe;transition:left .4s cubic-bezier(.5,-.2,.445,1.2)}}@media (min-width: 768px){.nav[_ngcontent-%COMP%]{margin:0 auto}}']}),r})();function be(n,r){1&n&&(t.TgZ(0,"div",7),t._UZ(1,"app-forum-required"),t.qZA())}function Ce(n,r){if(1&n&&t._UZ(0,"app-script-list",12),2&n){const s=t.oxw(3);t.Q6J("list",s.scriptFilteredList)}}const Te=function(n){return{"d-none":n}};function ye(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Ce,1,1,"app-script-list",10),t._UZ(2,"app-script-tabs",11),t.BQk()),2&n){const s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.isFilterActive),t.xp6(1),t.Q6J("ngClass",t.VKq(6,Te,s.isFilterActive))("scriptsPerTab",s.scriptPerTab)("isFilterActive",s.isFilterActive)("highlightScriptTab",s.highlightScriptTab)("highlightScriptId",s.highlightScriptId)}}function Ze(n,r){if(1&n&&t._UZ(0,"app-loader",13),2&n){const s=t.oxw(2);t.Q6J("message",s.loadingMessage)}}function Pe(n,r){if(1&n&&(t.YNc(0,ye,3,8,"ng-container",8),t.YNc(1,Ze,1,1,"ng-template",null,9,t.W1O)),2&n){const s=t.MAs(2),i=t.oxw();t.Q6J("ngIf",!i.loadingMessage)("ngIfElse",s)}}const Se=[{path:"",component:(()=>{var n;class r{constructor(i,e,o,l,u,b,C,S){this.globalsService=i,this.activatedRoute=e,this.scriptFiltersService=o,this.scriptListService=l,this.scriptLayoutService=u,this.scriptManagerService=b,this.sidenavRightService=C,this.urlQueryParamsService=S,this.isForum=!0,this.scriptPerTab={},this.loadingMessage="Recupero della lista script",this.isFilterActive=!1,this.activeFilters={},this.scriptFilteredList=[],this.highlightScriptTab="",this.ffuid="",this.targetType=d.D7.USER;const J=this.globalsService.credentials;if(!J)throw new Error("Missing credentials!");this.credentials=J,this.targetType=this.activatedRoute.snapshot.data.type,this.isForum=this.targetType===d.D7.FORUM,this.ffuid=J.user.ffuid}ngOnInit(){var i=this;return(0,m.Z)(function*(){i.forum=i.globalsService.forum,i.isForum&&(i.forumSubscription=i.globalsService.forumObservable.subscribe(function(){var e=(0,m.Z)(function*(o){yield i.forumObservableCallback(o)});return function(o){return e.apply(this,arguments)}}())),i.scriptManageSubscription=i.scriptManagerService.getManageObservable().subscribe(e=>{e.installed?i.response.scriptInstalledList.push(e.id):i.response.scriptInstalledList.splice(i.response.scriptInstalledList.indexOf(e.id),1)}),i.highlightScriptId=i.urlQueryParamsService.getAndDeleteParam(f.RT.SCRIPT),i.highlightScriptTab=i.urlQueryParamsService.getAndDeleteParam(f.RT.TAB)||"",yield i.setData()})()}forumObservableCallback(i){var e=this;return(0,m.Z)(function*(){e.loadingMessage="Recupero della lista script",e.forum=i,yield e.setData()})()}setData(){var i=this;return(0,m.Z)(function*(){if(i.isForum&&!i.forum)return i.sidenavRightService.closeOnAction=!0,void i.sidenavRightService.pushEntity({entity:z.R.forumList,detectChanges:!0});if(i.scriptListInputs={installedList:[],layoutOptions:i.scriptLayoutService.options,targetInfo:{targetId:i.isForum?i.forum.cid:i.ffuid,targetType:i.targetType}},yield i.saveResponse(yield i.scriptListService.getData(i.isForum?i.forum.cid:i.ffuid,i.targetType,!1)),i.filterList(),void 0!==i.highlightScriptId){const e=i.response.scriptList.find(o=>o.scriptId===i.highlightScriptId);e&&(i.highlightScriptTab=e.publisher)}i.loadingMessage=""})()}saveResponse(i){var e=this;return(0,m.Z)(function*(){e.response=i,e.scriptPerTab=e.scriptListService.splitTabs(e.response.scriptList),e.scriptListInputs.installedList=e.response.scriptInstalledList,e.scriptListInputs.permissions=e.isForum&&!e.forum.admin?yield e.scriptListService.getScriptPermissions():void 0,e.scriptListService.pushListInputs(e.scriptListInputs)})()}changeFilters(i){this.activeFilters=i,this.filterList()}filterList(){Object.keys(this.activeFilters).length?(this.isFilterActive=!0,this.scriptFilteredList=this.scriptFiltersService.filterScripts(this.response.scriptList,this.response.scriptInstalledList,this.activeFilters)):this.isFilterActive=!1}changeLayoutOptions(i){this.scriptListInputs.layoutOptions=i,this.scriptListService.pushListInputs(this.scriptListInputs)}ngOnDestroy(){this.forumSubscription&&this.forumSubscription.unsubscribe(),this.scriptManageSubscription&&this.scriptManageSubscription.unsubscribe()}}return(n=r).\u0275fac=function(i){return new(i||n)(t.Y36(P.d),t.Y36(Z.gz),t.Y36($.v),t.Y36(Q.o),t.Y36(N),t.Y36(I.E),t.Y36(W.f),t.Y36(G.J))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-script-main"]],decls:8,vars:10,consts:[[3,"pageTitle"],[1,"d-grid","script-header",3,"ngClass"],["app-script-pageinfo","",1,"flat-container","px-3","px-md-4","pt-3","info","d-flex","flex-column",3,"isForum","forum","profile","installed"],["app-script-layouts","",1,"flat-container","p-3","d-flex","flex-column","position-relative",3,"layoutDisabled","layoutOptionsEvent"],["app-script-filters","",1,"flat-container","p-3","d-flex","flex-column","position-relative",3,"filterDisabled","filterChangeEvent"],["class","container forum-required",4,"ngIf","ngIfElse"],["scriptListTemplate",""],[1,"container","forum-required"],[4,"ngIf","ngIfElse"],["loader",""],[3,"list",4,"ngIf"],[3,"ngClass","scriptsPerTab","isFilterActive","highlightScriptTab","highlightScriptId"],[3,"list"],[3,"message"]],template:function(i,e){if(1&i&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t.NdJ("layoutOptionsEvent",function(l){return e.changeLayoutOptions(l)}),t.qZA(),t.TgZ(4,"div",4),t.NdJ("filterChangeEvent",function(l){return e.changeFilters(l)}),t.qZA()(),t.YNc(5,be,2,0,"div",5),t.YNc(6,Pe,3,2,"ng-template",null,6,t.W1O)),2&i){const o=t.MAs(7);t.Q6J("pageTitle",e.isForum?"Script per forum":"Script per utenti"),t.xp6(1),t.Q6J("ngClass",e.isFilterActive||e.isForum&&!e.forum?"":"has-tabs"),t.xp6(1),t.Q6J("isForum",e.isForum)("forum",e.forum)("profile",e.credentials)("installed",e.scriptListInputs?e.scriptListInputs.installedList.length:0),t.xp6(1),t.Q6J("layoutDisabled",e.isForum&&void 0===e.forum),t.xp6(1),t.Q6J("filterDisabled",e.isForum&&void 0===e.forum),t.xp6(1),t.Q6J("ngIf",e.isForum&&!e.forum)("ngIfElse",o)}},dependencies:[V.L,c.mk,c.O5,X.P,tt.R,j,jt,Kt,le,ve],styles:[".forum-required[_ngcontent-%COMP%]{margin-top:1rem;padding:0 1rem}.script-header[_ngcontent-%COMP%]{gap:1rem}.script-header[_ngcontent-%COMP%]   .flat-icon[_ngcontent-%COMP%]{top:.75rem;right:1rem}.script-header.has-tabs[_ngcontent-%COMP%]{margin-bottom:2rem}.script-header[_ngcontent-%COMP%]:not(.has-tabs){margin-bottom:1rem}@media (min-width: 576px){.forum-required[_ngcontent-%COMP%]{padding:0}.script-header.has-tabs[_ngcontent-%COMP%]{margin-bottom:3rem}}@media (min-width: 960px){.forum-required[_ngcontent-%COMP%]{margin-top:1.5rem}.script-header[_ngcontent-%COMP%]{gap:1.5rem}.script-header[_ngcontent-%COMP%]:not(.has-tabs){margin-bottom:1.5rem}}@media (min-width: 768px) and (max-width: 1499.98px){.script-header[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.info[_ngcontent-%COMP%]{grid-column:span 2}.script-layouts[_ngcontent-%COMP%], .script-filters[_ngcontent-%COMP%]{grid-row-start:2}}@media (min-width: 1500px){.script-header[_ngcontent-%COMP%]{grid-template-columns:calc(40% - 1.5rem) repeat(2,calc(30% - .75rem))}}"]}),r})()},{path:"settings",loadChildren:()=>Promise.all([a.e(73),a.e(587),a.e(592),a.e(255)]).then(a.bind(a,2228)).then(n=>n.ScriptSettingsModule),data:{title:"Script Settings"}},{path:":scriptId/:sandboxSlug",loadChildren:()=>Promise.all([a.e(587),a.e(431)]).then(a.bind(a,431)).then(n=>n.ScriptSandboxModule)}];let Me=(()=>{var n;class r{}return(n=r).\u0275fac=function(i){return new(i||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[x.w,c.ez,g.u5,O.z,L.q,A.z,p.Oz,Z.Bz.forChild(Se),T,k.G,h.g]}),r})()},9246:(H,M,a)=>{a.d(M,{E:()=>Z});var x=a(5861),c=a(8391),g=a(8645),O=a(3040),L=a(9121),A=a(3729),p=a(5879);let Z=(()=>{var v;class U{constructor(h,t){this.graphqlService=h,this.scriptListService=t,this.manageSubject=new g.x,this.buttonSubject=new g.x}manage(h,t,T,m){var f=this;return(0,x.Z)(function*(){f.manageSubject.next({installed:m===A.n0.INSTALL,id:T});const d=(yield f.graphqlService.mutate({mutation:O.in,variables:{targetId:h,targetType:t,scriptId:T,action:m}})).data.scriptManage;return d||f.manageSubject.next({installed:m!==A.n0.INSTALL,id:T}),d})()}getManageObservable(){return this.manageSubject.asObservable()}getButtonObservable(){return this.buttonSubject.asObservable()}pushButtonEvent(h,t){this.buttonSubject.next({id:h,action:t})}editSettings(h,t,T,m){var f=this;return(0,x.Z)(function*(){const P=(yield f.graphqlService.mutate({mutation:O.t6,variables:{targetId:h,targetType:t,scriptId:T,settings:m}})).data.scriptSettings;return P&&f.scriptListService.updateInstalledScriptSettings(h,t,T,m),P})()}}return(v=U).\u0275fac=function(h){return new(h||v)(p.LFG(c.Jk),p.LFG(L.o))},v.\u0275prov=p.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),U})()}}]);