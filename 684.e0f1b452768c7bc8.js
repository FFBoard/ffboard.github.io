"use strict";(self.webpackChunkboard=self.webpackChunkboard||[]).push([[684],{5655:(Y,F,s)=>{s.d(F,{n:()=>w});var d=s(5044),p=s(4650),D=s(9631),a=s(5681);let w=(()=>{class b{constructor(M,E){this.router=M,this.profileService=E}canActivate(M){return!(!M.data.hasOwnProperty("permissionRequired")||!this.profileService.hasAtLeastOnePermission(M.data.permissionRequired))||this.router.parseUrl(d.B2.HOME)}canActivateChild(M){return this.canActivate(M)}}return b.\u0275fac=function(M){return new(M||b)(p.LFG(D.F0),p.LFG(a.H))},b.\u0275prov=p.Yz7({token:b,factory:b.\u0275fac,providedIn:"root"}),b})()},9832:(Y,F,s)=>{s.d(F,{P:()=>a});var d=s(6834),p=s(4650),D=s(9358);let a=(()=>{class w{constructor(c){this.sidenavRightService=c}ngOnInit(){}openForumSelection(){this.sidenavRightService.pushEntity({entity:d.R.forumList})}}return w.\u0275fac=function(c){return new(c||w)(p.Y36(D.f))},w.\u0275cmp=p.Xpm({type:w,selectors:[["app-forum-required"]],decls:11,vars:0,consts:[[1,"alert","alert-primary","mb-0"],[1,"fw-bold","text-center"],[1,"text-justify"],[1,"fw-bold"],["role","button",1,"text-decoration-underline","fw-bold",3,"click"]],template:function(c,M){1&c&&(p.TgZ(0,"div",0)(1,"div",1),p._uU(2,"Seleziona un forum!"),p.qZA(),p.TgZ(3,"div",2),p._uU(4," Per utilizzare questa funzione \xe8 prima necessario "),p.TgZ(5,"span",3),p._uU(6,"scegliere su quale sito"),p.qZA(),p._uU(7," si vuole operare. \xc8 possibile selezionare il forum/blog da amministrare mediante "),p.TgZ(8,"a",4),p.NdJ("click",function(){return M.openForumSelection()}),p._uU(9,"l'apposita funzione"),p.qZA(),p._uU(10," presente nella sidenav di destra. "),p.qZA()())}}),w})()},2974:(Y,F,s)=>{s.d(F,{z:()=>D});var d=s(6895),p=s(4650);let D=(()=>{class a{}return a.\u0275fac=function(b){return new(b||a)},a.\u0275mod=p.oAB({type:a}),a.\u0275inj=p.cJS({imports:[d.ez]}),a})()},9442:(Y,F,s)=>{s.d(F,{L:()=>p,l:()=>d});var d=(()=>{return(D=d||(d={})).SERVICES="Servizi",D.ADMIN="Amministrazione",D.BETA="Beta",D.OTHER="Altri",d;var D})(),p=(()=>{return(D=p||(p={})).FORUM_ADMIN="forum-admin",D.FORUM="forum",p;var D})()},8044:(Y,F,s)=>{s.d(F,{Yu:()=>b,cM:()=>E,fj:()=>M,zW:()=>c});var d=s(9442),p=s(608),D=s(6834),a=s(7075),w=s(5044);const b=[{icon:{type:"material-icons-outlined",value:"cottage"},path:w.B2.HOME,description:"Home"},{groupSidenav:d.l.SERVICES,icon:{type:"material-icons-outlined",value:"integration_instructions"},path:w.B2.SCRIPT,description:"Script",subroutes:{collapsed:!0,content:[{description:"Script per forum",path:w.B2.SCRIPT_FORUM},{description:"Script per utenti",path:w.B2.SCRIPT_USER},{description:"Gestione script",path:w.B2.SCRIPT_DEV,permission:[p.c.SCRIPT_DEV]}]}},{groupSidenav:d.l.SERVICES,icon:{type:"material-icons-outlined",value:"settings"},path:w.B2.SETTINGS,description:"Impostazioni"},{groupSidenav:d.l.ADMIN,groupBottomnav:d.l.OTHER,permission:[p.c.ADMIN,p.c.SUPERUSER],icon:{type:"material-icons-outlined",value:"insights"},path:w.B2.GRAFANA,description:"Grafana"},{groupSidenav:d.l.BETA,groupBottomnav:d.l.OTHER,permission:[p.c.ADMIN,p.c.TESTER],icon:{type:"material-icons-outlined",value:"cloud"},path:w.B2.UPLOAD,description:"Upload"},{groupSidenav:d.l.ADMIN,groupBottomnav:d.l.OTHER,permission:[p.c.ADMIN],icon:{type:"material-icons-outlined",value:"build_circle"},path:w.B2.ADMIN,description:"Pannello Admin"}],c=[{type:d.L.FORUM_ADMIN,icon:{type:"material-icons-outlined",value:"admin_panel_settings"},description:"Admin degli script",shortDescription:"Script Admin",entity:D.R[a.Y.ScriptsAdmin]},{type:d.L.FORUM,icon:{type:"material-icons-outlined",value:"public"},description:"Seleziona forum",shortDescription:"Forum",entity:D.R[a.Y.ForumList]}],M=[d.l.SERVICES,d.l.ADMIN,d.l.BETA,d.l.OTHER],E={[d.l.OTHER]:{title:d.l.OTHER,content:[],icon:{type:"material-icons-outlined",value:"reorder"}}}},9207:(Y,F,s)=>{s.d(F,{t:()=>nt});var d=s(5861),p=s(7579),c=s(4650),M=s(3138),E=s(5395),U=s(8367),B=s(9209);function t(S,I){if(1&S&&c._UZ(0,"app-loader",7),2&S){const h=c.oxw(2);c.Q6J("message",h.loadingMessage)}}function k(S,I){if(1&S){const h=c.EpF();c.TgZ(0,"div",12)(1,"input",13,14),c.NdJ("keyup.enter",function(){c.CHM(h);const m=c.MAs(2),y=c.oxw(3);return c.KtG(y.userAddScriptsAdmin(y.forum.cid,m.value))}),c.qZA(),c.TgZ(3,"button",15),c.NdJ("click",function(){c.CHM(h);const m=c.MAs(2),y=c.oxw(3);return c.KtG(y.userAddScriptsAdmin(y.forum.cid,m.value))}),c.TgZ(4,"span",16),c._uU(5,"add"),c.qZA()()()}}function N(S,I){1&S&&(c.TgZ(0,"div",17),c._uU(1,"Non hai i permessi per modificare gli admin degli script del forum selezionato!"),c.qZA())}const g=function(){return{placement:"left",animation:"shift-away"}};function v(S,I){if(1&S){const h=c.EpF();c.TgZ(0,"button",28),c.NdJ("click",function(){c.CHM(h);const m=c.oxw().$implicit,y=c.oxw(4);return c.KtG(y.userDelScriptsAdmin(y.forum.cid,m.id))}),c.TgZ(1,"span",29),c._uU(2,"delete"),c.qZA()()}2&S&&c.Q6J("tippyProps",c.DdM(1,g))}const P=function(S){return{"border-bottom":S}};function H(S,I){if(1&S&&(c.TgZ(0,"li",20)(1,"div",21),c._UZ(2,"img",22),c.ALo(3,"uploadsreplace"),c.qZA(),c.TgZ(4,"div",23)(5,"div",24),c._UZ(6,"a",25),c.TgZ(7,"div",26),c._uU(8),c.qZA()(),c.YNc(9,v,3,2,"button",27),c.qZA()()),2&S){const h=I.$implicit,O=I.last,m=c.oxw(4);c.xp6(2),c.s9C("src",c.lcZ(3,9,h.avatar),c.LSH),c.MGl("alt","",h.nickname,"'s avatar"),c.Q6J("nameDynamicReplace",h.nickname),c.xp6(2),c.Q6J("ngClass",c.VKq(11,P,!O)),c.xp6(2),c.hYB("href","",m.forum.url,"/?act=Profile&MID=",h.id,"",c.LSH),c.Q6J("innerText",h.nickname),c.xp6(2),c.hij("User id: ",h.id,""),c.xp6(1),c.Q6J("ngIf",m.canManage)}}function ot(S,I){if(1&S&&(c.TgZ(0,"ul",18),c.YNc(1,H,10,13,"li",19),c.qZA()),2&S){const h=c.oxw(3);c.xp6(1),c.Q6J("ngForOf",h.admins)}}function V(S,I){1&S&&(c.TgZ(0,"div",17),c._uU(1,"Non \xe8 stato inserito alcun admin degli script!"),c.qZA())}function st(S,I){if(1&S&&(c.YNc(0,k,6,0,"div",8),c.YNc(1,N,2,0,"ng-template",null,9,c.W1O),c.YNc(3,ot,2,1,"ul",10),c.YNc(4,V,2,0,"ng-template",null,11,c.W1O)),2&S){const h=c.MAs(2),O=c.MAs(5),m=c.oxw(2);c.Q6J("ngIf",m.canManage)("ngIfElse",h),c.xp6(3),c.Q6J("ngIf",m.admins.length)("ngIfElse",O)}}function et(S,I){if(1&S&&(c.ynx(0),c.YNc(1,t,1,1,"app-loader",5),c.YNc(2,st,6,4,"ng-template",null,6,c.W1O),c.BQk()),2&S){const h=c.MAs(3),O=c.oxw();c.xp6(1),c.Q6J("ngIf",O.loading)("ngIfElse",h)}}function K(S,I){1&S&&c._UZ(0,"app-forum-required")}let nt=(()=>{class S{constructor(h,O,m,y){if(this.globalsService=h,this.graphqlService=O,this.toastService=m,this.forumService=y,this.componentDestroyed=new p.x,this.callOnDestroy=[],this.toastMessage="Inserisci <strong>l'ID o lo username</strong> dell'utente che vuoi rendere admin degli script!",this.admins=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.canManage=!0,this.componentDestroyed.subscribe(()=>{this.callOnDestroy.forEach(C=>C())}),!this.globalsService.credentials)throw new Error("Missing credentials!");this.forum=this.globalsService.forum}ngOnInit(){var h=this;return(0,d.Z)(function*(){if(!h.forum)return;h.canManage=h.forum.admin||!1;let O=h.forum.cid;h.admins=yield h.forumService.getScriptAdmins(O),h.load(),h.callOnDestroy.push(yield h.graphqlService.subscribe({query:"\nsubscription ChangesScriptAdmins($cid: String!) {\n    changesScriptAdmins(cid: $cid) {\n        eventType\n    }\n}",variables:{cid:O}},(0,d.Z)(function*(){h.load("Sincronizzazione lista admin"),h.admins=yield h.forumService.getScriptAdmins(O),h.load()})))})()}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}userAddScriptsAdmin(h,O){var m=this;return(0,d.Z)(function*(){if(m.loading)throw new Error("Loading already in progress");if(0===O.length)return m.toastService.show({content:m.toastMessage}),!1;m.load("Inserimento admin");const y=yield m.addScriptsAdmin(h,{name:O,id:+O});return m.load("Caricamento lista admin"),m.admins=yield m.forumService.getScriptAdmins(h),m.load(),y})()}userDelScriptsAdmin(h,O){var m=this;return(0,d.Z)(function*(){if(m.loading)throw new Error("Loading already in progress");m.load("Rimozione admin");const y=yield m.delScriptsAdmin(h,O);return m.load("Caricamento lista admin"),m.admins=yield m.forumService.getScriptAdmins(h),m.load(),y})()}addScriptsAdmin(h,O){var m=this;return(0,d.Z)(function*(){const y={cid:h,...O};if(!O.id&&!O.name)throw new Error;const f=y.id?"\nmutation AddScriptAdminById($cid: String!, $id: Int!) {\n    addScriptAdminById(cid: $cid, id: $id)\n}":"\nmutation AddScriptAdminByName($cid: String!, $name: String!) {\n    addScriptAdminByName(cid: $cid, name: $name)\n}";return void 0===(yield m.graphqlService.mutate({mutation:f,variables:y})).errors})()}delScriptsAdmin(h,O){var m=this;return(0,d.Z)(function*(){return void 0===(yield m.graphqlService.mutate({mutation:"\nmutation DelScriptAdmin($cid: String!, $id: Int!) {\n    delScriptAdmin(cid: $cid, id: $id)\n}",variables:{cid:h,id:O}})).errors})()}load(h){h?(this.loading=!0,this.loadingMessage=h):(this.loading=!1,this.loadingMessage="")}}return S.\u0275fac=function(h){return new(h||S)(c.Y36(M.d),c.Y36(E.J),c.Y36(U.k),c.Y36(B._))},S.\u0275cmp=c.Xpm({type:S,selectors:[["app-scripts-admin"]],decls:8,vars:2,consts:[[1,"content","bg-white","pb-4","px-3"],[1,"title","fs-5","text-primary","fw-bold","mb-3"],[1,"description","mb-3","text-justify"],[4,"ngIf","ngIfElse"],["forumRequired",""],[3,"message",4,"ngIf","ngIfElse"],["adminForm",""],[3,"message"],["class","input-group mb-3",4,"ngIf","ngIfElse"],["noPermissions",""],["class","list-unstyled admin-list mb-0",4,"ngIf","ngIfElse"],["noAdmin",""],[1,"input-group","mb-3"],["type","text","placeholder","Nickname o id dell'utente...",1,"form-control",3,"keyup.enter"],["input",""],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"],[1,"alert","alert-primary","text-center"],[1,"list-unstyled","admin-list","mb-0"],["class","d-flex flex-row align-items-center mx-sm-2",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","mx-sm-2"],[1,"avatar","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","nameDynamicReplace"],[1,"info","flex-grow-1","d-flex","flex-row","align-items-center","py-3","py-sm-4",3,"ngClass"],[1,"me-auto","pe-2","d-flex","flex-column","flex-grow-1","align-items-start"],["target","_blank",1,"d-block","name","fw-bold","text-decoration-none","text-truncate","lh-1","mw-100",3,"href","innerText"],[1,"text-muted","fs-sm"],["class","btn btn-danger p-1 d-block","appTippy","Rimuovi l'admin",3,"tippyProps","click",4,"ngIf"],["appTippy","Rimuovi l'admin",1,"btn","btn-danger","p-1","d-block",3,"tippyProps","click"],[1,"material-icons","d-block"]],template:function(h,O){if(1&h&&(c.TgZ(0,"div",0)(1,"div",1),c._uU(2,"Gestore admin degli script"),c.qZA(),c.TgZ(3,"div",2),c._uU(4," Tramite questo pannello \xe8 possibile gestire gli admin degli script del forum selezionato. Un admin degli script non avr\xe0 alcun potere di moderazione sul forum o blog, ma potr\xe0 installare, disinstallare e modificare gli script del sito. La funzione risulta utile se si vuole riservare la gestione degli script ad alcuni utenti qualificati, senza dover fornire loro un ruolo particolare sul forum o blog. \xc8 importante evidenziare che un amministratore degli script possiede anche il potere di nominare e rimuovere altri admin degli script. "),c.qZA(),c.YNc(5,et,4,2,"ng-container",3),c.YNc(6,K,1,0,"ng-template",null,4,c.W1O),c.qZA()),2&h){const m=c.MAs(7);c.xp6(5),c.Q6J("ngIf",O.forum)("ngIfElse",m)}},styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.admin-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{min-width:0}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.admin-list[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),S})()},1684:(Y,F,s)=>{s.r(F),s.d(F,{MainModule:()=>bn});var d=s(6895),p=s(7132),D=s(433),a=s(2974),w=s(3204),b=s(6818),c=s(1043),M=s(2687),E=s(8184),U=s(3353),B=s(4080),t=s(4650),k=s(9521),N=s(7579),g=s(9770),v=s(9646),P=s(445),H=s(8675);function ot(n,r){}class V{constructor(){this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.ariaModal=!0,this.autoFocus="first-tabbable",this.restoreFocus=!0,this.closeOnNavigation=!0,this.closeOnDestroy=!0}}let et=(()=>{class n extends B.en{constructor(e,i,o,l,u,_,Z,Q){super(),this._elementRef=e,this._focusTrapFactory=i,this._config=l,this._interactivityChecker=u,this._ngZone=_,this._overlayRef=Z,this._focusMonitor=Q,this._elementFocusedBeforeDialogWasOpened=null,this._closeInteractionType=null,this.attachDomPortal=T=>{this._portalOutlet.hasAttached();const W=this._portalOutlet.attachDomPortal(T);return this._contentAttached(),W},this._ariaLabelledBy=this._config.ariaLabelledBy||null,this._document=o}_contentAttached(){this._initializeFocusTrap(),this._handleBackdropClicks(),this._captureInitialFocus()}_captureInitialFocus(){this._trapFocus()}ngOnDestroy(){this._restoreFocus()}attachComponentPortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachComponentPortal(e);return this._contentAttached(),i}attachTemplatePortal(e){this._portalOutlet.hasAttached();const i=this._portalOutlet.attachTemplatePortal(e);return this._contentAttached(),i}_recaptureFocus(){this._containsFocus()||this._trapFocus()}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_trapFocus(){const e=this._elementRef.nativeElement;switch(this._config.autoFocus){case!1:case"dialog":this._containsFocus()||e.focus();break;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{i||this._focusDialogContainer()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this._config.autoFocus)}}_restoreFocus(){const e=this._config.restoreFocus;let i=null;if("string"==typeof e?i=this._document.querySelector(e):"boolean"==typeof e?i=e?this._elementFocusedBeforeDialogWasOpened:null:e&&(i=e),this._config.restoreFocus&&i&&"function"==typeof i.focus){const o=(0,U.ht)(),l=this._elementRef.nativeElement;(!o||o===this._document.body||o===l||l.contains(o))&&(this._focusMonitor?(this._focusMonitor.focusVia(i,this._closeInteractionType),this._closeInteractionType=null):i.focus())}this._focusTrap&&this._focusTrap.destroy()}_focusDialogContainer(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}_containsFocus(){const e=this._elementRef.nativeElement,i=(0,U.ht)();return e===i||e.contains(i)}_initializeFocusTrap(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._document&&(this._elementFocusedBeforeDialogWasOpened=(0,U.ht)())}_handleBackdropClicks(){this._overlayRef.backdropClick().subscribe(()=>{this._config.disableClose&&this._recaptureFocus()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(M.qV),t.Y36(d.K0,8),t.Y36(V),t.Y36(M.ic),t.Y36(t.R0b),t.Y36(E.Iu),t.Y36(M.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["cdk-dialog-container"]],viewQuery:function(e,i){if(1&e&&t.Gf(B.Pl,7),2&e){let o;t.iGM(o=t.CRH())&&(i._portalOutlet=o.first)}},hostAttrs:["tabindex","-1",1,"cdk-dialog-container"],hostVars:6,hostBindings:function(e,i){2&e&&t.uIk("id",i._config.id||null)("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-labelledby",i._config.ariaLabel?null:i._ariaLabelledBy)("aria-label",i._config.ariaLabel)("aria-describedby",i._config.ariaDescribedBy||null)},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&t.YNc(0,ot,0,0,"ng-template",0)},dependencies:[B.Pl],styles:[".cdk-dialog-container{display:block;width:100%;height:100%;min-height:inherit;max-height:inherit}"],encapsulation:2}),n})();class K{constructor(r,e){this.overlayRef=r,this.config=e,this.closed=new N.x,this.disableClose=e.disableClose,this.backdropClick=r.backdropClick(),this.keydownEvents=r.keydownEvents(),this.outsidePointerEvents=r.outsidePointerEvents(),this.id=e.id,this.keydownEvents.subscribe(i=>{i.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(i)&&(i.preventDefault(),this.close(void 0,{focusOrigin:"keyboard"}))}),this.backdropClick.subscribe(()=>{this.disableClose||this.close(void 0,{focusOrigin:"mouse"})})}close(r,e){if(this.containerInstance){const i=this.closed;this.containerInstance._closeInteractionType=e?.focusOrigin||"program",this.overlayRef.dispose(),i.next(r),i.complete(),this.componentInstance=this.containerInstance=null}}updatePosition(){return this.overlayRef.updatePosition(),this}updateSize(r="",e=""){return this.overlayRef.updateSize({width:r,height:e}),this}addPanelClass(r){return this.overlayRef.addPanelClass(r),this}removePanelClass(r){return this.overlayRef.removePanelClass(r),this}}const nt=new t.OlP("DialogScrollStrategy"),S=new t.OlP("DialogData"),I=new t.OlP("DefaultDialogConfig"),O={provide:nt,deps:[E.aV],useFactory:function h(n){return()=>n.scrollStrategies.block()}};let m=0,y=(()=>{class n{constructor(e,i,o,l,u,_){this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=l,this._overlayContainer=u,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new N.x,this._afterOpenedAtThisLevel=new N.x,this._ariaHiddenElements=new Map,this.afterAllClosed=(0,g.P)(()=>this.openDialogs.length?this._getAfterAllClosed():this._getAfterAllClosed().pipe((0,H.O)(void 0))),this._scrollStrategy=_}get openDialogs(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}get afterOpened(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}open(e,i){(i={...this._defaultOptions||new V,...i}).id=i.id||"cdk-dialog-"+m++,i.id&&this.getDialogById(i.id);const l=this._getOverlayConfig(i),u=this._overlay.create(l),_=new K(u,i),Z=this._attachContainer(u,_,i);return _.containerInstance=Z,this._attachDialogContent(e,_,Z,i),this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(_),_.closed.subscribe(()=>this._removeOpenDialog(_,!0)),this.afterOpened.next(_),_}closeAll(){f(this.openDialogs,e=>e.close())}getDialogById(e){return this.openDialogs.find(i=>i.id===e)}ngOnDestroy(){f(this._openDialogsAtThisLevel,e=>{!1===e.config.closeOnDestroy&&this._removeOpenDialog(e,!1)}),f(this._openDialogsAtThisLevel,e=>e.close()),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete(),this._openDialogsAtThisLevel=[]}_getOverlayConfig(e){const i=new E.X_({positionStrategy:e.positionStrategy||this._overlay.position().global().centerHorizontally().centerVertically(),scrollStrategy:e.scrollStrategy||this._scrollStrategy(),panelClass:e.panelClass,hasBackdrop:e.hasBackdrop,direction:e.direction,minWidth:e.minWidth,minHeight:e.minHeight,maxWidth:e.maxWidth,maxHeight:e.maxHeight,width:e.width,height:e.height,disposeOnNavigation:e.closeOnNavigation});return e.backdropClass&&(i.backdropClass=e.backdropClass),i}_attachContainer(e,i,o){const l=o.injector||o.viewContainerRef?.injector,u=[{provide:V,useValue:o},{provide:K,useValue:i},{provide:E.Iu,useValue:e}];let _;o.container?"function"==typeof o.container?_=o.container:(_=o.container.type,u.push(...o.container.providers(o))):_=et;const Z=new B.C5(_,o.viewContainerRef,t.zs3.create({parent:l||this._injector,providers:u}),o.componentFactoryResolver);return e.attach(Z).instance}_attachDialogContent(e,i,o,l){if(e instanceof t.Rgc){const u=this._createInjector(l,i,o,void 0);let _={$implicit:l.data,dialogRef:i};l.templateContext&&(_={..._,..."function"==typeof l.templateContext?l.templateContext():l.templateContext}),o.attachTemplatePortal(new B.UE(e,null,_,u))}else{const u=this._createInjector(l,i,o,this._injector),_=o.attachComponentPortal(new B.C5(e,l.viewContainerRef,u,l.componentFactoryResolver));i.componentInstance=_.instance}}_createInjector(e,i,o,l){const u=e.injector||e.viewContainerRef?.injector,_=[{provide:S,useValue:e.data},{provide:K,useValue:i}];return e.providers&&("function"==typeof e.providers?_.push(...e.providers(i,e,o)):_.push(...e.providers)),e.direction&&(!u||!u.get(P.Is,null,t.XFs.Optional))&&_.push({provide:P.Is,useValue:{value:e.direction,change:(0,v.of)()}}),t.zs3.create({parent:u||l,providers:_})}_removeOpenDialog(e,i){const o=this.openDialogs.indexOf(e);o>-1&&(this.openDialogs.splice(o,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((l,u)=>{l?u.setAttribute("aria-hidden",l):u.removeAttribute("aria-hidden")}),this._ariaHiddenElements.clear(),i&&this._getAfterAllClosed().next()))}_hideNonDialogContentFromAssistiveTechnology(){const e=this._overlayContainer.getContainerElement();if(e.parentElement){const i=e.parentElement.children;for(let o=i.length-1;o>-1;o--){const l=i[o];l!==e&&"SCRIPT"!==l.nodeName&&"STYLE"!==l.nodeName&&!l.hasAttribute("aria-live")&&(this._ariaHiddenElements.set(l,l.getAttribute("aria-hidden")),l.setAttribute("aria-hidden","true"))}}}_getAfterAllClosed(){const e=this._parentDialog;return e?e._getAfterAllClosed():this._afterAllClosedAtThisLevel}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(E.aV),t.LFG(t.zs3),t.LFG(I,8),t.LFG(n,12),t.LFG(E.Xj),t.LFG(nt))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac}),n})();function f(n,r){let e=n.length;for(;e--;)r(n[e])}let C=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({providers:[y,O],imports:[E.U8,B.eL,M.rt,B.eL]}),n})();var A=s(3238),R=s(2289),x=s(7340),z=s(6451),G=s(9300),rt=s(5698);function Bt(n,r){}const kt={bottomSheetState:(0,x.X$)("state",[(0,x.SB)("void, hidden",(0,x.oB)({transform:"translateY(100%)"})),(0,x.SB)("visible",(0,x.oB)({transform:"translateY(0%)"})),(0,x.eR)("visible => void, visible => hidden",(0,x.ru)([(0,x.jt)(`${A.mZ.COMPLEX} ${A.yN.ACCELERATION_CURVE}`),(0,x.IO)("@*",(0,x.pV)(),{optional:!0})])),(0,x.eR)("void => visible",(0,x.ru)([(0,x.jt)(`${A.mZ.EXITING} ${A.yN.DECELERATION_CURVE}`),(0,x.IO)("@*",(0,x.pV)(),{optional:!0})]))])};let Nt=(()=>{class n extends et{constructor(e,i,o,l,u,_,Z,Q,T,W){super(e,i,o,l,u,_,Z,W),this._changeDetectorRef=T,this._animationState="void",this._animationStateChanged=new t.vpe,this._breakpointSubscription=Q.observe([R.u3.Medium,R.u3.Large,R.u3.XLarge]).subscribe(()=>{this._toggleClass("mat-bottom-sheet-container-medium",Q.isMatched(R.u3.Medium)),this._toggleClass("mat-bottom-sheet-container-large",Q.isMatched(R.u3.Large)),this._toggleClass("mat-bottom-sheet-container-xlarge",Q.isMatched(R.u3.XLarge))})}enter(){this._destroyed||(this._animationState="visible",this._changeDetectorRef.detectChanges())}exit(){this._destroyed||(this._animationState="hidden",this._changeDetectorRef.markForCheck())}ngOnDestroy(){super.ngOnDestroy(),this._breakpointSubscription.unsubscribe(),this._destroyed=!0}_onAnimationDone(e){"visible"===e.toState&&this._trapFocus(),this._animationStateChanged.emit(e)}_onAnimationStart(e){this._animationStateChanged.emit(e)}_captureInitialFocus(){}_toggleClass(e,i){this._elementRef.nativeElement.classList.toggle(e,i)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(M.qV),t.Y36(d.K0,8),t.Y36(V),t.Y36(M.ic),t.Y36(t.R0b),t.Y36(E.Iu),t.Y36(R.Yg),t.Y36(t.sBO),t.Y36(M.tE))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-bottom-sheet-container"]],hostAttrs:["tabindex","-1",1,"mat-bottom-sheet-container"],hostVars:4,hostBindings:function(e,i){1&e&&t.WFA("@state.start",function(l){return i._onAnimationStart(l)})("@state.done",function(l){return i._onAnimationDone(l)}),2&e&&(t.uIk("role",i._config.role)("aria-modal",i._config.ariaModal)("aria-label",i._config.ariaLabel),t.d8E("@state",i._animationState))},features:[t.qOj],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(e,i){1&e&&t.YNc(0,Bt,0,0,"ng-template",0)},dependencies:[B.Pl],styles:[".mat-bottom-sheet-container{padding:8px 16px;min-width:100vw;box-sizing:border-box;display:block;outline:0;max-height:80vh;overflow:auto}.cdk-high-contrast-active .mat-bottom-sheet-container{outline:1px solid}.mat-bottom-sheet-container-xlarge,.mat-bottom-sheet-container-large,.mat-bottom-sheet-container-medium{border-top-left-radius:4px;border-top-right-radius:4px}.mat-bottom-sheet-container-medium{min-width:384px;max-width:calc(100vw - 128px)}.mat-bottom-sheet-container-large{min-width:512px;max-width:calc(100vw - 256px)}.mat-bottom-sheet-container-xlarge{min-width:576px;max-width:calc(100vw - 384px)}"],encapsulation:2,data:{animation:[kt.bottomSheetState]}}),n})(),gt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[C,A.BQ,B.eL,A.BQ]}),n})();const Zt=new t.OlP("MatBottomSheetData");class Lt{constructor(){this.data=null,this.hasBackdrop=!0,this.disableClose=!1,this.ariaLabel=null,this.ariaModal=!0,this.closeOnNavigation=!0,this.autoFocus="dialog",this.restoreFocus=!0}}class ft{constructor(r,e,i){this._ref=r,this._afterOpened=new N.x,this.containerInstance=i,this.disableClose=e.disableClose,i._animationStateChanged.pipe((0,G.h)(o=>"done"===o.phaseName&&"visible"===o.toState),(0,rt.q)(1)).subscribe(()=>{this._afterOpened.next(),this._afterOpened.complete()}),i._animationStateChanged.pipe((0,G.h)(o=>"done"===o.phaseName&&"hidden"===o.toState),(0,rt.q)(1)).subscribe(()=>{clearTimeout(this._closeFallbackTimeout),this._ref.close(this._result)}),r.overlayRef.detachments().subscribe(()=>{this._ref.close(this._result)}),(0,z.T)(this.backdropClick(),this.keydownEvents().pipe((0,G.h)(o=>o.keyCode===k.hY))).subscribe(o=>{!this.disableClose&&("keydown"!==o.type||!(0,k.Vb)(o))&&(o.preventDefault(),this.dismiss())})}get instance(){return this._ref.componentInstance}dismiss(r){!this.containerInstance||(this.containerInstance._animationStateChanged.pipe((0,G.h)(e=>"start"===e.phaseName),(0,rt.q)(1)).subscribe(e=>{this._closeFallbackTimeout=setTimeout(()=>{this._ref.close(this._result)},e.totalTime+100),this._ref.overlayRef.detachBackdrop()}),this._result=r,this.containerInstance.exit(),this.containerInstance=null)}afterDismissed(){return this._ref.closed}afterOpened(){return this._afterOpened}backdropClick(){return this._ref.backdropClick}keydownEvents(){return this._ref.keydownEvents}}const Yt=new t.OlP("mat-bottom-sheet-default-options");let Ut=(()=>{class n{constructor(e,i,o,l){this._overlay=e,this._parentBottomSheet=o,this._defaultOptions=l,this._bottomSheetRefAtThisLevel=null,this._dialog=i.get(y)}get _openedBottomSheetRef(){const e=this._parentBottomSheet;return e?e._openedBottomSheetRef:this._bottomSheetRefAtThisLevel}set _openedBottomSheetRef(e){this._parentBottomSheet?this._parentBottomSheet._openedBottomSheetRef=e:this._bottomSheetRefAtThisLevel=e}open(e,i){const o={...this._defaultOptions||new Lt,...i};let l;return this._dialog.open(e,{...o,disableClose:!0,maxWidth:"100%",container:Nt,scrollStrategy:o.scrollStrategy||this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().global().centerHorizontally().bottom("0"),templateContext:()=>({bottomSheetRef:l}),providers:(u,_,Z)=>(l=new ft(u,o,Z),[{provide:ft,useValue:l},{provide:Zt,useValue:o.data}])}),l.afterDismissed().subscribe(()=>{this._openedBottomSheetRef===l&&(this._openedBottomSheetRef=null)}),this._openedBottomSheetRef?(this._openedBottomSheetRef.afterDismissed().subscribe(()=>l.containerInstance?.enter()),this._openedBottomSheetRef.dismiss()):l.containerInstance.enter(),this._openedBottomSheetRef=l,l}dismiss(e){this._openedBottomSheetRef&&this._openedBottomSheetRef.dismiss(e)}ngOnDestroy(){this._bottomSheetRefAtThisLevel&&this._bottomSheetRefAtThisLevel.dismiss()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(E.aV),t.LFG(t.zs3),t.LFG(n,12),t.LFG(Yt,8))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:gt}),n})();var q=s(651),L=s(9631);let zt=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,c.h,gt,q.lQ,L.Bz]}),n})();var _t=s(5861),vt=s(5044),X=s(608),Gt=s(9209),Qt=s(5681),at=s(3138),Jt=s(6161);let Ht=(()=>{class n{constructor(e,i,o,l){this.forumService=e,this.profileService=i,this.globalsService=o,this.urlQueryParamsService=l}resolve(){var e=this;return(0,_t.Z)(function*(){const i=e.urlQueryParamsService.getAndDeleteParam(vt.RT.SITE);if(!i||i===e.globalsService.forum?.fulldomain)return;const o=e.forumService.parseUrl(i);if(!o)return;let l,u=!1;return o.shortdomain===e.globalsService.credentials?.site.short&&(l=(yield e.forumService.getMyForumList()).find(_=>_.domain===o.subdomain),u=!0),!l&&e.profileService.hasAtLeastOnePermission([X.c.SCRIPT_DEV])&&(l=yield e.forumService.getForumDetailsFromDomain(`${o.subdomain}.${o.domain}`),u=!1),l?e.forumService.createForumObject(l,o.domain,u):void 0})()}}return n.\u0275fac=function(e){return new(e||n)(t.LFG(Gt._),t.LFG(Qt.H),t.LFG(at.d),t.LFG(Jt.J))},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var $t=s(6834);let Ct=(()=>{class n{constructor(e){this.viewContainerRef=e}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.s_b))},n.\u0275dir=t.lG2({type:n,selectors:[["","appSidenavRight",""]]}),n})(),Wt=(()=>{class n{constructor(){}show(e,i,o=!1,l={}){o&&e.clear();const u=e.createComponent(i);if(l)for(let _ in l)l.hasOwnProperty(_)&&(u.instance[_]=l[_]);return u}}return n.\u0275fac=function(e){return new(e||n)},n.\u0275prov=t.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var dt=s(9358),Vt=s(5645),tt=s(8044),jt=s(3411),mt=s(9442);const Kt=["app-bottom-nav",""];function qt(n,r){1&n&&t.GkF(0)}function Xt(n,r){1&n&&t.GkF(0)}const te=function(n){return{$implicit:n}};function ee(n,r){if(1&n&&t.YNc(0,Xt,1,0,"ng-container",8),2&n){const e=t.oxw(2).$implicit;t.oxw();const i=t.MAs(5);t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,te,e.subroutes.content))}}const bt=function(n){return{selected:n}},ut=function(n,r){return{$implicit:n,icon:r}};function ne(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"a",7),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(4),l=t.oxw(2);return t.KtG(l.showBottomSheet(o))}),t.YNc(2,qt,1,0,"ng-container",8),t.qZA(),t.YNc(3,ee,1,4,"ng-template",null,9,t.W1O),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw(),o=t.MAs(7);t.xp6(1),t.Q6J("ngClass",t.VKq(3,bt,i.selectedPath.startsWith(e.path))),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(5,ut,e.description,e.icon))}}function ie(n,r){1&n&&t.GkF(0)}function oe(n,r){if(1&n&&(t.TgZ(0,"a",10),t.YNc(1,ie,1,0,"ng-container",8),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw(),o=t.MAs(7);t.Q6J("ngClass",t.VKq(4,bt,i.selectedPath===e.path))("routerLink",e.path),t.xp6(1),t.Q6J("ngTemplateOutlet",o)("ngTemplateOutletContext",t.WLB(6,ut,e.description,e.icon))}}function re(n,r){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,ne,5,8,"ng-container",5),t.YNc(2,oe,2,9,"ng-template",null,6,t.W1O),t.qZA()),2&n){const e=r.$implicit,i=t.MAs(3);t.xp6(1),t.Q6J("ngIf",e.subroutes)("ngIfElse",i)}}function se(n,r){1&n&&t.GkF(0)}function ae(n,r){1&n&&t.GkF(0)}const ce=function(){return[]},le=function(n,r){return{$implicit:n,sidenav:r}};function de(n,r){if(1&n&&t.YNc(0,ae,1,0,"ng-container",8),2&n){const e=t.oxw(),i=e.$implicit,o=e.last,l=t.oxw(),u=t.MAs(5);t.Q6J("ngTemplateOutlet",u)("ngTemplateOutletContext",t.WLB(3,le,i.content,o?l.sidebarItems:t.DdM(2,ce)))}}function me(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",11),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(4),l=t.oxw();return t.KtG(l.showBottomSheet(o))}),t.YNc(2,se,1,0,"ng-container",8),t.qZA(),t.YNc(3,de,1,6,"ng-template",null,9,t.W1O),t.qZA()}if(2&n){const e=r.$implicit;t.oxw();const i=t.MAs(7);t.xp6(2),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(2,ut,e.title,e.icon))}}const ue=function(n,r){return{"current text-reset":n,"mb-2":r}};function pe(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",14),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(2);return t.KtG(u.navigateFromBottomSheet(l.path))}),t.qZA()()}if(2&n){const e=r.$implicit,i=r.last,o=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.WLB(2,ue,o.selectedPath===e.path,!i))("innerText",e.description)}}const he=function(n,r){return{"mt-2":n,"mb-2":r}};function ge(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",14),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw(3);return t.KtG(u.pushSidenavRightEntity(l.entity))}),t.qZA()()}if(2&n){const e=r.$implicit,i=r.last,o=t.oxw(2).$implicit;t.xp6(1),t.Q6J("ngClass",t.WLB(2,he,o.length>0,!i))("innerText",e.shortDescription)}}function fe(n,r){if(1&n&&(t.ynx(0),t.YNc(1,ge,2,5,"li",2),t.BQk()),2&n){const e=t.oxw().sidenav;t.xp6(1),t.Q6J("ngForOf",e)}}function _e(n,r){if(1&n&&(t.TgZ(0,"ul",12),t.YNc(1,pe,2,5,"li",2),t.YNc(2,fe,2,1,"ng-container",13),t.qZA()),2&n){const e=r.$implicit,i=r.sidenav;t.xp6(1),t.Q6J("ngForOf",e),t.xp6(1),t.Q6J("ngIf",i)}}function ve(n,r){if(1&n&&(t.TgZ(0,"div"),t._uU(1),t.qZA(),t._UZ(2,"div",15)),2&n){const e=r.$implicit,i=r.icon;t.Gre("icon text-center ",i.type,""),t.xp6(1),t.Oqu(i.value),t.xp6(1),t.Q6J("innerText",e)}}let Ce=(()=>{class n{constructor(e,i,o){this.bottomsheetService=e,this.sidenavRightService=i,this.router=o,this.groups=[],this.items=[],this.selectedPath="",this.sidebarItems=tt.zW}ngOnInit(){0===this.groups.length&&this.groups.push({title:mt.l.OTHER,content:[],icon:tt.cM[mt.l.OTHER]?.icon||{type:"",value:""}})}pushSidenavRightEntity(e){this.bottomsheetRef?.dismiss(),this.sidenavRightService.pushEntity({entity:e})}navigateFromBottomSheet(e){this.bottomsheetRef&&this.bottomsheetRef.dismiss(e)}showBottomSheet(e){var i=this;this.bottomsheetRef=this.bottomsheetService.open(e,{closeOnNavigation:!0});const o=this.bottomsheetRef.afterDismissed().subscribe(function(){var l=(0,_t.Z)(function*(u){o.unsubscribe(),u&&(yield i.router.navigate([u]))});return function(u){return l.apply(this,arguments)}}())}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Ut),t.Y36(dt.f),t.Y36(L.F0))},n.\u0275cmp=t.Xpm({type:n,selectors:[["","app-bottom-nav",""]],inputs:{groups:"groups",items:"items",selectedPath:"selectedPath"},attrs:Kt,decls:8,vars:2,consts:[[1,"bottom-nav","border-top","shadow-sm","py-2","bg-white"],[1,"nav"],[4,"ngFor","ngForOf"],["bottomSheetContent",""],["buttonContent",""],[4,"ngIf","ngIfElse"],["routeTemplate",""],["role","button",1,"d-block",3,"ngClass","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["bottomSheet",""],["role","button",1,"d-block",3,"ngClass","routerLink"],["role","button",1,"d-block",3,"click"],[1,"list-unstyled","mb-0","py-2","panelup"],[4,"ngIf"],["role","button",1,"d-block","text-center","py-3","rounded",3,"ngClass","innerText","click"],[1,"description","fs-xxs","lh-1","text-center",3,"innerText"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0)(1,"ul",1),t.YNc(2,re,4,2,"li",2),t.YNc(3,me,5,5,"li",2),t.qZA()(),t.YNc(4,_e,3,2,"ng-template",null,3,t.W1O),t.YNc(6,ve,3,5,"ng-template",null,4,t.W1O)),2&e&&(t.xp6(2),t.Q6J("ngForOf",i.items),t.xp6(1),t.Q6J("ngForOf",i.groups))},dependencies:[d.mk,d.sg,d.O5,d.tP,L.yS],styles:["[_nghost-%COMP%]{height:53px;bottom:0;left:0;right:0;z-index:999}.bottom-nav[_ngcontent-%COMP%]{height:53px}.nav[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{display:block}.nav[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{flex:1}.nav[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{outline:none!important;color:inherit;text-decoration:none;transition:color .2s;width:-moz-fit-content;width:fit-content;margin:0 auto}.nav[_ngcontent-%COMP%]   a.selected[_ngcontent-%COMP%]{color:#4864fe}.panelup[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:not(.current){background-color:#dae0ff}.panelup[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{background-color:var(--bs-gray-200)}"]}),n})();var St=s(8279);const be=["app-side-nav",""];function Se(n,r){1&n&&t.GkF(0)}const xt=function(n){return{$implicit:n}};function xe(n,r){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,Se,1,0,"ng-container",6),t.qZA()),2&n){const e=r.$implicit;t.oxw();const i=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,xt,e))}}function Me(n,r){if(1&n&&t._UZ(0,"li",4),2&n){const e=t.oxw().$implicit;t.Q6J("innerText",e.title)}}function ye(n,r){1&n&&t.GkF(0)}function we(n,r){if(1&n&&(t.TgZ(0,"li"),t.YNc(1,ye,1,0,"ng-container",6),t.qZA()),2&n){const e=r.$implicit;t.oxw(2);const i=t.MAs(9);t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.VKq(2,xt,e))}}function Oe(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Me,1,1,"li",7),t.YNc(2,we,2,4,"li",3),t.BQk()),2&n){const e=r.$implicit;t.xp6(1),t.Q6J("ngIf",e.title),t.xp6(1),t.Q6J("ngForOf",e.content)}}function Te(n,r){if(1&n&&(t.ynx(0),t._UZ(1,"div",13),t.TgZ(2,"div",14),t._uU(3,"Cambia forum"),t.qZA(),t.BQk()),2&n){const e=t.oxw(3);t.xp6(1),t.Q6J("innerHTML",e.selectedForum.name,t.oJD)}}function Ae(n,r){if(1&n&&t._uU(0),2&n){const e=t.oxw(2).$implicit;t.Oqu(e.description)}}function De(n,r){if(1&n&&(t.ynx(0),t.YNc(1,Te,4,1,"ng-container",10),t.YNc(2,Ae,1,1,"ng-template",null,12,t.W1O),t.BQk()),2&n){const e=t.MAs(3),i=t.oxw(2);t.xp6(1),t.Q6J("ngIf",i.selectedForum)("ngIfElse",e)}}function Fe(n,r){if(1&n&&t._UZ(0,"span",15),2&n){const e=t.oxw().$implicit;t.Q6J("innerText",e.description)}}function Re(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"li")(1,"a",8),t.NdJ("click",function(){const l=t.CHM(e).$implicit,u=t.oxw();return t.KtG(u.pushSidenavRightEntity(l.entity))}),t.TgZ(2,"div"),t._uU(3),t.qZA(),t.TgZ(4,"div",9),t.YNc(5,De,4,2,"ng-container",10),t.YNc(6,Fe,1,1,"ng-template",null,11,t.W1O),t.qZA()()()}if(2&n){const e=r.$implicit,i=t.MAs(7),o=t.oxw();t.xp6(2),t.Gre("icon ",e.icon.type,""),t.xp6(1),t.Oqu(e.icon.value),t.xp6(2),t.Q6J("ngIf",e.type===o.sidebarTypes.FORUM)("ngIfElse",i)}}const Pe=function(n){return{current:n}};function Ee(n,r){if(1&n&&(t.TgZ(0,"li")(1,"a",22)(2,"div",9),t._uU(3),t.qZA()()()),2&n){const e=r.$implicit,i=t.oxw(3);t.xp6(1),t.Q6J("ngClass",t.VKq(3,Pe,i.selectedPath===e.path))("routerLink",e.path),t.xp6(2),t.Oqu(e.description)}}const Ie=function(n,r){return{selected:n,"is-expanded":r}};function Be(n,r){if(1&n){const e=t.EpF();t.ynx(0),t.TgZ(1,"a",17),t.NdJ("click",function(){t.CHM(e);const o=t.MAs(8);return t.KtG(o.toggle())}),t.TgZ(2,"div"),t._uU(3),t.qZA(),t._UZ(4,"div",18),t.TgZ(5,"div",19),t._uU(6,"chevron_left"),t.qZA()(),t.TgZ(7,"ul",20,21),t.NdJ("ngbCollapseChange",function(o){t.CHM(e);const l=t.oxw().$implicit;return t.KtG(l.subroutes.collapsed=o)}),t.YNc(9,Ee,4,5,"li",3),t.qZA(),t.BQk()}if(2&n){const e=t.oxw().$implicit,i=t.oxw();t.xp6(1),t.Q6J("ngClass",t.WLB(8,Ie,i.selectedPath.startsWith(e.path),!e.subroutes.collapsed)),t.xp6(1),t.Gre("icon ",e.icon.type,""),t.xp6(1),t.Oqu(e.icon.value),t.xp6(1),t.Q6J("innerText",e.description),t.xp6(3),t.Q6J("ngbCollapse",e.subroutes.collapsed),t.xp6(2),t.Q6J("ngForOf",e.subroutes.content)}}const ke=function(n){return{selected:n}};function Ne(n,r){if(1&n&&(t.TgZ(0,"a",23)(1,"div"),t._uU(2),t.qZA(),t._UZ(3,"div",18),t.qZA()),2&n){const e=t.oxw().$implicit,i=t.oxw();t.Q6J("ngClass",t.VKq(7,ke,i.selectedPath===e.path))("routerLink",e.path),t.xp6(1),t.Gre("icon ",e.icon.type,""),t.xp6(1),t.Oqu(e.icon.value),t.xp6(1),t.Q6J("innerText",e.description)}}function Ze(n,r){if(1&n&&(t.YNc(0,Be,10,11,"ng-container",10),t.YNc(1,Ne,4,9,"ng-template",null,16,t.W1O)),2&n){const e=r.$implicit,i=t.MAs(2);t.Q6J("ngIf",e.subroutes)("ngIfElse",i)}}let Le=(()=>{class n{constructor(e){this.sidenavRightService=e,this.groups=[],this.items=[],this.selectedPath="",this.sidebarItems=tt.zW,this.sidebarTypes=mt.L}ngOnInit(){}pushSidenavRightEntity(e){this.sidenavRightService.pushEntity({entity:e})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(dt.f))},n.\u0275cmp=t.Xpm({type:n,selectors:[["","app-side-nav",""]],inputs:{groups:"groups",items:"items",selectedPath:"selectedPath",selectedForum:"selectedForum"},attrs:be,decls:10,vars:4,consts:[[1,"text-center","text-white","mt-4","mb-3","logo-wrapper","position-relative"],["svgSize","lg"],[1,"nav","flex-column"],[4,"ngFor","ngForOf"],[1,"group-title",3,"innerText"],["navItemTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["class","group-title",3,"innerText",4,"ngIf"],["role","button",1,"button-item","d-flex","align-items-center",3,"click"],[1,"description"],[4,"ngIf","ngIfElse"],["descriptionText",""],["genericInfo",""],[1,"selected-forum-name","text-truncate","position-relative",3,"innerHTML"],[1,"change-forum","fst-italic","lh-1"],[3,"innerText"],["routeTemplate",""],["role","button",1,"router-item","d-flex","align-items-center","w-100","collapse-btn",3,"ngClass","click"],[1,"description",3,"innerText"],[1,"collapse-icon","ms-auto","material-icons"],[1,"list-unstyled","collapse-content",3,"ngbCollapse","ngbCollapseChange"],["collapse","ngbCollapse"],["role","button",1,"sub-router-item","d-block",3,"ngClass","routerLink"],["role","button",1,"router-item","d-flex","align-items-center",3,"ngClass","routerLink"]],template:function(e,i){1&e&&(t.TgZ(0,"div",0),t._UZ(1,"app-logo",1),t.qZA(),t.TgZ(2,"nav")(3,"ul",2),t.YNc(4,xe,2,4,"li",3),t.YNc(5,Oe,3,2,"ng-container",3),t._UZ(6,"li",4),t.YNc(7,Re,8,6,"li",3),t.qZA()(),t.YNc(8,Ze,3,2,"ng-template",null,5,t.W1O)),2&e&&(t.xp6(4),t.Q6J("ngForOf",i.items),t.xp6(1),t.Q6J("ngForOf",i.groups),t.xp6(1),t.Q6J("innerText","Sidenav"),t.xp6(1),t.Q6J("ngForOf",i.sidebarItems))},dependencies:[d.mk,d.sg,d.O5,d.tP,St.R,q._D,L.yS],styles:["[_nghost-%COMP%]{width:260px;background-color:#303844;top:0;bottom:0;overflow-y:auto}.logo-wrapper[_ngcontent-%COMP%]{left:-3px}.selected-forum-name[_ngcontent-%COMP%]{top:-3px}li[_ngcontent-%COMP%]{position:relative;max-width:100%}li.group-title[_ngcontent-%COMP%]{padding:.75rem 1.25rem;text-transform:uppercase;font-size:.8rem;letter-spacing:.06em;font-weight:600;color:#8190a1}a[_ngcontent-%COMP%]{transition:color .3s!important;outline:none!important}a.router-item[_ngcontent-%COMP%], a.button-item[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]{color:#8190a1}a[_ngcontent-%COMP%]   .icon[_ngcontent-%COMP%]{width:40px;text-align:left;flex-shrink:0;display:flex}a[_ngcontent-%COMP%]   .description[_ngcontent-%COMP%]{transition:margin .3s;white-space:nowrap;max-width:calc(100% - 45px - .5rem)}a[_ngcontent-%COMP%]   .change-forum[_ngcontent-%COMP%]{font-size:.8em}a[_ngcontent-%COMP%]:not(.sub-router-item){padding:.625rem 1.25rem}a.button-item[_ngcontent-%COMP%]:hover, a.router-item[_ngcontent-%COMP%]:not(.selected):hover, a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover{color:#bbcde3}a.button-item[_ngcontent-%COMP%]:hover   .description[_ngcontent-%COMP%], a.router-item[_ngcontent-%COMP%]:not(.selected):hover   .description[_ngcontent-%COMP%], a.sub-router-item[_ngcontent-%COMP%]:not(.current):hover   .description[_ngcontent-%COMP%]{margin-left:.5rem}a.router-item.selected[_ngcontent-%COMP%]{color:#fff}a.collapse-btn.is-expanded[_ngcontent-%COMP%]:not(.selected){color:#bbcde3}.collapse-content[_ngcontent-%COMP%]{background-color:#262d36;box-shadow:inset 0 -2px .25rem #00000014}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type   a[_ngcontent-%COMP%]{padding-top:.75rem}.collapse-content[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-of-type   a[_ngcontent-%COMP%]{padding-bottom:.75rem}.collapse-content[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{font-size:.8rem;padding:.375rem 1.25rem .375rem 2rem}.collapse-content[_ngcontent-%COMP%]   a.current[_ngcontent-%COMP%]{color:#fff}"]}),n})();function Ye(n,r){if(1&n&&t._UZ(0,"div",2),2&n){const e=t.oxw();t.Q6J("selectedPath",e.selectedPath)("groups",e.navGroups)("items",e.singleItems)}}function Ue(n,r){if(1&n&&t._UZ(0,"div",3),2&n){const e=t.oxw();t.Q6J("selectedPath",e.selectedPath)("selectedForum",e.selectedForum)("groups",e.navGroups)("items",e.singleItems)}}let ze=(()=>{class n{constructor(e,i,o){this.router=e,this.globalsService=i,this.navService=o,this.isSmallScreen=!0,this.selectedPath="",this.navGroups=[],this.singleItems=[]}updatePath(e){this.selectedPath=e.replace(/\?(.*)?/,"")}ngOnInit(){this.updatePath(this.router.url),this.selectedForum=this.globalsService.forum,this.forumSubscription=this.globalsService.forumObservable.subscribe(e=>{this.selectedForum=e}),this.routerSubscription=this.router.events.pipe((0,G.h)(e=>e instanceof L.m2)).subscribe(e=>{this.updatePath(e.urlAfterRedirects)}),this.createNavItems()}ngOnChanges(e){e.isSmallScreen&&!e.isSmallScreen.firstChange&&this.createNavItems()}createNavItems(){let e={},i=[];const o=this.isSmallScreen?"groupBottomnav":"groupSidenav";for(const l of tt.Yu){const u=this.navService.filterItem(l);if(u)if(u[o]){const _=u[o];e.hasOwnProperty(_)?e[_].content.push(u):e[_]={title:_,content:[u],icon:tt.cM[_]?.icon||{type:"",value:""}}}else i.push(u)}this.navGroups=Object.values(e),this.navGroups.sort((l,u)=>tt.fj.indexOf(l.title)-tt.fj.indexOf(u.title)),this.singleItems=[...i]}ngOnDestroy(){this.forumSubscription&&this.forumSubscription.unsubscribe(),this.routerSubscription&&this.routerSubscription.unsubscribe()}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(L.F0),t.Y36(at.d),t.Y36(jt.t))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-main-nav"]],inputs:{isSmallScreen:"isSmallScreen"},features:[t.TTD],decls:3,vars:2,consts:[["class","bottom-nav-wrapper position-fixed","app-bottom-nav","",3,"selectedPath","groups","items",4,"ngIf","ngIfElse"],["largeScreen",""],["app-bottom-nav","",1,"bottom-nav-wrapper","position-fixed",3,"selectedPath","groups","items"],["app-side-nav","",1,"sidenav-left-wrapper","shadow","position-fixed",3,"selectedPath","selectedForum","groups","items"]],template:function(e,i){if(1&e&&(t.YNc(0,Ye,1,3,"div",0),t.YNc(1,Ue,1,4,"ng-template",null,1,t.W1O)),2&e){const o=t.MAs(2);t.Q6J("ngIf",i.isSmallScreen)("ngIfElse",o)}},dependencies:[d.O5,Ce,Le]}),n})();var J=s(563),j=s(1281),Ge=s(4968),Mt=s(4004),yt=s(9718),$=s(2722),Qe=s(1884),Je=s(8372);const ct=["*"],He=["content"];function $e(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o._onBackdropClicked())}),t.qZA()}if(2&n){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function We(n,r){1&n&&(t.TgZ(0,"mat-drawer-content"),t.Hsn(1,2),t.qZA())}const Ve=[[["mat-drawer"]],[["mat-drawer-content"]],"*"],je=["mat-drawer","mat-drawer-content","*"];function Ke(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",2),t.NdJ("click",function(){t.CHM(e);const o=t.oxw();return t.KtG(o._onBackdropClicked())}),t.qZA()}if(2&n){const e=t.oxw();t.ekj("mat-drawer-shown",e._isShowingBackdrop())}}function qe(n,r){1&n&&(t.TgZ(0,"mat-sidenav-content"),t.Hsn(1,2),t.qZA())}const Xe=[[["mat-sidenav"]],[["mat-sidenav-content"]],"*"],tn=["mat-sidenav","mat-sidenav-content","*"],wt={transformDrawer:(0,x.X$)("transform",[(0,x.SB)("open, open-instant",(0,x.oB)({transform:"none",visibility:"visible"})),(0,x.SB)("void",(0,x.oB)({"box-shadow":"none",visibility:"hidden"})),(0,x.eR)("void => open-instant",(0,x.jt)("0ms")),(0,x.eR)("void <=> open, open-instant => void",(0,x.jt)("400ms cubic-bezier(0.25, 0.8, 0.25, 1)"))])},nn=new t.OlP("MAT_DRAWER_DEFAULT_AUTOSIZE",{providedIn:"root",factory:function on(){return!1}}),pt=new t.OlP("MAT_DRAWER_CONTAINER");let lt=(()=>{class n extends J.PQ{constructor(e,i,o,l,u){super(o,l,u),this._changeDetectorRef=e,this._container=i}ngAfterContentInit(){this._container._contentMarginChanges.subscribe(()=>{this._changeDetectorRef.markForCheck()})}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>Tt)),t.Y36(t.SBq),t.Y36(J.mF),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer-content"]],hostAttrs:[1,"mat-drawer-content"],hostVars:4,hostBindings:function(e,i){2&e&&t.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[t._Bn([{provide:J.PQ,useExisting:n}]),t.qOj],ngContentSelectors:ct,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),Ot=(()=>{class n{constructor(e,i,o,l,u,_,Z,Q){this._elementRef=e,this._focusTrapFactory=i,this._focusMonitor=o,this._platform=l,this._ngZone=u,this._interactivityChecker=_,this._doc=Z,this._container=Q,this._elementFocusedBeforeDrawerWasOpened=null,this._enableAnimations=!1,this._position="start",this._mode="over",this._disableClose=!1,this._opened=!1,this._animationStarted=new N.x,this._animationEnd=new N.x,this._animationState="void",this.openedChange=new t.vpe(!0),this._openedStream=this.openedChange.pipe((0,G.h)(T=>T),(0,Mt.U)(()=>{})),this.openedStart=this._animationStarted.pipe((0,G.h)(T=>T.fromState!==T.toState&&0===T.toState.indexOf("open")),(0,yt.h)(void 0)),this._closedStream=this.openedChange.pipe((0,G.h)(T=>!T),(0,Mt.U)(()=>{})),this.closedStart=this._animationStarted.pipe((0,G.h)(T=>T.fromState!==T.toState&&"void"===T.toState),(0,yt.h)(void 0)),this._destroyed=new N.x,this.onPositionChanged=new t.vpe,this._modeChanged=new N.x,this.openedChange.subscribe(T=>{T?(this._doc&&(this._elementFocusedBeforeDrawerWasOpened=this._doc.activeElement),this._takeFocus()):this._isFocusWithinDrawer()&&this._restoreFocus(this._openedVia||"program")}),this._ngZone.runOutsideAngular(()=>{(0,Ge.R)(this._elementRef.nativeElement,"keydown").pipe((0,G.h)(T=>T.keyCode===k.hY&&!this.disableClose&&!(0,k.Vb)(T)),(0,$.R)(this._destroyed)).subscribe(T=>this._ngZone.run(()=>{this.close(),T.stopPropagation(),T.preventDefault()}))}),this._animationEnd.pipe((0,Qe.x)((T,W)=>T.fromState===W.fromState&&T.toState===W.toState)).subscribe(T=>{const{fromState:W,toState:It}=T;(0===It.indexOf("open")&&"void"===W||"void"===It&&0===W.indexOf("open"))&&this.openedChange.emit(this._opened)})}get position(){return this._position}set position(e){(e="end"===e?"end":"start")!==this._position&&(this._isAttached&&this._updatePositionInParent(e),this._position=e,this.onPositionChanged.emit())}get mode(){return this._mode}set mode(e){this._mode=e,this._updateFocusTrapState(),this._modeChanged.next()}get disableClose(){return this._disableClose}set disableClose(e){this._disableClose=(0,j.Ig)(e)}get autoFocus(){return this._autoFocus??("side"===this.mode?"dialog":"first-tabbable")}set autoFocus(e){("true"===e||"false"===e||null==e)&&(e=(0,j.Ig)(e)),this._autoFocus=e}get opened(){return this._opened}set opened(e){this.toggle((0,j.Ig)(e))}_forceFocus(e,i){this._interactivityChecker.isFocusable(e)||(e.tabIndex=-1,this._ngZone.runOutsideAngular(()=>{const o=()=>{e.removeEventListener("blur",o),e.removeEventListener("mousedown",o),e.removeAttribute("tabindex")};e.addEventListener("blur",o),e.addEventListener("mousedown",o)})),e.focus(i)}_focusByCssSelector(e,i){let o=this._elementRef.nativeElement.querySelector(e);o&&this._forceFocus(o,i)}_takeFocus(){if(!this._focusTrap)return;const e=this._elementRef.nativeElement;switch(this.autoFocus){case!1:case"dialog":return;case!0:case"first-tabbable":this._focusTrap.focusInitialElementWhenReady().then(i=>{!i&&"function"==typeof this._elementRef.nativeElement.focus&&e.focus()});break;case"first-heading":this._focusByCssSelector('h1, h2, h3, h4, h5, h6, [role="heading"]');break;default:this._focusByCssSelector(this.autoFocus)}}_restoreFocus(e){"dialog"!==this.autoFocus&&(this._elementFocusedBeforeDrawerWasOpened?this._focusMonitor.focusVia(this._elementFocusedBeforeDrawerWasOpened,e):this._elementRef.nativeElement.blur(),this._elementFocusedBeforeDrawerWasOpened=null)}_isFocusWithinDrawer(){const e=this._doc.activeElement;return!!e&&this._elementRef.nativeElement.contains(e)}ngAfterViewInit(){this._isAttached=!0,this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement),this._updateFocusTrapState(),"end"===this._position&&this._updatePositionInParent("end")}ngAfterContentChecked(){this._platform.isBrowser&&(this._enableAnimations=!0)}ngOnDestroy(){this._focusTrap&&this._focusTrap.destroy(),this._anchor?.remove(),this._anchor=null,this._animationStarted.complete(),this._animationEnd.complete(),this._modeChanged.complete(),this._destroyed.next(),this._destroyed.complete()}open(e){return this.toggle(!0,e)}close(){return this.toggle(!1)}_closeViaBackdropClick(){return this._setOpen(!1,!0,"mouse")}toggle(e=!this.opened,i){e&&i&&(this._openedVia=i);const o=this._setOpen(e,!e&&this._isFocusWithinDrawer(),this._openedVia||"program");return e||(this._openedVia=null),o}_setOpen(e,i,o){return this._opened=e,e?this._animationState=this._enableAnimations?"open":"open-instant":(this._animationState="void",i&&this._restoreFocus(o)),this._updateFocusTrapState(),new Promise(l=>{this.openedChange.pipe((0,rt.q)(1)).subscribe(u=>l(u?"open":"close"))})}_getWidth(){return this._elementRef.nativeElement&&this._elementRef.nativeElement.offsetWidth||0}_updateFocusTrapState(){this._focusTrap&&(this._focusTrap.enabled=this.opened&&"side"!==this.mode)}_updatePositionInParent(e){const i=this._elementRef.nativeElement,o=i.parentNode;"end"===e?(this._anchor||(this._anchor=this._doc.createComment("mat-drawer-anchor"),o.insertBefore(this._anchor,i)),o.appendChild(i)):this._anchor&&this._anchor.parentNode.insertBefore(i,this._anchor)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.SBq),t.Y36(M.qV),t.Y36(M.tE),t.Y36(U.t4),t.Y36(t.R0b),t.Y36(M.ic),t.Y36(d.K0,8),t.Y36(pt,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer"]],viewQuery:function(e,i){if(1&e&&t.Gf(He,5),2&e){let o;t.iGM(o=t.CRH())&&(i._content=o.first)}},hostAttrs:["tabIndex","-1",1,"mat-drawer"],hostVars:12,hostBindings:function(e,i){1&e&&t.WFA("@transform.start",function(l){return i._animationStarted.next(l)})("@transform.done",function(l){return i._animationEnd.next(l)}),2&e&&(t.uIk("align",null),t.d8E("@transform",i._animationState),t.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened))},inputs:{position:"position",mode:"mode",disableClose:"disableClose",autoFocus:"autoFocus",opened:"opened"},outputs:{openedChange:"openedChange",_openedStream:"opened",openedStart:"openedStart",_closedStream:"closed",closedStart:"closedStart",onPositionChanged:"positionChanged"},exportAs:["matDrawer"],ngContentSelectors:ct,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},dependencies:[J.PQ],encapsulation:2,data:{animation:[wt.transformDrawer]},changeDetection:0}),n})(),Tt=(()=>{class n{constructor(e,i,o,l,u,_=!1,Z){this._dir=e,this._element=i,this._ngZone=o,this._changeDetectorRef=l,this._animationMode=Z,this._drawers=new t.n_E,this.backdropClick=new t.vpe,this._destroyed=new N.x,this._doCheckSubject=new N.x,this._contentMargins={left:null,right:null},this._contentMarginChanges=new N.x,e&&e.change.pipe((0,$.R)(this._destroyed)).subscribe(()=>{this._validateDrawers(),this.updateContentMargins()}),u.change().pipe((0,$.R)(this._destroyed)).subscribe(()=>this.updateContentMargins()),this._autosize=_}get start(){return this._start}get end(){return this._end}get autosize(){return this._autosize}set autosize(e){this._autosize=(0,j.Ig)(e)}get hasBackdrop(){return this._backdropOverride??(!this._start||"side"!==this._start.mode||!this._end||"side"!==this._end.mode)}set hasBackdrop(e){this._backdropOverride=null==e?null:(0,j.Ig)(e)}get scrollable(){return this._userContent||this._content}ngAfterContentInit(){this._allDrawers.changes.pipe((0,H.O)(this._allDrawers),(0,$.R)(this._destroyed)).subscribe(e=>{this._drawers.reset(e.filter(i=>!i._container||i._container===this)),this._drawers.notifyOnChanges()}),this._drawers.changes.pipe((0,H.O)(null)).subscribe(()=>{this._validateDrawers(),this._drawers.forEach(e=>{this._watchDrawerToggle(e),this._watchDrawerPosition(e),this._watchDrawerMode(e)}),(!this._drawers.length||this._isDrawerOpen(this._start)||this._isDrawerOpen(this._end))&&this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),this._ngZone.runOutsideAngular(()=>{this._doCheckSubject.pipe((0,Je.b)(10),(0,$.R)(this._destroyed)).subscribe(()=>this.updateContentMargins())})}ngOnDestroy(){this._contentMarginChanges.complete(),this._doCheckSubject.complete(),this._drawers.destroy(),this._destroyed.next(),this._destroyed.complete()}open(){this._drawers.forEach(e=>e.open())}close(){this._drawers.forEach(e=>e.close())}updateContentMargins(){let e=0,i=0;if(this._left&&this._left.opened)if("side"==this._left.mode)e+=this._left._getWidth();else if("push"==this._left.mode){const o=this._left._getWidth();e+=o,i-=o}if(this._right&&this._right.opened)if("side"==this._right.mode)i+=this._right._getWidth();else if("push"==this._right.mode){const o=this._right._getWidth();i+=o,e-=o}e=e||null,i=i||null,(e!==this._contentMargins.left||i!==this._contentMargins.right)&&(this._contentMargins={left:e,right:i},this._ngZone.run(()=>this._contentMarginChanges.next(this._contentMargins)))}ngDoCheck(){this._autosize&&this._isPushed()&&this._ngZone.runOutsideAngular(()=>this._doCheckSubject.next())}_watchDrawerToggle(e){e._animationStarted.pipe((0,G.h)(i=>i.fromState!==i.toState),(0,$.R)(this._drawers.changes)).subscribe(i=>{"open-instant"!==i.toState&&"NoopAnimations"!==this._animationMode&&this._element.nativeElement.classList.add("mat-drawer-transition"),this.updateContentMargins(),this._changeDetectorRef.markForCheck()}),"side"!==e.mode&&e.openedChange.pipe((0,$.R)(this._drawers.changes)).subscribe(()=>this._setContainerClass(e.opened))}_watchDrawerPosition(e){!e||e.onPositionChanged.pipe((0,$.R)(this._drawers.changes)).subscribe(()=>{this._ngZone.onMicrotaskEmpty.pipe((0,rt.q)(1)).subscribe(()=>{this._validateDrawers()})})}_watchDrawerMode(e){e&&e._modeChanged.pipe((0,$.R)((0,z.T)(this._drawers.changes,this._destroyed))).subscribe(()=>{this.updateContentMargins(),this._changeDetectorRef.markForCheck()})}_setContainerClass(e){const i=this._element.nativeElement.classList,o="mat-drawer-container-has-open";e?i.add(o):i.remove(o)}_validateDrawers(){this._start=this._end=null,this._drawers.forEach(e=>{"end"==e.position?this._end=e:this._start=e}),this._right=this._left=null,this._dir&&"rtl"===this._dir.value?(this._left=this._end,this._right=this._start):(this._left=this._start,this._right=this._end)}_isPushed(){return this._isDrawerOpen(this._start)&&"over"!=this._start.mode||this._isDrawerOpen(this._end)&&"over"!=this._end.mode}_onBackdropClicked(){this.backdropClick.emit(),this._closeModalDrawersViaBackdrop()}_closeModalDrawersViaBackdrop(){[this._start,this._end].filter(e=>e&&!e.disableClose&&this._canHaveBackdrop(e)).forEach(e=>e._closeViaBackdropClick())}_isShowingBackdrop(){return this._isDrawerOpen(this._start)&&this._canHaveBackdrop(this._start)||this._isDrawerOpen(this._end)&&this._canHaveBackdrop(this._end)}_canHaveBackdrop(e){return"side"!==e.mode||!!this._backdropOverride}_isDrawerOpen(e){return null!=e&&e.opened}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(P.Is,8),t.Y36(t.SBq),t.Y36(t.R0b),t.Y36(t.sBO),t.Y36(J.rL),t.Y36(nn),t.Y36(t.QbO,8))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-drawer-container"]],contentQueries:function(e,i,o){if(1&e&&(t.Suo(o,lt,5),t.Suo(o,Ot,5)),2&e){let l;t.iGM(l=t.CRH())&&(i._content=l.first),t.iGM(l=t.CRH())&&(i._allDrawers=l)}},viewQuery:function(e,i){if(1&e&&t.Gf(lt,5),2&e){let o;t.iGM(o=t.CRH())&&(i._userContent=o.first)}},hostAttrs:[1,"mat-drawer-container"],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},inputs:{autosize:"autosize",hasBackdrop:"hasBackdrop"},outputs:{backdropClick:"backdropClick"},exportAs:["matDrawerContainer"],features:[t._Bn([{provide:pt,useExisting:n}])],ngContentSelectors:je,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(t.F$t(Ve),t.YNc(0,$e,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,We,2,0,"mat-drawer-content",1)),2&e&&(t.Q6J("ngIf",i.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!i._content))},dependencies:[d.O5,lt],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),ht=(()=>{class n extends lt{constructor(e,i,o,l,u){super(e,i,o,l,u)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(t.sBO),t.Y36((0,t.Gpc)(()=>Dt)),t.Y36(t.SBq),t.Y36(J.mF),t.Y36(t.R0b))},n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-sidenav-content"]],hostAttrs:[1,"mat-drawer-content","mat-sidenav-content"],hostVars:4,hostBindings:function(e,i){2&e&&t.Udp("margin-left",i._container._contentMargins.left,"px")("margin-right",i._container._contentMargins.right,"px")},features:[t._Bn([{provide:J.PQ,useExisting:n}]),t.qOj],ngContentSelectors:ct,decls:1,vars:0,template:function(e,i){1&e&&(t.F$t(),t.Hsn(0))},encapsulation:2,changeDetection:0}),n})(),At=(()=>{class n extends Ot{constructor(){super(...arguments),this._fixedInViewport=!1,this._fixedTopGap=0,this._fixedBottomGap=0}get fixedInViewport(){return this._fixedInViewport}set fixedInViewport(e){this._fixedInViewport=(0,j.Ig)(e)}get fixedTopGap(){return this._fixedTopGap}set fixedTopGap(e){this._fixedTopGap=(0,j.su)(e)}get fixedBottomGap(){return this._fixedBottomGap}set fixedBottomGap(e){this._fixedBottomGap=(0,j.su)(e)}}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-sidenav"]],hostAttrs:["tabIndex","-1",1,"mat-drawer","mat-sidenav"],hostVars:17,hostBindings:function(e,i){2&e&&(t.uIk("align",null),t.Udp("top",i.fixedInViewport?i.fixedTopGap:null,"px")("bottom",i.fixedInViewport?i.fixedBottomGap:null,"px"),t.ekj("mat-drawer-end","end"===i.position)("mat-drawer-over","over"===i.mode)("mat-drawer-push","push"===i.mode)("mat-drawer-side","side"===i.mode)("mat-drawer-opened",i.opened)("mat-sidenav-fixed",i.fixedInViewport))},inputs:{fixedInViewport:"fixedInViewport",fixedTopGap:"fixedTopGap",fixedBottomGap:"fixedBottomGap"},exportAs:["matSidenav"],features:[t.qOj],ngContentSelectors:ct,decls:3,vars:0,consts:[["cdkScrollable","",1,"mat-drawer-inner-container"],["content",""]],template:function(e,i){1&e&&(t.F$t(),t.TgZ(0,"div",0,1),t.Hsn(2),t.qZA())},dependencies:[J.PQ],encapsulation:2,data:{animation:[wt.transformDrawer]},changeDetection:0}),n})(),Dt=(()=>{class n extends Tt{}return n.\u0275fac=function(){let r;return function(i){return(r||(r=t.n5z(n)))(i||n)}}(),n.\u0275cmp=t.Xpm({type:n,selectors:[["mat-sidenav-container"]],contentQueries:function(e,i,o){if(1&e&&(t.Suo(o,ht,5),t.Suo(o,At,5)),2&e){let l;t.iGM(l=t.CRH())&&(i._content=l.first),t.iGM(l=t.CRH())&&(i._allDrawers=l)}},hostAttrs:[1,"mat-drawer-container","mat-sidenav-container"],hostVars:2,hostBindings:function(e,i){2&e&&t.ekj("mat-drawer-container-explicit-backdrop",i._backdropOverride)},exportAs:["matSidenavContainer"],features:[t._Bn([{provide:pt,useExisting:n}]),t.qOj],ngContentSelectors:tn,decls:4,vars:2,consts:[["class","mat-drawer-backdrop",3,"mat-drawer-shown","click",4,"ngIf"],[4,"ngIf"],[1,"mat-drawer-backdrop",3,"click"]],template:function(e,i){1&e&&(t.F$t(Xe),t.YNc(0,Ke,1,2,"div",0),t.Hsn(1),t.Hsn(2,1),t.YNc(3,qe,2,0,"mat-sidenav-content",1)),2&e&&(t.Q6J("ngIf",i.hasBackdrop),t.xp6(3),t.Q6J("ngIf",!i._content))},dependencies:[d.O5,ht],styles:['.mat-drawer-container{position:relative;z-index:1;box-sizing:border-box;-webkit-overflow-scrolling:touch;display:block;overflow:hidden}.mat-drawer-container[fullscreen]{top:0;left:0;right:0;bottom:0;position:absolute}.mat-drawer-container[fullscreen].mat-drawer-container-has-open{overflow:hidden}.mat-drawer-container.mat-drawer-container-explicit-backdrop .mat-drawer-side{z-index:3}.mat-drawer-container.ng-animate-disabled .mat-drawer-backdrop,.mat-drawer-container.ng-animate-disabled .mat-drawer-content,.ng-animate-disabled .mat-drawer-container .mat-drawer-backdrop,.ng-animate-disabled .mat-drawer-container .mat-drawer-content{transition:none}.mat-drawer-backdrop{top:0;left:0;right:0;bottom:0;position:absolute;display:block;z-index:3;visibility:hidden}.mat-drawer-backdrop.mat-drawer-shown{visibility:visible}.mat-drawer-transition .mat-drawer-backdrop{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:background-color,visibility}.cdk-high-contrast-active .mat-drawer-backdrop{opacity:.5}.mat-drawer-content{position:relative;z-index:1;display:block;height:100%;overflow:auto}.mat-drawer-transition .mat-drawer-content{transition-duration:400ms;transition-timing-function:cubic-bezier(0.25, 0.8, 0.25, 1);transition-property:transform,margin-left,margin-right}.mat-drawer{position:relative;z-index:4;display:block;position:absolute;top:0;bottom:0;z-index:3;outline:0;box-sizing:border-box;overflow-y:auto;transform:translate3d(-100%, 0, 0)}.cdk-high-contrast-active .mat-drawer,.cdk-high-contrast-active [dir=rtl] .mat-drawer.mat-drawer-end{border-right:solid 1px currentColor}.cdk-high-contrast-active [dir=rtl] .mat-drawer,.cdk-high-contrast-active .mat-drawer.mat-drawer-end{border-left:solid 1px currentColor;border-right:none}.mat-drawer.mat-drawer-side{z-index:2}.mat-drawer.mat-drawer-end{right:0;transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer{transform:translate3d(100%, 0, 0)}[dir=rtl] .mat-drawer.mat-drawer-end{left:0;right:auto;transform:translate3d(-100%, 0, 0)}.mat-drawer[style*="visibility: hidden"]{display:none}.mat-drawer-inner-container{width:100%;height:100%;overflow:auto;-webkit-overflow-scrolling:touch}.mat-sidenav-fixed{position:fixed}'],encapsulation:2,changeDetection:0}),n})(),rn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,A.BQ,J.ZD,J.ZD,A.BQ]}),n})();var sn=s(1460),Ft=s(9985),Rt=s(2931);function an(n,r){if(1&n&&(t.TgZ(0,"div",4)(1,"div",5)(2,"div",6),t._UZ(3,"div",7),t.TgZ(4,"div",8)(5,"span",9),t._uU(6),t.ALo(7,"titlecase"),t.qZA(),t.TgZ(8,"span",10),t._uU(9),t.ALo(10,"uppercase"),t.qZA()()(),t.TgZ(11,"div",11),t._UZ(12,"img",12),t.ALo(13,"uploadsreplace"),t.qZA()(),t.TgZ(14,"div",13)(15,"a",14)(16,"div",15),t._uU(17,"logout"),t.qZA(),t.TgZ(18,"div"),t._uU(19,"Logout"),t.qZA()()()()),2&n){const e=t.oxw();t.xp6(1),t.Gre("d-flex flex-row align-items-center user user-",e.profile.site.short," cursor-pointer"),t.xp6(2),t.Q6J("innerHTML",e.profile.user.nickname,t.oJD),t.xp6(3),t.Oqu(t.lcZ(7,9,e.profile.site.name)),t.xp6(3),t.Oqu(t.lcZ(10,11,e.profile.site.short)),t.xp6(3),t.s9C("src",t.lcZ(13,13,e.profile.user.avatar),t.LSH),t.MGl("alt","",e.profile.user.nickname,"'s avatar"),t.Q6J("nameDynamicReplace",e.profile.user.nickname)}}let cn=(()=>{class n{constructor(e){this.globalService=e,this.appName=sn.lW}ngOnInit(){this.profile=this.globalService.credentials}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(at.d))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-navbar"]],decls:5,vars:1,consts:[[1,"navbar","bg-white","px-2"],[1,"container-fluid"],[1,"small-logo","mb-0"],["class","ms-auto dropdown-no-caret","ngbDropdown","","display","dynamic","placement","bottom-end",4,"ngIf"],["ngbDropdown","","display","dynamic","placement","bottom-end",1,"ms-auto","dropdown-no-caret"],["ngbDropdownToggle",""],[1,"text-end"],[1,"nickname","text-truncate","lh-1","mb-1",3,"innerHTML"],[1,"fst-italic","fs-xs","lh-1"],[1,"d-none","d-md-inline"],[1,"d-md-none"],[1,"avatar","ms-2","rounded-circle"],["appImage","",1,"image-cover","rounded-circle",3,"src","alt","nameDynamicReplace"],["ngbDropdownMenu",""],["role","button","routerLink","/login",1,"dropdown-item","d-flex","flex-row","align-items-center"],[1,"material-icons-outlined","d-block","me-1"]],template:function(e,i){1&e&&(t.TgZ(0,"nav",0)(1,"div",1)(2,"div",2),t._UZ(3,"app-logo"),t.qZA(),t.YNc(4,an,20,15,"div",3),t.qZA()()),2&e&&(t.xp6(4),t.Q6J("ngIf",i.profile))},dependencies:[d.O5,Ft.t,St.R,q.jt,q.iD,q.Vi,q.M2,L.yS,d.gd,d.rS,Rt.g],styles:[".navbar[_ngcontent-%COMP%]{height:64px;border-bottom:1px solid #dee2e6;box-shadow:0 .125rem .25rem #00000013}h1[_ngcontent-%COMP%]{color:#4864fe}.user[_ngcontent-%COMP%]{color:inherit}.user[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{width:50px;height:50px;border:2px solid}.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:100px}.user.user-ff[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#58a72e}.user.user-fc[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#0082cd}.user.user-bf[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border-color:#e67f22}@media (min-width: 576px){.user[_ngcontent-%COMP%]   .nickname[_ngcontent-%COMP%]{max-width:200px}}@media (min-width: 960px){.navbar[_ngcontent-%COMP%]{margin-left:260px;position:fixed;top:0;left:0;right:0;z-index:999;border-bottom:0;box-shadow:0 .5rem 1rem #00000026}.small-logo[_ngcontent-%COMP%]{display:none}}"]}),n})();function ln(n,r){if(1&n){const e=t.EpF();t.TgZ(0,"div",11),t.NdJ("click",function(){t.CHM(e),t.oxw();const o=t.MAs(8);return t.KtG(o.close())}),t._uU(1,"close"),t.qZA()}}function dn(n,r){}const Pt=function(n){return{active:n}};let mn=(()=>{class n{constructor(e,i,o,l,u,_,Z,Q){this.loadComponentService=e,this.breakpointObserver=i,this.renderer=o,this.activatedRoute=l,this.globalsService=u,this.router=_,this.sidenavRightService=Z,this.changeDetectorRef=Q,this.sidenavRightCurrentContent="",this.sidenavRightComponents=$t.R,this.sidenavRightOpened=!1,this.isHome=!1,this.lessThanMediumScreenSize=this.breakpointObserver.isMatched([R.u3.XSmall,R.u3.Small]),this.routerSubscription=this.router.events.pipe((0,G.h)(T=>T instanceof L.m2)).subscribe(T=>{this.isHome=T.urlAfterRedirects.startsWith(vt.B2.HOME)})}ngOnInit(){const e=this.activatedRoute.snapshot.data.forum;e&&(this.globalsService.forum=e),this.breakpointSubscription=this.breakpointObserver.observe([R.u3.XSmall,R.u3.Small]).subscribe(i=>{this.lessThanMediumScreenSize=i.matches}),this.sidenavRightSubscription=this.sidenavRightService.observable.subscribe(i=>{i?this.showSidenavRightComponent(i):this.sidenavRightOpened&&(this.sidenavRightOpened=!1)})}freeSidenavRightContent(){this.sidenavRightDirective.viewContainerRef.clear(),this.sidenavRightCurrentContent=""}showSidenavRightComponent(e){this.sidenavRightCurrentContent!==e.entity.name&&(this.loadComponentService.show(this.sidenavRightDirective.viewContainerRef,e.entity.component,!0),this.sidenavRightOpened||(this.sidenavRightOpened=!0),this.sidenavRightCurrentContent=e.entity.name,e.detectChanges&&this.changeDetectorRef.detectChanges())}sidenavOpening(){this.renderer.addClass(document.body,"sidenav-opened")}sidenavClosing(){this.renderer.removeClass(document.body,"sidenav-opened")}ngOnDestroy(){this.breakpointSubscription&&this.breakpointSubscription.unsubscribe(),this.routerSubscription?.unsubscribe(),this.sidenavRightSubscription?.unsubscribe(),this.sidenavRightService.pushEntity(void 0)}}return n.\u0275fac=function(e){return new(e||n)(t.Y36(Wt),t.Y36(R.Yg),t.Y36(t.Qsj),t.Y36(L.gz),t.Y36(at.d),t.Y36(L.F0),t.Y36(dt.f),t.Y36(t.sBO))},n.\u0275cmp=t.Xpm({type:n,selectors:[["app-root"]],viewQuery:function(e,i){if(1&e&&t.Gf(Ct,7),2&e){let o;t.iGM(o=t.CRH())&&(i.sidenavRightDirective=o.first)}},decls:15,vars:15,consts:[["autosize","",1,"main-sidenav-container",3,"hasBackdrop"],[1,"d-flex","flex-column"],[3,"isSmallScreen"],[1,"d-block",3,"blueBackground"],["position","end","mode","over",1,"sidenav-right","mw-100",3,"opened","autoFocus","fixedInViewport","closed","closedStart","openedStart","openedChange"],["sidenavRight",""],[1,"sidenav-right-content","d-flex","flex-column","position-relative"],["class","close-sidenav material-icons d-block text-muted position-absolute cursor-pointer",3,"click",4,"ngIf"],["appSidenavRight",""],[1,"btn-group","d-flex","flex-row","mt-auto","mb-3","px-3"],[1,"btn","btn-outline-primary","shadow-none","flex-grow-1",3,"ngClass","innerText","click"],[1,"close-sidenav","material-icons","d-block","text-muted","position-absolute","cursor-pointer",3,"click"]],template:function(e,i){1&e&&(t.TgZ(0,"mat-sidenav-container",0)(1,"mat-sidenav-content",1),t._UZ(2,"app-navbar")(3,"app-main-nav",2),t.TgZ(4,"main"),t._UZ(5,"router-outlet"),t.qZA(),t._UZ(6,"app-footer",3),t.qZA(),t.TgZ(7,"mat-sidenav",4,5),t.NdJ("closed",function(){return i.freeSidenavRightContent()})("closedStart",function(){return i.sidenavClosing()})("openedStart",function(){return i.sidenavOpening()})("openedChange",function(l){return i.sidenavRightOpened=l}),t.TgZ(9,"div",6),t.YNc(10,ln,2,0,"div",7),t.YNc(11,dn,0,0,"ng-template",8),t.TgZ(12,"div",9)(13,"button",10),t.NdJ("click",function(){return i.showSidenavRightComponent({entity:i.sidenavRightComponents.forumList})}),t.qZA(),t.TgZ(14,"button",10),t.NdJ("click",function(){return i.showSidenavRightComponent({entity:i.sidenavRightComponents.scriptsAdmin})}),t.qZA()()()()()),2&e&&(t.Q6J("hasBackdrop",!0),t.xp6(3),t.Q6J("isSmallScreen",i.lessThanMediumScreenSize),t.xp6(3),t.Q6J("blueBackground",i.isHome),t.xp6(1),t.Q6J("opened",i.sidenavRightOpened)("autoFocus",!1)("fixedInViewport",!0),t.xp6(3),t.Q6J("ngIf",i.lessThanMediumScreenSize),t.xp6(3),t.Q6J("ngClass",t.VKq(11,Pt,i.sidenavRightCurrentContent===i.sidenavRightComponents.forumList.name))("innerText","Lista forum"),t.xp6(1),t.Q6J("ngClass",t.VKq(13,Pt,i.sidenavRightCurrentContent===i.sidenavRightComponents.scriptsAdmin.name))("innerText","Lista admin"))},dependencies:[d.mk,d.O5,Vt.c,ze,L.lC,At,Dt,ht,cn,Ct],styles:["mat-sidenav-content[_ngcontent-%COMP%]{min-height:100vh}.mat-drawer-container[_ngcontent-%COMP%]{background-color:transparent}.sidenav-right[_ngcontent-%COMP%]{width:500px}.sidenav-right[_ngcontent-%COMP%]   .sidenav-right-content[_ngcontent-%COMP%]{min-height:100%}.close-sidenav[_ngcontent-%COMP%]{right:.75rem;top:.825rem}main[_ngcontent-%COMP%]{position:relative;padding:1rem 0}app-footer[_ngcontent-%COMP%]{margin-bottom:53px}@media (min-width: 768px){main[_ngcontent-%COMP%]{padding:1rem}}@media (min-width: 960px){main[_ngcontent-%COMP%]{padding:1.5rem;margin-left:260px;margin-top:64px}app-footer[_ngcontent-%COMP%]{margin-left:260px;margin-bottom:0}}"]}),n})();var it=s(5655);const un=[{path:"",component:mn,resolve:{forum:Ht},children:[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",loadChildren:()=>s.e(478).then(s.bind(s,478)).then(n=>n.HomeModule),data:{title:"Home"}},{path:"settings",loadChildren:()=>Promise.all([s.e(891),s.e(53)]).then(s.bind(s,5053)).then(n=>n.SettingsModule),data:{title:"Settings"}},{path:"script",loadChildren:()=>s.e(750).then(s.bind(s,1750)).then(n=>n.ScriptModule),data:{title:"Script"}},{path:"upload",loadChildren:()=>Promise.all([s.e(592),s.e(735)]).then(s.bind(s,6735)).then(n=>n.UploadModule),data:{title:"Upload",permissionRequired:[X.c.ADMIN,X.c.SUPERUSER,X.c.TESTER]},canActivate:[it.n],canActivateChild:[it.n]},{path:"grafana",loadChildren:()=>Promise.all([s.e(891),s.e(871)]).then(s.bind(s,871)).then(n=>n.GrafanaModule),data:{title:"Grafana",permissionRequired:[X.c.ADMIN,X.c.SUPERUSER]},canActivate:[it.n],canActivateChild:[it.n]},{path:"admin-panel",loadChildren:()=>Promise.all([s.e(993),s.e(934),s.e(592),s.e(120)]).then(s.bind(s,120)).then(n=>n.AdminPanelModule),data:{title:"Amministrazione",permissionRequired:[X.c.ADMIN]},canActivate:[it.n],canActivateChild:[it.n]}]}];let pn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[L.Bz.forChild(un),L.Bz]}),n})();var Et=s(1599);let hn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,w.$,c.h,q.XC,L.Bz,Et.g]}),n})();var gn=s(9207),fn=s(5254),_n=s(9832),vn=s(4029),Cn=s(5174);let bn=(()=>{class n{}return n.\u0275fac=function(e){return new(e||n)},n.\u0275mod=t.oAB({type:n}),n.\u0275inj=t.cJS({imports:[d.ez,p._,D.u5,a.z,w.$,b.q,c.h,zt,pn,rn,hn,fn.G,Et.g]}),n})();t.B6R(gn.t,[d.mk,d.sg,d.O5,_n.P,Ft.t,vn.R,Cn.$],[Rt.g])},7075:(Y,F,s)=>{s.d(F,{Y:()=>d});var d=(()=>{return(p=d||(d={})).ScriptsAdmin="scriptsAdmin",p.ForumList="forumList",d;var p})()},6834:(Y,F,s)=>{s.d(F,{f:()=>O,R:()=>h});var d=s(5861),p=s(1309),D=s(608),a=s(4650),w=s(3138),b=s(8367),c=s(9209),M=s(5681),E=s(9358),U=s(6895),B=s(433),t=s(9985),k=s(4029),N=s(2931);function g(m,y){1&m&&(a.ynx(0),a._uU(1," \xc8 possibile passare velocemente da un sito a un altro semplicemente cliccando sul nome del forum/blog desiderato: l'app verr\xe0 automaticamente aggiornata con le nuove informazioni e si potr\xe0 iniziare subito ad amministrare! "),a.BQk())}function v(m,y){1&m&&a._uU(0," Uno sviluppatore pu\xf2 inserire direttamente il dominio completo del forum/blog nell'apposito campo sotto la lista per gestire i propri script installati su tale sito, in modo da agevolare la risoluzione di richieste di supporto. ")}function P(m,y){if(1&m&&a._UZ(0,"app-loader",7),2&m){const f=a.oxw();a.Q6J("message",f.loadingMessage)}}const H=function(m){return{selected:m}};function ot(m,y){if(1&m){const f=a.EpF();a.TgZ(0,"li",13),a.NdJ("click",function(A){const x=a.CHM(f).$implicit,z=a.oxw(3);return a.KtG(z.selectForum(x,A))}),a.TgZ(1,"div",14),a._UZ(2,"img",15),a.ALo(3,"uploadsreplace"),a.qZA(),a.TgZ(4,"div",16),a._UZ(5,"div",17)(6,"div",18),a.qZA()()}if(2&m){const f=y.$implicit,C=a.oxw(3);a.Q6J("ngClass",a.VKq(8,H,C.selectedForum===f.id)),a.xp6(2),a.s9C("src",a.lcZ(3,6,f.preview),a.LSH),a.s9C("alt",f.name),a.Q6J("srcReplacer",C.defaultImage),a.xp6(3),a.Q6J("innerHTML",f.name,a.oJD),a.xp6(1),a.Q6J("innerText",f.fulldomain)}}function V(m,y){if(1&m&&(a.TgZ(0,"ul",11),a.YNc(1,ot,7,10,"li",12),a.qZA()),2&m){const f=a.oxw(2);a.xp6(1),a.Q6J("ngForOf",f.forums)}}function st(m,y){1&m&&(a.TgZ(0,"div",19),a._uU(1,"Non possiedi l'amministrazione di alcun forum!"),a.qZA())}function et(m,y){if(1&m){const f=a.EpF();a.TgZ(0,"div",20)(1,"input",21,22),a.NdJ("ngModelChange",function(A){a.CHM(f);const R=a.oxw(2);return a.KtG(R.forumInputValue=A)})("keyup.enter",function(){a.CHM(f);const A=a.MAs(2),R=a.oxw(2);return A.blur(),a.KtG(R.addForumFromDomain(A.value))}),a.qZA(),a.TgZ(3,"button",23),a.NdJ("click",function(){a.CHM(f);const A=a.MAs(2),R=a.oxw(2);return a.KtG(R.addForumFromDomain(A.value))}),a.TgZ(4,"span",24),a._uU(5,"done"),a.qZA()()()}if(2&m){const f=a.oxw(2);a.xp6(1),a.Q6J("ngModel",f.forumInputValue)}}function K(m,y){if(1&m&&(a.YNc(0,V,2,1,"ul",8),a.YNc(1,st,2,0,"ng-template",null,9,a.W1O),a.YNc(3,et,6,1,"div",10)),2&m){const f=a.MAs(2),C=a.oxw();a.Q6J("ngIf",C.forums.length)("ngIfElse",f),a.xp6(3),a.Q6J("ngIf",C.isDev)}}let nt=(()=>{class m{constructor(f,C,A,R,x){this.globalsService=f,this.toastService=C,this.forumService=A,this.profileService=R,this.sidenavRightService=x,this.toastMessage="Il dominio non \xe8 valido! Inserisci solo l'url del sito.",this.forums=[],this.loading=!0,this.loadingMessage="Inizializzazione",this.defaultImage="/assets/default_forum.jpg",this.forumInputValue="";const z=this.globalsService.credentials;if(!z)throw new Error("Missing credentials!");this.credentials=z,this.domain=this.credentials.site.domain,this.selectedForum=this.globalsService.forum?.id||0,this.isDev=this.profileService.hasAtLeastOnePermission([D.c.SCRIPT_DEV])}ngOnInit(){var f=this;return(0,d.Z)(function*(){f.forums=(yield f.forumService.getMyForumList()).map(A=>f.forumService.createForumObject(A,f.domain,!0));const C=f.globalsService.forum;C&&-1===f.forums.findIndex(A=>A.id===C.id)&&f.forums.push(C),f.loading=!1})()}selectForum(f,C=null){this.selectedForum!==f.id&&(null===C||"A"!==C.target.nodeName)&&(this.sidenavRightService.closeOnAction&&(this.sidenavRightService.closeOnAction=!1,this.sidenavRightService.close()),this.globalsService.forum=f,this.selectedForum=f.id)}addForumFromDomain(f){var C=this;return(0,d.Z)(function*(){if(0===f.length)return;const A=C.forumService.parseUrl(f.replace(/\/$/,""));if(!A)return void C.toastService.show({content:C.toastMessage,level:p.m.ERROR});const R=`${A.subdomain}.${A.domain}`;let x=C.forums.find(z=>z.fulldomain===R);if(x)C.selectForum(x);else{C.loading=!0;const z=yield C.forumService.getForumDetailsFromDomain(R);z&&(x=C.forumService.createForumObject(z,A.domain,!1),C.forums.push(x),C.selectForum(x)),C.loading=!1}C.forumInputValue=""})()}}return m.\u0275fac=function(f){return new(f||m)(a.Y36(w.d),a.Y36(b.k),a.Y36(c._),a.Y36(M.H),a.Y36(E.f))},m.\u0275cmp=a.Xpm({type:m,selectors:[["app-my-forum-list"]],decls:12,vars:4,consts:[[1,"content","bg-white","pb-4"],[1,"title","fs-5","text-primary","fw-bold","mb-3","px-3"],[1,"description","px-3","mb-3","text-justify"],[4,"ngIf","ngIfElse"],["devDescription",""],[3,"message",4,"ngIf","ngIfElse"],["forumList",""],[3,"message"],["class","list-unstyled forum-list mb-0",4,"ngIf","ngIfElse"],["noForum",""],["class","input-group mt-3 px-3",4,"ngIf"],[1,"list-unstyled","forum-list","mb-0"],["class","d-flex flex-row align-items-center cursor-pointer px-3 px-sm-4",3,"ngClass","click",4,"ngFor","ngForOf"],[1,"d-flex","flex-row","align-items-center","cursor-pointer","px-3","px-sm-4",3,"ngClass","click"],[1,"preview","rounded-circle","me-3","me-sm-4","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt","srcReplacer"],[1,"info","flex-grow-1","py-3","d-flex","flex-column","align-items-start"],[1,"name","fw-bold","text-truncate","mw-100",3,"innerHTML"],[1,"text-muted","text-truncate","mw-100",3,"innerText"],[1,"alert","alert-primary","mx-3","text-center"],[1,"input-group","mt-3","px-3"],["type","text","placeholder","Link del forum...",1,"form-control",3,"ngModel","ngModelChange","keyup.enter"],["input",""],[1,"input-group-text",3,"click"],[1,"material-icons-outlined"]],template:function(f,C){if(1&f&&(a.TgZ(0,"div",0)(1,"div",1),a._uU(2,"Forum da amministrare"),a.qZA(),a.TgZ(3,"div",2),a._uU(4,"Prima di poter installare uno script per forum oppure aggiungere o rimuovere un admin degli script, \xe8 essenziale selezionare il sito su cui operare. Di seguito \xe8 presente l'elenco dei forum/blog di cui si \xe8 amministratori, quello attualmente selezionato \xe8 evidenziato."),a._UZ(5,"br"),a.YNc(6,g,2,0,"ng-container",3),a.YNc(7,v,1,0,"ng-template",null,4,a.W1O),a.qZA(),a.YNc(9,P,1,1,"app-loader",5),a.YNc(10,K,4,3,"ng-template",null,6,a.W1O),a.qZA()),2&f){const A=a.MAs(8),R=a.MAs(11);a.xp6(6),a.Q6J("ngIf",!C.isDev)("ngIfElse",A),a.xp6(3),a.Q6J("ngIf",C.loading)("ngIfElse",R)}},dependencies:[U.mk,U.sg,U.O5,B.Fj,B.JJ,B.On,t.t,k.R,N.g],styles:[".content[_ngcontent-%COMP%]{padding-top:.5rem}.description[_ngcontent-%COMP%]{font-size:.95rem}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{transition:background-color .3s}.forum-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:not(.selected):hover{background-color:rgb(var(--bs-light-rgb))}.forum-list[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#dae0ff}.forum-list[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{min-width:0}.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:50px;height:50px}@media (min-width: 960px){.title[_ngcontent-%COMP%]{text-align:center}.content[_ngcontent-%COMP%]{padding-top:1.5rem}}@media (min-width: 576px){.forum-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px}}"]}),m})();var S=s(9207),I=s(7075);const h={[I.Y.ScriptsAdmin]:{component:S.t,name:I.Y.ScriptsAdmin},[I.Y.ForumList]:{component:nt,name:I.Y.ForumList}},O="Leggi di pi\xf9..."},9209:(Y,F,s)=>{s.d(F,{_:()=>t});var d=s(5861),p=s(5044),E=s(4650),U=s(3138),B=s(5395);let t=(()=>{class k{constructor(g,v){this.globalsService=g,this.graphqlService=v,this.groupsCache={},this.groupsPendingRequests={},this.sectionsCache={},this.sectionsPendingRequests={},this.myForumsCache={}}get cid(){return this.globalsService.forum?.cid}get ffuid(){const g=this.globalsService.credentials?.user.ffuid;if(!g)throw new Error("Missing credentials!");return g}getGroups(){var g=this;return(0,d.Z)(function*(){const v=g.cid;if(!v)return[];if(g.groupsCache.hasOwnProperty(v))return g.groupsCache[v];const P=yield g.groupsPendingRequests.hasOwnProperty(v)?g.groupsPendingRequests[v]:g.groupsPendingRequests[v]=g.graphqlService.query({query:"\nquery ForumGroups($cid: String!) {\n    forumGroups(cid: $cid) {\n        id\n        name\n        preset\n        legenda\n    }\n}",variables:{cid:v}});return delete g.groupsPendingRequests[v],g.groupsCache[v]=P.data.forumGroups})()}getSections(){var g=this;return(0,d.Z)(function*(){const v=g.cid;if(!v)return[];if(g.sectionsCache.hasOwnProperty(v))return g.sectionsCache[v];const P=yield g.sectionsPendingRequests.hasOwnProperty(v)?g.sectionsPendingRequests[v]:g.sectionsPendingRequests[v]=g.graphqlService.query({query:"\nquery ForumSections($cid: String!) {\n    forumSections(cid: $cid) {\n        id\n        name\n        desc\n        subsections {\n            id\n            name\n            desc\n            subsections {\n                id\n                name\n                desc\n                subsections {\n                    id\n                    name\n                    desc\n                    subsections {\n                        id\n                        name\n                        desc\n                        subsections {\n                            id\n                            name\n                            desc\n                        }\n                    }\n                }\n            }\n        }\n    }\n}",variables:{cid:v}});return g.sectionsCache[v]=P.data.forumSections})()}getDomains(g){var v=this;return(0,d.Z)(function*(){return(yield v.graphqlService.query({query:"\nquery ForumCidToDomain($cids: [String!]!) {\n    forumCidToDomain(cids: $cids) {\n        cid\n        domain\n    }\n}",variables:{cids:g}})).data.forumCidToDomain})()}getMyForumList(){var g=this;return(0,d.Z)(function*(){const v=g.ffuid;if(g.myForumsCache.hasOwnProperty(v))return g.myForumsCache[v];const P=yield g.graphqlService.query({query:"\nquery MyForumList {\n    myForumList {\n        id, domain, name, preview\n    }\n}"});return g.myForumsCache[v]=P.data.myForumList})()}getForumDetailsFromDomain(g){var v=this;return(0,d.Z)(function*(){return(yield v.graphqlService.query({query:"\nquery ForumDomainToDetails($domain: String!) {\n    forumDomainToDetails(domain: $domain) {\n        id\n        domain\n        name\n        preview\n    }\n}",variables:{domain:g}})).data.forumDomainToDetails})()}getScriptAdmins(g){var v=this;return(0,d.Z)(function*(){return(yield v.graphqlService.query({query:"\nquery ScriptAdmins($cid: String!) {\n    scriptAdmins(cid: $cid) {\n        cid\n        id\n        nickname\n        avatar\n    }\n}",variables:{cid:g}})).data.scriptAdmins})()}parseUrl(g){const v=new RegExp("^(https?://)?([^.]+).(forumfree.it|forumcommunity.net|blogfree.net)$"),P=g.toLowerCase().match(v);if(P)return{subdomain:P[2],domain:P[3],shortdomain:p.pN.hasOwnProperty(P[3])?p.pN[P[3]]:""}}createForumObject(g,v,P){let H=p.pN.hasOwnProperty(v)?p.pN[v]:"";return{...g,cid:H+g.id,fulldomain:`${g.domain}.${v}`,url:`https://${g.domain}.${v}`,admin:P}}}return k.\u0275fac=function(g){return new(g||k)(E.LFG(U.d),E.LFG(B.J))},k.\u0275prov=E.Yz7({token:k,factory:k.\u0275fac,providedIn:"root"}),k})()},3411:(Y,F,s)=>{s.d(F,{t:()=>D});var d=s(4650),p=s(5681);let D=(()=>{class a{constructor(b){this.profileService=b}filterItem(b){if(!b.permission||this.profileService.hasAtLeastOnePermission(b.permission)){if(b.subroutes){let c=[];for(const M of b.subroutes.content)M.permission&&!this.profileService.hasAtLeastOnePermission(M.permission)||c.push(M);return 0===c.length?void 0:{...b,subroutes:{collapsed:!0,content:c}}}return b}}}return a.\u0275fac=function(b){return new(b||a)(d.LFG(p.H))},a.\u0275prov=d.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()},608:(Y,F,s)=>{s.d(F,{c:()=>d});var d=(()=>{return(p=d||(d={})).ADMIN="admin",p.SUPERUSER="superuser",p.SCRIPT_DEV="script-dev",p.TESTER="tester",d;var p})()},9358:(Y,F,s)=>{s.d(F,{f:()=>D});var d=s(1135),p=s(4650);let D=(()=>{class a{constructor(){this.behaviorSubject=new d.X(void 0),this.state={}}get observable(){return this.behaviorSubject.asObservable()}pushEntity(b){this.behaviorSubject.next(b)}close(){this.pushEntity(void 0)}get closeOnAction(){return!0===this.state.closeOnAction}set closeOnAction(b){this.state.closeOnAction=b}}return a.\u0275fac=function(b){return new(b||a)},a.\u0275prov=p.Yz7({token:a,factory:a.\u0275fac,providedIn:"root"}),a})()}}]);