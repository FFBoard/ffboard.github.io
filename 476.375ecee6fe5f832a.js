"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[476],{3285:(K,V,b)=>{b.d(V,{L:()=>U});var M=b(7165),w=b(5879);let F=(()=>{class z{constructor(){this.dependences={[M.B2.LOGIN]:null,[M.B2.HOME]:null,[M.B2.SETTINGS]:M.B2.HOME,[M.B2.SCRIPT]:M.B2.HOME,[M.B2.SCRIPT_FORUM]:M.B2.SCRIPT,[M.B2.SCRIPT_USER]:M.B2.SCRIPT,[M.B2.SCRIPT_SETTINGS]:[M.B2.SCRIPT_USER,M.B2.SCRIPT_FORUM],[M.B2.SCRIPT_SANDBOX]:[M.B2.SCRIPT_USER,M.B2.SCRIPT_FORUM],[M.B2.SCRIPT_DEV]:M.B2.SCRIPT,[M.B2.SCRIPT_DEV_SETTINGS]:M.B2.SCRIPT_DEV,[M.B2.UPLOAD]:M.B2.HOME,[M.B2.ADMIN]:M.B2.HOME,[M.B2.STATS]:M.B2.HOME,[M.B2.STATS_UPLOAD]:M.B2.STATS},this.names={[M.B2.LOGIN]:"Login",[M.B2.HOME]:"Home",[M.B2.SETTINGS]:"Notifiche",[M.B2.SCRIPT]:"Script",[M.B2.SCRIPT_FORUM]:"Forum",[M.B2.SCRIPT_USER]:"Utenti",[M.B2.SCRIPT_SETTINGS]:"Impostazioni",[M.B2.SCRIPT_SANDBOX]:"Altro",[M.B2.SCRIPT_DEV]:"Sviluppo",[M.B2.SCRIPT_DEV_SETTINGS]:"Impostazioni",[M.B2.UPLOAD]:"Upload",[M.B2.ADMIN]:"Amministrazione",[M.B2.STATS]:"Statistiche",[M.B2.STATS_UPLOAD]:"Upload"}}createPathList(G,rt=[]){const Oe=(ft,ue)=>{ft.unshift({name:this.names[ue]||"",path:ue})},ut=ft=>this.dependences.hasOwnProperty(ft)?this.dependences[ft]instanceof Array?this.dependences[ft].includes(rt[0])?rt.shift():this.dependences[ft][0]:this.dependences[ft]:null;let le=[{name:this.names[G]||"",path:""}],Rt=ut(G);for(;Rt;)Oe(le,Rt),Rt=ut(Rt);return le}}return z.\u0275fac=function(G){return new(G||z)},z.\u0275prov=w.Yz7({token:z,factory:z.\u0275fac,providedIn:"root"}),z})();var Z=b(8109),x=b(6814);function y(z,W){if(1&z&&w._UZ(0,"a",8),2&z){const G=w.oxw().$implicit;w.Q6J("routerLink",G.path)("innerText",G.name)}}function s(z,W){if(1&z&&w._UZ(0,"span",9),2&z){const G=w.oxw().$implicit;w.Q6J("innerText",G.name)}}const N=function(z){return{active:z}};function O(z,W){if(1&z&&(w.TgZ(0,"li",5),w.YNc(1,y,1,2,"a",6),w.YNc(2,s,1,1,"ng-template",null,7,w.W1O),w.qZA()),2&z){const G=W.last,rt=w.MAs(3);w.Q6J("ngClass",w.VKq(4,N,G)),w.uIk("aria-current",G?"page":null),w.xp6(1),w.Q6J("ngIf",!G)("ngIfElse",rt)}}let U=(()=>{class z{constructor(G,rt){this.breadcrumbService=G,this.router=rt,this.pageTitle="",this.url="",this.nodes=[],this.breadcrumbs=[]}ngOnInit(){this.url||(this.url=this.router.url),this.breadcrumbs=this.breadcrumbService.createPathList(this.url,this.nodes)}}return z.\u0275fac=function(G){return new(G||z)(w.Y36(F),w.Y36(Z.F0))},z.\u0275cmp=w.Xpm({type:z,selectors:[["app-breadcrumb"]],inputs:{pageTitle:"pageTitle",url:"url",nodes:"nodes"},decls:5,vars:2,consts:[[1,"container-fluid","px-md-1","d-flex","flex-column","flex-md-row","align-items-md-center"],[1,"h3","fw-light","mb-0","lh-1","fv-small-caps","pb-1",3,"innerText"],["aria-label","breadcrumb",1,"ms-md-auto","mt-1"],[1,"breadcrumb","mb-0","justify-content-md-end"],["class","breadcrumb-item",3,"ngClass",4,"ngFor","ngForOf"],[1,"breadcrumb-item",3,"ngClass"],[3,"routerLink","innerText",4,"ngIf","ngIfElse"],["lastItem",""],[3,"routerLink","innerText"],[3,"innerText"]],template:function(G,rt){1&G&&(w.TgZ(0,"div",0),w._UZ(1,"h2",1),w.TgZ(2,"nav",2)(3,"ol",3),w.YNc(4,O,4,6,"li",4),w.qZA()()()),2&G&&(w.xp6(1),w.Q6J("innerText",rt.pageTitle),w.xp6(3),w.Q6J("ngForOf",rt.breadcrumbs))},dependencies:[x.mk,x.sg,x.O5,Z.rH],styles:[".container-fluid[_ngcontent-%COMP%]{margin-bottom:.75rem}@media (min-width: 960px){.container-fluid[_ngcontent-%COMP%]{margin-top:.5rem}}"]}),z})()},9090:(K,V,b)=>{b.d(V,{w:()=>Z});var M=b(6814),w=b(8109),F=b(5879);let Z=(()=>{class x{}return x.\u0275fac=function(s){return new(s||x)},x.\u0275mod=F.oAB({type:x}),x.\u0275inj=F.cJS({imports:[M.ez,w.Bz]}),x})()},7476:(K,V,b)=>{b.r(V),b.d(V,{UploadModule:()=>iu});var M=b(9090),w=b(6814),F=b(7535),Z=b(4041),x=b(3946),y=b(4618),s=b(5879);let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[w.ez]}),e})();var O=b(8109),U=b(3038);let z=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[w.ez,U.G]}),e})(),W=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[w.ez]}),e})();var G=b(4295),rt=b(5778);let Oe=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[w.ez,G.$,rt.g]}),e})();var ut=b(5861),le=b(8685),Rt=b(5571),ft=b(5362);let ue=(()=>{class e{constructor(t){this.graphqlService=t,this.dayCache={}}getAvailableDateRange(){var t=this;return(0,ut.Z)(function*(){return(yield t.graphqlService.query({query:Rt.It})).data.uploadHistoryAvailableDateRange})()}getRangeData(t){var r=this;return(0,ut.Z)(function*(){let a=[];const i=t.filter(o=>!r.dayCache.hasOwnProperty(o)||(a.push(r.dayCache[o]),!1));if(i.length>0){const o=yield r.sendDataRequest(i);for(const[l,u]of Object.values(o).entries())r.dayCache[i[l]]={date:new Date(i[l]),periodActiveUsers:u.periodActiveUsers,periodTopTotalFileCount:JSON.parse(u.periodTopTotalFileCount),periodTopTotalSize:JSON.parse(u.periodTopTotalSize),storageUsed:Object.entries(JSON.parse(u.storageUsed)).map(c=>({ext:c[0],count:c[1].count,size:c[1].size})),toDateActiveUsers:u.toDateActiveUsers,toDateTopTotalFileCount:JSON.parse(u.toDateTopTotalFileCount),toDateTopTotalSize:JSON.parse(u.toDateTopTotalSize)},a.push(r.dayCache[i[l]])}return a})()}sendDataRequest(t){var r=this;return(0,ut.Z)(function*(){const a=ft.IO(t.map((i,o)=>({operation:{name:"uploadHistory",alias:`uploadHistory${o}`},variables:{[`date${o}`]:{name:"date",type:"String!",value:i}},fields:["storageUsed","periodActiveUsers","periodTopTotalSize","periodTopTotalFileCount","toDateActiveUsers","toDateTopTotalSize","toDateTopTotalFileCount"]})));return(yield r.graphqlService.query({query:a.query,variables:a.variables})).data})()}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(le.Jk))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})(),xa=(()=>{class e{constructor(){}fromModel(t){return x.qj.from({year:t.getUTCFullYear(),month:t.getUTCMonth()+1,day:t.getUTCDate()})}toModel(t){const r=new Date(Date.UTC(t.year,t.month-1,t.day));return r.setUTCFullYear(t.year),r}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var ba=b(3285),Sa=b(4929),Cn=b(1088),we=b(8863);function kt(e,n){return e.reduce((t,r)=>t+r[n],0)}function $t(e){return Math.round(100*e*100)/100}var Aa=b(4020),Pe=b(3200),Ca=b(8645),Ma=b(1990),Dn=b(1413),Oa=b(8418),wa=b(2438),Pa=b(9773),Ia=b(3620);let Na=(()=>{class e{constructor(t){this.ngZone=t}setResizeChartEvent(t,r){this.ngZone.runOutsideAngular(()=>{(0,wa.R)(window,"resize").pipe((0,Pa.R)(r),(0,Ia.b)(500)).subscribe(()=>{t&&!t.isDisposed()&&t.resize()})})}}return e.\u0275fac=function(t){return new(t||e)(s.LFG(s.R0b))},e.\u0275prov=s.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var _n=b(8595);function Za(e,n){if(1&e&&(s._UZ(0,"div",4),s.ALo(1,"date")),2&e){const t=s.oxw();s.Q6J("ngClass",t.trend.value<0?"alert-danger":"alert-success")("innerText",(t.trend.value>0?"+"+t.trend.value:t.trend.value)+"%")("appTippy","Rispetto al "+s.xi3(1,3,t.trend.date,"dd/MM/YY"))}}let La=(()=>{class e{constructor(){this.value="",this.description="",this.color="default",this.colorClasses={green:"text-success",blue:"text-primary",indigo:"text-indigo",red:"text-danger",default:"text-reset"}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-simple-stat-container"]],inputs:{value:"value",description:"description",color:"color",trend:"trend"},decls:4,vars:4,consts:[[1,"flat-container","p-3","d-flex","flex-column","justify-content-center","align-items-center","h-100","position-relative"],["class","position-absolute alert border-0 px-1 py-0 trend fs-xs cursor-pointer",3,"ngClass","innerText","appTippy",4,"ngIf"],[1,"h2","fw-normal","lh-1","text-center",3,"ngClass","innerText"],[1,"desc","text-muted","fs-xs","text-uppercase","text-center",3,"innerText"],[1,"position-absolute","alert","border-0","px-1","py-0","trend","fs-xs","cursor-pointer",3,"ngClass","innerText","appTippy"]],template:function(t,r){1&t&&(s.TgZ(0,"div",0),s.YNc(1,Za,2,6,"div",1),s._UZ(2,"div",2)(3,"div",3),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",r.trend),s.xp6(1),s.Q6J("ngClass",r.colorClasses[r.color])("innerText",r.value),s.xp6(1),s.Q6J("innerText",r.description))},dependencies:[w.mk,w.O5,_n.$,w.uU],styles:["[_nghost-%COMP%]{display:block;height:100%}.desc[_ngcontent-%COMP%]{letter-spacing:.2em}.trend[_ngcontent-%COMP%]{top:.5rem;right:.5rem}"]}),e})();function Ra(e,n){if(1&e&&s._UZ(0,"div",4),2&e){const t=s.oxw(2);s.Q6J("innerText",t.statTitle)}}function ka(e,n){if(1&e&&(s.TgZ(0,"div",2),s.YNc(1,Ra,1,1,"div",3),s.Hsn(2,1),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngIf",t.statTitle)}}const za=["*",[["","title",""]]],Ba=["*","[title]"];let Ua=(()=>{class e{constructor(){this.statTitle="",this.hasTitle=!0}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-stat-container"]],inputs:{statTitle:"statTitle",hasTitle:"hasTitle"},ngContentSelectors:Ba,decls:3,vars:1,consts:[[1,"d-flex","flex-column","flat-container","px-3","pb-3","h-100"],["class","d-flex mb-1 px-md-1 justify-content-center align-items-center",4,"ngIf"],[1,"d-flex","mb-1","px-md-1","justify-content-center","align-items-center"],["class","fv-small-caps fs-xl fw-500",3,"innerText",4,"ngIf"],[1,"fv-small-caps","fs-xl","fw-500",3,"innerText"]],template:function(t,r){1&t&&(s.F$t(za),s.TgZ(0,"div",0),s.YNc(1,ka,3,1,"div",1),s.Hsn(2),s.qZA()),2&t&&(s.xp6(1),s.Q6J("ngIf",r.hasTitle))},dependencies:[w.O5],styles:["[_nghost-%COMP%]{display:block;height:100%}.flat-container[_ngcontent-%COMP%]{padding-top:.75rem}"]}),e})();var Ea=b(7165),Va=b(4291),Fa=b(7291);const Ga=function(e){return{"border-bottom":e}};function ja(e,n){if(1&e&&(s.TgZ(0,"li",4)(1,"div",5),s._UZ(2,"img",6),s.ALo(3,"uploadsreplace"),s.qZA(),s.TgZ(4,"div",7)(5,"div",8),s._UZ(6,"a",9)(7,"div",10),s.qZA(),s._UZ(8,"div",11),s.qZA()()),2&e){const t=s.oxw(),r=t.$implicit,a=t.last;s.xp6(2),s.MGl("alt","",r.user.nickname,"'s avatar"),s.Q6J("src",s.lcZ(3,7,r.user.avatar),s.LSH),s.xp6(2),s.Q6J("ngClass",s.VKq(9,Ga,!a)),s.xp6(2),s.Q6J("href",r.user.link,s.LSH)("innerHTML",r.user.nickname,s.oJD),s.xp6(1),s.Q6J("innerText","ID: "+r.user.id),s.xp6(1),s.Q6J("innerHTML",r.value,s.oJD)}}function Ha(e,n){if(1&e&&(s.ynx(0),s.YNc(1,ja,9,11,"li",3),s.BQk()),2&e){const t=n.$implicit;s.xp6(1),s.Q6J("ngIf",t.user)}}function Wa(e,n){if(1&e&&(s.TgZ(0,"ul",1),s.YNc(1,Ha,2,1,"ng-container",2),s.qZA()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("ngForOf",t.tableData)}}let Ya=(()=>{class e{constructor(){this.data=[],this.tableData=[]}ngOnChanges(t){t.data&&(this.tableData=this.data.map(r=>{if(!r.user)return{value:r.value};const a=r.user.uid.substring(2),i=r.user.uid.substring(0,2);return{value:r.value,user:{nickname:r.user.nickname,avatar:r.user.avatar,ffuid:r.user.uid,id:Number(a),link:`${Ea.hD[i]}/?act=Profile&MID=${a}`}}}))}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-stat-user-table"]],inputs:{data:"data"},features:[s.TTD],decls:1,vars:1,consts:[["class","list-unstyled mb-0",4,"ngIf"],[1,"list-unstyled","mb-0"],[4,"ngFor","ngForOf"],["class","d-flex align-items-center",4,"ngIf"],[1,"d-flex","align-items-center"],[1,"avatar","rounded-circle","me-3","border","flex-shrink-0"],["appImage","",1,"rounded-circle","image-cover",3,"src","alt"],[1,"info","d-flex","flex-grow-1","align-items-center","py-3","min-w-0",3,"ngClass"],[1,"user-info","me-auto","pe-2","d-flex","flex-column","flex-grow-1","align-items-start","min-w-0"],["target","_blank",1,"nickname","d-block","text-truncate","mw-100","fw-bold",3,"href","innerHTML"],[1,"text-muted","fs-xs",3,"innerText"],[1,"value","pe-1",3,"innerHTML"]],template:function(t,r){1&t&&s.YNc(0,Wa,2,1,"ul",0),2&t&&s.Q6J("ngIf",r.tableData.length>0)},dependencies:[w.mk,w.sg,w.O5,Va.t,Fa.g],styles:[".avatar[_ngcontent-%COMP%]{width:50px;height:50px}"]}),e})();var On=b(9010);let wn=(()=>{class e{transform(t){return(0,Pe.o)(t)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=s.Yjl({name:"localeString",type:e,pure:!0}),e})();function Ja(e,n){1&e&&s.GkF(0)}function Qa(e,n){1&e&&s.GkF(0)}function $a(e,n){1&e&&s.GkF(0)}function Xa(e,n){1&e&&(s.ynx(0),s.TgZ(1,"th",8),s._uU(2,"U"),s.qZA(),s.TgZ(3,"th",8),s._uU(4,"%"),s.qZA(),s.BQk())}function Ka(e,n){1&e&&s.GkF(0)}function qa(e,n){1&e&&s.GkF(0)}function ti(e,n){1&e&&s.GkF(0)}function ei(e,n){if(1&e&&(s.TgZ(0,"tr"),s._UZ(1,"td",9)(2,"td",9),s.ALo(3,"formatBytes"),s._UZ(4,"td",9)(5,"td",9),s.ALo(6,"localeString"),s._UZ(7,"td",9)(8,"td",9),s.ALo(9,"formatBytes"),s._UZ(10,"td",9),s.ALo(11,"formatBytes"),s._UZ(12,"td",9),s.qZA()),2&e){const t=n.$implicit;s.xp6(1),s.Q6J("innerText",t.ext),s.xp6(1),s.Q6J("innerText",s.lcZ(3,8,t.size.abs)),s.xp6(2),s.Q6J("innerText",t.size.perc),s.xp6(1),s.Q6J("innerText",s.lcZ(6,10,t.count.abs)),s.xp6(2),s.Q6J("innerText",t.count.perc),s.xp6(1),s.Q6J("innerText",s.lcZ(9,12,t.avgSize.abs)),s.xp6(2),s.Q6J("innerText",s.lcZ(11,14,t.avgSize.max)),s.xp6(2),s.Q6J("innerText",t.avgSize.perc)}}function ni(e,n){1&e&&s.GkF(0)}function ri(e,n){1&e&&(s.O4$(),s.TgZ(0,"svg",13),s._UZ(1,"path",14)(2,"path",15)(3,"path",16),s.qZA())}function ai(e,n){1&e&&(s.O4$(),s.TgZ(0,"svg",13),s._UZ(1,"path",14)(2,"path",15)(3,"path",17),s.qZA())}function ii(e,n){if(1&e&&(s.ynx(0),s.YNc(1,ni,1,0,"ng-container",10),s.YNc(2,ri,4,0,"svg",11),s.YNc(3,ai,4,0,"ng-template",null,12,s.W1O),s.BQk()),2&e){const t=s.MAs(4),r=s.oxw(2);s.xp6(1),s.Q6J("ngIf",r.tableSortCriteria.asc),s.xp6(1),s.Q6J("ngIf",r.tableSortCriteria.asc)("ngIfElse",t)}}function oi(e,n){if(1&e&&s.YNc(0,ii,5,3,"ng-container",10),2&e){const t=n.$implicit,r=s.oxw();s.Q6J("ngIf",t===r.tableSortCriteria.type)}}const si=function(){return{$implicit:"ext"}},li=function(){return{$implicit:"size-abs"}},ui=function(){return{$implicit:"count-abs"}},ci=function(){return[]},pi=function(){return{$implicit:"avgSize-abs"}},fi=function(){return{$implicit:"avgSize-max"}},di=function(){return{$implicit:"avgSize-perc"}};let vi=(()=>{class e{constructor(){this.tableContent=[],this.tableSortCriteria={type:"",asc:!1}}ngOnChanges(t){t.tableContent&&this.sortTableContent(this.tableContent,"size-abs")}sortTableContent(t,r){if(this.tableSortCriteria.type===r)return this.tableSortCriteria.asc=!this.tableSortCriteria.asc,void t.reverse();this.tableSortCriteria.type=r;const a=r.split("-"),i=a.slice(1);let o=!1,l=t[0][a[0]];for(const u of i)l=l[u];o=!isNaN(Number(l)),this.tableSortCriteria.asc=!o,t.sort((u,c)=>{let p=u[a[0]],h=c[a[0]];for(const d of i)p=p[d],h=h[d];return o?h-p:p.localeCompare(h)})}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-upload-stat-file-table"]],inputs:{tableContent:"tableContent"},features:[s.TTD],decls:35,vars:21,consts:[[1,"table","table-striped","table-bordered","text-center","mb-0"],["scope","col","rowspan","2",1,"align-middle","cursor-pointer",3,"click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],["scope","col","colspan","2",1,"cursor-pointer",3,"click"],["scope","col","colspan","3",1,"cursor-pointer",3,"click"],[4,"ngFor","ngForOf"],["scope","col",1,"cursor-pointer",3,"click"],["sortIcon",""],["scope","col"],[3,"innerText"],[4,"ngIf"],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16","class","ms-2",4,"ngIf","ngIfElse"],["desc",""],["xmlns","http://www.w3.org/2000/svg","width","20","height","20","fill","currentColor","viewBox","0 0 16 16",1,"ms-2"],["d","M12.438 1.668V7H11.39V2.684h-.051l-1.211.859v-.969l1.262-.906h1.046z"],["fill-rule","evenodd","d","M11.36 14.098c-1.137 0-1.708-.657-1.762-1.278h1.004c.058.223.343.45.773.45.824 0 1.164-.829 1.133-1.856h-.059c-.148.39-.57.742-1.261.742-.91 0-1.72-.613-1.72-1.758 0-1.148.848-1.835 1.973-1.835 1.09 0 2.063.636 2.063 2.687 0 1.867-.723 2.848-2.145 2.848zm.062-2.735c.504 0 .933-.336.933-.972 0-.633-.398-1.008-.94-1.008-.52 0-.927.375-.927 1 0 .64.418.98.934.98z"],["d","M4.5 2.5a.5.5 0 0 0-1 0v9.793l-1.146-1.147a.5.5 0 0 0-.708.708l2 1.999.007.007a.497.497 0 0 0 .7-.006l2-2a.5.5 0 0 0-.707-.708L4.5 12.293V2.5z"],["d","M4.5 13.5a.5.5 0 0 1-1 0V3.707L2.354 4.854a.5.5 0 1 1-.708-.708l2-1.999.007-.007a.498.498 0 0 1 .7.006l2 2a.5.5 0 1 1-.707.708L4.5 3.707V13.5z"]],template:function(t,r){if(1&t&&(s.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th",1),s.NdJ("click",function(){return r.sortTableContent(r.tableContent,"ext")}),s.TgZ(4,"span"),s._uU(5,"Tipo"),s.qZA(),s.YNc(6,Ja,1,0,"ng-container",2),s.qZA(),s.TgZ(7,"th",3),s.NdJ("click",function(){return r.sortTableContent(r.tableContent,"size-abs")}),s.TgZ(8,"span"),s._uU(9,"Spazio"),s.qZA(),s.YNc(10,Qa,1,0,"ng-container",2),s.qZA(),s.TgZ(11,"th",3),s.NdJ("click",function(){return r.sortTableContent(r.tableContent,"count-abs")}),s.TgZ(12,"span"),s._uU(13,"Numero"),s.qZA(),s.YNc(14,$a,1,0,"ng-container",2),s.qZA(),s.TgZ(15,"th",4),s.NdJ("click",function(){return r.sortTableContent(r.tableContent,"avgSize-abs")}),s._uU(16,"Peso medio"),s.qZA()(),s.TgZ(17,"tr"),s.YNc(18,Xa,5,0,"ng-container",5),s.TgZ(19,"th",6),s.NdJ("click",function(){return r.sortTableContent(r.tableContent,"avgSize-abs")}),s.TgZ(20,"span"),s._uU(21,"U"),s.qZA(),s.YNc(22,Ka,1,0,"ng-container",2),s.qZA(),s.TgZ(23,"th",6),s.NdJ("click",function(){return r.sortTableContent(r.tableContent,"avgSize-max")}),s.TgZ(24,"span"),s._uU(25,"Max"),s.qZA(),s.YNc(26,qa,1,0,"ng-container",2),s.qZA(),s.TgZ(27,"th",6),s.NdJ("click",function(){return r.sortTableContent(r.tableContent,"avgSize-perc")}),s.TgZ(28,"span"),s._uU(29,"%"),s.qZA(),s.YNc(30,ti,1,0,"ng-container",2),s.qZA()()(),s.TgZ(31,"tbody"),s.YNc(32,ei,13,16,"tr",5),s.qZA()(),s.YNc(33,oi,1,1,"ng-template",null,7,s.W1O)),2&t){const a=s.MAs(34);s.xp6(6),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.DdM(14,si)),s.xp6(4),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.DdM(15,li)),s.xp6(4),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.DdM(16,ui)),s.xp6(4),s.Q6J("ngForOf",s.DdM(17,ci).constructor(2)),s.xp6(4),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.DdM(18,pi)),s.xp6(4),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.DdM(19,fi)),s.xp6(4),s.Q6J("ngTemplateOutlet",a)("ngTemplateOutletContext",s.DdM(20,di)),s.xp6(2),s.Q6J("ngForOf",r.tableContent)}},dependencies:[w.sg,w.O5,w.tP,On.b,wn],styles:["td[_ngcontent-%COMP%]{white-space:nowrap}@media (min-width: 768px){.table[_ngcontent-%COMP%]{table-layout:fixed}}"]}),e})();const Ie=function(e){return{"pe-2":e}};function hi(e,n){if(1&e&&s._UZ(0,"app-stat-user-table",29),2&e){const t=s.oxw();s.Q6J("ngClass",s.VKq(2,Ie,!t.touchDevice))("data",t.topUsersByFile)}}function gi(e,n){if(1&e&&s._UZ(0,"app-stat-user-table",29),2&e){const t=s.oxw();s.Q6J("ngClass",s.VKq(2,Ie,!t.touchDevice))("data",t.topUsersBySize)}}let mi=(()=>{class e{constructor(t,r,a){this.eChartsService=t,this.userService=r,this.breakpointObserver=a,this.chartLoading=!0,this.touchDevice=Aa.eX,this.smallDevice=!0,this.loadingOptions=function Ta(e="Caricamento"){return{text:`${e}...`,color:"var(--ei-primary)",textColor:"inherit",zlevel:2,lineWidth:3,fontFamily:"inherit",maskColor:"rgba(255, 255, 255, 0.95)",fontSize:14}}(),this.totalSizeChartOptions=null,this.totalFileCountChartOptions=null,this.totalFileCount=0,this.totalSize=0,this.filesPerUser=0,this.sizePerUser=0,this.topUsersByFile=[],this.topUsersBySize=[],this.topUsersActiveTab="file",this.tableContent=[],this.componentDestroyed=new Ca.x,this.smallDevice=this.breakpointObserver.isMatched([Cn.u3.XSmall])}ngOnInit(){}ngOnChanges(t){var r=this;return(0,ut.Z)(function*(){t.data&&r.data&&(r.setTotalSizeChart(),r.setTotalFileCountChart(),r.setSummaries(),r.setTableContent(),yield r.setTopUsers())})()}setSummaries(){this.filesPerUser=Math.round(this.totalFileCount/this.data.toDateActiveUsers);const t=Math.round(kt(this.trendData.storageUsed,"count")/this.trendData.toDateActiveUsers);this.filesPerUserTrend={value:$t((this.filesPerUser-t)/t),date:this.trendData.date},this.sizePerUser=this.totalSize/this.data.toDateActiveUsers;const r=Math.round(kt(this.trendData.storageUsed,"size")/this.trendData.toDateActiveUsers);this.sizePerUserTrend={value:$t((this.sizePerUser-r)/r),date:this.trendData.date}}setTotalSizeChart(){this.totalSize=kt(this.data.storageUsed,"size");const t=this.data.storageUsed.sort((r,a)=>a.size-r.size).slice(0,4).map(r=>({name:r.ext,value:r.size}));t.push({name:"altre",value:this.totalSize-kt(t,"value")}),this.totalSizeChartOptions=function Da(e,n,t=!0){return{toolbox:{show:!0,itemSize:20,iconStyle:{opacity:.6},feature:{saveAsImage:{icon:"image:///assets/charts/download-icon.svg",title:""}}},grid:{containLabel:!1},tooltip:{trigger:"item",textStyle:{color:"inherit"}},legend:(0,Dn.Z)((0,Dn.Z)({},t?{show:!1}:{orient:"vertical",right:"2%",top:"middle"}),{},{formatter:r=>r.toUpperCase()}),dataset:[{source:e}],series:[{name:"Spazio occupato",type:"pie",radius:["45%","90%"],avoidLabelOverlap:!0,itemStyle:{borderRadius:10,borderColor:"#FFF",borderWidth:5},label:{show:!1,position:"inside",formatter:"{d}%"},emphasis:{label:{show:!0}},startAngle:0,tooltip:{valueFormatter:r=>(0,we.t)(r)},markPoint:{tooltip:{show:!0},label:{show:!0,formatter:r=>r.value,color:"black",fontSize:25,fontWeight:"bold"},data:[{name:"Totale",value:n,symbol:"circle",itemStyle:{color:"transparent"},x:"50%",y:"50%"}]}}]}}(t,(0,we.t)(this.totalSize),this.smallDevice)}setTotalFileCountChart(){this.totalFileCount=kt(this.data.storageUsed,"count");const t=this.data.storageUsed.sort((r,a)=>r.count-a.count).slice(-4);t.unshift({ext:"altre",count:this.totalFileCount-kt(t,"count"),size:0}),this.totalFileCountChartOptions=function _a(e,n,t){return{toolbox:{show:!0,itemSize:20,iconStyle:{opacity:.6},feature:{saveAsImage:{icon:"image:///assets/charts/download-icon.svg",title:""}}},tooltip:{trigger:"axis",axisPointer:{type:"shadow"},borderWidth:1,borderColor:"var(--ei-border-color)",textStyle:{color:"inherit"},valueFormatter:r=>(0,Pe.o)(r)},legend:{show:!1},grid:{left:"3%",right:"4%",bottom:"3%",top:20,containLabel:!0},xAxis:{type:"value",boundaryGap:[0,.01],axisLabel:{show:!1}},yAxis:{type:"category",data:e,axisTick:{show:!1},axisLabel:{margin:15}},series:[{name:"Numero di file",type:"bar",data:t,itemStyle:{borderRadius:[0,5,5,0]},label:{position:"inside",show:!0,formatter:r=>Math.round(100*r.value/n*100)/100+"%"}}]}}(t.map(r=>r.ext),this.totalFileCount,t.map(r=>r.count))}setTopUsers(){var t=this;return(0,ut.Z)(function*(){const r=yield t.userService.getDetailsFromUids([...Object.keys(t.data.toDateTopTotalFileCount),...Object.keys(t.data.toDateTopTotalSize)]);t.topUsersByFile=Object.entries(t.data.toDateTopTotalFileCount).map(a=>({value:(0,Pe.o)(a[1]),user:r.find(i=>i.uid===a[0])})),t.topUsersBySize=Object.entries(t.data.toDateTopTotalSize).map(a=>({value:(0,we.t)(a[1]),user:r.find(i=>i.uid===a[0])}))})()}setTableContent(){this.tableContent=this.data.storageUsed.map(t=>{var r;const a=t.size/t.count,i=(null===(r=Ma.O8.find(o=>o.ext.includes(t.ext)))||void 0===r?void 0:r.maxSize)||0;return{ext:t.ext,size:{abs:t.size,perc:$t(t.size/this.totalSize)},count:{abs:t.count,perc:$t(t.count/this.totalFileCount)},avgSize:{abs:a,max:i,perc:i?$t(a/i):0}}})}setResizeChartEvent(t){this.eChartsService.setResizeChartEvent(t,this.componentDestroyed)}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(Na),s.Y36(Oa.K),s.Y36(Cn.Yg))},e.\u0275cmp=s.Xpm({type:e,selectors:[["app-upload-total-stats"]],inputs:{chartLoading:"chartLoading",data:"data",trendData:"trendData"},features:[s.TTD],decls:43,vars:35,consts:[[1,"d-grid","charts-container","list-unstyled","mb-0"],[1,"col-span-xl-30","col-span-exl-20"],["description","Utenti totali","color","green",3,"value"],[1,"col-span-xl-30","col-span-exl-20","row-start-xl-2"],["description","File per utente","color","blue",3,"trend","value"],[1,"col-span-xl-30","col-span-exl-20","row-start-xl-3"],["description","Spazio per utente","color","indigo",3,"trend","value"],[1,"col-span-md-100","col-span-xl-70","col-span-exl-40","row-span-xl-3"],["statTitle","Spazio occupato"],["echarts","",1,"d-block",3,"options","autoResize","loading","loadingOpts","chartInit"],[1,"col-span-md-100","col-span-xl-100","col-span-xxl-60","col-span-exl-40","row-span-exl-3"],["statTitle","File caricati"],["title",""],[1,"ms-auto","fs-sm"],[1,"col-span-md-100","col-span-xl-100","col-span-xxl-40","col-span-exl-30"],[3,"statTitle"],[1,"ms-auto","d-flex"],["appTippy","Top per numero di file",1,"flat-icon","me-2","cursor-pointer",3,"ngClass","disableOnTouchDevice","click"],[1,"material-icons-outlined"],["appTippy","Top per spazio occupato",1,"flat-icon","cursor-pointer",3,"ngClass","disableOnTouchDevice","click"],["ngbNav","",3,"activeId","destroyOnHide","activeIdChange"],["topUsersNav","ngbNav"],[3,"ngbNavItem"],["ngbNavContent",""],[1,"mt-2",3,"ngbNavOutlet"],[1,"col-span-md-100","col-span-xl-100","col-span-exl-70"],[3,"hasTitle"],[1,"pt-1","overflow-auto","table-container",3,"ngClass"],[3,"tableContent"],[1,"d-block",3,"ngClass","data"]],template:function(t,r){if(1&t&&(s.TgZ(0,"ul",0)(1,"li",1),s._UZ(2,"app-simple-stat-container",2),s.ALo(3,"localeString"),s.qZA(),s.TgZ(4,"li",3),s._UZ(5,"app-simple-stat-container",4),s.qZA(),s.TgZ(6,"li",5),s._UZ(7,"app-simple-stat-container",6),s.ALo(8,"formatBytes"),s.qZA(),s.TgZ(9,"li",7)(10,"app-stat-container",8),s.ynx(11),s.TgZ(12,"div",9),s.NdJ("chartInit",function(i){return r.setResizeChartEvent(i)}),s.qZA(),s.BQk(),s.qZA()(),s.TgZ(13,"li",10)(14,"app-stat-container",11),s.ynx(15,12),s.TgZ(16,"div",13),s._uU(17),s.ALo(18,"localeString"),s.qZA(),s.BQk(),s.ynx(19),s.TgZ(20,"div",9),s.NdJ("chartInit",function(i){return r.setResizeChartEvent(i)}),s.qZA(),s.BQk(),s.qZA()(),s.TgZ(21,"li",14)(22,"app-stat-container",15),s.ynx(23,12),s.TgZ(24,"div",16)(25,"div",17),s.NdJ("click",function(){return r.topUsersActiveTab="file"}),s.TgZ(26,"div",18),s._uU(27,"insert_drive_file"),s.qZA()(),s.TgZ(28,"div",19),s.NdJ("click",function(){return r.topUsersActiveTab="size"}),s.TgZ(29,"div",18),s._uU(30,"storage"),s.qZA()()(),s.BQk(),s.ynx(31),s.TgZ(32,"ul",20,21),s.NdJ("activeIdChange",function(i){return r.topUsersActiveTab=i}),s.TgZ(34,"li",22),s.YNc(35,hi,1,4,"ng-template",23),s.qZA(),s.TgZ(36,"li",22),s.YNc(37,gi,1,4,"ng-template",23),s.qZA()(),s._UZ(38,"div",24),s.BQk(),s.qZA()(),s.TgZ(39,"li",25)(40,"app-stat-container",26)(41,"div",27),s._UZ(42,"app-upload-stat-file-table",28),s.qZA()()()()),2&t){const a=s.MAs(33);s.xp6(2),s.Q6J("value",s.lcZ(3,27,r.data.toDateActiveUsers)),s.xp6(3),s.Q6J("trend",r.filesPerUserTrend)("value",r.filesPerUser),s.xp6(2),s.Q6J("trend",r.sizePerUserTrend)("value",s.lcZ(8,29,r.sizePerUser)),s.xp6(5),s.Q6J("options",r.totalSizeChartOptions)("autoResize",!1)("loading",r.chartLoading)("loadingOpts",r.loadingOptions),s.xp6(5),s.hij("Totale: ",s.lcZ(18,31,r.totalFileCount),""),s.xp6(3),s.Q6J("options",r.totalFileCountChartOptions)("autoResize",!1)("loading",r.chartLoading)("loadingOpts",r.loadingOptions),s.xp6(2),s.Q6J("statTitle","Top utenti - "+("file"===r.topUsersActiveTab?"File":"Spazio")),s.xp6(3),s.Q6J("ngClass","file"===r.topUsersActiveTab?"blue":"outline-blue")("disableOnTouchDevice",!0),s.xp6(3),s.Q6J("ngClass","size"===r.topUsersActiveTab?"blue":"outline-blue")("disableOnTouchDevice",!0),s.xp6(4),s.Q6J("activeId",r.topUsersActiveTab)("destroyOnHide",!1),s.xp6(2),s.Q6J("ngbNavItem","file"),s.xp6(2),s.Q6J("ngbNavItem","size"),s.xp6(2),s.Q6J("ngbNavOutlet",a),s.xp6(2),s.Q6J("hasTitle",!1),s.xp6(1),s.Q6J("ngClass",s.VKq(33,Ie,!r.touchDevice)),s.xp6(1),s.Q6J("tableContent",r.tableContent)}},dependencies:[w.mk,x.uN,x.Pz,x.nv,x.Is,x.Dy,y._w,La,Ua,Ya,_n.$,vi,On.b,wn],styles:[".charts-container[_ngcontent-%COMP%]{gap:1rem;grid-template-columns:1fr}.charts-container[_ngcontent-%COMP%]   [echarts][_ngcontent-%COMP%]{height:300px}.charts-container[_ngcontent-%COMP%] > li[_ngcontent-%COMP%]{min-width:0}app-stat-user-table[_ngcontent-%COMP%]{max-height:300px;overflow-y:auto}.table-container[_ngcontent-%COMP%]{min-height:100%;height:300px}@media (min-width: 768px){.charts-container[_ngcontent-%COMP%]{grid-template-columns:repeat(3,1fr);gap:1.5rem}.col-span-md-100[_ngcontent-%COMP%]{grid-column:span 3}}@media (min-width: 960px){.charts-container[_ngcontent-%COMP%]{gap:1.5rem}}@media (min-width: 1200px){.charts-container[_ngcontent-%COMP%]{grid-template-columns:repeat(10,1fr)}.col-span-xl-100[_ngcontent-%COMP%]{grid-column:span 10}.col-span-xl-30[_ngcontent-%COMP%]{grid-column:span 3}.col-span-xl-70[_ngcontent-%COMP%]{grid-column:span 7}.row-span-xl-3[_ngcontent-%COMP%]{grid-row:span 3}.row-start-xl-2[_ngcontent-%COMP%]{grid-row-start:2}.row-start-xl-3[_ngcontent-%COMP%]{grid-row-start:3}}@media (min-width: 1400px){.col-span-xxl-60[_ngcontent-%COMP%]{grid-column:span 6}.col-span-xxl-40[_ngcontent-%COMP%]{grid-column:span 4}}@media (min-width: 1500px){.col-span-exl-20[_ngcontent-%COMP%]{grid-column:span 2}.col-span-exl-40[_ngcontent-%COMP%]{grid-column:span 4}.col-span-exl-30[_ngcontent-%COMP%]{grid-column:span 3}.col-span-exl-70[_ngcontent-%COMP%]{grid-column:span 7}.row-span-exl-3[_ngcontent-%COMP%]{grid-row:span 3}}"]}),e})();function yi(e,n){if(1&e&&(s.ynx(0),s._UZ(1,"app-upload-total-stats",3),s.BQk()),2&e){const t=s.oxw();s.xp6(1),s.Q6J("data",t.data[0])("trendData",t.oneMonthPreviousData)("chartLoading",t.loading)}}function xi(e,n){1&e&&s._UZ(0,"app-loader",4)}let bi=(()=>{class e{constructor(t,r,a){this.uploadStatsService=t,this.datepickerAdapterService=r,this.ngbCalendar=a,this.loading=!0}ngOnInit(){var t=this;return(0,ut.Z)(function*(){const r=yield t.uploadStatsService.getAvailableDateRange();t.availableRange={start:t.datepickerAdapterService.fromModel(new Date(r.start)),end:t.datepickerAdapterService.fromModel(new Date(r.end))};const a=t.ngbCalendar.getToday(),i=t.ngbCalendar.getPrev(a,"d",30),o=t.datepickerAdapterService.toModel(i.after(t.availableRange.start)?i:t.availableRange.start).toISOString();t.oneMonthPreviousData=(yield t.uploadStatsService.getRangeData([o]))[0],t.setData([...Array(6)].map((l,u)=>{const c=t.ngbCalendar.getPrev(a,"d",u+1);return t.datepickerAdapterService.toModel(c).toISOString()}))})()}setData(t){var r=this;return(0,ut.Z)(function*(){r.loading=!0,r.data=(yield r.uploadStatsService.getRangeData(t)).sort((a,i)=>i.date.getTime()-a.date.getTime()),r.loading=!1})()}}return e.\u0275fac=function(t){return new(t||e)(s.Y36(ue),s.Y36(xa),s.Y36(x.vL))},e.\u0275cmp=s.Xpm({type:e,selectors:[["ng-component"]],decls:4,vars:2,consts:[["pageTitle","Statistiche Upload"],[4,"ngIf","ngIfElse"],["loader",""],[3,"data","trendData","chartLoading"],["message","Recupero dei dati"]],template:function(t,r){if(1&t&&(s._UZ(0,"app-breadcrumb",0),s.YNc(1,yi,2,3,"ng-container",1),s.YNc(2,xi,1,0,"ng-template",null,2,s.W1O)),2&t){const a=s.MAs(3);s.xp6(1),s.Q6J("ngIf",r.data)("ngIfElse",a)}},dependencies:[ba.L,w.O5,Sa.R,mi]}),e})();var Xt=b(7230),Si=b(7963),Ti=b(5182),Ai=b(1101),J=b(2862),et=b(7436),f=b(4404),ce=2*Math.PI,Pn=Math.PI/180;function In(e,n){return et.ME(e.getBoxLayoutParams(),{width:n.getWidth(),height:n.getHeight()})}function Nn(e,n){var t=In(e,n),r=e.get("center"),a=e.get("radius");f.isArray(a)||(a=[0,a]);var p,h,i=(0,J.GM)(t.width,n.getWidth()),o=(0,J.GM)(t.height,n.getHeight()),l=Math.min(i,o),u=(0,J.GM)(a[0],l/2),c=(0,J.GM)(a[1],l/2),d=e.coordinateSystem;if(d){var v=d.dataToPoint(r);p=v[0]||0,h=v[1]||0}else f.isArray(r)||(r=[r,r]),p=(0,J.GM)(r[0],i)+t.x,h=(0,J.GM)(r[1],o)+t.y;return{cx:p,cy:h,r0:u,r:c}}function Ci(e,n,t){n.eachSeriesByType(e,function(r){var a=r.getData(),i=a.mapDimension("value"),o=In(r,t),l=Nn(r,t),u=l.cx,c=l.cy,p=l.r,h=l.r0,d=-r.get("startAngle")*Pn,v=r.get("minAngle")*Pn,g=0;a.each(i,function(L){!isNaN(L)&&g++});var m=a.getSum(i),S=Math.PI/(m||g)*2,A=r.get("clockwise"),T=r.get("roseType"),C=r.get("stillShowZeroSum"),D=a.getDataExtent(i);D[0]=0;var _=ce,I=0,P=d,R=A?1:-1;if(a.setLayout({viewRect:o,r:p}),a.each(i,function(L,H){var E;if(isNaN(L))a.setItemLayout(H,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:A,cx:u,cy:c,r0:h,r:T?NaN:p});else{(E="area"!==T?0===m&&C?S:L*S:ce/g)<v?(E=v,_-=v):I+=L;var B=P+R*E;a.setItemLayout(H,{angle:E,startAngle:P,endAngle:B,clockwise:A,cx:u,cy:c,r0:h,r:T?(0,J.NU)(L,D,[h,p]):p}),P=B}}),_<ce&&g)if(_<=.001){var k=ce/g;a.each(i,function(L,H){if(!isNaN(L)){var E=a.getItemLayout(H);E.angle=k,E.startAngle=d+R*H*k,E.endAngle=d+R*(H+1)*k}})}else S=_/I,P=d,a.each(i,function(L,H){if(!isNaN(L)){var E=a.getItemLayout(H),B=E.angle===v?v:L*S;E.startAngle=P,E.endAngle=P+R*B,P+=R*B}})})}var Y=b(8299),yt=b(2054),tt=b(5271),Zn=b(2459),Ln=b(117),nt=b(6499),Di=b(2752),Rn=b(7881),pe=b(8673),_i=b(1508),Oi=Math.PI/180;function kn(e,n,t,r,a,i,o,l,u,c){if(!(e.length<2)){for(var d=e.length,v=0;v<d;v++)"outer"===e[v].position&&"labelLine"===e[v].labelAlignTo&&(e[v].linePoints[1][0]+=e[v].label.x-c,e[v].label.x=c);(0,_i.GI)(e,u,u+o)&&function h(m){for(var S={list:[],maxY:0},A={list:[],maxY:0},T=0;T<m.length;T++)if("none"===m[T].labelAlignTo){var C=m[T],D=C.label.y>t?A:S,_=Math.abs(C.label.y-t);if(_>=D.maxY){var I=C.label.x-n-C.len2*a,P=r+C.len,R=Math.abs(I)<P?Math.sqrt(_*_/(1-I*I/P/P)):P;D.rB=R,D.maxY=_}D.list.push(C)}p(S),p(A)}(e)}function p(m){for(var S=m.rB,A=S*S,T=0;T<m.list.length;T++){var C=m.list[T],D=Math.abs(C.label.y-t),_=r+C.len,I=_*_,P=Math.sqrt((1-Math.abs(D*D/A))*I),R=n+(P+C.len2)*a;zn(C,C.targetTextWidth-(R-C.label.x)*a,!0),C.label.x=R}}}function zn(e,n,t){if(void 0===t&&(t=!1),null==e.labelStyleWidth){var r=e.label,a=r.style,i=e.rect,o=a.backgroundColor,l=a.padding,u=l?l[1]+l[3]:0,c=a.overflow,p=i.width+(o?0:u);if(n<p||t){var h=i.height;if(c&&c.match("break")){r.setStyle("backgroundColor",null),r.setStyle("width",n-u);var d=r.getBoundingRect();r.setStyle("width",Math.ceil(d.width)),r.setStyle("backgroundColor",o)}else{var v=n-u;r.setStyle("width",n<p?v:t?v>e.unconstrainedWidth?null:v:null)}var m=r.getBoundingRect();i.width=m.width,i.height=m.height+((r.style.margin||0)+2.1),i.y-=(i.height-h)/2}}}function Ne(e){return"center"===e.position}var Ct=b(4258),fe=b(2377),Ii=function(e){function n(t,r,a){var i=e.call(this)||this;i.z2=2;var o=new yt.ZP;return i.setTextContent(o),i.updateData(t,r,a,!0),i}return(0,Y.ZT)(n,e),n.prototype.updateData=function(t,r,a,i){var o=this,l=t.hostModel,u=t.getItemModel(r),c=u.getModel("emphasis"),p=t.getItemLayout(r),h=(0,f.extend)((0,fe.T)(u.getModel("itemStyle"),p,!0),p);if(isNaN(h.startAngle))o.setShape(h);else{if(i){o.setShape(h);var d=l.getShallow("animationType");l.ecModel.ssr?(tt.KZ(o,{scaleX:0,scaleY:0},l,{dataIndex:r,isFrom:!0}),o.originX=h.cx,o.originY=h.cy):"scale"===d?(o.shape.r=p.r0,tt.KZ(o,{shape:{r:p.r}},l,r)):null!=a?(o.setShape({startAngle:a,endAngle:a}),tt.KZ(o,{shape:{startAngle:p.startAngle,endAngle:p.endAngle}},l,r)):(o.shape.endAngle=p.startAngle,tt.D(o,{shape:{endAngle:p.endAngle}},l,r))}else(0,tt.Zi)(o),tt.D(o,{shape:h},l,r);o.useStyle(t.getItemVisual(r,"style")),(0,nt.WO)(o,u);var v=(p.startAngle+p.endAngle)/2,g=l.get("selectedOffset"),m=Math.cos(v)*g,S=Math.sin(v)*g,A=u.getShallow("cursor");A&&o.attr("cursor",A),this._updateLabel(l,t,r),o.ensureState("emphasis").shape=(0,f.extend)({r:p.r+(c.get("scale")&&c.get("scaleSize")||0)},(0,fe.T)(c.getModel("itemStyle"),p)),(0,f.extend)(o.ensureState("select"),{x:m,y:S,shape:(0,fe.T)(u.getModel(["select","itemStyle"]),p)}),(0,f.extend)(o.ensureState("blur"),{shape:(0,fe.T)(u.getModel(["blur","itemStyle"]),p)});var T=o.getTextGuideLine(),C=o.getTextContent();T&&(0,f.extend)(T.ensureState("select"),{x:m,y:S}),(0,f.extend)(C.ensureState("select"),{x:m,y:S}),(0,nt.k5)(this,c.get("focus"),c.get("blurScope"),c.get("disabled"))}},n.prototype._updateLabel=function(t,r,a){var i=this,o=r.getItemModel(a),l=o.getModel("labelLine"),u=r.getItemVisual(a,"style"),c=u&&u.fill,p=u&&u.opacity;(0,Ct.ni)(i,(0,Ct.k3)(o),{labelFetcher:r.hostModel,labelDataIndex:a,inheritColor:c,defaultOpacity:p,defaultText:t.getFormattedLabel(a,"normal")||r.getName(a)});var h=i.getTextContent();i.setTextConfig({position:null,rotation:null}),h.attr({z2:10});var d=t.get(["label","position"]);if("outside"!==d&&"outer"!==d)i.removeTextGuideLine();else{var v=this.getTextGuideLine();v||(v=new Zn.Z,this.setTextGuideLine(v)),(0,pe.Iu)(this,(0,pe.$x)(o),{stroke:c,opacity:(0,f.retrieve3)(l.get(["lineStyle","opacity"]),p,1)})}},n}(Ln.C);const Zi=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.ignoreLabelLineUpdate=!0,t}return(0,Y.ZT)(n,e),n.prototype.render=function(t,r,a,i){var c,o=t.getData(),l=this._data,u=this.group;if(!l&&o.count()>0){for(var p=o.getItemLayout(0),h=1;isNaN(p&&p.startAngle)&&h<o.count();++h)p=o.getItemLayout(h);p&&(c=p.startAngle)}if(this._emptyCircleSector&&u.remove(this._emptyCircleSector),0===o.count()&&t.get("showEmptyCircle")){var d=new Ln.C({shape:Nn(t,a)});d.useStyle(t.getModel("emptyCircleStyle").getItemStyle()),this._emptyCircleSector=d,u.add(d)}o.diff(l).add(function(v){var g=new Ii(o,v,c);o.setItemGraphicEl(v,g),u.add(g)}).update(function(v,g){var m=l.getItemGraphicEl(g);m.updateData(o,v,c),m.off("click"),u.add(m),o.setItemGraphicEl(v,m)}).remove(function(v){var g=l.getItemGraphicEl(v);tt.XD(g,t,v)}).execute(),function Pi(e){var r,a,n=e.getData(),t=[],i=!1,o=(e.get("minShowLabelAngle")||0)*Oi,l=n.getLayout("viewRect"),u=n.getLayout("r"),c=l.width,p=l.x,h=l.y,d=l.height;function v(I){I.ignore=!0}n.each(function(I){var P=n.getItemGraphicEl(I),R=P.shape,k=P.getTextContent(),L=P.getTextGuideLine(),H=n.getItemModel(I),E=H.getModel("label"),B=E.get("position")||H.get(["emphasis","label","position"]),Q=E.get("distanceToLabelLine"),it=E.get("alignTo"),ht=(0,J.GM)(E.get("edgeDistance"),c),xt=E.get("bleedMargin"),Nt=H.getModel("labelLine"),bt=Nt.get("length");bt=(0,J.GM)(bt,c);var Gt=Nt.get("length2");if(Gt=(0,J.GM)(Gt,c),Math.abs(R.endAngle-R.startAngle)<o)return(0,f.each)(k.states,v),k.ignore=!0,void(L&&((0,f.each)(L.states,v),L.ignore=!0));if(function g(I){if(!I.ignore)return!0;for(var P in I.states)if(!1===I.states[P].ignore)return!0;return!1}(k)){var gt,Zt,Me,Ht,jt=(R.startAngle+R.endAngle)/2,X=Math.cos(jt),pt=Math.sin(jt);r=R.cx,a=R.cy;var ot="inside"===B||"inner"===B;if("center"===B)gt=R.cx,Zt=R.cy,Ht="center";else{var St=(ot?(R.r+R.r0)/2*X:R.r*X)+r,Wt=(ot?(R.r+R.r0)/2*pt:R.r*pt)+a;if(gt=St+3*X,Zt=Wt+3*pt,!ot){var Lt=St+X*(bt+u-R.r),De=Wt+pt*(bt+u-R.r),Yt=Lt+(X<0?-1:1)*Gt;gt="edge"===it?X<0?p+ht:p+c-ht:Yt+(X<0?-Q:Q),Zt=De,Me=[[St,Wt],[Lt,De],[Yt,De]]}Ht=ot?"center":"edge"===it?X>0?"right":"left":X>0?"left":"right"}var Tt=Math.PI,st=0,mt=E.get("rotate");if((0,f.isNumber)(mt))st=mt*(Tt/180);else if("center"===B)st=0;else if("radial"===mt||!0===mt)st=X<0?-jt+Tt:-jt;else if("tangential"===mt&&"outside"!==B&&"outer"!==B){var lt=Math.atan2(X,pt);lt<0&&(lt=2*Tt+lt),pt>0&&(lt=Tt+lt),st=lt-Tt}if(i=!!st,k.x=gt,k.y=Zt,k.rotation=st,k.setStyle({verticalAlign:"middle"}),ot){k.setStyle({align:Ht});var An=k.states.select;An&&(An.x+=k.x,An.y+=k.y)}else{var At=k.getBoundingRect().clone();At.applyTransform(k.getComputedTransform());var ya=(k.style.margin||0)+2.1;At.y-=ya/2,At.height+=ya,t.push({label:k,labelLine:L,position:B,len:bt,len2:Gt,minTurnAngle:Nt.get("minTurnAngle"),maxSurfaceAngle:Nt.get("maxSurfaceAngle"),surfaceNormal:new Rn.Z(X,pt),linePoints:Me,textAlign:Ht,labelDistance:Q,labelAlignTo:it,edgeDistance:ht,bleedMargin:xt,rect:At,unconstrainedWidth:At.width,labelStyleWidth:k.style.width})}P.setTextConfig({inside:ot})}}),!i&&e.get("avoidLabelOverlap")&&function wi(e,n,t,r,a,i,o,l){for(var u=[],c=[],p=Number.MAX_VALUE,h=-Number.MAX_VALUE,d=0;d<e.length;d++){var v=e[d].label;Ne(e[d])||(v.x<n?(p=Math.min(p,v.x),u.push(e[d])):(h=Math.max(h,v.x),c.push(e[d])))}for(d=0;d<e.length;d++)if(!Ne(g=e[d])&&g.linePoints){if(null!=g.labelStyleWidth)continue;v=g.label;var S,m=g.linePoints;g.targetTextWidth=S="edge"===g.labelAlignTo?v.x<n?m[2][0]-g.labelDistance-o-g.edgeDistance:o+a-g.edgeDistance-m[2][0]-g.labelDistance:"labelLine"===g.labelAlignTo?v.x<n?p-o-g.bleedMargin:o+a-h-g.bleedMargin:v.x<n?v.x-o-g.bleedMargin:o+a-v.x-g.bleedMargin,zn(g,S)}for(kn(c,n,t,r,1,0,i,0,l,h),kn(u,n,t,r,-1,0,i,0,l,p),d=0;d<e.length;d++){var g;if(!Ne(g=e[d])&&g.linePoints){var T=(v=g.label).style.padding,_=g.rect.width+(v.style.backgroundColor?0:T?T[1]+T[3]:0),I=(m=g.linePoints)[1][0]-m[2][0];"edge"===g.labelAlignTo?m[2][0]=v.x<n?o+g.edgeDistance+_+g.labelDistance:o+a-g.edgeDistance-_-g.labelDistance:(m[2][0]=v.x<n?v.x+g.labelDistance:v.x-g.labelDistance,m[1][0]=m[2][0]+I),m[1][1]=m[2][1]=v.y}}}(t,r,a,u,c,d,p,h);for(var m=0;m<t.length;m++){var S=t[m],A=S.label,T=S.labelLine,C=isNaN(A.x)||isNaN(A.y);if(A){A.setStyle({align:S.textAlign}),C&&((0,f.each)(A.states,v),A.ignore=!0);var D=A.states.select;D&&(D.x+=A.x,D.y+=A.y)}if(T){var _=S.linePoints;C||!_?((0,f.each)(T.states,v),T.ignore=!0):((0,pe.qK)(_,S.minTurnAngle),(0,pe._A)(_,S.surfaceNormal,S.maxSurfaceAngle),T.setShape({points:_}),A.__hostTarget.textGuideLineConfig={anchor:new Rn.Z(_[0][0],_[0][1])})}}}(t),"expansion"!==t.get("animationTypeUpdate")&&(this._data=o)},n.prototype.dispose=function(){},n.prototype.containPoint=function(t,r){var i=r.getData().getItemLayout(0);if(i){var o=t[0]-i.cx,l=t[1]-i.cy,u=Math.sqrt(o*o+l*l);return u<=i.r&&u>=i.r0}},n.type="pie",n}(Di.Z);var Li=b(2596),Bn=b(6735),q=b(6496),ki=b(9475);const Bi=function(){function e(n,t){this._getDataWithEncodedVisual=n,this._getRawData=t}return e.prototype.getAllNames=function(){var n=this._getRawData();return n.mapArray(n.getName)},e.prototype.containName=function(n){return this._getRawData().indexOfName(n)>=0},e.prototype.indexOfName=function(n){return this._getDataWithEncodedVisual().indexOfName(n)},e.prototype.getItemVisual=function(n,t){return this._getDataWithEncodedVisual().getItemVisual(n,t)},e}();var Ui=b(9740),Ei=q.Yf();const Fi=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,Y.ZT)(n,e),n.prototype.init=function(t){e.prototype.init.apply(this,arguments),this.legendVisualProvider=new Bi(f.bind(this.getData,this),f.bind(this.getRawData,this)),this._defaultLabelLine(t)},n.prototype.mergeOption=function(){e.prototype.mergeOption.apply(this,arguments)},n.prototype.getInitialData=function(){return function Ri(e,n,t){n=(0,f.isArray)(n)&&{coordDimensions:n}||(0,f.extend)({encodeDefine:e.getEncode()},n);var r=e.getSource(),a=(0,Li.Z)(r,n).dimensions,i=new Bn.Z(a,e);return i.initData(r,t),i}(this,{coordDimensions:["value"],encodeDefaulter:f.curry(ki.Ss,this)})},n.prototype.getDataParams=function(t){var r=this.getData(),a=Ei(r),i=a.seats;if(!i){var o=[];r.each(r.mapDimension("value"),function(u){o.push(u)}),i=a.seats=(0,J.HD)(o,r.hostModel.get("percentPrecision"))}var l=e.prototype.getDataParams.call(this,t);return l.percent=i[t]||0,l.$vars.push("percent"),l},n.prototype._defaultLabelLine=function(t){q.Cc(t,"labelLine",["show"]);var r=t.labelLine,a=t.emphasis.labelLine;r.show=r.show&&t.label.show,a.show=a.show&&t.emphasis.label.show},n.type="series.pie",n.defaultOption={z:2,legendHoverLink:!0,colorBy:"data",center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:0,show:!0,overflow:"truncate",position:"outer",alignTo:"none",edgeDistance:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,minTurnAngle:90,maxSurfaceAngle:90,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1,borderJoin:"round"},showEmptyCircle:!0,emptyCircleStyle:{color:"lightgray",opacity:1},labelLayout:{hideOverlap:!0},emphasis:{scale:!0,scaleSize:5},avoidLabelOverlap:!0,animationType:"expansion",animationDuration:1e3,animationTypeUpdate:"transition",animationEasingUpdate:"cubicInOut",animationDurationUpdate:500,animationEasing:"cubicInOut"},n}(Ui.Z);var Hi=b(4027),Un=b(2590),Kt=b(562);const Ze=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.layoutMode={type:"box",ignoreSize:!0},t}return(0,Y.ZT)(n,e),n.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),t.selected=t.selected||{},this._updateSelector(t)},n.prototype.mergeOption=function(t,r){e.prototype.mergeOption.call(this,t,r),this._updateSelector(t)},n.prototype._updateSelector=function(t){var r=t.selector,a=this.ecModel;!0===r&&(r=t.selector=["all","inverse"]),f.isArray(r)&&f.each(r,function(i,o){f.isString(i)&&(i={type:i}),r[o]=f.merge(i,function(e,n){return"all"===n?{type:"all",title:e.getLocaleModel().get(["legend","selector","all"])}:"inverse"===n?{type:"inverse",title:e.getLocaleModel().get(["legend","selector","inverse"])}:void 0}(a,i.type))})},n.prototype.optionUpdated=function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var r=!1,a=0;a<t.length;a++){var i=t[a].get("name");if(this.isSelected(i)){this.select(i),r=!0;break}}!r&&this.select(t[0].get("name"))}},n.prototype._updateData=function(t){var r=[],a=[];t.eachRawSeries(function(u){var p;if(a.push(u.name),u.legendVisualProvider){var d=u.legendVisualProvider.getAllNames();t.isSeriesFiltered(u)||(a=a.concat(d)),d.length?r=r.concat(d):p=!0}else p=!0;p&&(0,q.yu)(u)&&r.push(u.name)}),this._availableNames=a;var i=this.get("data")||r,o=f.createHashMap(),l=f.map(i,function(u){return(f.isString(u)||f.isNumber(u))&&(u={name:u}),o.get(u.name)?null:(o.set(u.name,!0),new Un.Z(u,this,this.ecModel))},this);this._data=f.filter(l,function(u){return!!u})},n.prototype.getData=function(){return this._data},n.prototype.select=function(t){var r=this.option.selected;"single"===this.get("selectedMode")&&f.each(this._data,function(o){r[o.get("name")]=!1}),r[t]=!0},n.prototype.unSelect=function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},n.prototype.toggleSelected=function(t){var r=this.option.selected;r.hasOwnProperty(t)||(r[t]=!0),this[r[t]?"unSelect":"select"](t)},n.prototype.allSelect=function(){var r=this.option.selected;f.each(this._data,function(a){r[a.get("name",!0)]=!0})},n.prototype.inverseSelect=function(){var r=this.option.selected;f.each(this._data,function(a){var i=a.get("name",!0);r.hasOwnProperty(i)||(r[i]=!0),r[i]=!r[i]})},n.prototype.isSelected=function(t){var r=this.option.selected;return!(r.hasOwnProperty(t)&&!r[t])&&f.indexOf(this._availableNames,t)>=0},n.prototype.getOrient=function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},n.type="legend.plain",n.dependencies=["series"],n.defaultOption={z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,symbolRotate:"inherit",symbolKeepAspect:!0,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",inactiveBorderWidth:"auto",itemStyle:{color:"inherit",opacity:"inherit",borderColor:"inherit",borderWidth:"auto",borderCap:"inherit",borderJoin:"inherit",borderDashOffset:"inherit",borderMiterLimit:"inherit"},lineStyle:{width:"auto",color:"inherit",inactiveColor:"#ccc",inactiveWidth:2,opacity:"inherit",type:"inherit",cap:"inherit",join:"inherit",dashOffset:"inherit",miterLimit:"inherit"},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:"sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}},n}(Kt.Z);var En=b(2),Mt=b(4271),qt=b(2501),dt=b(4361),Ji=b(8597);function Vn(e,n){var t=Ji.MY(n.get("padding")),r=n.getItemStyle(["color","opacity"]);return r.fill=n.get("backgroundColor"),new qt.Z({shape:{x:e.x-t[3],y:e.y-t[0],width:e.width+t[1]+t[3],height:e.height+t[0]+t[2],r:n.get("borderRadius")},style:r,silent:!0,z2:-1})}var te=b(907),de=b(4869),$i=b(9128),zt=f.curry,Le=f.each,ve=Mt.Z;function Fn(e,n,t,r){ke(e,n,t,r),t.dispatchAction({type:"legendToggleSelect",name:null!=e?e:n}),Re(e,n,t,r)}function Gn(e){for(var t,n=e.getZr().storage.getDisplayList(),r=0,a=n.length;r<a&&!(t=n[r].states.emphasis);)r++;return t&&t.hoverLayer}function Re(e,n,t,r){Gn(t)||t.dispatchAction({type:"highlight",seriesName:e,name:n,excludeSeriesId:r})}function ke(e,n,t,r){Gn(t)||t.dispatchAction({type:"downplay",seriesName:e,name:n,excludeSeriesId:r})}const jn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.newlineDisabled=!1,t}return(0,Y.ZT)(n,e),n.prototype.init=function(){this.group.add(this._contentGroup=new ve),this.group.add(this._selectorGroup=new ve),this._isFirstRender=!0},n.prototype.getContentGroup=function(){return this._contentGroup},n.prototype.getSelectorGroup=function(){return this._selectorGroup},n.prototype.render=function(t,r,a){var i=this._isFirstRender;if(this._isFirstRender=!1,this.resetInner(),t.get("show",!0)){var o=t.get("align"),l=t.get("orient");(!o||"auto"===o)&&(o="right"===t.get("left")&&"vertical"===l?"right":"left");var u=t.get("selector",!0),c=t.get("selectorPosition",!0);u&&(!c||"auto"===c)&&(c="horizontal"===l?"end":"start"),this.renderInner(o,t,r,a,u,l,c);var p=t.getBoxLayoutParams(),h={width:a.getWidth(),height:a.getHeight()},d=t.get("padding"),v=et.ME(p,h,d),g=this.layoutInner(t,o,v,i,u,c),m=et.ME(f.defaults({width:g.width,height:g.height},p),h,d);this.group.x=m.x-g.x,this.group.y=m.y-g.y,this.group.markRedraw(),this.group.add(this._backgroundEl=Vn(g,t))}},n.prototype.resetInner=function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},n.prototype.renderInner=function(t,r,a,i,o,l,u){var c=this.getContentGroup(),p=f.createHashMap(),h=r.get("selectedMode"),d=[];a.eachRawSeries(function(v){!v.get("legendHoverLink")&&d.push(v.id)}),Le(r.getData(),function(v,g){var m=v.get("name");if(!this.newlineDisabled&&(""===m||"\n"===m)){var S=new ve;return S.newline=!0,void c.add(S)}var A=a.getSeriesByName(m)[0];if(!p.get(m))if(A){var T=A.getData(),C=T.getVisual("legendLineStyle")||{},D=T.getVisual("legendIcon"),_=T.getVisual("style");this._createItem(A,m,g,v,r,t,C,_,D,h,i).on("click",zt(Fn,m,null,i,d)).on("mouseover",zt(Re,A.name,null,i,d)).on("mouseout",zt(ke,A.name,null,i,d)),p.set(m,!0)}else a.eachRawSeries(function(P){if(!p.get(m)&&P.legendVisualProvider){var R=P.legendVisualProvider;if(!R.containName(m))return;var k=R.indexOfName(m),L=R.getItemVisual(k,"style"),H=R.getItemVisual(k,"legendIcon"),E=(0,En.parse)(L.fill);E&&0===E[3]&&(E[3]=.2,L=f.extend(f.extend({},L),{fill:(0,En.stringify)(E,"rgba")})),this._createItem(P,m,g,v,r,t,{},L,H,h,i).on("click",zt(Fn,null,m,i,d)).on("mouseover",zt(Re,null,m,i,d)).on("mouseout",zt(ke,null,m,i,d)),p.set(m,!0)}},this)},this),o&&this._createSelector(o,r,i,l,u)},n.prototype._createSelector=function(t,r,a,i,o){var l=this.getSelectorGroup();Le(t,function(c){var p=c.type,h=new yt.ZP({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){a.dispatchAction({type:"all"===p?"legendAllSelect":"legendInverseSelect"})}});l.add(h);var d=r.getModel("selectorLabel"),v=r.getModel(["emphasis","selectorLabel"]);(0,Ct.ni)(h,{normal:d,emphasis:v},{defaultText:c.title}),(0,nt.vF)(h)})},n.prototype._createItem=function(t,r,a,i,o,l,u,c,p,h,d){var v=t.visualDrawType,g=o.get("itemWidth"),m=o.get("itemHeight"),S=o.isSelected(r),A=i.get("symbolRotate"),T=i.get("symbolKeepAspect"),C=i.get("icon"),D=function Ki(e,n,t,r,a,i,o){function l(S,A){"auto"===S.lineWidth&&(S.lineWidth=A.lineWidth>0?2:0),Le(S,function(T,C){"inherit"===S[C]&&(S[C]=A[C])})}var u=n.getModel("itemStyle"),c=u.getItemStyle(),p=0===e.lastIndexOf("empty",0)?"fill":"stroke",h=u.getShallow("decal");c.decal=h&&"inherit"!==h?(0,$i.I)(h,o):r.decal,"inherit"===c.fill&&(c.fill=r[a]),"inherit"===c.stroke&&(c.stroke=r[p]),"inherit"===c.opacity&&(c.opacity=("fill"===a?r:t).opacity),l(c,r);var d=n.getModel("lineStyle"),v=d.getLineStyle();if(l(v,t),"auto"===c.fill&&(c.fill=r.fill),"auto"===c.stroke&&(c.stroke=r.fill),"auto"===v.stroke&&(v.stroke=r.fill),!i){var g=n.get("inactiveBorderWidth");c.lineWidth="auto"===g?r.lineWidth>0&&c[p]?2:0:c.lineWidth,c.fill=n.get("inactiveColor"),c.stroke=n.get("inactiveBorderColor"),v.stroke=d.get("inactiveColor"),v.lineWidth=d.get("inactiveWidth")}return{itemStyle:c,lineStyle:v}}(p=C||p||"roundRect",i,u,c,v,S,d),_=new ve,I=i.getModel("textStyle");if(!f.isFunction(t.getLegendIcon)||C&&"inherit"!==C){var P="inherit"===C&&t.getData().getVisual("symbol")?"inherit"===A?t.getData().getVisual("symbolRotate"):A:0;_.add(function qi(e){var n=e.icon||"roundRect",t=(0,de.th)(n,0,0,e.itemWidth,e.itemHeight,e.itemStyle.fill,e.symbolKeepAspect);return t.setStyle(e.itemStyle),t.rotation=(e.iconRotate||0)*Math.PI/180,t.setOrigin([e.itemWidth/2,e.itemHeight/2]),n.indexOf("empty")>-1&&(t.style.stroke=t.style.fill,t.style.fill="#fff",t.style.lineWidth=2),t}({itemWidth:g,itemHeight:m,icon:p,iconRotate:P,itemStyle:D.itemStyle,lineStyle:D.lineStyle,symbolKeepAspect:T}))}else _.add(t.getLegendIcon({itemWidth:g,itemHeight:m,icon:p,iconRotate:A,itemStyle:D.itemStyle,lineStyle:D.lineStyle,symbolKeepAspect:T}));var R="left"===l?g+5:-5,k=l,L=o.get("formatter"),H=r;f.isString(L)&&L?H=L.replace("{name}",null!=r?r:""):f.isFunction(L)&&(H=L(r));var E=S?I.getTextColor():i.get("inactiveColor");_.add(new yt.ZP({style:(0,Ct.Lr)(I,{text:H,x:R,y:m/2,fill:E,align:k,verticalAlign:"middle"},{inheritColor:E})}));var B=new qt.Z({shape:_.getBoundingRect(),invisible:!0}),Q=i.getModel("tooltip");return Q.get("show")&&dt.setTooltipConfig({el:B,componentModel:o,itemName:r,itemTooltipOption:Q.option}),_.add(B),_.eachChild(function(it){it.silent=!0}),B.silent=!h,this.getContentGroup().add(_),(0,nt.vF)(_),_.__legendDataIndex=a,_},n.prototype.layoutInner=function(t,r,a,i,o,l){var u=this.getContentGroup(),c=this.getSelectorGroup();et.BZ(t.get("orient"),u,t.get("itemGap"),a.width,a.height);var p=u.getBoundingRect(),h=[-p.x,-p.y];if(c.markRedraw(),u.markRedraw(),o){et.BZ("horizontal",c,t.get("selectorItemGap",!0));var d=c.getBoundingRect(),v=[-d.x,-d.y],g=t.get("selectorButtonGap",!0),m=t.getOrient().index,S=0===m?"width":"height",A=0===m?"height":"width",T=0===m?"y":"x";"end"===l?v[m]+=p[S]+g:h[m]+=d[S]+g,v[1-m]+=p[A]/2-d[A]/2,c.x=v[0],c.y=v[1],u.x=h[0],u.y=h[1];var C={x:0,y:0};return C[S]=p[S]+g+d[S],C[A]=Math.max(p[A],d[A]),C[T]=Math.min(0,d[T]+v[1-m]),C}return u.x=h[0],u.y=h[1],this.group.getBoundingRect()},n.prototype.remove=function(){this.getContentGroup().removeAll(),this._isFirstRender=!0},n.type="legend.plain",n}(te.Z);function to(e){var n=e.findComponents({mainType:"legend"});n&&n.length&&e.filterSeries(function(t){for(var r=0;r<n.length;r++)if(!n[r].isSelected(t.name))return!1;return!0})}function ee(e,n,t){var i,r={},a="toggleSelected"===e;return t.eachComponent("legend",function(o){a&&null!=i?o[i?"select":"unSelect"](n.name):"allSelect"===e||"inverseSelect"===e?o[e]():(o[e](n.name),i=o.isSelected(n.name));var l=o.getData();(0,f.each)(l,function(u){var c=u.get("name");if("\n"!==c&&""!==c){var p=o.isSelected(c);r[c]=r.hasOwnProperty(c)?r[c]&&p:p}})}),"allSelect"===e||"inverseSelect"===e?{selected:r}:{name:n.name,selected:r}}function Hn(e){e.registerComponentModel(Ze),e.registerComponentView(jn),e.registerProcessor(e.PRIORITY.PROCESSOR.SERIES_FILTER,to),e.registerSubTypeDefaulter("legend",function(){return"plain"}),function eo(e){e.registerAction("legendToggleSelect","legendselectchanged",(0,f.curry)(ee,"toggleSelected")),e.registerAction("legendAllSelect","legendselectall",(0,f.curry)(ee,"allSelect")),e.registerAction("legendInverseSelect","legendinverseselect",(0,f.curry)(ee,"inverseSelect")),e.registerAction("legendSelect","legendselected",(0,f.curry)(ee,"select")),e.registerAction("legendUnSelect","legendunselected",(0,f.curry)(ee,"unSelect"))}(e)}var Wn=b(7692);function Yn(e,n,t){var a=[1,1];a[e.getOrient().index]=0,(0,et.dt)(n,t,{type:"box",ignoreSize:!!a})}const ro=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return(0,Y.ZT)(n,e),n.prototype.setScrollDataIndex=function(t){this.option.scrollDataIndex=t},n.prototype.init=function(t,r,a){var i=(0,et.tE)(t);e.prototype.init.call(this,t,r,a),Yn(this,t,i)},n.prototype.mergeOption=function(t,r){e.prototype.mergeOption.call(this,t,r),Yn(this,this.option,t)},n.type="legend.scroll",n.defaultOption=(0,Wn.ZL)(Ze.defaultOption,{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800}),n}(Ze);var Jn=Mt.Z,ze=["width","height"],Be=["x","y"];const io=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.newlineDisabled=!0,t._currentIndex=0,t}return(0,Y.ZT)(n,e),n.prototype.init=function(){e.prototype.init.call(this),this.group.add(this._containerGroup=new Jn),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Jn)},n.prototype.resetInner=function(){e.prototype.resetInner.call(this),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},n.prototype.renderInner=function(t,r,a,i,o,l,u){var c=this;e.prototype.renderInner.call(this,t,r,a,i,o,l,u);var p=this._controllerGroup,h=r.get("pageIconSize",!0),d=f.isArray(h)?h:[h,h];g("pagePrev",0);var v=r.getModel("pageTextStyle");function g(m,S){var A=m+"DataIndex",T=dt.createIcon(r.get("pageIcons",!0)[r.getOrient().name][S],{onclick:f.bind(c._pageGo,c,A,r,i)},{x:-d[0]/2,y:-d[1]/2,width:d[0],height:d[1]});T.name=m,p.add(T)}p.add(new yt.ZP({name:"pageText",style:{text:"xx/xx",fill:v.getTextColor(),font:v.getFont(),verticalAlign:"middle",align:"center"},silent:!0})),g("pageNext",1)},n.prototype.layoutInner=function(t,r,a,i,o,l){var u=this.getSelectorGroup(),c=t.getOrient().index,p=ze[c],h=Be[c],d=ze[1-c],v=Be[1-c];o&&et.BZ("horizontal",u,t.get("selectorItemGap",!0));var g=t.get("selectorButtonGap",!0),m=u.getBoundingRect(),S=[-m.x,-m.y],A=f.clone(a);o&&(A[p]=a[p]-m[p]-g);var T=this._layoutContentAndController(t,i,A,c,p,d,v,h);if(o){if("end"===l)S[c]+=T[p]+g;else{var C=m[p]+g;S[c]-=C,T[h]-=C}T[p]+=m[p]+g,S[1-c]+=T[v]+T[d]/2-m[d]/2,T[d]=Math.max(T[d],m[d]),T[v]=Math.min(T[v],m[v]+S[1-c]),u.x=S[0],u.y=S[1],u.markRedraw()}return T},n.prototype._layoutContentAndController=function(t,r,a,i,o,l,u,c){var p=this.getContentGroup(),h=this._containerGroup,d=this._controllerGroup;et.BZ(t.get("orient"),p,t.get("itemGap"),i?a.width:null,i?null:a.height),et.BZ("horizontal",d,t.get("pageButtonItemGap",!0));var v=p.getBoundingRect(),g=d.getBoundingRect(),m=this._showController=v[o]>a[o],S=[-v.x,-v.y];r||(S[i]=p[c]);var A=[0,0],T=[-g.x,-g.y],C=f.retrieve2(t.get("pageButtonGap",!0),t.get("itemGap",!0));m&&("end"===t.get("pageButtonPosition",!0)?T[i]+=a[o]-g[o]:A[i]+=g[o]+C),T[1-i]+=v[l]/2-g[l]/2,p.setPosition(S),h.setPosition(A),d.setPosition(T);var _={x:0,y:0};if(_[o]=m?a[o]:v[o],_[l]=Math.max(v[l],g[l]),_[u]=Math.min(0,g[u]+T[1-i]),h.__rectSize=a[o],m){var I={x:0,y:0};I[o]=Math.max(a[o]-g[o]-C,0),I[l]=_[l],h.setClipPath(new qt.Z({shape:I})),h.__rectSize=I[o]}else d.eachChild(function(R){R.attr({invisible:!0,silent:!0})});var P=this._getPageInfo(t);return null!=P.pageIndex&&tt.D(p,{x:P.contentPosition[0],y:P.contentPosition[1]},m?t:null),this._updatePageInfoView(t,P),_},n.prototype._pageGo=function(t,r,a){var i=this._getPageInfo(r)[t];null!=i&&a.dispatchAction({type:"legendScroll",scrollDataIndex:i,legendId:r.id})},n.prototype._updatePageInfoView=function(t,r){var a=this._controllerGroup;f.each(["pagePrev","pageNext"],function(p){var d=null!=r[p+"DataIndex"],v=a.childOfName(p);v&&(v.setStyle("fill",t.get(d?"pageIconColor":"pageIconInactiveColor",!0)),v.cursor=d?"pointer":"default")});var i=a.childOfName("pageText"),o=t.get("pageFormatter"),l=r.pageIndex,u=null!=l?l+1:0,c=r.pageCount;i&&o&&i.setStyle("text",f.isString(o)?o.replace("{current}",null==u?"":u+"").replace("{total}",null==c?"":c+""):o({current:u,total:c}))},n.prototype._getPageInfo=function(t){var r=t.get("scrollDataIndex",!0),a=this.getContentGroup(),i=this._containerGroup.__rectSize,o=t.getOrient().index,l=ze[o],u=Be[o],c=this._findTargetItemIndex(r),p=a.children(),h=p[c],d=p.length,v=d?1:0,g={contentPosition:[a.x,a.y],pageCount:v,pageIndex:v-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!h)return g;var m=D(h);g.contentPosition[o]=-m.s;for(var S=c+1,A=m,T=m,C=null;S<=d;++S)(!(C=D(p[S]))&&T.e>A.s+i||C&&!_(C,A.s))&&(A=T.i>A.i?T:C)&&(null==g.pageNextDataIndex&&(g.pageNextDataIndex=A.i),++g.pageCount),T=C;for(S=c-1,A=m,T=m,C=null;S>=-1;--S)(!(C=D(p[S]))||!_(T,C.s))&&A.i<T.i&&(T=A,null==g.pagePrevDataIndex&&(g.pagePrevDataIndex=A.i),++g.pageCount,++g.pageIndex),A=C;return g;function D(I){if(I){var P=I.getBoundingRect(),R=P[u]+I[u];return{s:R,e:R+P[l],i:I.__legendDataIndex}}}function _(I,P){return I.e>=P&&I.s<=P+i}},n.prototype._findTargetItemIndex=function(t){return this._showController?(this.getContentGroup().eachChild(function(o,l){var u=o.__legendDataIndex;null==i&&null!=u&&(i=l),u===t&&(r=l)}),null!=r?r:i):0;var r,i},n.type="legend.scroll",n}(jn);function so(e){(0,Xt.D)(Hn),e.registerComponentModel(ro),e.registerComponentView(io),function oo(e){e.registerAction("legendScroll","legendscroll",function(n,t){var r=n.scrollDataIndex;null!=r&&t.eachComponent({mainType:"legend",subType:"scroll",query:n},function(a){a.setScrollDataIndex(r)})})}(e)}var Qn=b(8519),co=b(5699),$n=b(5735);function he(e){(0,q.Cc)(e,"label",["show"])}var ge=(0,q.Yf)(),Xn=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t.createdBySelf=!1,t}return(0,Y.ZT)(n,e),n.prototype.init=function(t,r,a){this.mergeDefaultAndTheme(t,a),this._mergeOption(t,a,!1,!0)},n.prototype.isAnimationEnabled=function(){if(Qn.Z.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},n.prototype.mergeOption=function(t,r){this._mergeOption(t,r,!1,!1)},n.prototype._mergeOption=function(t,r,a,i){var o=this.mainType;a||r.eachSeries(function(l){var u=l.get(this.mainType,!0),c=ge(l)[o];u&&u.data?(c?c._mergeOption(u,r,!0):(i&&he(u),f.each(u.data,function(p){p instanceof Array?(he(p[0]),he(p[1])):he(p)}),c=this.createMarkerModelFromSeries(u,this,r),f.extend(c,{mainType:this.mainType,seriesIndex:l.seriesIndex,name:l.name,createdBySelf:!0}),c.__hostSeries=l),ge(l)[o]=c):ge(l)[o]=null},this)},n.prototype.formatTooltip=function(t,r,a){var i=this.getData(),o=this.getRawValue(t),l=i.getName(t);return(0,$n.TX)("section",{header:this.name,blocks:[(0,$n.TX)("nameValue",{name:l,value:o,noName:!l,noValue:null==o})]})},n.prototype.getData=function(){return this._data},n.prototype.setData=function(t){this._data=t},n.getMarkerModelFromSeries=function(t,r){return ge(t)[r]},n.type="marker",n.dependencies=["series","grid","polar","geo"],n}(Kt.Z);f.mixin(Xn,co.X.prototype);const me=Xn,fo=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return(0,Y.ZT)(n,e),n.prototype.createMarkerModelFromSeries=function(t,r,a){return new n(t,r,a)},n.type="markPoint",n.defaultOption={z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}},n}(me);var Kn=b(9133),vo=b(23),Ue=b(1959);function go(e,n){this.parent.drift(e,n)}const mo=function(e){function n(t,r,a,i){var o=e.call(this)||this;return o.updateData(t,r,a,i),o}return(0,Y.ZT)(n,e),n.prototype._createSymbol=function(t,r,a,i,o){this.removeAll();var l=(0,de.th)(t,-1,-1,2,2,null,o);l.attr({z2:100,culling:!0,scaleX:i[0]/2,scaleY:i[1]/2}),l.drift=go,this._symbolType=t,this.add(l)},n.prototype.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(null,t)},n.prototype.getSymbolType=function(){return this._symbolType},n.prototype.getSymbolPath=function(){return this.childAt(0)},n.prototype.highlight=function(){(0,nt.fD)(this.childAt(0))},n.prototype.downplay=function(){(0,nt.Mh)(this.childAt(0))},n.prototype.setZ=function(t,r){var a=this.childAt(0);a.zlevel=t,a.z=r},n.prototype.setDraggable=function(t,r){var a=this.childAt(0);a.draggable=t,a.cursor=!r&&t?"move":a.cursor},n.prototype.updateData=function(t,r,a,i){this.silent=!1;var o=t.getItemVisual(r,"symbol")||"circle",l=t.hostModel,u=n.getSymbolSize(t,r),c=o!==this._symbolType,p=i&&i.disableAnimation;if(c){var h=t.getItemVisual(r,"symbolKeepAspect");this._createSymbol(o,t,r,u,h)}else{(d=this.childAt(0)).silent=!1;var v={scaleX:u[0]/2,scaleY:u[1]/2};p?d.attr(v):tt.D(d,v,l,r),(0,tt.Zi)(d)}if(this._updateCommon(t,r,u,a,i),c){var d=this.childAt(0);p||(v={scaleX:this._sizeX,scaleY:this._sizeY,style:{opacity:d.style.opacity}},d.scaleX=d.scaleY=0,d.style.opacity=0,tt.KZ(d,v,l,r))}p&&this.childAt(0).stopAnimation("leave")},n.prototype._updateCommon=function(t,r,a,i,o){var c,p,h,d,v,g,m,S,A,l=this.childAt(0),u=t.hostModel;if(i&&(c=i.emphasisItemStyle,p=i.blurItemStyle,h=i.selectItemStyle,d=i.focus,v=i.blurScope,m=i.labelStatesModels,S=i.hoverScale,A=i.cursorStyle,g=i.emphasisDisabled),!i||t.hasItemOption){var T=i&&i.itemModel?i.itemModel:t.getItemModel(r),C=T.getModel("emphasis");c=C.getModel("itemStyle").getItemStyle(),h=T.getModel(["select","itemStyle"]).getItemStyle(),p=T.getModel(["blur","itemStyle"]).getItemStyle(),d=C.get("focus"),v=C.get("blurScope"),g=C.get("disabled"),m=(0,Ct.k3)(T),S=C.getShallow("scale"),A=T.getShallow("cursor")}var D=t.getItemVisual(r,"symbolRotate");l.attr("rotation",(D||0)*Math.PI/180||0);var _=(0,de.Cq)(t.getItemVisual(r,"symbolOffset"),a);_&&(l.x=_[0],l.y=_[1]),A&&l.attr("cursor",A);var I=t.getItemVisual(r,"style"),P=I.fill;if(l instanceof Ue.ZP){var R=l.style;l.useStyle((0,f.extend)({image:R.image,x:R.x,y:R.y,width:R.width,height:R.height},I))}else l.useStyle(l.__isEmptyBrush?(0,f.extend)({},I):I),l.style.decal=null,l.setColor(P,o&&o.symbolInnerColor),l.style.strokeNoScale=!0;var k=t.getItemVisual(r,"liftZ"),L=this._z2;null!=k?null==L&&(this._z2=l.z2,l.z2+=k):null!=L&&(l.z2=L,this._z2=null);var H=o&&o.useNameLabel;(0,Ct.ni)(l,m,{labelFetcher:u,labelDataIndex:r,defaultText:function E(it){return H?t.getName(it):(0,vo.H)(t,it)},inheritColor:P,defaultOpacity:I.opacity}),this._sizeX=a[0]/2,this._sizeY=a[1]/2;var B=l.ensureState("emphasis");B.style=c,l.ensureState("select").style=h,l.ensureState("blur").style=p;var Q=null==S||!0===S?Math.max(1.1,3/this._sizeY):isFinite(S)&&S>0?+S:1;B.scaleX=this._sizeX*Q,B.scaleY=this._sizeY*Q,this.setSymbolScale(1),(0,nt.k5)(this,d,v,g)},n.prototype.setSymbolScale=function(t){this.scaleX=this.scaleY=t},n.prototype.fadeOut=function(t,r,a){var i=this.childAt(0),o=(0,Kn.A)(this).dataIndex,l=a&&a.animation;if(this.silent=i.silent=!0,a&&a.fadeLabel){var u=i.getTextContent();u&&tt.bX(u,{style:{opacity:0}},r,{dataIndex:o,removeOpt:l,cb:function(){i.removeTextContent()}})}else i.removeTextContent();tt.bX(i,{style:{opacity:0},scaleX:0,scaleY:0},r,{dataIndex:o,cb:t,removeOpt:l})},n.getSymbolSize=function(t,r){return(0,de.zp)(t.getItemVisual(r,"symbolSize"))},n}(Mt.Z);function Ee(e,n,t,r){return n&&!isNaN(n[0])&&!isNaN(n[1])&&!(r.isIgnore&&r.isIgnore(t))&&!(r.clipShape&&!r.clipShape.contain(n[0],n[1]))&&"none"!==e.getItemVisual(t,"symbol")}function qn(e){return null!=e&&!(0,f.isObject)(e)&&(e={isIgnore:e}),e||{}}function tr(e){var n=e.hostModel,t=n.getModel("emphasis");return{emphasisItemStyle:t.getModel("itemStyle").getItemStyle(),blurItemStyle:n.getModel(["blur","itemStyle"]).getItemStyle(),selectItemStyle:n.getModel(["select","itemStyle"]).getItemStyle(),focus:t.get("focus"),blurScope:t.get("blurScope"),emphasisDisabled:t.get("disabled"),hoverScale:t.get("scale"),labelStatesModels:(0,Ct.k3)(n),cursorStyle:n.get("cursor")}}const xo=function(){function e(n){this.group=new Mt.Z,this._SymbolCtor=n||mo}return e.prototype.updateData=function(n,t){this._progressiveEls=null,t=qn(t);var r=this.group,a=n.hostModel,i=this._data,o=this._SymbolCtor,l=t.disableAnimation,u=tr(n),c={disableAnimation:l},p=t.getSymbolPoint||function(h){return n.getItemLayout(h)};i||r.removeAll(),n.diff(i).add(function(h){var d=p(h);if(Ee(n,d,h,t)){var v=new o(n,h,u,c);v.setPosition(d),n.setItemGraphicEl(h,v),r.add(v)}}).update(function(h,d){var v=i.getItemGraphicEl(d),g=p(h);if(Ee(n,g,h,t)){var m=n.getItemVisual(h,"symbol")||"circle",S=v&&v.getSymbolType&&v.getSymbolType();if(!v||S&&S!==m)r.remove(v),(v=new o(n,h,u,c)).setPosition(g);else{v.updateData(n,h,u,c);var A={x:g[0],y:g[1]};l?v.attr(A):tt.D(v,A,a)}r.add(v),n.setItemGraphicEl(h,v)}else r.remove(v)}).remove(function(h){var d=i.getItemGraphicEl(h);d&&d.fadeOut(function(){r.remove(d)},a)}).execute(),this._getSymbolPoint=p,this._data=n},e.prototype.updateLayout=function(){var n=this,t=this._data;t&&t.eachItemGraphicEl(function(r,a){var i=n._getSymbolPoint(a);r.setPosition(i),r.markRedraw()})},e.prototype.incrementalPrepareUpdate=function(n){this._seriesScope=tr(n),this._data=null,this.group.removeAll()},e.prototype.incrementalUpdate=function(n,t,r){function a(u){u.isGroup||(u.incremental=!0,u.ensureState("emphasis").hoverLayer=!0)}this._progressiveEls=[],r=qn(r);for(var i=n.start;i<n.end;i++){var o=t.getItemLayout(i);if(Ee(t,o,i,r)){var l=new this._SymbolCtor(t,i,this._seriesScope);l.traverse(a),l.setPosition(o),this.group.add(l),t.setItemGraphicEl(i,l),this._progressiveEls.push(l)}}},e.prototype.eachRendered=function(n){dt.traverseElements(this._progressiveEls||this.group,n)},e.prototype.remove=function(n){var t=this.group,r=this._data;r&&n?r.eachItemGraphicEl(function(a){a.fadeOut(function(){t.remove(a)},r.hostModel)}):t.removeAll()},e}();var bo=b(6018),er=b(8186);function ye(e,n,t,r,a,i){var o=[],u=(0,bo.M)(n,r)?n.getCalculationInfo("stackResultDimension"):r,c=nr(n,u,e),p=n.indicesOfNearest(u,c)[0];o[a]=n.get(t,p),o[i]=n.get(u,p);var h=n.get(r,p),d=J.p8(n.get(r,p));return(d=Math.min(d,20))>=0&&(o[i]=+o[i].toFixed(d)),[o,h]}var Fe={min:(0,f.curry)(ye,"min"),max:(0,f.curry)(ye,"max"),average:(0,f.curry)(ye,"average"),median:(0,f.curry)(ye,"median")};function To(e,n){if(n){var t=e.getData(),r=e.coordinateSystem,a=r&&r.dimensions;if(!function So(e){return!isNaN(parseFloat(e.x))&&!isNaN(parseFloat(e.y))}(n)&&!(0,f.isArray)(n.coord)&&(0,f.isArray)(a)){var i=function Ao(e,n,t,r){var a={};return null!=e.valueIndex||null!=e.valueDim?(a.valueDataDim=null!=e.valueIndex?n.getDimension(e.valueIndex):e.valueDim,a.valueAxis=t.getAxis(function Co(e,n){var t=e.getData().getDimensionInfo(n);return t&&t.coordDim}(r,a.valueDataDim)),a.baseAxis=t.getOtherAxis(a.valueAxis),a.baseDataDim=n.mapDimension(a.baseAxis.dim)):(a.baseAxis=r.getBaseAxis(),a.valueAxis=t.getOtherAxis(a.baseAxis),a.baseDataDim=n.mapDimension(a.baseAxis.dim),a.valueDataDim=n.mapDimension(a.valueAxis.dim)),a}(n,t,r,e);if((n=(0,f.clone)(n)).type&&Fe[n.type]&&i.baseAxis&&i.valueAxis){var o=(0,f.indexOf)(a,i.baseAxis.dim),l=(0,f.indexOf)(a,i.valueAxis.dim),u=Fe[n.type](t,i.baseDataDim,i.valueDataDim,o,l);n.coord=u[0],n.value=u[1]}else n.coord=[null!=n.xAxis?n.xAxis:n.radiusAxis,null!=n.yAxis?n.yAxis:n.angleAxis]}if(null!=n.coord&&(0,f.isArray)(a))for(var c=n.coord,p=0;p<2;p++)Fe[c[p]]&&(c[p]=nr(t,t.mapDimension(a[p]),c[p]));else n.coord=[];return n}}function Mo(e,n){return!(e&&e.containData&&n.coord&&!function Ve(e){return!(isNaN(parseFloat(e.x))&&isNaN(parseFloat(e.y)))}(n))||e.containData(n.coord)}function nr(e,n,t){if("average"===t){var r=0,a=0;return e.each(n,function(i,o){isNaN(i)||(r+=i,a++)}),r/a}return"median"===t?e.getMedian(n):e.getDataExtent(n)["max"===t?1:0]}var Ge=(0,q.Yf)();const Oo=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return(0,Y.ZT)(n,e),n.prototype.init=function(){this.markerGroupMap=(0,f.createHashMap)()},n.prototype.render=function(t,r,a){var i=this,o=this.markerGroupMap;o.each(function(l){Ge(l).keep=!1}),r.eachSeries(function(l){var u=me.getMarkerModelFromSeries(l,i.type);u&&i.renderSeries(l,u,r,a)}),o.each(function(l){!Ge(l).keep&&i.group.remove(l.group)})},n.prototype.markKeep=function(t){Ge(t).keep=!0},n.prototype.toggleBlurSeries=function(t,r){var a=this;(0,f.each)(t,function(i){var o=me.getMarkerModelFromSeries(i,a.type);o&&o.getData().eachItemGraphicEl(function(u){u&&(r?(0,nt.SX)(u):(0,nt.VP)(u))})})},n.type="marker",n}(te.Z);var wo=b(7248);function rr(e,n,t){var r=n.coordinateSystem;e.each(function(a){var o,i=e.getItemModel(a),l=J.GM(i.get("x"),t.getWidth()),u=J.GM(i.get("y"),t.getHeight());if(isNaN(l)||isNaN(u)){if(n.getMarkerPosition)o=n.getMarkerPosition(e.getValues(e.dimensions,a));else if(r){var c=e.get(r.dimensions[0],a),p=e.get(r.dimensions[1],a);o=r.dataToPoint([c,p])}}else o=[l,u];isNaN(l)||(o[0]=l),isNaN(u)||(o[1]=u),e.setItemLayout(a,o)})}const No=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return(0,Y.ZT)(n,e),n.prototype.updateTransform=function(t,r,a){r.eachSeries(function(i){var o=me.getMarkerModelFromSeries(i,"markPoint");o&&(rr(o.getData(),i,a),this.markerGroupMap.get(i.id).updateLayout())},this)},n.prototype.renderSeries=function(t,r,a,i){var o=t.coordinateSystem,l=t.id,u=t.getData(),c=this.markerGroupMap,p=c.get(l)||c.set(l,new xo),h=function Io(e,n,t){var r;r=e?(0,f.map)(e&&e.dimensions,function(l){var u=n.getData().getDimensionInfo(n.getData().mapDimension(l))||{};return(0,f.extend)((0,f.extend)({},u),{name:l,ordinalMeta:null})}):[{name:"value",type:"float"}];var a=new Bn.Z(r,t),i=(0,f.map)(t.get("data"),(0,f.curry)(To,n));e&&(i=(0,f.filter)(i,(0,f.curry)(Mo,e)));var o=function Do(e,n){return e?function(t,r,a,i){return(0,er.yQ)(i<2?t.coord&&t.coord[i]:t.value,n[i])}:function(t,r,a,i){return(0,er.yQ)(t.value,n[i])}}(!!e,r);return a.initData(i,null,o),a}(o,t,r);r.setData(h),rr(r.getData(),t,i),h.each(function(d){var v=h.getItemModel(d),g=v.getShallow("symbol"),m=v.getShallow("symbolSize"),S=v.getShallow("symbolRotate"),A=v.getShallow("symbolOffset"),T=v.getShallow("symbolKeepAspect");if((0,f.isFunction)(g)||(0,f.isFunction)(m)||(0,f.isFunction)(S)||(0,f.isFunction)(A)){var C=r.getRawValue(d),D=r.getDataParams(d);(0,f.isFunction)(g)&&(g=g(C,D)),(0,f.isFunction)(m)&&(m=m(C,D)),(0,f.isFunction)(S)&&(S=S(C,D)),(0,f.isFunction)(A)&&(A=A(C,D))}var _=v.getModel("itemStyle").getItemStyle(),I=(0,wo.UL)(u,"color");_.fill||(_.fill=I),h.setItemVisual(d,{symbol:g,symbolSize:m,symbolRotate:S,symbolOffset:A,symbolKeepAspect:T,style:_})}),p.updateData(h),this.group.add(p.group),h.eachItemGraphicEl(function(d){d.traverse(function(v){(0,Kn.A)(v).dataModel=r})}),this.markKeep(p),p.group.silent=r.get("silent")||t.get("silent")},n.type="markPoint",n}(Oo);var Lo=b(5230),Ro=b(2956),je=b(528),ko=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return(0,Y.ZT)(n,e),n.prototype.init=function(t,r,a){e.prototype.init.call(this,t,r,a),this._sourceManager=new je.U(this),(0,je.t)(this)},n.prototype.mergeOption=function(t,r){e.prototype.mergeOption.call(this,t,r),(0,je.t)(this)},n.prototype.optionUpdated=function(){this._sourceManager.dirty()},n.prototype.getSourceManager=function(){return this._sourceManager},n.type="dataset",n.defaultOption={seriesLayoutBy:Ro.fY},n}(Kt.Z),zo=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type="dataset",t}return(0,Y.ZT)(n,e),n.type="dataset",n}(te.Z),ar=["x","y","radius","angle","single"],Uo=["cartesian2d","polar","singleAxis"];function Dt(e){return e+"Axis"}var He=function(){function e(){this.indexList=[],this.indexMap=[]}return e.prototype.add=function(n){this.indexMap[n]||(this.indexList.push(n),this.indexMap[n]=!0)},e}();function ir(e){var n={};return(0,f.each)(["start","end","startValue","endValue","throttle"],function(t){e.hasOwnProperty(t)&&(n[t]=e[t])}),n}const jo=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return(0,Y.ZT)(n,e),n.type="dataZoom.select",n}(function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t._autoThrottle=!0,t._noTarget=!0,t._rangePropMode=["percent","percent"],t}return(0,Y.ZT)(n,e),n.prototype.init=function(t,r,a){var i=ir(t);this.settledOption=i,this.mergeDefaultAndTheme(t,a),this._doInit(i)},n.prototype.mergeOption=function(t){var r=ir(t);(0,f.merge)(this.option,t,!0),(0,f.merge)(this.settledOption,r,!0),this._doInit(r)},n.prototype._doInit=function(t){var r=this.option;this._setDefaultThrottle(t),this._updateRangeUse(t);var a=this.settledOption;(0,f.each)([["start","startValue"],["end","endValue"]],function(i,o){"value"===this._rangePropMode[o]&&(r[i[0]]=a[i[0]]=null)},this),this._resetTarget()},n.prototype._resetTarget=function(){var t=this.get("orient",!0),r=this._targetAxisInfoMap=(0,f.createHashMap)();this._fillSpecifiedTargetAxis(r)?this._orient=t||this._makeAutoOrientByTargetAxis():(this._orient=t||"horizontal",this._fillAutoTargetAxisByOrient(r,this._orient)),this._noTarget=!0,r.each(function(i){i.indexList.length&&(this._noTarget=!1)},this)},n.prototype._fillSpecifiedTargetAxis=function(t){var r=!1;return(0,f.each)(ar,function(a){var i=this.getReferringComponents(Dt(a),q.iP);if(i.specified){r=!0;var o=new He;(0,f.each)(i.models,function(l){o.add(l.componentIndex)}),t.set(a,o)}},this),r},n.prototype._fillAutoTargetAxisByOrient=function(t,r){var a=this.ecModel,i=!0;if(i){var o="vertical"===r?"y":"x";u(a.findComponents({mainType:o+"Axis"}),o)}function u(c,p){var h=c[0];if(h){var d=new He;if(d.add(h.componentIndex),t.set(p,d),i=!1,"x"===p||"y"===p){var v=h.getReferringComponents("grid",q.C6).models[0];v&&(0,f.each)(c,function(g){h.componentIndex!==g.componentIndex&&v===g.getReferringComponents("grid",q.C6).models[0]&&d.add(g.componentIndex)})}}}i&&u(a.findComponents({mainType:"singleAxis",filter:function(p){return p.get("orient",!0)===r}}),"single"),i&&(0,f.each)(ar,function(c){if(i){var p=a.findComponents({mainType:Dt(c),filter:function(d){return"category"===d.get("type",!0)}});if(p[0]){var h=new He;h.add(p[0].componentIndex),t.set(c,h),i=!1}}},this)},n.prototype._makeAutoOrientByTargetAxis=function(){var t;return this.eachTargetAxis(function(r){!t&&(t=r)},this),"y"===t?"vertical":"horizontal"},n.prototype._setDefaultThrottle=function(t){if(t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle){var r=this.ecModel.option;this.option.throttle=r.animation&&r.animationDurationUpdate>0?100:20}},n.prototype._updateRangeUse=function(t){var r=this._rangePropMode,a=this.get("rangeMode");(0,f.each)([["start","startValue"],["end","endValue"]],function(i,o){var l=null!=t[i[0]],u=null!=t[i[1]];l&&!u?r[o]="percent":!l&&u?r[o]="value":a?r[o]=a[o]:l&&(r[o]="percent")})},n.prototype.noTarget=function(){return this._noTarget},n.prototype.getFirstTargetAxisModel=function(){var t;return this.eachTargetAxis(function(r,a){null==t&&(t=this.ecModel.getComponent(Dt(r),a))},this),t},n.prototype.eachTargetAxis=function(t,r){this._targetAxisInfoMap.each(function(a,i){(0,f.each)(a.indexList,function(o){t.call(r,i,o)})})},n.prototype.getAxisProxy=function(t,r){var a=this.getAxisModel(t,r);if(a)return a.__dzAxisProxy},n.prototype.getAxisModel=function(t,r){var a=this._targetAxisInfoMap.get(t);if(a&&a.indexMap[r])return this.ecModel.getComponent(Dt(t),r)},n.prototype.setRawRange=function(t){var r=this.option,a=this.settledOption;(0,f.each)([["start","startValue"],["end","endValue"]],function(i){(null!=t[i[0]]||null!=t[i[1]])&&(r[i[0]]=a[i[0]]=t[i[0]],r[i[1]]=a[i[1]]=t[i[1]])},this),this._updateRangeUse(t)},n.prototype.setCalculatedRange=function(t){var r=this.option;(0,f.each)(["start","startValue","end","endValue"],function(a){r[a]=t[a]})},n.prototype.getPercentRange=function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},n.prototype.getValueRange=function(t,r){if(null!=t||null!=r)return this.getAxisProxy(t,r).getDataValueWindow();var a=this.findRepresentativeAxisProxy();return a?a.getDataValueWindow():void 0},n.prototype.findRepresentativeAxisProxy=function(t){if(t)return t.__dzAxisProxy;for(var r,a=this._targetAxisInfoMap.keys(),i=0;i<a.length;i++)for(var o=a[i],l=this._targetAxisInfoMap.get(o),u=0;u<l.indexList.length;u++){var c=this.getAxisProxy(o,l.indexList[u]);if(c.hostedBy(this))return c;r||(r=c)}return r},n.prototype.getRangePropMode=function(){return this._rangePropMode.slice()},n.prototype.getOrient=function(){return this._orient},n.type="dataZoom",n.dependencies=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","series","toolbox"],n.defaultOption={z:4,filterMode:"filter",start:0,end:100},n}(Kt.Z)),Yo=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return(0,Y.ZT)(n,e),n.type="dataZoom.select",n}(function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return(0,Y.ZT)(n,e),n.prototype.render=function(t,r,a,i){this.dataZoomModel=t,this.ecModel=r,this.api=a},n.type="dataZoom",n}(te.Z));function or(e,n,t,r,a,i){e=e||0;var o=t[1]-t[0];if(null!=a&&(a=Bt(a,[0,o])),null!=i&&(i=Math.max(i,null!=a?a:0)),"all"===r){var l=Math.abs(n[1]-n[0]);l=Bt(l,[0,o]),a=i=Bt(l,[a,i]),r=0}n[0]=Bt(n[0],t),n[1]=Bt(n[1],t);var u=We(n,r);n[r]+=e;var h,c=a||0,p=t.slice();return u.sign<0?p[0]+=c:p[1]-=c,n[r]=Bt(n[r],p),h=We(n,r),null!=a&&(h.sign!==u.sign||h.span<a)&&(n[1-r]=n[r]+u.sign*a),h=We(n,r),null!=i&&h.span>i&&(n[1-r]=n[r]+h.sign*i),n}function We(e,n){var t=e[n]-e[1-n];return{span:Math.abs(t),sign:t>0?-1:t<0?1:n?-1:1}}function Bt(e,n){return Math.min(null!=n[1]?n[1]:1/0,Math.max(null!=n[0]?n[0]:-1/0,e))}var Jo=b(4940),Qo=b(612),Ut=f.each,sr=J.dt;const Ko=function(){function e(n,t,r,a){this._dimName=n,this._axisIndex=t,this.ecModel=a,this._dataZoomModel=r}return e.prototype.hostedBy=function(n){return this._dataZoomModel===n},e.prototype.getDataValueWindow=function(){return this._valueWindow.slice()},e.prototype.getDataPercentWindow=function(){return this._percentWindow.slice()},e.prototype.getTargetSeriesModels=function(){var n=[];return this.ecModel.eachSeries(function(t){if(function Eo(e){var n=e.get("coordinateSystem");return(0,f.indexOf)(Uo,n)>=0}(t)){var r=Dt(this._dimName),a=t.getReferringComponents(r,q.C6).models[0];a&&this._axisIndex===a.componentIndex&&n.push(t)}},this),n},e.prototype.getAxisModel=function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},e.prototype.getMinMaxSpan=function(){return f.clone(this._minMaxSpan)},e.prototype.calculateDataWindow=function(n){var c,t=this._dataExtent,a=this.getAxisModel().axis.scale,i=this._dataZoomModel.getRangePropMode(),o=[0,100],l=[],u=[];Ut(["start","end"],function(d,v){var g=n[d],m=n[d+"Value"];"percent"===i[v]?(null==g&&(g=o[v]),m=a.parse(J.NU(g,o,t))):(c=!0,m=null==m?t[v]:a.parse(m),g=J.NU(m,t,o)),u[v]=null==m||isNaN(m)?t[v]:m,l[v]=null==g||isNaN(g)?o[v]:g}),sr(u),sr(l);var p=this._minMaxSpan;function h(d,v,g,m,S){var A=S?"Span":"ValueSpan";or(0,d,g,"all",p["min"+A],p["max"+A]);for(var T=0;T<2;T++)v[T]=J.NU(d[T],g,m,!0),S&&(v[T]=a.parse(v[T]))}return c?h(u,l,t,o,!1):h(l,u,o,t,!0),{valueWindow:u,percentWindow:l}},e.prototype.reset=function(n){if(n===this._dataZoomModel){var t=this.getTargetSeriesModels();this._dataExtent=function Xo(e,n,t){var r=[1/0,-1/0];Ut(t,function(o){(0,Jo.AH)(r,o.getData(),n)});var a=e.getAxisModel(),i=(0,Qo.Qw)(a.axis.scale,a,r).calculate();return[i.min,i.max]}(this,this._dimName,t),this._updateMinMaxSpan();var r=this.calculateDataWindow(n.settledOption);this._valueWindow=r.valueWindow,this._percentWindow=r.percentWindow,this._setAxisModel()}},e.prototype.filterData=function(n,t){if(n===this._dataZoomModel){var r=this._dimName,a=this.getTargetSeriesModels(),i=n.get("filterMode"),o=this._valueWindow;"none"!==i&&Ut(a,function(u){var c=u.getData(),p=c.mapDimensionsAll(r);if(p.length){if("weakFilter"===i){var h=c.getStore(),d=f.map(p,function(v){return c.getDimensionIndex(v)},c);c.filterSelf(function(v){for(var g,m,S,A=0;A<p.length;A++){var T=h.get(d[A],v),C=!isNaN(T),D=T<o[0],_=T>o[1];if(C&&!D&&!_)return!0;C&&(S=!0),D&&(g=!0),_&&(m=!0)}return S&&g&&m})}else Ut(p,function(v){if("empty"===i)u.setData(c=c.map(v,function(m){return function l(u){return u>=o[0]&&u<=o[1]}(m)?m:NaN}));else{var g={};g[v]=o,c.selectRange(g)}});Ut(p,function(v){c.setApproximateExtent(o,v)})}})}},e.prototype._updateMinMaxSpan=function(){var n=this._minMaxSpan={},t=this._dataZoomModel,r=this._dataExtent;Ut(["min","max"],function(a){var i=t.get(a+"Span"),o=t.get(a+"ValueSpan");null!=o&&(o=this.getAxisModel().axis.scale.parse(o)),null!=o?i=J.NU(r[0]+o,r,[0,100],!0):null!=i&&(o=J.NU(i,[0,100],r,!0)-r[0]),n[a+"Span"]=i,n[a+"ValueSpan"]=o},this)},e.prototype._setAxisModel=function(){var n=this.getAxisModel(),t=this._percentWindow,r=this._valueWindow;if(t){var a=J.M9(r,[0,500]);a=Math.min(a,20);var i=n.axis.scale.rawExtentInfo;0!==t[0]&&i.setDeterminedMinMax("min",+r[0].toFixed(a)),100!==t[1]&&i.setDeterminedMinMax("max",+r[1].toFixed(a)),i.freeze()}},e}(),ts={getTargetSeries:function(e){function n(a){e.eachComponent("dataZoom",function(i){i.eachTargetAxis(function(o,l){var u=e.getComponent(Dt(o),l);a(o,l,u,i)})})}n(function(a,i,o,l){o.__dzAxisProxy=null});var t=[];n(function(a,i,o,l){o.__dzAxisProxy||(o.__dzAxisProxy=new Ko(a,i,l,e),t.push(o.__dzAxisProxy))});var r=(0,f.createHashMap)();return(0,f.each)(t,function(a){(0,f.each)(a.getTargetSeriesModels(),function(i){r.set(i.uid,i)})}),r},overallReset:function(e,n){e.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).reset(t)}),t.eachTargetAxis(function(r,a){t.getAxisProxy(r,a).filterData(t,n)})}),e.eachComponent("dataZoom",function(t){var r=t.findRepresentativeAxisProxy();if(r){var a=r.getDataPercentWindow(),i=r.getDataValueWindow();t.setCalculatedRange({start:a[0],end:a[1],startValue:i[0],endValue:i[1]})}})}};var lr=!1;function ns(e){lr||(lr=!0,e.registerProcessor(e.PRIORITY.PROCESSOR.FILTER,ts),function es(e){e.registerAction("dataZoom",function(n,t){var r=function Vo(e,n){var i,t=(0,f.createHashMap)(),r=[],a=(0,f.createHashMap)();e.eachComponent({mainType:"dataZoom",query:n},function(p){a.get(p.uid)||l(p)});do{i=!1,e.eachComponent("dataZoom",o)}while(i);function o(p){!a.get(p.uid)&&function u(p){var h=!1;return p.eachTargetAxis(function(d,v){var g=t.get(d);g&&g[v]&&(h=!0)}),h}(p)&&(l(p),i=!0)}function l(p){a.set(p.uid,!0),r.push(p),function c(p){p.eachTargetAxis(function(h,d){(t.get(h)||t.set(h,[]))[d]=!0})}(p)}return r}(t,n);(0,f.each)(r,function(a){a.setRawRange({start:n.start,end:n.end,startValue:n.startValue,endValue:n.endValue})})})}(e),e.registerSubTypeDefaulter("dataZoom",function(){return"slider"}))}function rs(e){e.registerComponentModel(jo),e.registerComponentView(Yo),ns(e)}var at=function e(){},ur={};function ne(e,n){ur[e]=n}function cr(e){return ur[e]}const is=function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.type=n.type,t}return(0,Y.ZT)(n,e),n.prototype.optionUpdated=function(){e.prototype.optionUpdated.apply(this,arguments);var t=this.ecModel;f.each(this.option.feature,function(r,a){var i=cr(a);i&&(i.getDefaultOption&&(i.defaultOption=i.getDefaultOption(t)),f.merge(r,i.defaultOption))})},n.type="toolbox",n.layoutMode={type:"box",ignoreSize:!0},n.defaultOption={show:!0,z:6,orient:"horizontal",left:"right",top:"top",backgroundColor:"transparent",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemSize:15,itemGap:8,showTitle:!0,iconStyle:{borderColor:"#666",color:"none"},emphasis:{iconStyle:{borderColor:"#3E98C5"}},tooltip:{show:!1,position:"bottom"}},n}(Kt.Z);var pr=b(4981),fr=b(8173);const ls=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,Y.ZT)(n,e),n.prototype.render=function(t,r,a,i){var o=this.group;if(o.removeAll(),t.get("show")){var l=+t.get("itemSize"),u="vertical"===t.get("orient"),c=t.get("feature")||{},p=this._features||(this._features={}),h=[];f.each(c,function(g,m){h.push(m)}),new fr.Z(this._featureNames||[],h).add(d).update(d).remove(f.curry(d,null)).execute(),this._featureNames=h,function Qi(e,n,t){var r=n.getBoxLayoutParams(),a=n.get("padding"),i={width:t.getWidth(),height:t.getHeight()},o=(0,et.ME)(r,i,a);(0,et.BZ)(n.get("orient"),e,n.get("itemGap"),o.width,o.height),(0,et.p$)(e,r,i,a)}(o,t,a),o.add(Vn(o.getBoundingRect(),t)),u||o.eachChild(function(g){var m=g.__title,S=g.ensureState("emphasis"),A=S.textConfig||(S.textConfig={}),T=g.getTextContent(),C=T&&T.ensureState("emphasis");if(C&&!f.isFunction(C)&&m){var D=C.style||(C.style={}),_=pr.lP(m,yt.ZP.makeFont(D)),I=g.x+o.x,R=!1;g.y+o.y+l+_.height>a.getHeight()&&(A.position="top",R=!0);var k=R?-5-_.height:l+10;I+_.width/2>a.getWidth()?(A.position=["100%",k],D.align="right"):I-_.width/2<0&&(A.position=[0,k],D.align="left")}})}function d(g,m){var D,S=h[g],A=h[m],T=c[S],C=new Un.Z(T,t,t.ecModel);if(i&&null!=i.newTitle&&i.featureName===S&&(T.title=i.newTitle),S&&!A){if(function ss(e){return 0===e.indexOf("my")}(S))D={onclick:C.option.onclick,featureName:S};else{var _=cr(S);if(!_)return;D=new _}p[S]=D}else if(!(D=p[A]))return;D.uid=(0,Wn.Kr)("toolbox-feature"),D.model=C,D.ecModel=r,D.api=a;var I=D instanceof at;S||!A?!C.get("show")||I&&D.unusable?I&&D.remove&&D.remove(r,a):(function v(g,m,S){var _,I,A=g.getModel("iconStyle"),T=g.getModel(["emphasis","iconStyle"]),C=m instanceof at&&m.getIcons?m.getIcons():g.get("icon"),D=g.get("title")||{};f.isString(C)?(_={})[S]=C:_=C,f.isString(D)?(I={})[S]=D:I=D;var P=g.iconPaths={};f.each(_,function(R,k){var L=dt.createIcon(R,{},{x:-l/2,y:-l/2,width:l,height:l});L.setStyle(A.getItemStyle()),L.ensureState("emphasis").style=T.getItemStyle();var E=new yt.ZP({style:{text:I[k],align:T.get("textAlign"),borderRadius:T.get("textBorderRadius"),padding:T.get("textPadding"),fill:null},ignore:!0});L.setTextContent(E),dt.setTooltipConfig({el:L,componentModel:t,itemName:k,formatterParamsExtra:{title:I[k]}}),L.__title=I[k],L.on("mouseover",function(){var B=T.getItemStyle(),Q=u?null==t.get("right")&&"right"!==t.get("left")?"right":"left":null==t.get("bottom")&&"bottom"!==t.get("top")?"bottom":"top";E.setStyle({fill:T.get("textFill")||B.fill||B.stroke||"#000",backgroundColor:T.get("textBackgroundColor")}),L.setTextConfig({position:T.get("textPosition")||Q}),E.ignore=!t.get("showTitle"),a.enterEmphasis(this)}).on("mouseout",function(){"emphasis"!==g.get(["iconStatus",k])&&a.leaveEmphasis(this),E.hide()}),("emphasis"===g.get(["iconStatus",k])?nt.fD:nt.Mh)(L),o.add(L),L.on("click",f.bind(m.onclick,m,r,a,k)),P[k]=L})}(C,D,S),C.setIconStatus=function(P,R){var k=this.option,L=this.iconPaths;k.iconStatus=k.iconStatus||{},k.iconStatus[P]=R,L[P]&&("emphasis"===R?nt.fD:nt.Mh)(L[P])},D instanceof at&&D.render&&D.render(C,r,a,i)):I&&D.dispose&&D.dispose(r,a)}},n.prototype.updateView=function(t,r,a,i){f.each(this._features,function(o){o instanceof at&&o.updateView&&o.updateView(o.model,r,a,i)})},n.prototype.remove=function(t,r){f.each(this._features,function(a){a instanceof at&&a.remove&&a.remove(t,r)}),this.group.removeAll()},n.prototype.dispose=function(t,r){f.each(this._features,function(a){a instanceof at&&a.dispose&&a.dispose(t,r)})},n.type="toolbox",n}(te.Z),cs=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,Y.ZT)(n,e),n.prototype.onclick=function(t,r){var a=this.model,i=a.get("name")||t.get("title.0.text")||"echarts",o="svg"===r.getZr().painter.getType(),l=o?"svg":a.get("type",!0)||"png",u=r.getConnectedDataURL({type:l,backgroundColor:a.get("backgroundColor",!0)||t.get("backgroundColor")||"#fff",connectedBackgroundColor:a.get("connectedBackgroundColor"),excludeComponents:a.get("excludeComponents"),pixelRatio:a.get("pixelRatio")}),c=Qn.Z.browser;if((0,f.isFunction)(MouseEvent)&&(c.newEdge||!c.ie&&!c.edge)){var p=document.createElement("a");p.download=i+"."+l,p.target="_blank",p.href=u;var h=new MouseEvent("click",{view:document.defaultView,bubbles:!0,cancelable:!1});p.dispatchEvent(h)}else if(window.navigator.msSaveOrOpenBlob||o){var d=u.split(","),v=d[0].indexOf("base64")>-1,g=o?decodeURIComponent(d[1]):d[1];v&&(g=window.atob(g));var m=i+"."+l;if(window.navigator.msSaveOrOpenBlob){for(var S=g.length,A=new Uint8Array(S);S--;)A[S]=g.charCodeAt(S);var T=new Blob([A]);window.navigator.msSaveOrOpenBlob(T,m)}else{var C=document.createElement("iframe");document.body.appendChild(C);var D=C.contentWindow,_=D.document;_.open("image/svg+xml","replace"),_.write(g),_.close(),D.focus(),_.execCommand("SaveAs",!0,m),document.body.removeChild(C)}}else{var I=a.get("lang"),P='<body style="margin:0;"><img src="'+u+'" style="max-width:100%;" title="'+(I&&I[0]||"")+'" /></body>',R=window.open();R.document.write(P),R.document.title=i}},n.getDefaultOption=function(t){return{show:!0,icon:"M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0",title:t.getLocaleModel().get(["toolbox","saveAsImage","title"]),type:"png",connectedBackgroundColor:"#fff",name:"",excludeComponents:["toolbox"],lang:t.getLocaleModel().get(["toolbox","saveAsImage","lang"])}},n}(at);var xe=b(2235),dr="__ec_magicType_stack__",ps=[["line","bar"],["stack"]],fs=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,Y.ZT)(n,e),n.prototype.getIcons=function(){var t=this.model,r=t.get("icon"),a={};return f.each(t.get("type"),function(i){r[i]&&(a[i]=r[i])}),a},n.getDefaultOption=function(t){return{show:!0,type:[],icon:{line:"M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4",bar:"M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7",stack:"M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z"},title:t.getLocaleModel().get(["toolbox","magicType","title"]),option:{},seriesIndex:{}}},n.prototype.onclick=function(t,r,a){var i=this.model,o=i.get(["seriesIndex",a]);if(vr[a]){var l={series:[]};f.each(ps,function(h){f.indexOf(h,a)>=0&&f.each(h,function(d){i.setIconStatus(d,"normal")})}),i.setIconStatus(a,"emphasis"),t.eachComponent({mainType:"series",query:null==o?null:{seriesIndex:o}},function(h){var g=vr[a](h.subType,h.id,h,i);g&&(f.defaults(g,h.option),l.series.push(g));var m=h.coordinateSystem;if(m&&"cartesian2d"===m.type&&("line"===a||"bar"===a)){var S=m.getAxesByScale("ordinal")[0];if(S){var T=S.dim+"Axis",D=h.getReferringComponents(T,q.C6).models[0].componentIndex;l[T]=l[T]||[];for(var _=0;_<=D;_++)l[T][D]=l[T][D]||{};l[T][D].boundaryGap="bar"===a}}});var c,p=a;"stack"===a&&(c=f.merge({stack:i.option.title.tiled,tiled:i.option.title.stack},i.option.title),"emphasis"!==i.get(["iconStatus",a])&&(p="tiled")),r.dispatchAction({type:"changeMagicType",currentType:p,newOption:l,newTitle:c,featureName:"magicType"})}},n}(at),vr={line:function(e,n,t,r){if("bar"===e)return f.merge({id:n,type:"line",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","line"])||{},!0)},bar:function(e,n,t,r){if("line"===e)return f.merge({id:n,type:"bar",data:t.get("data"),stack:t.get("stack"),markPoint:t.get("markPoint"),markLine:t.get("markLine")},r.get(["option","bar"])||{},!0)},stack:function(e,n,t,r){var a=t.get("stack")===dr;if("line"===e||"bar"===e)return r.setIconStatus("stack",a?"normal":"emphasis"),f.merge({id:n,stack:a?"":dr},r.get(["option","stack"])||{},!0)}};xe.zl({type:"changeMagicType",event:"magicTypeChanged",update:"prepareAndUpdate"},function(e,n){n.mergeOption(e.newOption)});const ds=fs;var hr=b(9520),be=new Array(60).join("-");function hs(e){var n=[];return f.each(e,function(t,r){var a=t.categoryAxis,o=t.valueAxis.dim,l=[" "].concat(f.map(t.series,function(v){return v.name})),u=[a.model.getCategories()];f.each(t.series,function(v){var g=v.getRawData();u.push(v.getRawData().mapArray(g.mapDimension(o),function(m){return m}))});for(var c=[l.join("\t")],p=0;p<u[0].length;p++){for(var h=[],d=0;d<u.length;d++)h.push(u[d][p]);c.push(h.join("\t"))}n.push(c.join("\n"))}),n.join("\n\n"+be+"\n\n")}function gs(e){return f.map(e,function(n){var t=n.getRawData(),r=[n.name],a=[];return t.each(t.dimensions,function(){for(var i=arguments.length,l=t.getName(arguments[i-1]),u=0;u<i-1;u++)a[u]=arguments[u];r.push((l?l+"\t":"")+a.join("\t"))}),r.join("\n")}).join("\n\n"+be+"\n\n")}function Se(e){return e.replace(/^\s\s*/,"").replace(/\s\s*$/,"")}var Ye=new RegExp("[\t]+","g");var Ts=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,Y.ZT)(n,e),n.prototype.onclick=function(t,r){setTimeout(function(){r.dispatchAction({type:"hideTip"})});var a=r.getDom(),i=this.model;this._dom&&a.removeChild(this._dom);var o=document.createElement("div");o.style.cssText="position:absolute;top:0;bottom:0;left:0;right:0;padding:5px",o.style.backgroundColor=i.get("backgroundColor")||"#fff";var l=document.createElement("h4"),u=i.get("lang")||[];l.innerHTML=u[0]||i.get("title"),l.style.cssText="margin:10px 20px",l.style.color=i.get("textColor");var c=document.createElement("div"),p=document.createElement("textarea");c.style.cssText="overflow:auto";var h=i.get("optionToContent"),d=i.get("contentToOption"),v=function ms(e){var n=function vs(e){var n={},t=[],r=[];return e.eachRawSeries(function(a){var i=a.coordinateSystem;if(!i||"cartesian2d"!==i.type&&"polar"!==i.type)t.push(a);else{var o=i.getBaseAxis();if("category"===o.type){var l=o.dim+"_"+o.index;n[l]||(n[l]={categoryAxis:o,valueAxis:i.getOtherAxis(o),series:[]},r.push({axisDim:o.dim,axisIndex:o.index})),n[l].series.push(a)}else t.push(a)}}),{seriesGroupByCategoryAxis:n,other:t,meta:r}}(e);return{value:f.filter([hs(n.seriesGroupByCategoryAxis),gs(n.other)],function(t){return!!t.replace(/[\n\t\s]/g,"")}).join("\n\n"+be+"\n\n"),meta:n.meta}}(t);if(f.isFunction(h)){var g=h(r.getOption());f.isString(g)?c.innerHTML=g:f.isDom(g)&&c.appendChild(g)}else{p.readOnly=i.get("readOnly");var m=p.style;m.cssText="display:block;width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;resize:none;box-sizing:border-box;outline:none",m.color=i.get("textColor"),m.borderColor=i.get("textareaBorderColor"),m.backgroundColor=i.get("textareaColor"),p.value=v.value,c.appendChild(p)}var S=v.meta,A=document.createElement("div");A.style.cssText="position:absolute;bottom:5px;left:0;right:0";var T="float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px",C=document.createElement("div"),D=document.createElement("div");T+=";background-color:"+i.get("buttonColor"),T+=";color:"+i.get("buttonTextColor");var _=this;function I(){a.removeChild(o),_._dom=null}(0,hr.Oo)(C,"click",I),(0,hr.Oo)(D,"click",function(){if(null==d&&null!=h||null!=d&&null==h)I();else{var P;try{P=f.isFunction(d)?d(c,r.getOption()):function Ss(e,n){var t=e.split(new RegExp("\n*"+be+"\n*","g")),r={series:[]};return f.each(t,function(a,i){if(function ys(e){if(e.slice(0,e.indexOf("\n")).indexOf("\t")>=0)return!0}(a)){var o=function xs(e){for(var n=e.split(/\n+/g),t=Se(n.shift()).split(Ye),r=[],a=f.map(t,function(u){return{name:u,data:[]}}),i=0;i<n.length;i++){var o=Se(n[i]).split(Ye);r.push(o.shift());for(var l=0;l<o.length;l++)a[l]&&(a[l].data[i]=o[l])}return{series:a,categories:r}}(a),l=n[i],u=l.axisDim+"Axis";l&&(r[u]=r[u]||[],r[u][l.axisIndex]={data:o.categories},r.series=r.series.concat(o.series))}else o=function bs(e){for(var n=e.split(/\n+/g),t=Se(n.shift()),r=[],a=0;a<n.length;a++){var i=Se(n[a]);if(i){var o=i.split(Ye),l="",u=void 0,c=!1;isNaN(o[0])?(c=!0,l=o[0],o=o.slice(1),r[a]={name:l,value:[]},u=r[a].value):u=r[a]=[];for(var p=0;p<o.length;p++)u.push(+o[p]);1===u.length&&(c?r[a].value=u[0]:r[a]=u[0])}}return{name:t,data:r}}(a),r.series.push(o)}),r}(p.value,S)}catch(R){throw I(),new Error("Data view format error "+R)}P&&r.dispatchAction({type:"changeDataView",newOption:P}),I()}}),C.innerHTML=u[1],D.innerHTML=u[2],D.style.cssText=C.style.cssText=T,!i.get("readOnly")&&A.appendChild(D),A.appendChild(C),o.appendChild(l),o.appendChild(c),o.appendChild(A),c.style.height=a.clientHeight-80+"px",a.appendChild(o),this._dom=o},n.prototype.remove=function(t,r){this._dom&&r.getDom().removeChild(this._dom)},n.prototype.dispose=function(t,r){this.remove(t,r)},n.getDefaultOption=function(t){return{show:!0,readOnly:!1,optionToContent:null,contentToOption:null,icon:"M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28",title:t.getLocaleModel().get(["toolbox","dataView","title"]),lang:t.getLocaleModel().get(["toolbox","dataView","lang"]),backgroundColor:"#fff",textColor:"#000",textareaColor:"#fff",textareaBorderColor:"#333",buttonColor:"#c23531",buttonTextColor:"#fff"}},n}(at);function As(e,n){return f.map(e,function(t,r){var a=n&&n[r];if(f.isObject(a)&&!f.isArray(a)){f.isObject(t)&&!f.isArray(t)||(t={value:t});var o=null!=a.name&&null==t.name;return t=f.defaults(t,a),o&&delete t.name,t}return t})}xe.zl({type:"changeDataView",event:"dataViewChanged",update:"prepareAndUpdate"},function(e,n){var t=[];f.each(e.newOption.series,function(r){var a=n.getSeriesByName(r.name)[0];if(a){var i=a.get("data");t.push({name:r.name,data:As(r.data,i)})}else t.push(f.extend({type:"scatter"},r))}),n.mergeOption(f.defaults({series:t},e.newOption))});const Cs=Ts;var gr=f.each,mr=(0,q.Yf)();function Je(e){var n=mr(e);return n.snapshots||(n.snapshots=[{}]),n.snapshots}var ws=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,Y.ZT)(n,e),n.prototype.onclick=function(t,r){(function _s(e){mr(e).snapshots=null})(t),r.dispatchAction({type:"restore",from:this.uid})},n.getDefaultOption=function(t){return{show:!0,icon:"M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5",title:t.getLocaleModel().get(["toolbox","restore","title"])}},n}(at);xe.zl({type:"restore",event:"restore",update:"prepareAndUpdate"},function(e,n){n.resetOption("recreate")});const Ps=ws;var Is=b(7481),Ns=b(9213),yr="\0_ec_interaction_mutex";function Qe(e){return e[yr]||(e[yr]={})}xe.zl({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},f.noop);var _t=!0,re=Math.min,Vt=Math.max,Rs=Math.pow,ks=1e4,zs=6,Bs=6,xr="globalPan",Us={w:[0,0],e:[0,1],n:[1,0],s:[1,1]},Es={w:"ew",e:"ew",n:"ns",s:"ns",ne:"nesw",sw:"nesw",nw:"nwse",se:"nwse"},br={brushStyle:{lineWidth:2,stroke:"rgba(210,219,238,0.3)",fill:"#D2DBEE"},transformable:!0,brushMode:"single",removeOnClick:!1},Vs=0,Fs=function(e){function n(t){var r=e.call(this)||this;return r._track=[],r._covers=[],r._handlers={},r._zr=t,r.group=new Mt.Z,r._uid="brushController_"+Vs++,(0,f.each)(Qs,function(a,i){this._handlers[i]=(0,f.bind)(a,this)},r),r}return(0,Y.ZT)(n,e),n.prototype.enableBrush=function(t){return this._brushType&&this._doDisableBrush(),t.brushType&&this._doEnableBrush(t),this},n.prototype._doEnableBrush=function(t){var r=this._zr;this._enableGlobalPan||function Zs(e,n,t){Qe(e)[n]=t}(r,xr,this._uid),(0,f.each)(this._handlers,function(a,i){r.on(i,a)}),this._brushType=t.brushType,this._brushOption=(0,f.merge)((0,f.clone)(br),t,!0)},n.prototype._doDisableBrush=function(){var t=this._zr;(function Ls(e,n,t){var r=Qe(e);r[n]===t&&(r[n]=null)})(t,xr,this._uid),(0,f.each)(this._handlers,function(r,a){t.off(a,r)}),this._brushType=this._brushOption=null},n.prototype.setPanels=function(t){if(t&&t.length){var r=this._panels={};(0,f.each)(t,function(a){r[a.panelId]=(0,f.clone)(a)})}else this._panels=null;return this},n.prototype.mount=function(t){this._enableGlobalPan=(t=t||{}).enableGlobalPan;var r=this.group;return this._zr.add(r),r.attr({x:t.x||0,y:t.y||0,rotation:t.rotation||0,scaleX:t.scaleX||1,scaleY:t.scaleY||1}),this._transform=r.getLocalTransform(),this},n.prototype.updateCovers=function(t){t=(0,f.map)(t,function(d){return(0,f.merge)((0,f.clone)(br),d,!0)});var a=this._covers,i=this._covers=[],o=this,l=this._creatingCover;return new fr.Z(a,t,function c(d,v){return u(d.__brushOption,v)},u).add(p).update(p).remove(function h(d){a[d]!==l&&o.group.remove(a[d])}).execute(),this;function u(d,v){return(null!=d.id?d.id:"\0-brush-index-"+v)+"-"+d.brushType}function p(d,v){var g=t[d];if(null!=v&&a[v]===l)i[d]=a[v];else{var m=i[d]=null!=v?(a[v].__brushOption=g,a[v]):Tr(o,Sr(o,g));$e(o,m)}}},n.prototype.unmount=function(){return this.enableBrush(!1),qe(this),this._zr.remove(this.group),this},n.prototype.dispose=function(){this.unmount(),this.off()},n}(Is.Z);function Sr(e,n){var t=Te[n.brushType].createCover(e,n);return t.__brushOption=n,Cr(t,n),e.group.add(t),t}function Tr(e,n){var t=Xe(n);return t.endCreating&&(t.endCreating(e,n),Cr(n,n.__brushOption)),n}function Ar(e,n){var t=n.__brushOption;Xe(n).updateCoverShape(e,n,t.range,t)}function Cr(e,n){var t=n.z;null==t&&(t=ks),e.traverse(function(r){r.z=t,r.z2=t})}function $e(e,n){Xe(n).updateCommon(e,n),Ar(e,n)}function Xe(e){return Te[e.__brushOption.brushType]}function Ke(e,n,t){var r=e._panels;if(!r)return _t;var a,i=e._transform;return(0,f.each)(r,function(o){o.isTargetByCursor(n,t,i)&&(a=o)}),a}function Mr(e,n){var t=e._panels;if(!t)return _t;var r=n.__brushOption.panelId;return null!=r?t[r]:_t}function qe(e){var n=e._covers,t=n.length;return(0,f.each)(n,function(r){e.group.remove(r)},e),n.length=0,!!t}function Ot(e,n){var t=(0,f.map)(e._covers,function(r){var a=r.__brushOption,i=(0,f.clone)(a.range);return{brushType:a.brushType,panelId:a.panelId,range:i}});e.trigger("brush",{areas:t,isEnd:!!n.isEnd,removeOnClick:!!n.removeOnClick})}function Dr(e){var n=e.length-1;return n<0&&(n=0),[e[0],e[n]]}function _r(e,n,t,r){var a=new Mt.Z;return a.add(new qt.Z({name:"main",style:en(t),silent:!0,draggable:!0,cursor:"move",drift:(0,f.curry)(Pr,e,n,a,["n","s","w","e"]),ondragend:(0,f.curry)(Ot,n,{isEnd:!0})})),(0,f.each)(r,function(i){a.add(new qt.Z({name:i.join(""),style:{opacity:0},draggable:!0,silent:!0,invisible:!0,drift:(0,f.curry)(Pr,e,n,a,i),ondragend:(0,f.curry)(Ot,n,{isEnd:!0})}))}),a}function Or(e,n,t,r){var a=r.brushStyle.lineWidth||0,i=Vt(a,Bs),o=t[0][0],l=t[1][0],u=o-a/2,c=l-a/2,p=t[0][1],h=t[1][1],d=p-i+a/2,v=h-i+a/2,g=p-o,m=h-l,S=g+a,A=m+a;vt(e,n,"main",o,l,g,m),r.transformable&&(vt(e,n,"w",u,c,i,A),vt(e,n,"e",d,c,i,A),vt(e,n,"n",u,c,S,i),vt(e,n,"s",u,v,S,i),vt(e,n,"nw",u,c,i,i),vt(e,n,"ne",d,c,i,i),vt(e,n,"sw",u,v,i,i),vt(e,n,"se",d,v,i,i))}function tn(e,n){var t=n.__brushOption,r=t.transformable,a=n.childAt(0);a.useStyle(en(t)),a.attr({silent:!r,cursor:r?"move":"default"}),(0,f.each)([["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]],function(i){var o=n.childOfName(i.join("")),l=1===i.length?nn(e,i[0]):function Hs(e,n){var t=[nn(e,n[0]),nn(e,n[1])];return("e"===t[0]||"w"===t[0])&&t.reverse(),t.join("")}(e,i);o&&o.attr({silent:!r,invisible:!r,cursor:r?Es[l]+"-resize":null})})}function vt(e,n,t,r,a,i,o){var l=n.childOfName(t);l&&l.setShape(function Ys(e){var n=re(e[0][0],e[1][0]),t=re(e[0][1],e[1][1]);return{x:n,y:t,width:Vt(e[0][0],e[1][0])-n,height:Vt(e[0][1],e[1][1])-t}}(rn(e,n,[[r,a],[r+i,a+o]])))}function en(e){return(0,f.defaults)({strokeNoScale:!0},e.brushStyle)}function wr(e,n,t,r){var a=[re(e,t),re(n,r)],i=[Vt(e,t),Vt(n,r)];return[[a[0],i[0]],[a[1],i[1]]]}function nn(e,n){var a=dt.transformDirection({w:"left",e:"right",n:"top",s:"bottom"}[n],function js(e){return dt.getTransform(e.group)}(e));return{left:"w",right:"e",top:"n",bottom:"s"}[a]}function Pr(e,n,t,r,a,i){var o=t.__brushOption,l=e.toRectRange(o.range),u=Ir(n,a,i);(0,f.each)(r,function(c){var p=Us[c];l[p[0]][p[1]]+=u[p[0]]}),o.range=e.fromRectRange(wr(l[0][0],l[1][0],l[0][1],l[1][1])),$e(n,t),Ot(n,{isEnd:!1})}function Ws(e,n,t,r){var a=n.__brushOption.range,i=Ir(e,t,r);(0,f.each)(a,function(o){o[0]+=i[0],o[1]+=i[1]}),$e(e,n),Ot(e,{isEnd:!1})}function Ir(e,n,t){var r=e.group,a=r.transformCoordToLocal(n,t),i=r.transformCoordToLocal(0,0);return[a[0]-i[0],a[1]-i[1]]}function rn(e,n,t){var r=Mr(e,n);return r&&r!==_t?r.clipPath(t,e._transform):(0,f.clone)(t)}function an(e){var n=e.event;n.preventDefault&&n.preventDefault()}function on(e,n,t){return e.childOfName("main").contain(n,t)}function Nr(e,n,t,r){var l,a=e._creatingCover,i=e._creatingPanel,o=e._brushOption;if(e._track.push(t.slice()),function Gs(e){var n=e._track;if(!n.length)return!1;var t=n[n.length-1],r=n[0],a=t[0]-r[0],i=t[1]-r[1];return Rs(a*a+i*i,.5)>zs}(e)||a){if(i&&!a){"single"===o.brushMode&&qe(e);var u=(0,f.clone)(o);u.brushType=Zr(u.brushType,i),u.panelId=i===_t?null:i.panelId,a=e._creatingCover=Sr(e,u),e._covers.push(a)}if(a){var c=Te[Zr(e._brushType,i)];a.__brushOption.range=c.getCreatingRange(rn(e,a,e._track)),r&&(Tr(e,a),c.updateCommon(e,a)),Ar(e,a),l={isEnd:r}}}else r&&"single"===o.brushMode&&o.removeOnClick&&Ke(e,n,t)&&qe(e)&&(l={isEnd:r,removeOnClick:!0});return l}function Zr(e,n){return"auto"===e?n.defaultBrushType:e}var Qs={mousedown:function(e){if(this._dragging)Lr(this,e);else if(!e.target||!e.target.draggable){an(e);var n=this.group.transformCoordToLocal(e.offsetX,e.offsetY);this._creatingCover=null,(this._creatingPanel=Ke(this,e,n))&&(this._dragging=!0,this._track=[n.slice()])}},mousemove:function(e){var r=this.group.transformCoordToLocal(e.offsetX,e.offsetY);if(function Js(e,n,t){if(e._brushType&&!function $s(e,n,t){var r=e._zr;return n<0||n>r.getWidth()||t<0||t>r.getHeight()}(e,n.offsetX,n.offsetY)){var r=e._zr,a=e._covers,i=Ke(e,n,t);if(!e._dragging)for(var o=0;o<a.length;o++){var l=a[o].__brushOption;if(i&&(i===_t||l.panelId===i.panelId)&&Te[l.brushType].contain(a[o],t[0],t[1]))return}i&&r.setCursorStyle("crosshair")}}(this,e,r),this._dragging){an(e);var a=Nr(this,e,r,!1);a&&Ot(this,a)}},mouseup:function(e){Lr(this,e)}};function Lr(e,n){if(e._dragging){an(n);var a=e.group.transformCoordToLocal(n.offsetX,n.offsetY),i=Nr(e,n,a,!0);e._dragging=!1,e._track=[],e._creatingCover=null,i&&Ot(e,i)}}var Te={lineX:Rr(0),lineY:Rr(1),rect:{createCover:function(e,n){function t(r){return r}return _r({toRectRange:t,fromRectRange:t},e,n,[["w"],["e"],["n"],["s"],["s","e"],["s","w"],["n","e"],["n","w"]])},getCreatingRange:function(e){var n=Dr(e);return wr(n[1][0],n[1][1],n[0][0],n[0][1])},updateCoverShape:function(e,n,t,r){Or(e,n,t,r)},updateCommon:tn,contain:on},polygon:{createCover:function(e,n){var t=new Mt.Z;return t.add(new Zn.Z({name:"main",style:en(n),silent:!0})),t},getCreatingRange:function(e){return e},endCreating:function(e,n){n.remove(n.childAt(0)),n.add(new Ns.Z({name:"main",draggable:!0,drift:(0,f.curry)(Ws,e,n),ondragend:(0,f.curry)(Ot,e,{isEnd:!0})}))},updateCoverShape:function(e,n,t,r){n.childAt(0).setShape({points:rn(e,n,t)})},updateCommon:tn,contain:on}};function Rr(e){return{createCover:function(n,t){return _r({toRectRange:function(r){var a=[r,[0,100]];return e&&a.reverse(),a},fromRectRange:function(r){return r[e]}},n,t,[[["w"],["e"]],[["n"],["s"]]][e])},getCreatingRange:function(n){var t=Dr(n);return[re(t[0][e],t[1][e]),Vt(t[0][e],t[1][e])]},updateCoverShape:function(n,t,r,a){var i,o=Mr(n,t);if(o!==_t&&o.getLinearBrushOtherExtent)i=o.getLinearBrushOtherExtent(e);else{var l=n._zr;i=[0,[l.getWidth(),l.getHeight()][1-e]]}var u=[r,i];e&&u.reverse(),Or(n,t,u,a)},updateCommon:tn,contain:on}}const Xs=Fs;var Ks=b(3066),qs={axisPointer:1,tooltip:1,brush:1};function el(e){return e=sn(e),function(n){return dt.clipPointsByRect(n,e)}}function nl(e,n){return e=sn(e),function(t){var r=null!=n?n:t,i=r?e.x:e.y;return[i,i+((r?e.width:e.height)||0)]}}function rl(e,n,t){var r=sn(e);return function(a,i){return r.contain(i[0],i[1])&&!function tl(e,n,t){var r=n.getComponentByElement(e.topTarget),a=r&&r.coordinateSystem;return r&&r!==t&&!qs.hasOwnProperty(r.mainType)&&a&&a.model!==t}(a,n,t)}}function sn(e){return Ks.Z.create(e)}var al=["grid","xAxis","yAxis","geo","graph","polar","radiusAxis","angleAxis","bmap"],il=function(){function e(n,t,r){var a=this;this._targetInfoList=[];var i=kr(t,n);(0,f.each)(ol,function(o,l){(!r||!r.include||(0,f.indexOf)(r.include,l)>=0)&&o(i,a._targetInfoList)})}return e.prototype.setOutputRanges=function(n,t){return this.matchOutputRanges(n,t,function(r,a,i){if((r.coordRanges||(r.coordRanges=[])).push(a),!r.coordRange){r.coordRange=a;var o=un[r.brushType](0,i,a);r.__rangeOffset={offset:Er[r.brushType](o.values,r.range,[1,1]),xyMinMax:o.xyMinMax}}}),n},e.prototype.matchOutputRanges=function(n,t,r){(0,f.each)(n,function(a){var i=this.findTargetInfo(a,t);i&&!0!==i&&(0,f.each)(i.coordSyses,function(o){var l=un[a.brushType](1,o,a.range,!0);r(a,l.values,o,t)})},this)},e.prototype.setInputRanges=function(n,t){(0,f.each)(n,function(r){var a=this.findTargetInfo(r,t);if(r.range=r.range||[],a&&!0!==a){r.panelId=a.panelId;var i=un[r.brushType](0,a.coordSys,r.coordRange),o=r.__rangeOffset;r.range=o?Er[r.brushType](i.values,o.offset,function sl(e,n){var t=Fr(e),r=Fr(n),a=[t[0]/r[0],t[1]/r[1]];return isNaN(a[0])&&(a[0]=1),isNaN(a[1])&&(a[1]=1),a}(i.xyMinMax,o.xyMinMax)):i.values}},this)},e.prototype.makePanelOpts=function(n,t){return(0,f.map)(this._targetInfoList,function(r){var a=r.getPanelRect();return{panelId:r.panelId,defaultBrushType:t?t(r):null,clipPath:el(a),isTargetByCursor:rl(a,n,r.coordSysModel),getLinearBrushOtherExtent:nl(a)}})},e.prototype.controlSeries=function(n,t,r){var a=this.findTargetInfo(n,r);return!0===a||a&&(0,f.indexOf)(a.coordSyses,t.coordinateSystem)>=0},e.prototype.findTargetInfo=function(n,t){for(var r=this._targetInfoList,a=kr(t,n),i=0;i<r.length;i++){var o=r[i],l=n.panelId;if(l){if(o.panelId===l)return o}else for(var u=0;u<zr.length;u++)if(zr[u](a,o))return o}return!0},e}();function ln(e){return e[0]>e[1]&&e.reverse(),e}function kr(e,n){return(0,q.pm)(e,n,{includeMainTypes:al})}var ol={grid:function(e,n){var t=e.xAxisModels,r=e.yAxisModels,a=e.gridModels,i=(0,f.createHashMap)(),o={},l={};!t&&!r&&!a||((0,f.each)(t,function(u){var c=u.axis.grid.model;i.set(c.id,c),o[c.id]=!0}),(0,f.each)(r,function(u){var c=u.axis.grid.model;i.set(c.id,c),l[c.id]=!0}),(0,f.each)(a,function(u){i.set(u.id,u),o[u.id]=!0,l[u.id]=!0}),i.each(function(u){var p=[];(0,f.each)(u.coordinateSystem.getCartesians(),function(h,d){((0,f.indexOf)(t,h.getAxis("x").model)>=0||(0,f.indexOf)(r,h.getAxis("y").model)>=0)&&p.push(h)}),n.push({panelId:"grid--"+u.id,gridModel:u,coordSysModel:u,coordSys:p[0],coordSyses:p,getPanelRect:Br.grid,xAxisDeclared:o[u.id],yAxisDeclared:l[u.id]})}))},geo:function(e,n){(0,f.each)(e.geoModels,function(t){var r=t.coordinateSystem;n.push({panelId:"geo--"+t.id,geoModel:t,coordSysModel:t,coordSys:r,coordSyses:[r],getPanelRect:Br.geo})})}},zr=[function(e,n){var t=e.xAxisModel,r=e.yAxisModel,a=e.gridModel;return!a&&t&&(a=t.axis.grid.model),!a&&r&&(a=r.axis.grid.model),a&&a===n.gridModel},function(e,n){var t=e.geoModel;return t&&t===n.geoModel}],Br={grid:function(){return this.coordSys.master.getRect().clone()},geo:function(){var e=this.coordSys,n=e.getBoundingRect().clone();return n.applyTransform(dt.getTransform(e)),n}},un={lineX:(0,f.curry)(Ur,0),lineY:(0,f.curry)(Ur,1),rect:function(e,n,t,r){var a=e?n.pointToData([t[0][0],t[1][0]],r):n.dataToPoint([t[0][0],t[1][0]],r),i=e?n.pointToData([t[0][1],t[1][1]],r):n.dataToPoint([t[0][1],t[1][1]],r),o=[ln([a[0],i[0]]),ln([a[1],i[1]])];return{values:o,xyMinMax:o}},polygon:function(e,n,t,r){var a=[[1/0,-1/0],[1/0,-1/0]];return{values:(0,f.map)(t,function(o){var l=e?n.pointToData(o,r):n.dataToPoint(o,r);return a[0][0]=Math.min(a[0][0],l[0]),a[1][0]=Math.min(a[1][0],l[1]),a[0][1]=Math.max(a[0][1],l[0]),a[1][1]=Math.max(a[1][1],l[1]),l}),xyMinMax:a}}};function Ur(e,n,t,r){var a=t.getAxis(["x","y"][e]),i=ln((0,f.map)([0,1],function(l){return n?a.coordToData(a.toLocalCoord(r[l]),!0):a.toGlobalCoord(a.dataToCoord(r[l]))})),o=[];return o[e]=i,o[1-e]=[NaN,NaN],{values:i,xyMinMax:o}}var Er={lineX:(0,f.curry)(Vr,0),lineY:(0,f.curry)(Vr,1),rect:function(e,n,t){return[[e[0][0]-t[0]*n[0][0],e[0][1]-t[0]*n[0][1]],[e[1][0]-t[1]*n[1][0],e[1][1]-t[1]*n[1][1]]]},polygon:function(e,n,t){return(0,f.map)(e,function(r,a){return[r[0]-t[0]*n[a][0],r[1]-t[1]*n[a][1]]})}};function Vr(e,n,t,r){return[n[0]-r[e]*t[0],n[1]-r[e]*t[1]]}function Fr(e){return e?[e[0][1]-e[0][0],e[1][1]-e[1][0]]:[NaN,NaN]}const Gr=il;var ll=b(6374),cn=f.each,ul=(0,q.g0)("toolbox-dataZoom_"),cl=function(e){function n(){return null!==e&&e.apply(this,arguments)||this}return(0,Y.ZT)(n,e),n.prototype.render=function(t,r,a,i){this._brushController||(this._brushController=new Xs(a.getZr()),this._brushController.on("brush",f.bind(this._onBrush,this)).mount()),function dl(e,n,t,r,a){var i=t._isZoomActive;r&&"takeGlobalCursor"===r.type&&(i="dataZoomSelect"===r.key&&r.dataZoomSelectActive),t._isZoomActive=i,e.setIconStatus("zoom",i?"emphasis":"normal");var l=new Gr(pn(e),n,{include:["grid"]}).makePanelOpts(a,function(u){return u.xAxisDeclared&&!u.yAxisDeclared?"lineX":!u.xAxisDeclared&&u.yAxisDeclared?"lineY":"rect"});t._brushController.setPanels(l).enableBrush(!(!i||!l.length)&&{brushType:"auto",brushStyle:e.getModel("brushStyle").getItemStyle()})}(t,r,this,i,a),function fl(e,n){e.setIconStatus("back",function Os(e){return Je(e).length}(n)>1?"emphasis":"normal")}(t,r)},n.prototype.onclick=function(t,r,a){pl[a].call(this)},n.prototype.remove=function(t,r){this._brushController&&this._brushController.unmount()},n.prototype.dispose=function(t,r){this._brushController&&this._brushController.dispose()},n.prototype._onBrush=function(t){var r=t.areas;if(t.isEnd&&r.length){var a={},i=this.ecModel;this._brushController.updateCovers([]),new Gr(pn(this.model),i,{include:["grid"]}).matchOutputRanges(r,i,function(c,p,h){if("cartesian2d"===h.type){var d=c.brushType;"rect"===d?(l("x",h,p[0]),l("y",h,p[1])):l({lineX:"x",lineY:"y"}[d],h,p)}}),function Ms(e,n){var t=Je(e);gr(n,function(r,a){for(var i=t.length-1;i>=0&&!t[i][a];i--);if(i<0){var l=e.queryComponents({mainType:"dataZoom",subType:"select",id:a})[0];if(l){var u=l.getPercentRange();t[0][a]={dataZoomId:a,start:u[0],end:u[1]}}}}),t.push(n)}(i,a),this._dispatchZoomAction(a)}function l(c,p,h){var d=p.getAxis(c),v=d.model,g=function u(c,p,h){var d;return h.eachComponent({mainType:"dataZoom",subType:"select"},function(v){v.getAxisModel(c,p.componentIndex)&&(d=v)}),d}(c,v,i),m=g.findRepresentativeAxisProxy(v).getMinMaxSpan();(null!=m.minValueSpan||null!=m.maxValueSpan)&&(h=or(0,h.slice(),d.scale.getExtent(),0,m.minValueSpan,m.maxValueSpan)),g&&(a[g.id]={dataZoomId:g.id,startValue:h[0],endValue:h[1]})}},n.prototype._dispatchZoomAction=function(t){var r=[];cn(t,function(a,i){r.push(f.clone(a))}),r.length&&this.api.dispatchAction({type:"dataZoom",from:this.uid,batch:r})},n.getDefaultOption=function(t){return{show:!0,filterMode:"filter",icon:{zoom:"M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1",back:"M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26"},title:t.getLocaleModel().get(["toolbox","dataZoom","title"]),brushStyle:{borderWidth:0,color:"rgba(210,219,238,0.2)"}}},n}(at),pl={zoom:function(){this.api.dispatchAction({type:"takeGlobalCursor",key:"dataZoomSelect",dataZoomSelectActive:!this._isZoomActive})},back:function(){this._dispatchZoomAction(function Ds(e){var n=Je(e),t=n[n.length-1];n.length>1&&n.pop();var r={};return gr(t,function(a,i){for(var o=n.length-1;o>=0;o--)if(a=n[o][i]){r[i]=a;break}}),r}(this.ecModel))}};function pn(e){var n={xAxisIndex:e.get("xAxisIndex",!0),yAxisIndex:e.get("yAxisIndex",!0),xAxisId:e.get("xAxisId",!0),yAxisId:e.get("yAxisId",!0)};return null==n.xAxisIndex&&null==n.xAxisId&&(n.xAxisIndex="all"),null==n.yAxisIndex&&null==n.yAxisId&&(n.yAxisIndex="all"),n}(0,ll.f)("dataZoom",function(e){var n=e.getComponent("toolbox",0),t=["feature","dataZoom"];if(n&&null!=n.get(t)){var r=n.getModel(t),a=[],i=pn(r),o=(0,q.pm)(e,i);return cn(o.xAxisModels,function(u){return l(u,"xAxis","xAxisIndex")}),cn(o.yAxisModels,function(u){return l(u,"yAxis","yAxisIndex")}),a}function l(u,c,p){var h=u.componentIndex,d={type:"select",$fromToolbox:!0,filterMode:r.get("filterMode",!0)||"filter",id:ul+c+h};d[p]=h,a.push(d)}});const vl=cl;var j=b(2315),fn=b(5302),gl=b(6094),dn=Math.sin,vn=Math.cos,jr=Math.PI,wt=2*Math.PI,ml=180/jr;const Hr=function(){function e(){}return e.prototype.reset=function(n){this._start=!0,this._d=[],this._str="",this._p=Math.pow(10,n||4)},e.prototype.moveTo=function(n,t){this._add("M",n,t)},e.prototype.lineTo=function(n,t){this._add("L",n,t)},e.prototype.bezierCurveTo=function(n,t,r,a,i,o){this._add("C",n,t,r,a,i,o)},e.prototype.quadraticCurveTo=function(n,t,r,a){this._add("Q",n,t,r,a)},e.prototype.arc=function(n,t,r,a,i,o){this.ellipse(n,t,r,r,0,a,i,o)},e.prototype.ellipse=function(n,t,r,a,i,o,l,u){var g,c=l-o,p=!u,h=Math.abs(c),d=(0,j.zT)(h-wt)||(p?c>=wt:-c>=wt),v=c>0?c%wt:c%wt+wt;g=!!d||!(0,j.zT)(h)&&v>=jr==!!p;var m=n+r*vn(o),S=t+a*dn(o);this._start&&this._add("M",m,S);var A=Math.round(i*ml);if(d){var T=1/this._p,C=(p?1:-1)*(wt-T);this._add("A",r,a,A,1,+p,n+r*vn(o+C),t+a*dn(o+C)),T>.01&&this._add("A",r,a,A,0,+p,m,S)}else{var D=n+r*vn(l),_=t+a*dn(l);this._add("A",r,a,A,+g,+p,D,_)}},e.prototype.rect=function(n,t,r,a){this._add("M",n,t),this._add("l",r,0),this._add("l",0,a),this._add("l",-r,0),this._add("Z")},e.prototype.closePath=function(){this._d.length>0&&this._add("Z")},e.prototype._add=function(n,t,r,a,i,o,l,u,c){for(var p=[],h=this._p,d=1;d<arguments.length;d++){var v=arguments[d];if(isNaN(v))return void(this._invalid=!0);p.push(Math.round(v*h)/h)}this._d.push(n+p.join(" ")),this._start="Z"===n},e.prototype.generateStr=function(){this._str=this._invalid?"":this._d.join(""),this._d=[]},e.prototype.getStr=function(){return this._str},e}();var xl=b(720),ae="none",bl=Math.round,hn=["lineCap","miterLimit","lineJoin"],Al=(0,f.map)(hn,function(e){return"stroke-"+e.toLowerCase()});var Ml=b(9626),Wr="http://www.w3.org/2000/svg",Yr="http://www.w3.org/1999/xlink",Dl="http://www.w3.org/2000/xmlns/",_l="http://www.w3.org/XML/1998/namespace";function Jr(e){return document.createElementNS(Wr,e)}function $(e,n,t,r,a){return{tag:e,attrs:t||{},children:r,text:a,key:n}}function gn(e,n){var t=(n=n||{}).newline?"\n":"";return function r(a){var i=a.children,o=a.tag,u=a.text;return function Ol(e,n){var t=[];if(n)for(var r in n){var a=n[r],i=r;!1!==a&&(!0!==a&&null!=a&&(i+='="'+a+'"'),t.push(i))}return"<"+e+" "+t.join(" ")+">"}(o,a.attrs)+("style"!==o?(0,Ml.F1)(u):u||"")+(i?""+t+(0,f.map)(i,function(c){return r(c)}).join(t)+t:"")+function wl(e){return"</"+e+">"}(o)}(e)}function mn(e){return{zrId:e,shadowCache:{},patternCache:{},gradientCache:{},clipPathCache:{},defs:{},cssNodes:{},cssAnims:{},cssClassIdx:0,cssAnimIdx:0,shadowIdx:0,gradientIdx:0,patternIdx:0,clipPathIdx:0}}function Qr(e,n,t,r){return $("svg","root",{width:e,height:n,xmlns:Wr,"xmlns:xlink":Yr,version:"1.1",baseProfile:"full",viewBox:!!r&&"0 0 "+e+" "+n},t)}var Il=b(2823),Nl=b(2353),Zl=b(857),Ll=b(50),Rl=b(1861),$r={cubicIn:"0.32,0,0.67,0",cubicOut:"0.33,1,0.68,1",cubicInOut:"0.65,0,0.35,1",quadraticIn:"0.11,0,0.5,0",quadraticOut:"0.5,1,0.89,1",quadraticInOut:"0.45,0,0.55,1",quarticIn:"0.5,0,0.75,0",quarticOut:"0.25,1,0.5,1",quarticInOut:"0.76,0,0.24,1",quinticIn:"0.64,0,0.78,0",quinticOut:"0.22,1,0.36,1",quinticInOut:"0.83,0,0.17,1",sinusoidalIn:"0.12,0,0.39,0",sinusoidalOut:"0.61,1,0.88,1",sinusoidalInOut:"0.37,0,0.63,1",exponentialIn:"0.7,0,0.84,0",exponentialOut:"0.16,1,0.3,1",exponentialInOut:"0.87,0,0.13,1",circularIn:"0.55,0,1,0.45",circularOut:"0,0.55,0.45,1",circularInOut:"0.85,0,0.15,1"},Pt="transform-origin";function kl(e,n,t){var r=(0,f.extend)({},e.shape);(0,f.extend)(r,n),e.buildPath(t,r);var a=new Hr;return a.reset((0,j.Gk)(e)),t.rebuildPath(a,1),a.generateStr(),a.getStr()}function zl(e,n){var t=n.originX,r=n.originY;(t||r)&&(e[Pt]=t+"px "+r+"px")}var Bl={fill:"fill",opacity:"opacity",lineWidth:"stroke-width",lineDashOffset:"stroke-dashoffset"};function Xr(e,n){var t=n.zrId+"-ani-"+n.cssAnimIdx++;return n.cssAnims[t]=e,t}function Kr(e){return(0,f.isString)(e)?$r[e]?"cubic-bezier("+$r[e]+")":(0,Rl.H)(e)?e:"":""}function Ae(e,n,t,r){var a=e.animators,i=a.length,o=[];if(e instanceof Ll.Z){var l=function Ul(e,n,t){var i,o,a={};if((0,f.each)(e.shape.paths,function(u){var c=mn(t.zrId);c.animation=!0,Ae(u,{},c,!0);var p=c.cssAnims,h=c.cssNodes,d=(0,f.keys)(p),v=d.length;if(v){var g=p[o=d[v-1]];for(var m in g){var S=g[m];a[m]=a[m]||{d:""},a[m].d+=S.d||""}for(var A in h){var T=h[A].animation;T.indexOf(o)>=0&&(i=T)}}}),i){n.d=!1;var l=Xr(a,t);return i.replace(o,l)}}(e,n,t);if(l)o.push(l);else if(!i)return}else if(!i)return;for(var u={},c=0;c<i;c++){var p=a[c],h=[p.getMaxTime()/1e3+"s"],d=Kr(p.getClip().easing),v=p.getDelay();h.push(d||"linear"),v&&h.push(v/1e3+"s"),p.getLoop()&&h.push("infinite");var g=h.join(" ");u[g]=u[g]||[g,[]],u[g][1].push(p)}function m(T){var C=T[1],D=C.length,_={},I={},P={},R="animation-timing-function";function k(ot,St,Wt){for(var Lt=ot.getTracks(),De=ot.getMaxTime(),Yt=0;Yt<Lt.length;Yt++){var Jt=Lt[Yt];if(Jt.needsAnimate()){var Tt=Jt.keyframes,st=Jt.propName;if(Wt&&(st=Wt(st)),st)for(var mt=0;mt<Tt.length;mt++){var Qt=Tt[mt],lt=Math.round(Qt.time/De*100)+"%",_e=Kr(Qt.easing),At=Qt.rawValue;((0,f.isString)(At)||(0,f.isNumber)(At))&&(St[lt]=St[lt]||{},St[lt][st]=Qt.rawValue,_e&&(St[lt][R]=_e))}}}}for(var L=0;L<D;L++)(E=(H=C[L]).targetName)?"shape"===E&&k(H,I):!r&&k(H,_);for(var B in _){var Q={};(0,Nl.kY)(Q,e),(0,f.extend)(Q,_[B]);var it=(0,j.gA)(Q),ht=_[B][R];P[B]=it?{transform:it}:{},zl(P[B],Q),ht&&(P[B][R]=ht)}var xt,Nt=!0;for(var B in I){P[B]=P[B]||{};var bt=!xt;ht=I[B][R],bt&&(xt=new Zl.Z);var Gt=xt.len();xt.reset(),P[B].d=kl(e,I[B],xt);var jt=xt.len();if(!bt&&Gt!==jt){Nt=!1;break}ht&&(P[B][R]=ht)}if(!Nt)for(var B in P)delete P[B].d;if(!r)for(L=0;L<D;L++){var H,E;"style"===(E=(H=C[L]).targetName)&&k(H,P,function(Lt){return Bl[Lt]})}var gt,X=(0,f.keys)(P),pt=!0;for(L=1;L<X.length;L++){var Zt=X[L-1];if(P[Zt][Pt]!==P[X[L]][Pt]){pt=!1;break}gt=P[Zt][Pt]}if(pt&&gt){for(var B in P)P[B][Pt]&&delete P[B][Pt];n[Pt]=gt}if((0,f.filter)(X,function(ot){return(0,f.keys)(P[ot]).length>0}).length)return Xr(P,t)+" "+T[0]+" both"}for(var S in u)(l=m(u[S]))&&o.push(l);if(o.length){var A=t.zrId+"-cls-"+t.cssClassIdx++;t.cssNodes["."+A]={animation:o.join(",")},n.class=A}}var qr=b(1240),ie=Math.round;function ta(e){return e&&(0,f.isString)(e.src)}function ea(e){return e&&(0,f.isFunction)(e.toDataURL)}function yn(e,n,t,r){(function Cl(e,n,t,r){var a=null==n.opacity?1:n.opacity;if(t instanceof Ue.ZP)e("opacity",a);else{if(function Sl(e){var n=e.fill;return null!=n&&n!==ae}(n)){var i=(0,j.ut)(n.fill);e("fill",i.color);var o=null!=n.fillOpacity?n.fillOpacity*i.opacity*a:i.opacity*a;(r||o<1)&&e("fill-opacity",o)}else e("fill",ae);if(function Tl(e){var n=e.stroke;return null!=n&&n!==ae}(n)){var l=(0,j.ut)(n.stroke);e("stroke",l.color);var u=n.strokeNoScale?t.getLineScale():1,c=u?(n.lineWidth||0)/u:0,p=null!=n.strokeOpacity?n.strokeOpacity*l.opacity*a:l.opacity*a,h=n.strokeFirst;if((r||1!==c)&&e("stroke-width",c),(r||h)&&e("paint-order",h?"stroke":"fill"),(r||p<1)&&e("stroke-opacity",p),n.lineDash){var d=(0,xl.a)(t),v=d[0],g=d[1];v&&(g=bl(g||0),e("stroke-dasharray",v.join(",")),(g||r)&&e("stroke-dashoffset",g))}else r&&e("stroke-dasharray",ae);for(var m=0;m<hn.length;m++){var S=hn[m];if(r||n[S]!==fn.$t[S]){var A=n[S]||fn.$t[S];A&&e(Al[m],A)}}}else r&&e("stroke",ae)}})(function(a,i){var o="fill"===a||"stroke"===a;o&&(0,j.H3)(i)?sa(n,e,a,r):o&&(0,j.R)(i)?la(t,e,a,r):e[a]=i},n,t,!1),function Wl(e,n,t){var r=e.style;if((0,j.i2)(r)){var a=(0,j.n1)(e),i=t.shadowCache,o=i[a];if(!o){var l=e.getGlobalScale(),u=l[0],c=l[1];if(!u||!c)return;var p=r.shadowOffsetX||0,h=r.shadowOffsetY||0,d=r.shadowBlur,v=(0,j.ut)(r.shadowColor),g=v.opacity,m=v.color,T=d/2/u+" "+d/2/c;o=t.zrId+"-s"+t.shadowIdx++,t.defs[o]=$("filter",o,{id:o,x:"-100%",y:"-100%",width:"300%",height:"300%"},[$("feDropShadow","",{dx:p/u,dy:h/c,stdDeviation:T,"flood-color":m,"flood-opacity":g})]),i[a]=o}n.filter=(0,j.m1)(o)}}(t,e,r)}function na(e){return(0,j.zT)(e[0]-1)&&(0,j.zT)(e[1])&&(0,j.zT)(e[2])&&(0,j.zT)(e[3]-1)}function xn(e,n,t){if(n&&(!function El(e){return(0,j.zT)(e[4])&&(0,j.zT)(e[5])}(n)||!na(n))){var r=t?10:1e4;e.transform=na(n)?"translate("+ie(n[4]*r)/r+" "+ie(n[5]*r)/r+")":(0,j.qV)(n)}}function ra(e,n,t){for(var r=e.points,a=[],i=0;i<r.length;i++)a.push(ie(r[i][0]*t)/t),a.push(ie(r[i][1]*t)/t);n.points=a.join(" ")}function aa(e){return!e.smooth}var Fl={circle:[function Vl(e){var n=(0,f.map)(e,function(t){return"string"==typeof t?[t,t]:t});return function(t,r,a){for(var i=0;i<n.length;i++){var o=n[i],l=t[o[0]];null!=l&&(r[o[1]]=ie(l*a)/a)}}}(["cx","cy","r"])],polyline:[ra,aa],polygon:[ra,aa]};function ia(e,n){var t=e.style,r=e.shape,a=Fl[e.type],i={},o=n.animation,l="path",u=e.style.strokePercent,c=n.compress&&(0,j.Gk)(e)||4;if(!a||n.willUpdate||a[1]&&!a[1](r)||o&&function Gl(e){for(var n=e.animators,t=0;t<n.length;t++)if("shape"===n[t].targetName)return!0;return!1}(e)||u<1){var h=!e.path||e.shapeChanged();e.path||e.createPathProxy();var d=e.path;h&&(d.beginPath(),e.buildPath(d,e.shape),e.pathUpdated());var v=d.getVersion(),g=e,m=g.__svgPathBuilder;(g.__svgPathVersion!==v||!m||u!==g.__svgPathStrokePercent)&&(m||(m=g.__svgPathBuilder=new Hr),m.reset(c),d.rebuildPath(m,u),m.generateStr(),g.__svgPathVersion=v,g.__svgPathStrokePercent=u),i.d=m.getStr()}else{l=e.type;var p=Math.pow(10,c);a[0](r,i,p)}return xn(i,e.transform),yn(i,t,e,n),n.animation&&Ae(e,i,n),$(l,e.id+"",i)}function oa(e,n){return e instanceof fn.ZP?ia(e,n):e instanceof Ue.ZP?function jl(e,n){var t=e.style,r=t.image;if(r&&!(0,f.isString)(r)&&(ta(r)?r=r.src:ea(r)&&(r=r.toDataURL())),r){var a=t.x||0,i=t.y||0,u={href:r,width:t.width,height:t.height};return a&&(u.x=a),i&&(u.y=i),xn(u,e.transform),yn(u,t,e,n),n.animation&&Ae(e,u,n),$("image",e.id+"",u)}}(e,n):e instanceof gl.Z?function Hl(e,n){var t=e.style,r=t.text;if(null!=r&&(r+=""),r&&!isNaN(t.x)&&!isNaN(t.y)){var a=t.font||qr.Uo,i=t.x||0,o=(0,j.mU)(t.y||0,(0,pr.Dp)(a),t.textBaseline),u={"dominant-baseline":"central","text-anchor":j.jY[t.textAlign]||t.textAlign};if((0,yt.Y1)(t)){var c="",p=t.fontStyle,h=(0,yt.VG)(t.fontSize);if(!parseFloat(h))return;var v=t.fontWeight;c+="font-size:"+h+";font-family:"+(t.fontFamily||qr.rk)+";",p&&"normal"!==p&&(c+="font-style:"+p+";"),v&&"normal"!==v&&(c+="font-weight:"+v+";"),u.style=c}else u.style="font: "+a;return r.match(/\s/)&&(u["xml:space"]="preserve"),i&&(u.x=i),o&&(u.y=o),xn(u,e.transform),yn(u,t,e,n),n.animation&&Ae(e,u,n),$("text",e.id+"",u,void 0,r)}}(e,n):void 0}function sa(e,n,t,r){var i,a=e[t],o={gradientUnits:a.global?"userSpaceOnUse":"objectBoundingBox"};if((0,j.I1)(a))i="linearGradient",o.x1=a.x,o.y1=a.y,o.x2=a.x2,o.y2=a.y2;else{if(!(0,j.gO)(a))return;i="radialGradient",o.cx=(0,f.retrieve2)(a.x,.5),o.cy=(0,f.retrieve2)(a.y,.5),o.r=(0,f.retrieve2)(a.r,.5)}for(var l=a.colorStops,u=[],c=0,p=l.length;c<p;++c){var h=100*(0,j.Pn)(l[c].offset)+"%",v=(0,j.ut)(l[c].color),m=v.opacity,S={offset:h};S["stop-color"]=v.color,m<1&&(S["stop-opacity"]=m),u.push($("stop",c+"",S))}var T=gn($(i,"",o,u)),C=r.gradientCache,D=C[T];D||(D=r.zrId+"-g"+r.gradientIdx++,C[T]=D,o.id=D,r.defs[D]=$(i,D,o,u)),n[t]=(0,j.m1)(D)}function la(e,n,t,r){var h,a=e.style[t],i=e.getBoundingRect(),o={},l=a.repeat,u="no-repeat"===l,c="repeat-x"===l,p="repeat-y"===l;if((0,j.Cv)(a)){var d=a.imageWidth,v=a.imageHeight,g=void 0,m=a.image;if((0,f.isString)(m)?g=m:ta(m)?g=m.src:ea(m)&&(g=m.toDataURL()),typeof Image>"u"){var S="Image width/height must been given explictly in svg-ssr renderer.";(0,f.assert)(d,S),(0,f.assert)(v,S)}else if(null==d||null==v){var A=function(L,H){if(L){var E=L.elm,B=d||H.width,Q=v||H.height;"pattern"===L.tag&&(c?(Q=1,B/=i.width):p&&(B=1,Q/=i.height)),L.attrs.width=B,L.attrs.height=Q,E&&(E.setAttribute("width",B),E.setAttribute("height",Q))}},T=(0,Il.Gq)(g,null,e,function(L){u||A(I,L),A(h,L)});T&&T.width&&T.height&&(d=d||T.width,v=v||T.height)}h=$("image","img",{href:g,width:d,height:v}),o.width=d,o.height=v}else a.svgElement&&(h=(0,f.clone)(a.svgElement),o.width=a.svgWidth,o.height=a.svgHeight);if(h){var C,D;u?C=D=1:c?(D=1,C=o.width/i.width):p?(C=1,D=o.height/i.height):o.patternUnits="userSpaceOnUse",null!=C&&!isNaN(C)&&(o.width=C),null!=D&&!isNaN(D)&&(o.height=D);var _=(0,j.gA)(a);_&&(o.patternTransform=_);var I=$("pattern","",o,[h]),P=gn(I),R=r.patternCache,k=R[P];k||(k=r.zrId+"-p"+r.patternIdx++,R[P]=k,o.id=k,I=r.defs[k]=$("pattern",k,o,[h])),n[t]=(0,j.m1)(k)}}function Yl(e,n,t){var r=t.clipPathCache,a=t.defs,i=r[e.id];if(!i){var o={id:i=t.zrId+"-c"+t.clipPathIdx++};r[e.id]=i,a[i]=$("clipPath",i,o,[ia(e,t)])}n["clip-path"]=(0,j.m1)(i)}function ua(e){return document.createTextNode(e)}function It(e,n,t){e.insertBefore(n,t)}function ca(e,n){e.removeChild(n)}function pa(e,n){e.appendChild(n)}function fa(e){return e.parentNode}function da(e){return e.nextSibling}function bn(e,n){e.textContent=n}var va=58,Jl=120,Ql=$("","");function Sn(e){return void 0===e}function ct(e){return void 0!==e}function $l(e,n,t){for(var r={},a=n;a<=t;++a){var i=e[a].key;void 0!==i&&(r[i]=a)}return r}function oe(e,n){return e.tag===n.tag&&e.key===n.key}function se(e){var n,t=e.children,r=e.tag;if(ct(r)){var a=e.elm=Jr(r);if(Tn(Ql,e),(0,f.isArray)(t))for(n=0;n<t.length;++n){var i=t[n];null!=i&&pa(a,se(i))}else ct(e.text)&&!(0,f.isObject)(e.text)&&pa(a,ua(e.text))}else e.elm=ua(e.text);return e.elm}function ha(e,n,t,r,a){for(;r<=a;++r){var i=t[r];null!=i&&It(e,se(i),n)}}function Ce(e,n,t,r){for(;t<=r;++t){var a=n[t];null!=a&&(ct(a.tag)?ca(fa(a.elm),a.elm):ca(e,a.elm))}}function Tn(e,n){var t,r=n.elm,a=e&&e.attrs||{},i=n.attrs||{};if(a!==i){for(t in i){var o=i[t];a[t]!==o&&(!0===o?r.setAttribute(t,""):!1===o?r.removeAttribute(t):t.charCodeAt(0)!==Jl?r.setAttribute(t,o):"xmlns:xlink"===t||"xmlns"===t?r.setAttributeNS(Dl,t,o):t.charCodeAt(3)===va?r.setAttributeNS(_l,t,o):t.charCodeAt(5)===va?r.setAttributeNS(Yr,t,o):r.setAttribute(t,o))}for(t in a)t in i||r.removeAttribute(t)}}function Ft(e,n){var t=n.elm=e.elm,r=e.children,a=n.children;e!==n&&(Tn(e,n),Sn(n.text)?ct(r)&&ct(a)?r!==a&&function Xl(e,n,t){for(var h,d,v,r=0,a=0,i=n.length-1,o=n[0],l=n[i],u=t.length-1,c=t[0],p=t[u];r<=i&&a<=u;)null==o?o=n[++r]:null==l?l=n[--i]:null==c?c=t[++a]:null==p?p=t[--u]:oe(o,c)?(Ft(o,c),o=n[++r],c=t[++a]):oe(l,p)?(Ft(l,p),l=n[--i],p=t[--u]):oe(o,p)?(Ft(o,p),It(e,o.elm,da(l.elm)),o=n[++r],p=t[--u]):oe(l,c)?(Ft(l,c),It(e,l.elm,o.elm),l=n[--i],c=t[++a]):(Sn(h)&&(h=$l(n,r,i)),Sn(d=h[c.key])||(v=n[d]).tag!==c.tag?It(e,se(c),o.elm):(Ft(v,c),n[d]=void 0,It(e,v.elm,o.elm)),c=t[++a]);(r<=i||a<=u)&&(r>i?ha(e,null==t[u+1]?null:t[u+1].elm,t,a,u):Ce(e,n,r,i))}(t,r,a):ct(a)?(ct(e.text)&&bn(t,""),ha(t,null,a,0,a.length-1)):ct(r)?Ce(t,r,0,r.length-1):ct(e.text)&&bn(t,""):e.text!==n.text&&(ct(r)&&Ce(t,r,0,r.length-1),bn(t,n.text)))}var ga=b(6695),ql=0;const nu=function(){function e(n,t,r){if(this.type="svg",this.refreshHover=function(){},this.configLayer=function(){},this.storage=t,this._opts=r=(0,f.extend)({},r),this.root=n,this._id="zr"+ql++,this._oldVNode=Qr(r.width,r.height),n&&!r.ssr){var a=this._viewport=document.createElement("div");a.style.cssText="position:relative;overflow:hidden";var i=this._svgDom=this._oldVNode.elm=Jr("svg");Tn(null,this._oldVNode),a.appendChild(i),n.appendChild(a)}this.resize(r.width,r.height)}return e.prototype.getType=function(){return this.type},e.prototype.getViewportRoot=function(){return this._viewport},e.prototype.getViewportRootOffset=function(){var n=this.getViewportRoot();if(n)return{offsetLeft:n.offsetLeft||0,offsetTop:n.offsetTop||0}},e.prototype.getSvgDom=function(){return this._svgDom},e.prototype.refresh=function(){if(this.root){var n=this.renderToVNode({willUpdate:!0});n.attrs.style="position:absolute;left:0;top:0;user-select:none",function Kl(e,n){if(oe(e,n))Ft(e,n);else{var t=e.elm,r=fa(t);se(n),null!==r&&(It(r,n.elm,da(t)),Ce(r,[e],0,0))}}(this._oldVNode,n),this._oldVNode=n}},e.prototype.renderOneToVNode=function(n){return oa(n,mn(this._id))},e.prototype.renderToVNode=function(n){n=n||{};var t=this.storage.getDisplayList(!0),r=this._width,a=this._height,i=mn(this._id);i.animation=n.animation,i.willUpdate=n.willUpdate,i.compress=n.compress;var o=[],l=this._bgVNode=function eu(e,n,t,r){var a;if(t&&"none"!==t)if(a=$("rect","bg",{width:e,height:n,x:"0",y:"0",id:"0"}),(0,j.H3)(t))sa({fill:t},a.attrs,"fill",r);else if((0,j.R)(t))la({style:{fill:t},dirty:f.noop,getBoundingRect:function(){return{width:e,height:n}}},a.attrs,"fill",r);else{var i=(0,j.ut)(t),l=i.opacity;a.attrs.fill=i.color,l<1&&(a.attrs["fill-opacity"]=l)}return a}(r,a,this._backgroundColor,i);l&&o.push(l);var u=n.compress?null:this._mainVNode=$("g","main",{},[]);this._paintList(t,i,u?u.children:o),u&&o.push(u);var c=(0,f.map)((0,f.keys)(i.defs),function(d){return i.defs[d]});if(c.length&&o.push($("defs","defs",{},c)),n.animation){var p=function Pl(e,n,t){var r=(t=t||{}).newline?"\n":"",a=" {"+r,i=r+"}",o=(0,f.map)((0,f.keys)(e),function(u){return u+a+(0,f.map)((0,f.keys)(e[u]),function(c){return c+":"+e[u][c]+";"}).join(r)+i}).join(r),l=(0,f.map)((0,f.keys)(n),function(u){return"@keyframes "+u+a+(0,f.map)((0,f.keys)(n[u]),function(c){return c+a+(0,f.map)((0,f.keys)(n[u][c]),function(p){var h=n[u][c][p];return"d"===p&&(h='path("'+h+'")'),p+":"+h+";"}).join(r)+i}).join(r)+i}).join(r);return o||l?["<![CDATA[",o,l,"]]>"].join(r):""}(i.cssNodes,i.cssAnims,{newline:!0});if(p){var h=$("style","stl",{},[],p);o.push(h)}}return Qr(r,a,o,n.useViewBox)},e.prototype.renderToString=function(n){return gn(this.renderToVNode({animation:(0,f.retrieve2)((n=n||{}).cssAnimation,!0),willUpdate:!1,compress:!0,useViewBox:(0,f.retrieve2)(n.useViewBox,!0)}),{newline:!0})},e.prototype.setBackgroundColor=function(n){this._backgroundColor=n},e.prototype.getSvgRoot=function(){return this._mainVNode&&this._mainVNode.elm},e.prototype._paintList=function(n,t,r){for(var l,u,a=n.length,i=[],o=0,c=0,p=0;p<a;p++){var h=n[p];if(!h.invisible){var d=h.__clipPaths,v=d&&d.length||0,g=u&&u.length||0,m=void 0;for(m=Math.max(v-1,g-1);m>=0&&(!d||!u||d[m]!==u[m]);m--);for(var S=g-1;S>m;S--)l=i[--o-1];for(var A=m+1;A<v;A++){var T={};Yl(d[A],T,t);var C=$("g","clip-g-"+c++,T,[]);(l?l.children:r).push(C),i[o++]=C,l=C}u=d;var D=oa(h,t);D&&(l?l.children:r).push(D)}}},e.prototype.resize=function(n,t){var r=this._opts,a=this.root,i=this._viewport;if(null!=n&&(r.width=n),null!=t&&(r.height=t),a&&i&&(i.style.display="none",n=(0,ga.ap)(a,0,r),t=(0,ga.ap)(a,1,r),i.style.display=""),this._width!==n||this._height!==t){if(this._width=n,this._height=t,i){var o=i.style;o.width=n+"px",o.height=t+"px"}if((0,j.R)(this._backgroundColor))this.refresh();else{var l=this._svgDom;l&&(l.setAttribute("width",n),l.setAttribute("height",t));var u=this._bgVNode&&this._bgVNode.elm;u&&(u.setAttribute("width",n),u.setAttribute("height",t))}}},e.prototype.getWidth=function(){return this._width},e.prototype.getHeight=function(){return this._height},e.prototype.dispose=function(){this.root&&(this.root.innerHTML=""),this._svgDom=this._viewport=this.storage=this._oldVNode=this._bgVNode=this._mainVNode=null},e.prototype.clear=function(){this._svgDom&&(this._svgDom.innerHTML=null),this._oldVNode=null},e.prototype.toDataURL=function(n){var t=this.renderToString(),r="data:image/svg+xml;";return n?(t=(0,j.oF)(t))&&r+"base64,"+t:r+"charset=UTF-8,"+encodeURIComponent(t)},e}();Xt.D([Ti.N,function ji(e){e.registerChartView(Zi),e.registerSeriesModel(Fi),(0,Ai.y)("pie",e.registerAction),e.registerLayout((0,f.curry)(Ci,"pie")),e.registerProcessor(function Mi(e){return{seriesType:e,reset:function(n,t){var r=t.findComponents({mainType:"legend"});if(r&&r.length){var a=n.getData();a.filterSelf(function(i){for(var o=a.getName(i),l=0;l<r.length;l++)if(!r[l].isSelected(o))return!1;return!0})}}}}("pie")),e.registerProcessor(function Gi(e){return{seriesType:e,reset:function(n,t){var r=n.getData();r.filterSelf(function(a){var i=r.mapDimension("value"),o=r.get(i,a);return!((0,f.isNumber)(o)&&!isNaN(o)&&o<0)})}}}("pie"))},Hi.N,function lo(e){(0,Xt.D)(Hn),(0,Xt.D)(so)},function Zo(e){e.registerComponentModel(fo),e.registerComponentView(No),e.registerPreprocessor(function(n){(function uo(e,n){if(!e)return!1;for(var t=(0,f.isArray)(e)?e:[e],r=0;r<t.length;r++)if(t[r]&&t[r][n])return!0;return!1})(n.series,"markPoint")&&(n.markPoint=n.markPoint||{})})},Lo.N,function Bo(e){e.registerComponentModel(ko),e.registerComponentView(zo)},function hl(e){e.registerComponentModel(is),e.registerComponentView(ls),ne("saveAsImage",cs),ne("magicType",ds),ne("dataView",Cs),ne("dataZoom",vl),ne("restore",Ps),(0,Xt.D)(rs)},function ru(e){e.registerPainter("svg",nu)}]);const au=[{path:"",component:bi}];let iu=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=s.oAB({type:e}),e.\u0275inj=s.cJS({imports:[M.w,w.ez,Z.C,F.q,x.Oz,y.Ns.forRoot({echarts:Si}),N,O.Bz.forChild(au),z,W,Oe,U.G,O.Bz]}),e})()},5172:(K,V,b)=>{b.d(V,{In:()=>M,Ky:()=>x,VC:()=>w,c5:()=>Z,gG:()=>F});var M=function(y){return y.FILE_SHOW_LINKS="fileLinks",y.FILE_EDIT="fileEdit",y.DELETE="delete",y.RENAME="rename",y.MOVE="move",y}(M||{}),w=function(y){return y.FILE="file",y.FOLDER="folder",y}(w||{}),F=function(y){return y.FILENAME="filename",y.SIZE="size",y.TIME="time",y.EXTENSION="ext",y}(F||{}),Z=function(y){return y.GRID="grid",y.LIST="list",y}(Z||{}),x=function(y){return y.W_768_I_1="(max-width: 767.98px)",y.W_933_I_2="(min-width: 768px) and (max-width: 933.98px)",y.W_960_I_3="(min-width: 934px) and (max-width: 959.98px)",y.W_1226_I_2="(min-width: 960px) and (max-width: 1225.98px)",y.W_1540_I_3="(min-width: 1226px) and (max-width: 1539.98px)",y.W_1854_I_4="(min-width: 1540px) and (max-width: 1853.98px)",y.W_2168_I_5="(min-width: 1854px) and (max-width: 2167.98px)",y.W_2482_I_6="(min-width: 2168px) and (max-width: 2481.98px)",y.W_2796_I_7="(min-width: 2482px) and (max-width: 2795.98px)",y.W_3110_I_8="(min-width: 2796px) and (max-width: 3109.98px)",y.W_3424_I_9="(min-width: 3110px) and (max-width: 3423.98px)",y.W_3738_I_10="(min-width: 3424px)",y}(x||{})},1990:(K,V,b)=>{b.d(V,{C7:()=>Z,Mi:()=>x,O8:()=>w,er:()=>y,p0:()=>F,xt:()=>s});var M=b(5172);const w=[{ext:["png","apng"],maxSize:15},{ext:["jpeg","jpg","jpe"],maxSize:10},{ext:["gif"],maxSize:15},{ext:["bmp"],maxSize:10},{ext:["webp","webm"],maxSize:10},{ext:["psd","xcf"],maxSize:150},{ext:["svg"],maxSize:30}].map(N=>(N.maxSize*=1048576,N)),F={lastPath:[],layout:{asc:!0,orderBy:M.gG.FILENAME,type:M.c5.GRID},uploader:{checkImage:{time:0,active:!0},showLinkModal:!1}},Z="https://upload.forumfree.net/api/",x=/^(?:(?![\t\r\n])[a-zA-Z0-9_\-.\s])*$/,y=/^(?:(?![\t\r\n])[a-zA-Z0-9_\-\s])*$/,s={invalidLength:!1,alreadyUsed:!1,invalidStartOrEnd:!1,invalidCharacter:!1}},5571:(K,V,b)=>{b.d(V,{AD:()=>w,It:()=>y,ex:()=>M,mH:()=>s,r2:()=>Z,vO:()=>x,xJ:()=>F});const M="\nquery UploadEntitiesListToken($scope: String, $target: String!) {\n    uploadEntitiesListToken(scope: $scope, target: $target)\n}",w="\nquery UploadEntitiesHostToken($scope: String, $target: String!) {\n    uploadEntitiesHostToken(scope: $scope, target: $target)\n}",F="\nquery UploadEntitiesCreateDirectoryToken($scope: String, $target: String!) {\n    uploadEntitiesCreateDirectoryToken(scope: $scope, target: $target)\n}",Z="\nquery UploadEntitiesMoveToken($scope: String, $source: String!, $target: String!) {\n    uploadEntitiesMoveToken(scope: $scope, source: $source, target: $target)\n}",x="\nquery UploadEntitiesDeleteToken($scope: String, $target: String!) {\n    uploadEntitiesDeleteToken(scope: $scope, target: $target)\n}",y="\nquery UploadHistoryAvailableDateRange {\n    uploadHistoryAvailableDateRange {\n        start\n        end\n    }\n}",s="\nsubscription UploadEntities($scope: String) {\n    uploadEntities(scope: $scope) {\n        eventMessage\n        eventType\n        user {\n            avatar\n            host\n            id\n            nickname\n        }\n    }\n}"},4158:(K,V)=>{Object.defineProperty(V,"__esModule",{value:!0}),V.isNestedField=void 0,V.isNestedField=function b(M){return"object"==typeof M&&M.hasOwnProperty("operation")&&M.hasOwnProperty("variables")&&M.hasOwnProperty("fields")||"object"==typeof M&&M.hasOwnProperty("operation")&&M.hasOwnProperty("fragment")&&M.hasOwnProperty("fields")}},3528:(K,V)=>{Object.defineProperty(V,"__esModule",{value:!0});var b=function(M){return M.Mutation="mutation",M.Query="query",M.Subscription="subscription",M}(b||{});V.default=b},2209:function(K,V,b){var M=this&&this.__assign||function(){return M=Object.assign||function(Z){for(var x,y=1,s=arguments.length;y<s;y++)for(var N in x=arguments[y])Object.prototype.hasOwnProperty.call(x,N)&&(Z[N]=x[N]);return Z},M.apply(this,arguments)};Object.defineProperty(V,"__esModule",{value:!0});var w=b(4158),F=function(){function Z(){}return Z.resolveVariables=function(x){for(var y={},s=0,N=x;s<N.length;s++){var O=N[s],U=O.variables,z=O.fields;y=M(M(M({},y),U),z&&Z.getNestedVariables(z)||{})}return y},Z.queryDataNameAndArgumentMap=function(x){return x&&Object.keys(x).length?"(".concat(Object.entries(x).reduce(function(y,s,N){var O=s[0],U=s[1];return"".concat(y).concat(0!==N?", ":"").concat(U&&U.name?U.name:O,": $").concat(O)},""),")"):""},Z.queryFieldsMap=function(x){var y=this;return x?x.map(function(s){if((0,w.isNestedField)(s))return Z.queryNestedFieldMap(s);if("object"==typeof s){var N="";return Object.entries(s).forEach(function(O,U,z){var G=O[1];N+="".concat(O[0]," ").concat(G.length>0?"{ "+y.queryFieldsMap(G)+" }":""),U<z.length-1&&(N+=", ")}),N}return"".concat(s)}).join(", "):""},Z.operationOrAlias=function(x){return"string"==typeof x?x:"".concat(x.alias,": ").concat(x.name)},Z.isFragment=function(x){var y;return null!==(y=!0===(null==x?void 0:x.fragment))&&void 0!==y&&y},Z.operationOrFragment=function(x){return Z.isFragment(x)?x.operation:Z.operationOrAlias(x.operation)},Z.getFragment=function(x){return Z.isFragment(x)?"... on ":""},Z.queryNestedFieldMap=function(x){return"".concat(Z.getFragment(x)).concat(Z.operationOrFragment(x)," ").concat(this.isFragment(x)?"":this.queryDataNameAndArgumentMap(x.variables)," ").concat(x.fields.length>0?"{ "+this.queryFieldsMap(x.fields)+" }":"")},Z.queryVariablesMap=function(x,y){var s={},N=function(O){O&&Object.keys(O).map(function(U){s[U]="object"==typeof O[U]?O[U].value:O[U]})};return N(x),y&&"object"==typeof y&&N(Z.getNestedVariables(y)),s},Z.getNestedVariables=function(x){var y={};return function s(N){return null==N||N.forEach(function(O){if((0,w.isNestedField)(O))y=M(M(M({},O.variables),y),O.fields&&s(O.fields));else if("object"==typeof O)for(var U=0,z=Object.entries(O);U<z.length;U++)s(z[U][1])}),y}(x),y},Z.queryDataType=function(x){var y="String",s="object"==typeof x?x.value:x;if(null!=(null==x?void 0:x.type))y=x.type;else{var N=Array.isArray(s)?s[0]:s;switch(typeof N){case"object":y="Object";break;case"boolean":y="Boolean";break;case"number":y=N%1==0?"Int":"Float"}}return"object"==typeof x&&(!0===x.list?y="[".concat(y,"]"):Array.isArray(x.list)&&(y="[".concat(y).concat(x.list[0]?"!":"","]")),x.required&&(y+="!")),y},Z}();V.default=F},9499:(K,V,b)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=b(3528),w=b(2209),F=function(){function Z(x){Array.isArray(x)?this.variables=w.default.resolveVariables(x):(this.variables=x.variables,this.fields=x.fields,this.operation=x.operation)}return Z.prototype.mutationBuilder=function(){return this.operationWrapperTemplate(this.variables,this.operationTemplate(this.operation))},Z.prototype.mutationsBuilder=function(x){var y=this,s=x.map(function(N){return y.operation=N.operation,y.variables=N.variables,y.fields=N.fields,y.operationTemplate(N.operation)});return this.operationWrapperTemplate(w.default.resolveVariables(x),s.join("\n  "))},Z.prototype.queryDataNameAndArgumentMap=function(){return this.variables&&Object.keys(this.variables).length?"(".concat(Object.keys(this.variables).reduce(function(x,y,s){return"".concat(x).concat(0!==s?", ":"").concat(y,": $").concat(y)},""),")"):""},Z.prototype.queryDataArgumentAndTypeMap=function(x){return Object.keys(x).length?"(".concat(Object.keys(x).reduce(function(y,s,N){return"".concat(y).concat(0!==N?", ":"","$").concat(s,": ").concat(w.default.queryDataType(x[s]))},""),")"):""},Z.prototype.operationWrapperTemplate=function(x,y){var s="string"==typeof this.operation?this.operation:this.operation.name;return{query:"".concat(M.default.Mutation," ").concat(s.charAt(0).toUpperCase()+s.slice(1)," ").concat(this.queryDataArgumentAndTypeMap(x)," {\n  ").concat(y,"\n}"),variables:w.default.queryVariablesMap(x)}},Z.prototype.operationTemplate=function(x){var y="string"==typeof x?x:"".concat(x.alias,": ").concat(x.name);return"".concat(y," ").concat(this.queryDataNameAndArgumentMap()," {\n    ").concat(this.queryFieldsMap(this.fields),"\n  }")},Z.prototype.queryFieldsMap=function(x){var y=this;return Array.isArray(x)?x.map(function(s){return"object"==typeof s?"".concat(Object.keys(s)[0]," { ").concat(y.queryFieldsMap(Object.values(s)[0])," }"):"".concat(s)}).join(", "):""},Z}();V.default=F},4021:(K,V,b)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=b(3528),w=b(2209),F=function(){function Z(x){this.queryDataType=function(y){var s="String",N="object"==typeof y?y.value:y;if(void 0!==y.type)s=y.type;else switch(typeof N){case"object":s="Object";break;case"boolean":s="Boolean";break;case"number":s=N%1==0?"Int":"Float"}return"object"==typeof y&&y.required&&(s+="!"),s},Array.isArray(x)?this.variables=w.default.resolveVariables(x):(this.variables=x.variables,this.fields=x.fields||[],this.operation=x.operation)}return Z.prototype.queryBuilder=function(){return this.operationWrapperTemplate(this.operationTemplate())},Z.prototype.queriesBuilder=function(x){var N,y=this;return this.operationWrapperTemplate((N=[],x.forEach(function(O){O&&(y.operation=O.operation,y.fields=O.fields,y.variables=O.variables,N.push(y.operationTemplate()))}),N.join(" ")))},Z.prototype.queryDataNameAndArgumentMap=function(){return this.variables&&Object.keys(this.variables).length?"(".concat(Object.keys(this.variables).reduce(function(x,y,s){return"".concat(x).concat(0!==s?", ":"").concat(y,": $").concat(y)},""),")"):""},Z.prototype.queryDataArgumentAndTypeMap=function(){var x=this;return this.variables&&Object.keys(this.variables).length?"(".concat(Object.keys(this.variables).reduce(function(y,s,N){return"".concat(y).concat(0!==N?", ":"","$").concat(s,": ").concat(x.queryDataType(x.variables[s]))},""),")"):""},Z.prototype.operationWrapperTemplate=function(x){var y="string"==typeof this.operation?this.operation:this.operation.name;return{query:"".concat(M.default.Query," ").concat(y.charAt(0).toUpperCase()).concat(y.slice(1)," ").concat(this.queryDataArgumentAndTypeMap()," { ").concat(x," }"),variables:w.default.queryVariablesMap(this.variables)}},Z.prototype.operationTemplate=function(){var x="string"==typeof this.operation?this.operation:"".concat(this.operation.alias,": ").concat(this.operation.name);return"".concat(x," ").concat(this.queryDataNameAndArgumentMap()," { nodes { ").concat(w.default.queryFieldsMap(this.fields)," } }")},Z}();V.default=F},4138:function(K,V,b){var M=this&&this.__assign||function(){return M=Object.assign||function(x){for(var y,s=1,N=arguments.length;s<N;s++)for(var O in y=arguments[s])Object.prototype.hasOwnProperty.call(y,O)&&(x[O]=y[O]);return x},M.apply(this,arguments)};Object.defineProperty(V,"__esModule",{value:!0});var w=b(3528),F=b(2209),Z=function(){function x(y,s){var N=this;Array.isArray(y)?this.variables=F.default.resolveVariables(y):(this.variables=y.variables,this.fields=y.fields,this.operation=y.operation),this.config={operationName:""},s&&Object.entries(s).forEach(function(O){N.config[O[0]]=O[1]})}return x.prototype.mutationBuilder=function(){return this.operationWrapperTemplate(w.default.Mutation,this.variables,this.operationTemplate(this.operation))},x.prototype.mutationsBuilder=function(y){var s=this,N=y.map(function(O){return s.operation=O.operation,s.variables=O.variables,s.fields=O.fields,s.operationTemplate(O.operation)});return this.operationWrapperTemplate(w.default.Mutation,F.default.resolveVariables(y),N.join("\n  "))},x.prototype.queryDataArgumentAndTypeMap=function(y){return this.fields&&"object"==typeof this.fields&&(y=M(M({},F.default.getNestedVariables(this.fields)),y)),y&&Object.keys(y).length>0?"(".concat(Object.keys(y).reduce(function(s,N,O){return"".concat(s).concat(0!==O?", ":"","$").concat(N,": ").concat(F.default.queryDataType(y[N]))},""),")"):""},x.prototype.operationWrapperTemplate=function(y,s,N){var O="".concat(y," ").concat(this.queryDataArgumentAndTypeMap(s)," {\n      ").concat(N,"\n    }");return this.config.operationName&&(O=O.replace("mutation","mutation ".concat(this.config.operationName))),{query:O,variables:F.default.queryVariablesMap(s,this.fields)}},x.prototype.operationTemplate=function(y){var s="string"==typeof y?y:"".concat(y.alias,": ").concat(y.name);return"".concat(s," ").concat(F.default.queryDataNameAndArgumentMap(this.variables)," ").concat(this.fields&&this.fields.length>0?"{\n    ".concat(F.default.queryFieldsMap(this.fields),"\n  }"):"")},x}();V.default=Z},196:function(K,V,b){var M=this&&this.__assign||function(){return M=Object.assign||function(x){for(var y,s=1,N=arguments.length;s<N;s++)for(var O in y=arguments[s])Object.prototype.hasOwnProperty.call(y,O)&&(x[O]=y[O]);return x},M.apply(this,arguments)};Object.defineProperty(V,"__esModule",{value:!0});var w=b(3528),F=b(2209),Z=function(){function x(y,s){var N=this;this.config={operationName:""},s&&Object.entries(s).forEach(function(O){N.config[O[0]]=O[1]}),Array.isArray(y)?this.variables=F.default.resolveVariables(y):(this.variables=y.variables,this.fields=y.fields||[],this.operation=y.operation)}return x.prototype.queryBuilder=function(){return this.operationWrapperTemplate(this.operationTemplate(this.variables))},x.prototype.queriesBuilder=function(y){var O,s=this;return this.operationWrapperTemplate((O=[],y.forEach(function(U){U&&(s.operation=U.operation,s.fields=U.fields,O.push(s.operationTemplate(U.variables)))}),O.join(" ")))},x.prototype.queryDataArgumentAndTypeMap=function(){var y=this.variables;return this.fields&&"object"==typeof this.fields&&(y=M(M({},F.default.getNestedVariables(this.fields)),y)),y&&Object.keys(y).length>0?"(".concat(Object.keys(y).reduce(function(s,N,O){return"".concat(s).concat(0!==O?", ":"","$").concat(N,": ").concat(F.default.queryDataType(y[N]))},""),")"):""},x.prototype.operationWrapperTemplate=function(y){var s="".concat(w.default.Query," ").concat(this.queryDataArgumentAndTypeMap()," { ").concat(y," }");return{query:s=s.replace("query","query".concat(""!==this.config.operationName?" "+this.config.operationName:"")),variables:F.default.queryVariablesMap(this.variables,this.fields)}},x.prototype.operationTemplate=function(y){var s="string"==typeof this.operation?this.operation:"".concat(this.operation.alias,": ").concat(this.operation.name);return"".concat(s," ").concat(y?F.default.queryDataNameAndArgumentMap(y):""," ").concat(this.fields&&this.fields.length>0?"{ "+F.default.queryFieldsMap(this.fields)+" }":"")},x}();V.default=Z},4438:(K,V,b)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=b(3528),w=b(2209),F=function(){function Z(x){Array.isArray(x)?this.variables=w.default.resolveVariables(x):(this.variables=x.variables,this.fields=x.fields,this.operation=x.operation)}return Z.prototype.subscriptionBuilder=function(){return this.operationWrapperTemplate(M.default.Subscription,this.variables,this.operationTemplate(this.operation))},Z.prototype.subscriptionsBuilder=function(x){var y=this,s=x.map(function(N){return y.operation=N.operation,y.variables=N.variables,y.fields=N.fields,y.operationTemplate(N.operation)});return this.operationWrapperTemplate(M.default.Subscription,w.default.resolveVariables(x),s.join("\n  "))},Z.prototype.queryDataNameAndArgumentMap=function(){return this.variables&&Object.keys(this.variables).length?"(".concat(Object.keys(this.variables).reduce(function(x,y,s){return"".concat(x).concat(0!==s?", ":"").concat(y,": $").concat(y)},""),")"):""},Z.prototype.queryDataArgumentAndTypeMap=function(x){return Object.keys(x).length?"(".concat(Object.keys(x).reduce(function(y,s,N){return"".concat(y).concat(0!==N?", ":"","$").concat(s,": ").concat(w.default.queryDataType(x[s]))},""),")"):""},Z.prototype.operationWrapperTemplate=function(x,y,s){return{query:"".concat(x," ").concat(this.queryDataArgumentAndTypeMap(y)," {\n  ").concat(s,"\n}"),variables:w.default.queryVariablesMap(y)}},Z.prototype.operationTemplate=function(x){var y="string"==typeof this.operation?this.operation:"".concat(this.operation.alias,": ").concat(this.operation.name);return"".concat(y," ").concat(this.queryDataNameAndArgumentMap()," {\n    ").concat(this.queryFieldsMap(this.fields),"\n  }")},Z.prototype.queryFieldsMap=function(x){var y=this;return x?x.map(function(s){return"object"==typeof s?"".concat(Object.keys(s)[0]," { ").concat(y.queryFieldsMap(Object.values(s)[0])," }"):"".concat(s)}).join(", "):""},Z}();V.default=F},891:(K,V,b)=>{Object.defineProperty(V,"__esModule",{value:!0});var M=b(9499),w=b(4021);V.default={DefaultAppSyncQueryAdapter:w.default,DefaultAppSyncMutationAdapter:M.default}},5362:(K,V,b)=>{V.IO=void 0,b(891);b(4138);var Z=b(196);b(4438);V.IO=function y(O,U,z){return Array.isArray(O)?U?new U(O,z).queriesBuilder(O):new Z.default(O,z).queriesBuilder(O):U?new U(O,z).queryBuilder():new Z.default(O,z).queryBuilder()}}}]);