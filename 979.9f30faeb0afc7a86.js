"use strict";(self.webpackChunkpages=self.webpackChunkpages||[]).push([[979],{5979:($,L,a)=>{a.r(L),a.d(L,{ScriptMainModule:()=>De});var k=a(9090),c=a(6814),g=a(6223),I=a(2630),F=a(4101),q=a(259),P=a(4610),u=a(8726),m=a(2655),M=a(342),O=a(7827),t=a(5879);let f=(()=>{var e;class o{}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[c.ez]}),o})();var C=a(3038),Z=a(8225),T=a(5063);let A=(()=>{var e;class o{}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[Z.b,M.Iq,c.ez,O.mZ,q.q,u.lQ,u.XC,m.Bz,f,C.G,T.g]}),o})();var v=a(5861),S=a(7165),W=a(1410),V=a(4601),d=a(3729),E=a(6306),X=a(463),h=a(4064);let Q=(()=>{var e;class o{constructor(i){this.preferencesService=i,this.acceptedOptionsValues={type:["card","list"],orderBy:["az","date","installed"],reverse:[!0,!1],installedFirst:[!0,!1],ffmobileFirst:[!0,!1]}}get options(){const i=this.preferencesService.getItem(S.Ye.SCRIPT_LAYOUT_OPTIONS);return i&&this.checkOptions(i)?i:h.DH}set options(i){this.preferencesService.setItem(S.Ye.SCRIPT_LAYOUT_OPTIONS,i)}checkOptions(i){for(const n of Object.keys(h.DH))if(!(0,E.o8)(i,n)||!this.acceptedOptionsValues[n].includes(i[n]))return!1;return!0}}return(e=o).\u0275fac=function(i){return new(i||e)(t.LFG(X.y))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),o})();var B=a(6245),D=a(4143),tt=a(2986),et=a(5245),it=a(5125),nt=a(3285),st=a(146),ot=a(9473),y=a(1413),J=a(1378),Y=a(9246),R=a(5661),U=a(4020);const rt=["app-script-buttons",""],j=function(e,o){return["./",e,o]};function at(e,o){if(1&e&&(t.TgZ(0,"li"),t._UZ(1,"a",13),t.qZA()),2&e){const s=o.$implicit,i=o.index,n=t.oxw(4);t.xp6(1),t.Q6J("routerLink",t.WLB(2,j,n.script.id,s.slug))("innerText",s.name||"Altro "+(i+2))}}const lt=function(){return["bottom-end","top-end","auto"]};function ct(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",7)(2,"button",8),t.O4$(),t.TgZ(3,"svg",9),t._UZ(4,"path",10),t.qZA()(),t.kcU(),t.TgZ(5,"ul",11),t.YNc(6,at,2,5,"li",12),t.ALo(7,"slice"),t.qZA()(),t.BQk()),2&e){const s=t.oxw(3);t.xp6(1),t.Q6J("placement",t.DdM(5,lt)),t.xp6(5),t.Q6J("ngForOf",t.xi3(7,2,s.externalSandboxes,1))}}const pt=function(e){return{"in-group left":e}};function dt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"div",5)(2,"button",6),t.NdJ("click",function(i){return i.stopPropagation()}),t.qZA(),t.YNc(3,ct,8,6,"ng-container",2),t.qZA(),t.BQk()),2&e){const s=t.oxw(2);t.xp6(2),t.Q6J("ngClass",t.VKq(4,pt,s.externalSandboxes.length>1))("innerText",s.externalSandboxesButtonText)("routerLink",t.WLB(6,j,s.script.id,s.externalSandboxes[0].slug)),t.xp6(1),t.Q6J("ngIf",s.externalSandboxes.length>1)}}const ut=function(e){return["settings",e]};function gt(e,o){if(1&e&&(t.TgZ(0,"button",14),t.NdJ("click",function(i){return i.stopPropagation()}),t._uU(1," Impostazioni "),t.qZA()),2&e){const s=t.oxw(2);t.Q6J("routerLink",t.VKq(1,ut,s.script.id))}}function mt(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",15),t.NdJ("click",function(n){t.CHM(s);const r=t.oxw(2);return t.KtG(r.script.isParent&&r.show(n,r.isParentMessage))}),t.TgZ(1,"button",16),t.NdJ("click",function(n){t.CHM(s);const r=t.oxw(2);return t.KtG(r.emitClick(n,r.actionEnum.UNINSTALL))}),t._uU(2," Disinstalla "),t.qZA()()}if(2&e){const s=t.oxw(2);t.xp6(1),t.Q6J("disabled",s.disabled||s.script.isParent)}}function ht(e,o){if(1&e&&(t.ynx(0),t.YNc(1,dt,4,9,"ng-container",2),t.YNc(2,gt,2,3,"button",3),t.YNc(3,mt,3,1,"div",4),t.BQk()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("ngIf",s.externalSandboxes.length>0),t.xp6(1),t.Q6J("ngIf",(s.script.settings.schema||s.hasInSettingsSandbox)&&s.canChangeSettings),t.xp6(1),t.Q6J("ngIf",s.canManage)}}function ft(e,o){if(1&e&&(t.TgZ(0,"a",19),t.NdJ("click",function(i){return i.stopPropagation()}),t._uU(1,"Guida"),t.qZA()),2&e){const s=t.oxw(2);t.Q6J("href",s.script.docs.link,t.LSH)}}const _t=function(e){return{"shake-it":e}};function vt(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"div",20),t.NdJ("click",function(n){t.CHM(s);const r=t.oxw(2);return t.KtG(r.script.needsParent&&r.show(n,r.needsParentMessage))}),t.TgZ(1,"button",21),t.NdJ("click",function(n){t.CHM(s);const r=t.oxw(2);return t.KtG(r.emitClick(n,r.actionEnum.INSTALL))}),t._uU(2," Installa "),t.qZA()()}if(2&e){const s=t.oxw(2);t.xp6(1),t.Q6J("ngClass",t.VKq(2,_t,s.highlighted))("disabled",s.disabled||s.script.needsParent)}}function bt(e,o){if(1&e&&(t.YNc(0,ft,2,1,"a",17),t.YNc(1,vt,3,4,"div",18)),2&e){const s=t.oxw();t.Q6J("ngIf",s.script.docs.link),t.xp6(1),t.Q6J("ngIf",s.canManage)}}let w=(()=>{var e;class o{constructor(i,n){this.scriptManagerService=i,this.toastService=n,this.disabled=!1,this.highlighted=!1,this.canManage=!0,this.canChangeSettings=!0,this.actionEnum=d.n0,this.needsParentMessage="Prima assicurati di aver <strong>installato <u>tutti</u></strong> i seguenti script: ",this.isParentMessage="Prima assicurati di aver <strong>disinstallato <u>tutti</u></strong> i seguenti script: ",this.hasInSettingsSandbox=!1,this.externalSandboxes=[],this.externalSandboxesButtonText="Altro"}ngOnInit(){if(this.needsParentMessage+=this.script.dependencies.parents.map(i=>i.name).join(", ")+"!",this.isParentMessage+=this.script.dependencies.children.map(i=>i.name).join(", ")+"!",this.externalSandboxes=this.script.sandboxes.filter(i=>!i.inSettings),this.hasInSettingsSandbox=this.script.sandboxes.length!==this.externalSandboxes.length,this.externalSandboxes.length)for(const i of this.externalSandboxes)if(i.name){this.externalSandboxesButtonText=i.name;break}}emitClick(i,n){i.stopPropagation(),!(!this.canManage||this.script.needsParent&&n===d.n0.INSTALL||this.script.isParent&&n===d.n0.UNINSTALL)&&this.scriptManagerService.pushButtonEvent(this.script.id,n)}show(i,n){i.stopPropagation(),this.toastService.show({content:n,level:J.m.ERROR})}}return(e=o).\u0275fac=function(i){return new(i||e)(t.Y36(Y.E),t.Y36(R.k))},e.\u0275cmp=t.Xpm({type:e,selectors:[["","app-script-buttons",""]],inputs:{disabled:"disabled",script:"script",highlighted:"highlighted",canManage:"canManage",canChangeSettings:"canChangeSettings"},attrs:rt,decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notInstalledButtons",""],[4,"ngIf"],["class","btn btn-primary d-block shadow-none mx-1",3,"routerLink","click",4,"ngIf"],["class","cursor-pointer mx-1",3,"click",4,"ngIf"],[1,"btn-group","mx-1","min-w-0"],[1,"btn","btn-indigo","d-block","shadow-none","text-truncate",3,"ngClass","innerText","routerLink","click"],["ngbDropdown","","display","dynamic",1,"dropdown-no-caret","btn-group",3,"placement"],["ngbDropdownToggle","",1,"btn","btn-indigo","px-1","shadow-none","in-group","right"],["xmlns","http://www.w3.org/2000/svg","width","12","height","12","fill","currentColor","viewBox","0 0 16 16"],["d","M7.247 11.14 2.451 5.658C1.885 5.013 2.345 4 3.204 4h9.592a1 1 0 0 1 .753 1.659l-4.796 5.48a1 1 0 0 1-1.506 0z"],["ngbDropdownMenu","",1,"list-unstyled","mb-0","dropdown-menu"],[4,"ngFor","ngForOf"],[1,"dropdown-item","d-block",3,"routerLink","innerText"],[1,"btn","btn-primary","d-block","shadow-none","mx-1",3,"routerLink","click"],[1,"cursor-pointer","mx-1",3,"click"],[1,"btn","btn-danger","d-block","shadow-none",3,"disabled","click"],["class","btn btn-primary d-block shadow-none mx-1","target","_blank",3,"href","click",4,"ngIf"],["class","cursor-pointer",3,"click",4,"ngIf"],["target","_blank",1,"btn","btn-primary","d-block","shadow-none","mx-1",3,"href","click"],[1,"cursor-pointer",3,"click"],[1,"btn","btn-success","d-block","shadow-none","mx-1",3,"ngClass","disabled","click"]],template:function(i,n){if(1&i&&(t.YNc(0,ht,4,3,"ng-container",0),t.YNc(1,bt,2,2,"ng-template",null,1,t.W1O)),2&i){const r=t.MAs(2);t.Q6J("ngIf",n.script.installed)("ngIfElse",r)}},dependencies:[c.mk,c.sg,c.O5,u.jt,u.iD,u.Vi,m.rH,c.OU],styles:[".btn[_ngcontent-%COMP%]{padding:.2rem .5rem;margin-top:.25rem;margin-bottom:.25rem}.shake-it[_ngcontent-%COMP%]{animation:_ngcontent-%COMP%_shake 2s infinite}.btn-indigo.in-group.left[_ngcontent-%COMP%]{border-right:var(--bs-border-width) var(--bs-border-style) #6222cc}.btn-indigo.in-group.right[_ngcontent-%COMP%]{border-left:var(--bs-border-width) var(--bs-border-style) #6222cc}@keyframes _ngcontent-%COMP%_shake{5%,45%{transform:translate3d(-1px,0,0)}10%,40%{transform:translate3d(2px,0,0)}15%,25%,35%{transform:translate3d(-4px,0,0)}20%,30%{transform:translate3d(4px,0,0)}50%{transform:translateZ(0)}}@media (min-width: 576px){.btn[_ngcontent-%COMP%]{margin-top:0;margin-bottom:0}}"]}),o})();function K(e){return"Questo script \xe8 compatibile con layout "+e.join(", ").replace(/, ([^,]*)$/," e $1")}var N=a(8595);const Ct=["app-script-card-footer",""];function Tt(e,o){1&e&&(t.TgZ(0,"div",12),t._uU(1,"tablet_mac"),t.qZA())}function yt(e,o){1&e&&(t.TgZ(0,"div",12),t._uU(1,"desktop_windows"),t.qZA())}function Zt(e,o){if(1&e&&(t.TgZ(0,"li",13)(1,"div",12),t._uU(2,"visibility_off"),t.qZA()()),2&e){const s=t.oxw();t.Q6J("tippyProps",s.hiddenTippyProps)}}const St=function(e){return{hideOnClick:e,theme:"popover"}},xt=function(e,o){return[e,o]};function Mt(e,o){if(1&e&&(t.TgZ(0,"li",14)(1,"a",15)(2,"div",3),t._uU(3,"build_circle"),t.qZA()()()),2&e){const s=t.oxw();t.xp6(1),t.Q6J("tippyProps",t.VKq(2,St,s.touchDevice))("routerLink",t.WLB(4,xt,s.urlPaths.SCRIPT_DEV_SETTINGS,s.script.id))}}let Pt=(()=>{var e;class o{constructor(){this.hasDevPermission=!1,this.scriptBaseUrl="",this.directLink="",this.directLinkMessage="",this.layoutList="",this.directLinkTippyProps={offset:[-8,10]},this.layoutTippyProps={offset:[-36,10]},this.hiddenTippyProps={offset:[-60,10]},this.forumLink="",this.forumName="",this.touchDevice=U.b1,this.directLinkMessages={info:"Copia il link diretto allo script",copied:"Link copiato!"},this.urlPaths=S.B2,this.tippyProps={theme:"popover",placement:"top-start",hideOnClick:U.b1},this.directLinkTippyProps=(0,y.Z)((0,y.Z)({},this.tippyProps),this.directLinkTippyProps),this.layoutTippyProps=(0,y.Z)((0,y.Z)({},this.tippyProps),this.layoutTippyProps),this.hiddenTippyProps=(0,y.Z)((0,y.Z)({},this.tippyProps),this.hiddenTippyProps)}ngOnInit(){this.directLink=`${this.scriptBaseUrl}?${S.RT.SCRIPT}=${this.script.id}`,this.layoutList=K([...this.script.layouts.quirks?[d.tK.QUIRKS]:[],...this.script.layouts.standard?[d.tK.STANDARD]:[],...this.script.layouts.mobile?[d.tK.FFMOBILE]:[]]),this.tab.id===d.tr.OTHER&&this.dev.otherTabCustom?(this.forumLink=this.dev.otherTabCustom.url,this.forumName=this.dev.otherTabCustom.name):(this.forumLink=this.tab.url,this.forumName=this.tab.name)}}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["","app-script-card-footer",""]],inputs:{tab:"tab",dev:"dev",script:"script",hasDevPermission:"hasDevPermission",scriptBaseUrl:"scriptBaseUrl"},attrs:Ct,decls:15,vars:14,consts:[[1,"list-unstyled","me-auto","d-flex","align-items-center"],[1,"me-2","cursor-pointer","direct-link",3,"cdkCopyToClipboard","appTippy","tippyProps","click"],["linkTippyRef","appTippy"],[1,"material-icons-outlined","icon-small","d-block"],[1,"cursor-pointer",3,"appTippy","tippyProps"],["class","material-icons-outlined icon-body d-block",4,"ngIf","ngIfElse"],["desktopIcon",""],["class","cursor-pointer ms-2","appTippy","Questo script \xe8 nascosto nella lista. Solo gli utenti abilitati possono visualizzarlo.",3,"tippyProps",4,"ngIf"],["class","cursor-pointer ms-2",4,"ngIf"],[1,"author-nick","me-1"],["target","_blank",1,"text-reset",3,"href","innerText"],[1,"author-forum"],[1,"material-icons-outlined","icon-body","d-block"],["appTippy","Questo script \xe8 nascosto nella lista. Solo gli utenti abilitati possono visualizzarlo.",1,"cursor-pointer","ms-2",3,"tippyProps"],[1,"cursor-pointer","ms-2"],["appTippy","Modifica lo script",1,"text-reset",3,"tippyProps","routerLink"]],template:function(i,n){if(1&i){const r=t.EpF();t.TgZ(0,"ul",0)(1,"li",1,2),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(2);return t.KtG(!n.touchDevice&&p.changeContent(n.directLinkMessages.copied,n.directLinkMessages.info))}),t.TgZ(3,"div",3),t._uU(4,"share"),t.qZA()(),t.TgZ(5,"li",4),t.YNc(6,Tt,2,0,"div",5),t.YNc(7,yt,2,0,"ng-template",null,6,t.W1O),t.qZA(),t.YNc(9,Zt,3,1,"li",7),t.YNc(10,Mt,4,7,"li",8),t.qZA(),t.TgZ(11,"div",9),t._UZ(12,"a",10),t.qZA(),t.TgZ(13,"div",11),t._UZ(14,"a",10),t.qZA()}if(2&i){const r=t.MAs(8);t.xp6(1),t.Q6J("cdkCopyToClipboard",n.directLink)("appTippy",n.directLinkMessages.info)("tippyProps",n.directLinkTippyProps),t.xp6(4),t.Q6J("appTippy",n.layoutList)("tippyProps",n.layoutTippyProps),t.xp6(1),t.Q6J("ngIf",n.script.layouts.mobile)("ngIfElse",r),t.xp6(3),t.Q6J("ngIf",n.script.privacy.hidden),t.xp6(1),t.Q6J("ngIf",n.hasDevPermission),t.xp6(2),t.hYB("href","",n.forumLink,"?act=Profile&MID=",n.dev.id,"",t.LSH),t.Q6J("innerText",n.dev.name),t.xp6(2),t.Q6J("href",n.forumLink,t.LSH)("innerText",n.forumName)}},dependencies:[M.i3,c.O5,m.rH,N.$],styles:['@charset "UTF-8";.author-nick[_ngcontent-%COMP%]:after{content:"\\2022";display:inline-block;margin-left:.25rem}']}),o})();var z=a(6441);let Ot=(()=>{var e;class o{transform(i,n,r="..."){if(i.length<=n)return i;const l=new RegExp(`\\S.{1,${n}}(?=\\s|$)`),p=i.match(l);return p?p[0]+r:i}}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275pipe=t.Yjl({name:"stringCut",type:e,pure:!0}),o})();var H=a(7357);function At(e,o){if(1&e&&t._UZ(0,"a",10),2&e){const s=t.oxw();t.Q6J("href",s.script.docs.link,t.LSH)("innerText",s.script.name)}}function Ut(e,o){if(1&e&&t._UZ(0,"div",11),2&e){const s=t.oxw();t.Q6J("innerText",s.script.name)}}const Lt=function(e,o,s,i){return{installed:e,highlighted:o,"script-hidden":s,"touch-device":i}},kt=function(e){return{"fst-italic":e}};let It=(()=>{var e;class o{constructor(){this.highlighted=!1,this.scriptBaseUrl="",this.devs=h.vs,this.tabs=h.Oh,this.permissionsEnum=d.Af,this.defaultPreview=h.Jo,this.imagePlaceholder=U.Qi,this.isTouch=U.b1,this.description="",this.descriptionMaxLength=250}ngOnInit(){this.description=this.script.description||h.Fi}}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-script-card"]],inputs:{script:"script",scriptIdPendingRequest:"scriptIdPendingRequest",highlighted:"highlighted",scriptBaseUrl:"scriptBaseUrl",permissions:"permissions"},decls:16,vars:40,consts:[[1,"card","h-100",3,"ngClass"],[1,"card-img-top","overflow-hidden","position-relative","border-bottom"],[1,"image-cover",3,"src","lazyLoad","errorImage","alt"],[1,"card-body","d-flex","flex-column","position-relative"],[1,"card-title","h5"],["target","_blank",3,"href","innerText",4,"ngIf","ngIfElse"],["noPublicLink",""],[1,"card-text","script-description","text-justify",3,"ngClass","innerHTML"],["app-script-buttons","",1,"d-flex","align-items-center","justify-content-end","mt-auto","flex-wrap","flex-sm-nowrap",3,"disabled","script","highlighted","canChangeSettings","canManage"],["app-script-card-footer","",1,"card-footer","text-muted","d-flex","justify-content-end",3,"script","tab","dev","scriptBaseUrl","hasDevPermission"],["target","_blank",3,"href","innerText"],[3,"innerText"]],template:function(i,n){if(1&i&&(t.TgZ(0,"div",0)(1,"div",1),t._UZ(2,"img",2),t.ALo(3,"uploadsreplace"),t.qZA(),t.TgZ(4,"div",3)(5,"div",4),t.YNc(6,At,1,2,"a",5),t.YNc(7,Ut,1,1,"ng-template",null,6,t.W1O),t.qZA(),t._UZ(9,"p",7),t.ALo(10,"stringCut"),t._UZ(11,"div",8),t.ALo(12,"arrayIncludes"),t.ALo(13,"arrayIncludes"),t.qZA(),t._UZ(14,"div",9),t.ALo(15,"arrayIncludes"),t.qZA()),2&i){const r=t.MAs(8);t.Q6J("ngClass",t.l5B(33,Lt,n.script.installed,n.highlighted,n.script.privacy.hidden,n.isTouch)),t.xp6(2),t.MGl("alt","",n.script.name," preview"),t.Q6J("src",n.imagePlaceholder,t.LSH)("lazyLoad",t.lcZ(3,19,n.script.preview)||n.defaultPreview)("errorImage",n.defaultPreview),t.xp6(4),t.Q6J("ngIf",n.script.docs.link)("ngIfElse",r),t.xp6(3),t.Q6J("ngClass",t.VKq(38,kt,!n.script.description))("innerHTML",t.xi3(10,21,n.description,n.descriptionMaxLength),t.oJD),t.xp6(2),t.Q6J("disabled",n.scriptIdPendingRequest===n.script.id)("script",n.script)("highlighted",n.highlighted)("canChangeSettings",t.xi3(12,24,n.permissions,n.permissionsEnum.SETTINGS))("canManage",t.xi3(13,27,n.permissions,n.permissionsEnum.MANAGE)),t.xp6(3),t.Q6J("script",n.script)("tab",n.script.publisher)("dev",n.script.author)("scriptBaseUrl",n.scriptBaseUrl)("hasDevPermission",t.xi3(15,30,n.permissions,n.permissionsEnum.EDIT))}},dependencies:[c.mk,c.O5,O.z1,w,Pt,z.Q,Ot,H.g],styles:[".card-img-top[_ngcontent-%COMP%]{height:200px}.card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{border-radius:inherit;transition:all .8s ease}.card[_ngcontent-%COMP%]{box-shadow:0 .125rem .25rem #00000013;transition:box-shadow .2s ease-in}.card[_ngcontent-%COMP%]:not(.touch-device):hover{box-shadow:0 .5rem 1rem #00000040}.card[_ngcontent-%COMP%]:not(.touch-device):hover   .card-img-top[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{transform:scale(1.15);opacity:.7}.card.script-hidden[_ngcontent-%COMP%]{background-color:#0000000f}.card.highlighted[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{background-color:#e8d9ff;animation:_ngcontent-%COMP%_card-body-animation 2s infinite}.card.highlighted[_ngcontent-%COMP%]   .card-footer[_ngcontent-%COMP%]{background-color:#e8d9ff;animation:_ngcontent-%COMP%_card-footer-animation 2s infinite}.card-body[_ngcontent-%COMP%]   .script-description[_ngcontent-%COMP%]{font-size:.9rem}.card-footer[_ngcontent-%COMP%]{font-size:.85rem;padding-left:.75rem}[app-script-buttons][_ngcontent-%COMP%]{margin:0 -.25rem}@keyframes _ngcontent-%COMP%_card-body-animation{0%,to{background-color:#e8d9ff}50%{background-color:#fff}}@keyframes _ngcontent-%COMP%_card-footer-animation{0%,to{background-color:#e8d9ff}50%{background-color:#f7f7f7}}"]}),o})();const qt=["app-script-panel-content",""];function Et(e,o){if(1&e&&t._UZ(0,"div",18),2&e){const s=t.oxw();t.Q6J("innerHTML",s.script.description,t.oJD)}}function Ft(e,o){if(1&e&&(t.TgZ(0,"li",19)(1,"div",6)(2,"div",20),t._uU(3," local_library "),t.qZA(),t.TgZ(4,"div")(5,"a",21),t._uU(6,"Guida all'uso"),t.qZA()()()()),2&e){const s=t.oxw();t.xp6(5),t.Q6J("href",s.script.docs.link,t.LSH)}}const Jt=function(){return{theme:"popover",animation:"shift-away"}},wt=function(e){return{"ms-sm-auto":e}};let Nt=(()=>{var e;class o{constructor(){this.scriptBaseUrl="",this.defaultPreview=h.Jo,this.directLink="",this.layoutList="",this.forumLink="",this.forumName="",this.permissionsEnum=d.Af,this.imagePlaceholder=U.Qi}ngOnInit(){this.directLink=`${this.scriptBaseUrl}?${S.RT.SCRIPT}=${this.script.id}`,this.layoutList=K([...this.script.layouts.quirks?[d.tK.QUIRKS]:[],...this.script.layouts.standard?[d.tK.STANDARD]:[],...this.script.layouts.mobile?[d.tK.FFMOBILE]:[]]),this.script.publisher.id===d.tr.OTHER&&this.script.author.otherTabCustom?(this.forumLink=this.script.author.otherTabCustom.url,this.forumName=this.script.author.otherTabCustom.name):(this.forumLink=this.script.publisher.url,this.forumName=this.script.publisher.name)}}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["","app-script-panel-content",""]],inputs:{script:"script",scriptIdPendingRequest:"scriptIdPendingRequest",scriptBaseUrl:"scriptBaseUrl",permissions:"permissions"},attrs:qt,decls:30,vars:30,consts:[[1,"script-preview","w-100"],[1,"image-cover",3,"src","lazyLoad","errorImage","alt"],[1,"px-3","px-sm-4","py-3"],["class","script-description text-justify px-3 px-sm-4 py-3 rounded fst-italic position-relative mb-3",3,"innerHTML",4,"ngIf"],[1,"script-utilities","list-unstyled","d-flex","flex-wrap","align-items-start"],[1,"mb-2","mb-xl-0"],[1,"d-flex","align-items-center"],[1,"d-block","material-icons","text-success","me-2"],[1,"ms-sm-auto","me-xl-auto","mb-2","mb-xl-0"],["appTippy","Link copiato!","trigger","click",1,"d-flex","align-items-center","cursor-pointer",3,"cdkCopyToClipboard","tippyProps"],[1,"d-block","material-icons","text-danger","me-2"],["class","mb-2 mb-sm-0",4,"ngIf"],[3,"ngClass"],[1,"material-icons-outlined","text-indigo","d-block","me-2"],[1,"author-nick","me-1"],["target","_blank",1,"text-reset",3,"href","innerText"],[1,"author-forum"],["app-script-buttons","",1,"script-buttons","d-md-none","d-flex","justify-content-center","mt-3","flex-wrap","flex-sm-nowrap",3,"disabled","script","canChangeSettings","canManage"],[1,"script-description","text-justify","px-3","px-sm-4","py-3","rounded","fst-italic","position-relative","mb-3",3,"innerHTML"],[1,"mb-2","mb-sm-0"],[1,"d-block","material-icons","text-primary","me-2"],["target","_blank",1,"text-reset",3,"href"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t._UZ(1,"img",1),t.ALo(2,"uploadsreplace"),t.qZA(),t.TgZ(3,"div",2),t.YNc(4,Et,1,1,"div",3),t.TgZ(5,"ul",4)(6,"li",5)(7,"div",6)(8,"div",7),t._uU(9," task_alt "),t.qZA(),t.TgZ(10,"div"),t._uU(11),t.qZA()()(),t.TgZ(12,"li",8)(13,"div",9)(14,"div",10),t._uU(15,"share"),t.qZA(),t.TgZ(16,"div"),t._uU(17,"Copia il link diretto allo script"),t.qZA()()(),t.YNc(18,Ft,7,1,"li",11),t.TgZ(19,"li",12)(20,"div",6)(21,"div",13),t._uU(22," account_circle "),t.qZA(),t.TgZ(23,"div",14),t._UZ(24,"a",15),t.qZA(),t.TgZ(25,"div",16),t._UZ(26,"a",15),t.qZA()()()(),t._UZ(27,"div",17),t.ALo(28,"arrayIncludes"),t.ALo(29,"arrayIncludes"),t.qZA()),2&i&&(t.xp6(1),t.MGl("alt","",n.script.name," preview"),t.Q6J("src",n.imagePlaceholder,t.LSH)("lazyLoad",t.lcZ(2,19,n.script.preview)||n.defaultPreview)("errorImage",n.defaultPreview),t.xp6(3),t.Q6J("ngIf",n.script.description),t.xp6(7),t.hij("Layout: ",n.layoutList,""),t.xp6(2),t.Q6J("cdkCopyToClipboard",n.directLink)("tippyProps",t.DdM(27,Jt)),t.xp6(5),t.Q6J("ngIf",n.script.docs.link),t.xp6(1),t.Q6J("ngClass",t.VKq(28,wt,n.script.docs.link)),t.xp6(5),t.hYB("href","",n.forumLink,"?act=Profile&MID=",n.script.author.id,"",t.LSH),t.Q6J("innerText",n.script.author.name),t.xp6(2),t.Q6J("href",n.forumLink,t.LSH)("innerText",n.forumName),t.xp6(1),t.Q6J("disabled",n.scriptIdPendingRequest===n.script.id)("script",n.script)("canChangeSettings",t.xi3(28,21,n.permissions,n.permissionsEnum.SETTINGS))("canManage",t.xi3(29,24,n.permissions,n.permissionsEnum.MANAGE)))},dependencies:[M.i3,c.mk,c.O5,O.z1,N.$,w,z.Q,H.g],styles:['@charset "UTF-8";.script-preview[_ngcontent-%COMP%]{height:150px}.script-description[_ngcontent-%COMP%]{background-color:#0000000a}.author-nick[_ngcontent-%COMP%]:after{content:"\\2022";display:inline-block;margin-left:.25rem}.script-utilities[_ngcontent-%COMP%]{flex-direction:column}@media (min-width: 576px){.script-utilities[_ngcontent-%COMP%]{flex-direction:row}}@media (min-width: 576px) and (max-width: 1199.98px){.script-utilities[_ngcontent-%COMP%]:before{content:"";width:100%;display:block;order:0}.script-utilities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-of-type, .script-utilities[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:nth-of-type(2){order:-1}.script-preview[_ngcontent-%COMP%]{height:200px}}@media (min-width: 1200px){.script-preview[_ngcontent-%COMP%]{height:300px}}']}),o})();function zt(e,o){if(1&e&&(t.TgZ(0,"a",10),t.NdJ("click",function(i){return i.stopPropagation()}),t.qZA()),2&e){const s=t.oxw();t.Q6J("href",s.script.docs.link,t.LSH)("innerText",s.script.name)}}function Qt(e,o){if(1&e&&t._UZ(0,"div",11),2&e){const s=t.oxw();t.Q6J("innerText",s.script.name)}}const Bt=function(e,o,s){return{expanded:e,"script-hidden":o,highlighted:s}},Dt=function(e){return{"fst-italic":e}};let Yt=(()=>{var e;class o{constructor(){this.highlighted=!1,this.scriptBaseUrl="",this.defaultDescription=h.Fi,this.isCollapsed=!0,this.permissionsEnum=d.Af}}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-script-panel"]],inputs:{script:"script",scriptIdPendingRequest:"scriptIdPendingRequest",highlighted:"highlighted",scriptBaseUrl:"scriptBaseUrl",permissions:"permissions"},decls:14,vars:27,consts:[[1,"header-container","d-flex","align-items-center","ps-4","p-3","cursor-pointer",3,"ngClass","click"],[1,"header-info","d-flex","align-items-center","flex-grow-1"],[1,"panel-title","pe-3","pe-xl-0","fw-500"],["class","d-block","target","_blank",3,"href","innerText","click",4,"ngIf","ngIfElse"],["noPublicLink",""],[1,"panel-short-description","px-3","flex-grow-1","text-truncate","fs-sm","d-none","d-xl-block",3,"ngClass","innerHTML"],["app-script-buttons","",1,"ms-auto","d-none","d-md-flex","min-w-0","flex-shrink-0",3,"disabled","script","highlighted","canChangeSettings","canManage"],[1,"collapse-icon","ms-3","material-icons"],["app-script-panel-content","",1,"content","fs-sm",3,"ngbCollapse","script","scriptIdPendingRequest","scriptBaseUrl","permissions","ngbCollapseChange"],["collapse","ngbCollapse"],["target","_blank",1,"d-block",3,"href","innerText","click"],[3,"innerText"]],template:function(i,n){if(1&i){const r=t.EpF();t.TgZ(0,"div",0),t.NdJ("click",function(){t.CHM(r);const p=t.MAs(13);return t.KtG(p.toggle())}),t.TgZ(1,"div",1)(2,"div",2),t.YNc(3,zt,1,2,"a",3),t.YNc(4,Qt,1,1,"ng-template",null,4,t.W1O),t.qZA(),t._UZ(6,"div",5)(7,"div",6),t.ALo(8,"arrayIncludes"),t.ALo(9,"arrayIncludes"),t.qZA(),t.TgZ(10,"div",7),t._uU(11,"chevron_left"),t.qZA()(),t.TgZ(12,"div",8,9),t.NdJ("ngbCollapseChange",function(p){return n.isCollapsed=p}),t.qZA()}if(2&i){const r=t.MAs(5);t.Q6J("ngClass",t.kEZ(21,Bt,!n.isCollapsed,n.script.privacy.hidden,n.highlighted)),t.xp6(3),t.Q6J("ngIf",n.script.docs.link)("ngIfElse",r),t.xp6(3),t.Q6J("ngClass",t.VKq(25,Dt,!n.script.description))("innerHTML",n.script.description||n.defaultDescription,t.oJD),t.xp6(1),t.Q6J("disabled",n.scriptIdPendingRequest===n.script.id)("script",n.script)("highlighted",n.highlighted)("canChangeSettings",t.xi3(8,15,n.permissions,n.permissionsEnum.SETTINGS))("canManage",t.xi3(9,18,n.permissions,n.permissionsEnum.MANAGE)),t.xp6(5),t.Q6J("ngbCollapse",n.isCollapsed)("script",n.script)("scriptIdPendingRequest",n.scriptIdPendingRequest)("scriptBaseUrl",n.scriptBaseUrl)("permissions",n.permissions)}},dependencies:[c.mk,c.O5,u._D,w,Nt,z.Q],styles:[".header-container[_ngcontent-%COMP%]{transition:background-color .3s}.header-container[_ngcontent-%COMP%]:not(.expanded):not(.script-hidden):not(.highlighted):hover{background-color:rgb(var(--bs-light-rgb))}.header-container.highlighted[_ngcontent-%COMP%]{background-color:#e8d9ff;animation:_ngcontent-%COMP%_back-animation 2s infinite}.header-container.script-hidden[_ngcontent-%COMP%]{background-color:#0000000f}.header-container.expanded[_ngcontent-%COMP%]   .collapse-icon[_ngcontent-%COMP%]{transform:rotate(-90deg)}.panel-short-description[_ngcontent-%COMP%]{color:var(--bs-gray-600);transition:color .3s}.expanded[_ngcontent-%COMP%]   .panel-short-description[_ngcontent-%COMP%], .header-container[_ngcontent-%COMP%]:hover   .panel-short-description[_ngcontent-%COMP%]{color:inherit}.header-info[_ngcontent-%COMP%]{min-width:0}.collapse-icon[_ngcontent-%COMP%]{transition:transform .2s;transform:rotate(0)}@keyframes _ngcontent-%COMP%_back-animation{0%,to{background-color:#e8d9ff}50%{background-color:#fff}}@media (min-width: 1200px){.header-info[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{flex-shrink:0;margin-bottom:2px}}@media (min-width: 576px){.header-info[_ngcontent-%COMP%]   .panel-title[_ngcontent-%COMP%]{font-size:1.1rem}}"]}),o})();function Rt(e,o){1&e&&t._UZ(0,"ng-component")}const jt=function(e){return{$implicit:e}};function Kt(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Rt,1,0,"ng-component",7),t.BQk()),2&e){t.oxw(2);const s=t.MAs(4),i=t.MAs(6);t.xp6(1),t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(2,jt,i))}}function Ht(e,o){1&e&&t._UZ(0,"ng-component")}const Gt=function(e){return{$implicit:e,isPanel:!0}};function $t(e,o){if(1&e&&t.YNc(0,Ht,1,0,"ng-component",7),2&e){t.oxw(2);const s=t.MAs(4),i=t.MAs(8);t.Q6J("ngTemplateOutlet",s)("ngTemplateOutletContext",t.VKq(2,Gt,i))}}const Wt=function(e,o,s,i){return{"installed-first":e,"ffmobile-first":o,"mx-auto list-panel p-0 flat-container":s,"px-3 px-md-0":i}};function Vt(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"ul",5),t.YNc(2,Kt,2,4,"ng-container",0),t.YNc(3,$t,1,4,"ng-template",null,6,t.W1O),t.qZA(),t.BQk()),2&e){const s=t.MAs(4),i=t.oxw();t.xp6(1),t.Q6J("ngClass",t.l5B(3,Wt,i.data.layoutOptions.installedFirst,i.data.layoutOptions.ffmobileFirst,"list"===i.data.layoutOptions.type,"card"===i.data.layoutOptions.type)),t.xp6(1),t.Q6J("ngIf","card"===i.data.layoutOptions.type)("ngIfElse",s)}}function Xt(e,o){1&e&&(t.TgZ(0,"div",8)(1,"div",9),t._uU(2," Nessuno script disponibile con questi criteri di ricerca! "),t.qZA()())}function te(e,o){1&e&&t._UZ(0,"ng-component")}const ee=function(e,o){return{$implicit:e,highlighted:o}};function ie(e,o){if(1&e&&(t.TgZ(0,"li"),t.YNc(1,te,1,0,"ng-component",7),t.qZA()),2&e){const s=o.$implicit,i=o.last,n=t.oxw(),r=n.isPanel,l=n.$implicit,p=t.oxw();t.ekj("border-bottom",r&&!i),t.uIk("data-installed",s.installed)("data-ffmobile",s.layouts.mobile)("data-justchanged",s.justChanged)("data-highlighted",s.id===p.highlightScriptId),t.xp6(1),t.Q6J("ngTemplateOutlet",l)("ngTemplateOutletContext",t.WLB(8,ee,s,s.id===p.highlightScriptId))}}function ne(e,o){if(1&e&&t.YNc(0,ie,2,11,"li",10),2&e){const s=t.oxw();t.Q6J("ngForOf",s.renderScriptList)}}function se(e,o){if(1&e&&t._UZ(0,"app-script-card",11),2&e){const s=o.$implicit,i=o.highlighted,n=t.oxw();t.Q6J("script",s)("highlighted",i)("scriptIdPendingRequest",n.scriptIdPendingRequest)("scriptBaseUrl",n.scriptBaseUrl)("permissions",n.data.permissions[s.id])}}function oe(e,o){if(1&e&&t._UZ(0,"app-script-panel",11),2&e){const s=o.$implicit,i=o.highlighted,n=t.oxw();t.Q6J("script",s)("highlighted",i)("scriptIdPendingRequest",n.scriptIdPendingRequest)("scriptBaseUrl",n.scriptBaseUrl)("permissions",n.data.permissions[s.id])}}let G=(()=>{var e;class o{constructor(i,n,r,l,p){this.scriptListService=i,this.scriptManagerService=n,this.toastService=r,this.router=l,this.changeDetectorRef=p,this.isActive=!0,this.needsRefreshOnActivation=!1,this.orderedBy="",this.reversed=!1,this.justChangedList=[],this.scriptBaseUrl="",this.renderScriptList=[];const _=this.scriptListService.listInputs;if(!_)throw new Error("Missing script list data!");this.data=_}ngOnInit(){var i=this;this.scriptBaseUrl=window.location.protocol+"//"+window.location.host+this.router.url.split("?")[0],this.createList(),this.listInputsSubscription=this.scriptListService.getListInputsObservable().subscribe(n=>{this.resetJustChangedList(),this.data=n,this.orderList(),this.changeDetectorRef.detectChanges()}),this.scriptButtonSubscription=this.scriptManagerService.getButtonObservable().subscribe(function(){var n=(0,v.Z)(function*(r){i.isActive?yield i.manageButtonClick(r.scriptId,r.action):i.needsRefreshOnActivation=!0});return function(r){return n.apply(this,arguments)}}())}ngOnChanges(i){i.list&&!i.list.firstChange&&(this.resetJustChangedList(),this.orderedBy="date",this.reversed=!1,this.createList()),i.isActive&&!i.isActive.firstChange&&(this.isActive?this.needsRefreshOnActivation&&(this.needsRefreshOnActivation=!1,this.orderedBy="",this.reversed=!1,this.createList()):this.resetJustChangedList())}createList(){this.renderScriptList=this.list.map(i=>(0,y.Z)((0,y.Z)({},i),{needsParent:this.needsParent(i),isParent:this.hasActiveChild(i),justChanged:this.justChangedList.includes(i.id),installed:this.scriptListService.installedList.includes(i.id)})),this.renderScriptList.length&&this.orderList()}orderList(){let i=!1;"installed"===this.data.layoutOptions.orderBy?"installed"!==this.orderedBy&&(this.orderedBy="installed",this.renderScriptList.sort((n,r)=>n.rank<r.rank?-1:1),i=!0):"az"!==this.orderedBy&&(this.orderedBy="az",this.renderScriptList.sort((n,r)=>n.name>r.name?1:r.name>n.name?-1:0),i=!0),this.data.layoutOptions.reverse?this.reversed?i&&this.renderScriptList.reverse():(this.reversed=!0,this.renderScriptList.reverse()):this.reversed&&(this.reversed=!1,this.renderScriptList.reverse())}needsParent(i){return!(0===i.dependencies.parents.length||i.dependencies.parents.every(n=>this.scriptListService.installedList.includes(n.id)))}hasActiveChild(i){return!(0===i.dependencies.children.length||i.dependencies.children.every(n=>!this.scriptListService.installedList.includes(n.id)))}manageButtonClick(i,n){var r=this;return(0,v.Z)(function*(){if(r.scriptIdPendingRequest)return void r.toastService.advice(J.V.REQUEST_PENDING);const l=r.renderScriptList.find(_=>_.id===i);r.scriptIdPendingRequest=i,(yield r.scriptManagerService.manage(r.data.targetInfo.targetId,r.data.targetInfo.targetType,i,n))?(l.installed=n===d.n0.INSTALL,r.toggleJustChangedList(i,l)):r.toastService.advice(J.V.GENERIC),r.scriptIdPendingRequest=void 0;for(const _ of l.dependencies.parents){const b=r.renderScriptList.find(x=>x.id===_.id);b&&(b.isParent=r.hasActiveChild(b))}for(const _ of l.dependencies.children){const b=r.renderScriptList.find(x=>x.id===_.id);b&&(b.needsParent=r.needsParent(b))}r.changeDetectorRef.detectChanges()})()}toggleJustChangedList(i,n){this.justChangedList.includes(i)?(this.justChangedList.splice(this.justChangedList.indexOf(i),1),n.justChanged=!1):(this.justChangedList.push(i),n.justChanged=!0)}resetJustChangedList(){for(const i of this.justChangedList){const n=this.renderScriptList.find(r=>r.id===i);n&&(n.justChanged=!1)}this.justChangedList=[]}ngOnDestroy(){this.listInputsSubscription.unsubscribe(),this.scriptButtonSubscription.unsubscribe()}}return(e=o).\u0275fac=function(i){return new(i||e)(t.Y36(B.o),t.Y36(Y.E),t.Y36(R.k),t.Y36(m.F0),t.Y36(t.sBO))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-script-list"]],inputs:{list:"list",isActive:"isActive",highlightScriptId:"highlightScriptId"},features:[t.TTD],decls:9,vars:2,consts:[[4,"ngIf","ngIfElse"],["emptyList",""],["scriptList",""],["scriptCard",""],["scriptPanel",""],[1,"list-unstyled","script-list","d-grid","mb-0",3,"ngClass"],["scriptPanelTemplate",""],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"container","alert","alert-primary","mb-0"],[1,"fw-bold","text-center"],[3,"border-bottom",4,"ngFor","ngForOf"],[3,"script","highlighted","scriptIdPendingRequest","scriptBaseUrl","permissions"]],template:function(i,n){if(1&i&&(t.YNc(0,Vt,5,8,"ng-container",0),t.YNc(1,Xt,3,0,"ng-template",null,1,t.W1O),t.YNc(3,ne,1,1,"ng-template",null,2,t.W1O),t.YNc(5,se,1,5,"ng-template",null,3,t.W1O),t.YNc(7,oe,1,5,"ng-template",null,4,t.W1O)),2&i){const r=t.MAs(2);t.Q6J("ngIf",n.renderScriptList.length)("ngIfElse",r)}},dependencies:[c.mk,c.sg,c.O5,c.tP,m.fw,It,Yt],styles:[".script-list[_ngcontent-%COMP%]:not(.list-panel){gap:1rem}.script-list.list-panel[_ngcontent-%COMP%]{max-width:1100px}.script-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{min-width:0;min-height:0}.script-list[_ngcontent-%COMP%]   li[data-highlighted=true][_ngcontent-%COMP%]{order:-4!important}.script-list.installed-first[_ngcontent-%COMP%]:not(.ffmobile-first)   [data-installed=true][_ngcontent-%COMP%]:not([data-justchanged=true]), .script-list.installed-first[_ngcontent-%COMP%]:not(.ffmobile-first)   [data-installed=false][data-justchanged=true][_ngcontent-%COMP%]{order:-1}.script-list.installed-first.ffmobile-first[_ngcontent-%COMP%]   li[data-installed=true][_ngcontent-%COMP%]:not([data-justchanged=true])[data-ffmobile=true], .script-list.installed-first.ffmobile-first[_ngcontent-%COMP%]   li[data-installed=false][data-justchanged=true][data-ffmobile=true][_ngcontent-%COMP%]{order:-3}.script-list.installed-first.ffmobile-first[_ngcontent-%COMP%]   li[data-installed=true][_ngcontent-%COMP%]:not([data-justchanged=true])[data-ffmobile=false], .script-list.installed-first.ffmobile-first[_ngcontent-%COMP%]   li[data-installed=false][data-justchanged=true][data-ffmobile=false][_ngcontent-%COMP%]{order:-2}.script-list.ffmobile-first[_ngcontent-%COMP%]   [data-ffmobile=true][_ngcontent-%COMP%]{order:-1}@media (min-width: 500px){.script-list[_ngcontent-%COMP%]:not(.list-panel){grid-template-columns:repeat(auto-fill,minmax(420px,1fr))}}@media (min-width: 960px){.script-list[_ngcontent-%COMP%]:not(.list-panel){gap:1.5rem}}"],changeDetection:0}),o})();var re=a(4723);const ae=["app-script-filters",""];function le(e,o){if(1&e&&(t.ynx(0),t.TgZ(1,"option",17),t._uU(2),t.qZA(),t.BQk()),2&e){const s=o.$implicit;t.xp6(1),t.Q6J("value",s[0]),t.xp6(1),t.Oqu(s[1].name)}}let ce=(()=>{var e;class o{constructor(){this.filterDisabled=!0,this.filterChangeEvent=new t.vpe,this.devs=Object.entries(h.vs).filter(i=>i[1].active),this.selectedDev="all",this.customFilterValue="",this.filters={}}resetCustomFilter(){0!==this.customFilterValue.length&&(this.customFilterValue="",this.onChangeSingleFilter(this.customFilterValue,"keywords"))}onChangeSingleFilter(i,n){if(!this.filterDisabled&&i!==this.filters[n]){if("onlyInstalled"===n)i?this.filters[n]=!0:delete this.filters[n];else if("keywords"!==n&&"all"===i&&(i=""),i)this.filters[n]=i;else{if(!(0,E.o8)(this.filters,n))return;delete this.filters[n]}this.filterChangeEvent.emit(this.filters)}}}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["","app-script-filters",""]],inputs:{filterDisabled:"filterDisabled"},outputs:{filterChangeEvent:"filterChangeEvent"},attrs:ae,decls:23,vars:6,consts:[[1,"mb-0","h5"],[1,"flat-icon","green"],[1,"material-icons"],[1,"filters","list-unstyled","my-auto"],[1,"author-filter","mt-2"],["for","author-filter"],["id","author-filter",1,"form-select","form-select-sm",3,"disabled","ngModel","ngModelChange"],["value","all"],[4,"ngFor","ngForOf"],[1,"custom-filter","mt-2"],["for","custom-filter"],["size","sm","inputId","custom-filter",1,"d-block","flex-grow-1","input-filter",3,"disabled","enterKeyOnly","textEvent"],[1,"installed-filter","mt-2"],[1,"form-check"],["type","checkbox","id","installed-filter",1,"form-check-input",3,"disabled","change"],["installedFilter",""],["for","installed-filter",1,"form-check-label"],[3,"value"]],template:function(i,n){if(1&i){const r=t.EpF();t.TgZ(0,"div",0),t._uU(1,"Applica un filtro"),t.qZA(),t.TgZ(2,"div",1)(3,"span",2),t._uU(4,"filter_alt"),t.qZA()(),t.TgZ(5,"ul",3)(6,"li",4)(7,"label",5),t._uU(8,"Autore:"),t.qZA(),t.TgZ(9,"select",6),t.NdJ("ngModelChange",function(p){return n.onChangeSingleFilter(p,"dev")}),t.TgZ(10,"option",7),t._uU(11,"Tutti"),t.qZA(),t.YNc(12,le,3,2,"ng-container",8),t.qZA()(),t.TgZ(13,"li",9)(14,"label",10),t._uU(15,"Parola chiave:"),t.qZA(),t.TgZ(16,"app-input-filter-text",11),t.NdJ("textEvent",function(p){return n.onChangeSingleFilter(p,"keywords")}),t.qZA()(),t.TgZ(17,"li",12)(18,"div",13)(19,"input",14,15),t.NdJ("change",function(){t.CHM(r);const p=t.MAs(20);return t.KtG(n.onChangeSingleFilter(p.checked,"onlyInstalled"))}),t.qZA(),t.TgZ(21,"label",16),t._uU(22," Mostra solo script installati "),t.qZA()()()()}2&i&&(t.xp6(9),t.Q6J("disabled",n.filterDisabled)("ngModel",n.selectedDev),t.xp6(3),t.Q6J("ngForOf",n.devs),t.xp6(4),t.Q6J("disabled",n.filterDisabled)("enterKeyOnly",!0),t.xp6(3),t.Q6J("disabled",n.filterDisabled))},dependencies:[c.sg,g.YN,g.Kr,g.EJ,g.JJ,g.On,re.r],styles:[".flat-icon[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:1rem}label[_ngcontent-%COMP%]{font-size:.9rem}#custom-filter[_ngcontent-%COMP%]{padding-right:calc(.5rem + 26px)}.reset-custom-filter[_ngcontent-%COMP%]{top:calc(50% - 10px);right:5px;z-index:6}.custom-filter[_ngcontent-%COMP%]   .input-group-text[_ngcontent-%COMP%]   .material-icons-outlined[_ngcontent-%COMP%]{margin-top:1px}"]}),o})();const pe=["app-script-layouts",""];let de=(()=>{var e;class o{constructor(i){this.scriptLayoutService=i,this.layoutDisabled=!0,this.layoutOptionsEvent=new t.vpe,this.layoutOptions=this.scriptLayoutService.options}changeTypeOption(i){!this.layoutDisabled&&this.layoutOptions.type!==i&&(this.layoutOptions.type=i,this.emitOptions())}changeOption(){this.layoutDisabled||this.emitOptions()}emitOptions(){this.scriptLayoutService.options=this.layoutOptions,this.layoutOptionsEvent.emit(this.layoutOptions)}}return(e=o).\u0275fac=function(i){return new(i||e)(t.Y36(Q))},e.\u0275cmp=t.Xpm({type:e,selectors:[["","app-script-layouts",""]],inputs:{layoutDisabled:"layoutDisabled"},outputs:{layoutOptionsEvent:"layoutOptionsEvent"},attrs:pe,decls:33,vars:10,consts:[[1,"mb-0","h5"],[1,"layout-type-icons","d-flex","align-items-center"],[1,"flat-icon",3,"ngClass","click"],[1,"material-icons","d-block"],[1,"flat-icon","ms-2",3,"ngClass","click"],[1,"filters","list-unstyled","my-auto"],[1,"order-type","mt-2"],["for","order-type"],["id","order-type",1,"form-select","form-select-sm",3,"disabled","ngModel","ngModelChange"],["value","az","selected",""],["value","installed"],[1,"order-reverse","mt-2"],[1,"form-check"],["type","checkbox","id","order-reverse",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","order-reverse",1,"form-check-label"],[1,"ffmobile-first","mt-2"],["type","checkbox","id","ffmobile-first","checked","",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","ffmobile-first",1,"form-check-label"],[1,"installed-first","mt-2"],["type","checkbox","id","installed-first","checked","",1,"form-check-input",3,"disabled","ngModel","ngModelChange"],["for","installed-first",1,"form-check-label"]],template:function(i,n){1&i&&(t.TgZ(0,"div",0),t._uU(1,"Opzioni di layout"),t.qZA(),t.TgZ(2,"div",1)(3,"div",2),t.NdJ("click",function(){return n.changeTypeOption("card")}),t.TgZ(4,"span",3),t._uU(5,"apps"),t.qZA()(),t.TgZ(6,"div",4),t.NdJ("click",function(){return n.changeTypeOption("list")}),t.TgZ(7,"span",3),t._uU(8,"view_list"),t.qZA()()(),t.TgZ(9,"ul",5)(10,"li",6)(11,"label",7),t._uU(12,"Criterio:"),t.qZA(),t.TgZ(13,"select",8),t.NdJ("ngModelChange",function(l){return n.layoutOptions.orderBy=l})("ngModelChange",function(){return n.changeOption()}),t.TgZ(14,"option",9),t._uU(15,"Alfabetico"),t.qZA(),t.TgZ(16,"option",10),t._uU(17,"Numero di installazioni"),t.qZA()()(),t.TgZ(18,"li",11)(19,"div",12)(20,"input",13),t.NdJ("ngModelChange",function(l){return n.layoutOptions.reverse=l})("ngModelChange",function(){return n.changeOption()}),t.qZA(),t.TgZ(21,"label",14),t._uU(22," Inverti l'ordinamento "),t.qZA()()(),t.TgZ(23,"li",15)(24,"div",12)(25,"input",16),t.NdJ("ngModelChange",function(l){return n.layoutOptions.ffmobileFirst=l})("ngModelChange",function(){return n.changeOption()}),t.qZA(),t.TgZ(26,"label",17),t._uU(27," Mostra prima gli script per mobile "),t.qZA()()(),t.TgZ(28,"li",18)(29,"div",12)(30,"input",19),t.NdJ("ngModelChange",function(l){return n.layoutOptions.installedFirst=l})("ngModelChange",function(){return n.changeOption()}),t.qZA(),t.TgZ(31,"label",20),t._uU(32," Mostra prima gli script installati "),t.qZA()()()()),2&i&&(t.xp6(3),t.Q6J("ngClass",n.layoutDisabled?"card"===n.layoutOptions.type?"gray":"outline-gray":"card"===n.layoutOptions.type?"indigo cursor-pointer":"outline-indigo cursor-pointer"),t.xp6(3),t.Q6J("ngClass",n.layoutDisabled?"card"===n.layoutOptions.type?"outline-gray":"gray":"card"===n.layoutOptions.type?"outline-indigo cursor-pointer":"indigo cursor-pointer"),t.xp6(7),t.Q6J("disabled",n.layoutDisabled)("ngModel",n.layoutOptions.orderBy),t.xp6(7),t.Q6J("disabled",n.layoutDisabled)("ngModel",n.layoutOptions.reverse),t.xp6(5),t.Q6J("disabled",n.layoutDisabled)("ngModel",n.layoutOptions.ffmobileFirst),t.xp6(5),t.Q6J("disabled",n.layoutDisabled)("ngModel",n.layoutOptions.installedFirst))},dependencies:[c.mk,g.YN,g.Kr,g.Wl,g.EJ,g.JJ,g.On],styles:[".layout-type-icons[_ngcontent-%COMP%]{position:absolute;top:.75rem;right:1rem}label[_ngcontent-%COMP%]{font-size:.9rem}"]}),o})();var ue=a(4464);const ge=["app-script-pageinfo",""];function me(e,o){1&e&&t.GkF(0)}const he=function(e,o){return{$implicit:e,link:o,type:"forum"}};function fe(e,o){if(1&e){const s=t.EpF();t.ynx(0),t.TgZ(1,"p",9),t._uU(2," Questo pannello consente di gestire l'installazione e la rimozione degli "),t.TgZ(3,"em"),t._uU(4,"script su un forum"),t.qZA(),t._uU(5," di cui si possiede l'amministrazione. Prima di compiere qualsiasi operazione \xe8 necessario "),t.TgZ(6,"em"),t._uU(7,"selezionare il forum"),t.qZA(),t._uU(8," su cui agire. Uno script per forum \xe8 "),t.TgZ(9,"em"),t._uU(10,"attivo per tutti gli utenti"),t.qZA(),t._uU(11," che visitano il forum su cui \xe8 installato, influenzando pertanto l'esperienza di navigazione di molti. "),t.TgZ(12,"a",10),t.NdJ("click",function(){t.CHM(s),t.oxw();const n=t.MAs(6);return t.KtG(n.open())}),t.qZA()(),t.YNc(13,me,1,0,"ng-container",11),t.BQk()}if(2&e){const s=t.oxw(),i=t.MAs(4);t.xp6(12),t.Q6J("innerText",s.readMore),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(3,he,(null==s.forum?null:s.forum.subdomain)||"-",(null==s.forum?null:s.forum.url)||""))}}function _e(e,o){1&e&&t.GkF(0)}const ve=function(e,o){return{$implicit:e,link:o,type:"profilo"}};function be(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"p",9),t._uU(1," Questo pannello consente di gestire l'installazione e la rimozione degli "),t.TgZ(2,"em"),t._uU(3,"script sul profilo "),t.qZA(),t._uU(4," con cui si \xe8 loggati. Uno script per profilo \xe8 legato all'account su cui \xe8 installato: ci\xf2 significa che \xe8 "),t.TgZ(5,"em"),t._uU(6,"attivo su tutti i forum"),t.qZA(),t._uU(7," visitati con quell'account, senza in genere influenzare l'esperienza di navigazione di altri, con l'eccezione di alcuni elementi limitati alla pagina profilo. "),t.TgZ(8,"a",10),t.NdJ("click",function(){t.CHM(s),t.oxw();const n=t.MAs(6);return t.KtG(n.open())}),t.qZA()(),t.YNc(9,_e,1,0,"ng-container",11)}if(2&e){const s=t.oxw(),i=t.MAs(4);t.xp6(8),t.Q6J("innerText",s.readMore),t.xp6(1),t.Q6J("ngTemplateOutlet",i)("ngTemplateOutletContext",t.WLB(3,ve,s.profile.user.nickname,s.profile.user.url))}}function Ce(e,o){if(1&e&&t._UZ(0,"a",24),2&e){const s=t.oxw(),n=s.$implicit;t.Q6J("href",s.link,t.LSH)("innerHTML",n,t.oJD)}}function Te(e,o){1&e&&t._UZ(0,"div",25),2&e&&t.Q6J("innerText","-")}const ye=function(){return{animation:"shift-away",theme:"popover"}};function Ze(e,o){if(1&e&&(t.TgZ(0,"div",26),t._uU(1," priority_high "),t.qZA()),2&e){const s=t.oxw(2);t.Q6J("appTippy",s.scriptTip)("tippyProps",t.DdM(2,ye))}}function Se(e,o){if(1&e&&(t.TgZ(0,"div",12)(1,"div",13),t.YNc(2,Ce,1,2,"a",14),t.YNc(3,Te,1,1,"ng-template",null,15,t.W1O),t.TgZ(5,"div",16),t._UZ(6,"span",17),t.TgZ(7,"span",18),t._uU(8," selezionato"),t.qZA()()(),t.TgZ(9,"div",19)(10,"div",20),t._UZ(11,"div",21),t.YNc(12,Ze,2,3,"div",22),t.qZA(),t.TgZ(13,"div",16)(14,"span"),t._uU(15,"script"),t.qZA(),t._UZ(16,"span",23),t.qZA()()()),2&e){const s=o.link,i=o.type,n=t.MAs(4),r=t.oxw();t.xp6(2),t.Q6J("ngIf",s)("ngIfElse",n),t.xp6(4),t.Q6J("innerText",i),t.xp6(5),t.Q6J("ngClass",r.installed>r.scriptMaxSuggestedNumber?"text-danger":"text-success")("innerText",r.installed),t.xp6(1),t.Q6J("ngIf",r.installed>r.scriptMaxSuggestedNumber),t.xp6(4),t.Q6J("innerText"," installat"+(1===r.installed?"o":"i"))}}let xe=(()=>{var e;class o{constructor(){this.isForum=!1,this.installed=0,this.scriptMaxSuggestedNumber=9,this.scriptTip="Installare un numero elevato di script aumenta il rischio di incompatibilit\xe0 e il tempo di caricamento della pagina. Si dovrebbero disinstallare gli script non utilizzati o meno utili!",this.readMore=D.Z}}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["","app-script-pageinfo",""]],inputs:{isForum:"isForum",forum:"forum",profile:"profile",installed:"installed"},attrs:ge,decls:201,vars:3,consts:[[4,"ngIf","ngIfElse"],["profileInfo",""],["infoTemplate",""],["title","Pannello gestione script","size","xl"],["modal",""],[1,"fst-italic"],[1,"mb-1"],[1,"fw-bold","text-decoration-underline"],[1,"mb-0"],[1,"mb-0","text-justify"],["role","button",1,"cursor-pointer",3,"innerText","click"],[4,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"row","my-auto","py-3"],[1,"col-6","border-end","text-center","d-flex","flex-column","align-items-center","min-w-0"],["class","d-block fs-lg lh-1 text-truncate text-uppercase mw-100","target","_blank",3,"href","innerHTML",4,"ngIf","ngIfElse"],["noLink",""],[1,"fv-small-caps"],[3,"innerText"],[1,"d-none","d-sm-inline"],[1,"col-6","text-center"],[1,"position-relative"],[1,"fs-lg","lh-1","text-uppercase",3,"ngClass","innerText"],["class","d-block text-danger material-icons alert-icon position-absolute cursor-pointer",3,"appTippy","tippyProps",4,"ngIf"],[1,"d-none","d-sm-inline",3,"innerText"],["target","_blank",1,"d-block","fs-lg","lh-1","text-truncate","text-uppercase","mw-100",3,"href","innerHTML"],[1,"fs-lg","lh-1","text-uppercase",3,"innerText"],[1,"d-block","text-danger","material-icons","alert-icon","position-absolute","cursor-pointer",3,"appTippy","tippyProps"]],template:function(i,n){if(1&i&&(t.YNc(0,fe,14,6,"ng-container",0),t.YNc(1,be,10,6,"ng-template",null,1,t.W1O),t.YNc(3,Se,17,7,"ng-template",null,2,t.W1O),t.TgZ(5,"app-modal",3,4)(7,"p"),t._uU(8," Il pannello di gestione degli script consente di "),t.TgZ(9,"strong"),t._uU(10,"installare e disinstallare script"),t.qZA(),t._uU(11," su un forum o un profilo. "),t.qZA(),t.TgZ(12,"h6",5),t._uU(13,"Cos'\xe8 uno script?"),t.qZA(),t.TgZ(14,"p"),t._uU(15," Uno script \xe8 un insieme di codici che permette l'aggiunta di "),t.TgZ(16,"strong"),t._uU(17,"nuove funzionalit\xe0 o il miglioramento di quelle esistenti"),t.qZA(),t._uU(18,". Il codice dello script, una volta installato, viene eseguito nelle varie pagine durante la normale navigazione. Generalmente si tratta di codice "),t.TgZ(19,"em"),t._uU(20,"HTML (il corpo), CSS (i vestiti) e Javascript (il cervello)"),t.qZA(),t._uU(21,", che insieme formano il c.d. "),t.TgZ(22,"em"),t._uU(23,"frontend"),t.qZA(),t._uU(24,"; tuttavia, gli script pi\xf9 complessi possono prevedere anche la presenza di un "),t.TgZ(25,"em"),t._uU(26,"backend"),t.qZA(),t._uU(27,", ossia in genere il salvataggio di informazioni o l'esecuzione di operazioni da parte di un server. "),t.qZA(),t.TgZ(28,"h6",5),t._uU(29,"Lista script"),t.qZA(),t.TgZ(30,"p",6),t._uU(31," La lista degli script \xe8 un "),t.TgZ(32,"strong"),t._uU(33,"elenco di tutti gli script disponibili"),t.qZA(),t._uU(34," per il forum o il profilo selezionato. A seconda del layout scelto tramite i pulsanti nell'apposita area "),t.TgZ(35,"em"),t._uU(36,"Opzioni di layout"),t.qZA(),t._uU(37,", la lista si presenta come insieme di "),t.TgZ(38,"em"),t._uU(39,"card"),t.qZA(),t._uU(40," o di "),t.TgZ(41,"em"),t._uU(42,"panel"),t.qZA(),t._uU(43,". Nel primo caso, ogni "),t.TgZ(44,"em"),t._uU(45,"card"),t.qZA(),t._uU(46," \xe8 dedicata ad uno script e contiene tutte le sue informazioni; nel secondo caso ad ogni script \xe8 dedicato un "),t.TgZ(47,"em"),t._uU(48,"panel"),t.qZA(),t._uU(49,", nella cui area sempre visibile sono riportate le sole informazioni essenziali, mentre nella parte normalmente nascosta sono inseriti tutti i dettagli. Per espandere o chiudere un "),t.TgZ(50,"em"),t._uU(51,"panel"),t.qZA(),t._uU(52," \xe8 sufficiente cliccare sull'area principale, il c.d. "),t.TgZ(53,"em"),t._uU(54,"header"),t.qZA(),t._uU(55,"."),t._UZ(56,"br")(57,"br"),t._uU(58,"Per ogni script sono presenti i seguenti pulsanti: "),t.qZA(),t.TgZ(59,"ul")(60,"li")(61,"em"),t._uU(62,"installa"),t.qZA(),t._uU(63,": questo pulsante, visibile solo quando lo script "),t.TgZ(64,"span",7),t._uU(65,"non \xe8 ancora installato"),t.qZA(),t._uU(66,", permette, se cliccato, di "),t.TgZ(67,"strong"),t._uU(68,"aggiungere"),t.qZA(),t._uU(69," il relativo script al forum o profilo selezionato; "),t.qZA(),t.TgZ(70,"li")(71,"em"),t._uU(72,"disinstalla"),t.qZA(),t._uU(73,": questo pulsante, visibile solo quando lo script \xe8 "),t.TgZ(74,"span",7),t._uU(75,"gi\xe0 installato"),t.qZA(),t._uU(76,", permette, se cliccato, di "),t.TgZ(77,"strong"),t._uU(78,"rimuovere"),t.qZA(),t._uU(79," lo script dal forum o profilo selezionato; "),t.qZA(),t.TgZ(80,"li")(81,"em"),t._uU(82,"impostazioni"),t.qZA(),t._uU(83,": alcuni script richiedono o consentono un'ulteriore personalizzazione. Cliccando questo pulsante, visibile solo quando lo script \xe8 "),t.TgZ(84,"span",7),t._uU(85,"gi\xe0 installato"),t.qZA(),t._uU(86,", si viene indirizzati nella pagina dedicata alle "),t.TgZ(87,"strong"),t._uU(88,"impostazioni dello script"),t.qZA(),t._uU(89,"; "),t.qZA(),t.TgZ(90,"li")(91,"em"),t._uU(92,"guida"),t.qZA(),t._uU(93,": molti script possiedono una guida dedicata che ne esplicita il funzionamento e le eventuali personalizzazioni possibili. Cliccando questo pulsante si viene indirizzati alla pagina contenente la guida dello script. "),t.qZA(),t.TgZ(94,"li")(95,"em"),t._uU(96,"sandbox"),t.qZA(),t._uU(97,": in aluni casi \xe8 possibile visualizzare, dopo aver installato lo script, un "),t.TgZ(98,"strong"),t._uU(99,"pulsante viola"),t.qZA(),t._uU(100," con un titolo aggiuntivo che pu\xf2 essere inserito a discrezione dello sviluppatore. Questi pulsanti conducono a pagine personalizzate dedicate unicamente allo script in questione e create appositamente dallo sviluppatore per mostrare dei contenuti ulteriori, non inseribili tra le impostazioni dello script. \xc8 il caso, ad esempio, di pannelli admin, grafici statistici o altre funzionalit\xe0 inedite! "),t.qZA()(),t.TgZ(101,"h6",5),t._uU(102,"Opzioni di layout"),t.qZA(),t.TgZ(103,"p",6),t._uU(104," Nell'area dedicata alle "),t.TgZ(105,"em"),t._uU(106,"opzioni di layout"),t.qZA(),t._uU(107," sono presenti alcune personalizzazioni che \xe8 possibile applicare alla lista degli script: "),t.qZA(),t.TgZ(108,"ul")(109,"li")(110,"em"),t._uU(111,"layout"),t.qZA(),t._uU(112,": tramite le due icone in alto a destra, \xe8 possibile optare per la visualizzazione a "),t.TgZ(113,"em"),t._uU(114,"card"),t.qZA(),t._uU(115," o quella a "),t.TgZ(116,"em"),t._uU(117,"panel"),t.qZA(),t._uU(118,"; "),t.qZA(),t.TgZ(119,"li")(120,"em"),t._uU(121,"criterio"),t.qZA(),t._uU(122,": tramite questo select, \xe8 possibile stabilire secondo quale criterio saranno ordinati gli script nella lista. Il criterio "),t.TgZ(123,"em"),t._uU(124,"alfabetico"),t.qZA(),t._uU(125," ordina gli script per nome e il criterio "),t.TgZ(126,"em"),t._uU(127,"numero di installazioni"),t.qZA(),t._uU(128," per numero di forum o profili che hanno aggiunto i vari script; "),t.qZA(),t.TgZ(129,"li")(130,"em"),t._uU(131,"inverti l'ordinamento"),t.qZA(),t._uU(132,": abilitando questo checkbox, l'ordinamento viene invertito. Ad esempio, supponendo di utilizzare il criterio "),t.TgZ(133,"em"),t._uU(134,"alfabetico"),t.qZA(),t._uU(135,", invertendo l'ordinamento gli script saranno mostrati secondo un elenco Z-A, anzich\xe9 A-Z; "),t.qZA(),t.TgZ(136,"li")(137,"em"),t._uU(138,"mostra prima gli script per mobile"),t.qZA(),t._uU(139,": spuntando questo checkbox, vengono mostrati prima gli script compatibili con layout FFMobile; "),t.qZA(),t.TgZ(140,"li")(141,"em"),t._uU(142,"mostra prima gli script installati"),t.qZA(),t._uU(143,": se questa casella \xe8 attiva, vengono inseriti prima gli script gi\xe0 installati. "),t.qZA()(),t.TgZ(144,"h6",5),t._uU(145,"Filtri"),t.qZA(),t.TgZ(146,"p",6),t._uU(147," Nell'area dedicata ai "),t.TgZ(148,"em"),t._uU(149,"filtri"),t.qZA(),t._uU(150," \xe8 possibile stabilire alcuni criteri di ricerca tra i vari script: "),t.qZA(),t.TgZ(151,"ul")(152,"li")(153,"em"),t._uU(154,"autore"),t.qZA(),t._uU(155,": tramite questo select, \xe8 possibile filtrare gli script per l'account che li ha creati; "),t.qZA(),t.TgZ(156,"li")(157,"em"),t._uU(158,"parola chiave"),t.qZA(),t._uU(159,": inserendo delle parole chiave in questo campo, \xe8 possibile cercare tra i vari script quelli che, nel nome o nella descrizione, contengono tali parole; "),t.qZA(),t.TgZ(160,"li")(161,"em"),t._uU(162,"mostra solo script installati"),t.qZA(),t._uU(163,": abilitando questo checkbox, vengono evidenziati esclusivamente gli script gi\xe0 installati. "),t.qZA()(),t.TgZ(164,"h6",5),t._uU(165,"Compatibilit\xe0 con i layout"),t.qZA(),t.TgZ(166,"p"),t._uU(167," Data la presenza di diversi layout e la parziale mancanza di coordinamento tra le informazioni e la struttura degli stessi, alcuni script potrebbero non risultare disponibili per tutti i layout. \xc8 possibile verificare per quali layout \xe8 compatibile uno script mediante le icone presenti nel "),t.TgZ(168,"em"),t._uU(169,"footer"),t.qZA(),t._uU(170," delle "),t.TgZ(171,"em"),t._uU(172,"card"),t.qZA(),t._uU(173,", ovvero espandendo il "),t.TgZ(174,"em"),t._uU(175,"panel"),t.qZA(),t._uU(176," per visualizzarne i dettagli. Nel primo caso, le informazioni vengono mostrate al passaggio del mouse, o, da dispositivi touch, al tocco dell'icona a forma di smartphone, se lo script \xe8 compatibile con il layout FFMobile, oppure, in caso contrario, a forma di computer. Nel secondo caso, \xe8 presente l'elenco dei layout compatibili sotto l'anteprima dello script. "),t.qZA(),t.TgZ(177,"h6",5),t._uU(178,"Script per forum"),t.qZA(),t.TgZ(179,"p"),t._uU(180," Alcuni script sono pensati e realizzati per essere installati sui forum. In questo caso, prima di procedere alla gestione degli stessi, \xe8 necessario "),t.TgZ(181,"strong"),t._uU(182,"selezionare il forum"),t.qZA(),t._uU(183," su cui agire. Affinch\xe9 si possa installare, rimuovere o modificare uno script su un forum, il profilo con cui \xe8 stato eseguito il login deve possedere poteri di "),t.TgZ(184,"strong"),t._uU(185,"amministrazione del forum oppure di amministrazione degli script"),t.qZA(),t._uU(186,". Uno script per forum si differenzia dagli script per utenti in quanto viene eseguito per "),t.TgZ(187,"strong"),t._uU(188,"tutti gli utenti e visitatori"),t.qZA(),t._uU(189," del forum su cui \xe8 installato. Questo tipo di script, tuttavia, non produce effetti nel momento in cui si passa su un altro forum, se non nel caso in cui anche quest'ultimo lo abbia installato. "),t.qZA(),t.TgZ(190,"h6",5),t._uU(191,"Script per utenti"),t.qZA(),t.TgZ(192,"p"),t._uU(193," Alcuni script sono pensati e realizzati per essere installati sui profili. Tali script rimangono legati all'account che li ha aggiunti e lo seguono su "),t.TgZ(194,"strong"),t._uU(195,"ogni forum"),t.qZA(),t._uU(196," che visita. Questo tipo di script, in genere, non ha effetti sugli altri account, ma si limita ad aggiungere o migliorare le funzionalit\xe0 per il solo profilo che li installa. Tuttavia, \xe8 possibile che alcuni script aggiungano degli elementi nella pagina del profilo: in questo caso, anche coloro che visualizzano tale pagina ne osservano gli effetti. "),t.qZA(),t.TgZ(197,"h6",5),t._uU(198,"Numero massimo di script installabili"),t.qZA(),t.TgZ(199,"p",8),t._uU(200),t.qZA()()),2&i){const r=t.MAs(2);t.Q6J("ngIf",n.isForum)("ngIfElse",r),t.xp6(200),t.hij(" Sebbene per il momento non sia presente un limite agli script installabili su forum o profili, occorre tuttavia considerare che, all'aumentare del numero di script presenti, aumenta da un lato la possibilit\xe0 di comportamenti indesiderati dovuti a incompatibilit\xe0 tra gli script stessi, dall'altro il tempo di caricamento totale della pagina. Pur dipendendo in parte dalla natura dello script installato, uno script articolato infatti richiede comunemente pi\xf9 codice e pertanto pi\xf9 tempo per essere caricato, si ritiene che il numero totale di script aggiunti non dovrebbe eccedere ",n.scriptMaxSuggestedNumber,". Se cos\xec fosse, si suggerisce di controllare gli script presenti ed eliminare quelli non utilizzati o che si crede essere meno utili al miglioramento dell'esperienza di navigazione. ")}},dependencies:[c.mk,c.O5,c.tP,ue.z,N.$],styles:["@keyframes _ngcontent-%COMP%_blobbing{10%,12%{transform:scale(1.5,.7) translateY(.25rem)}17%{transform:scale(.7,1.5) translateY(-.125rem)}22%{transform:scale(1)}}.alert-icon[_ngcontent-%COMP%]{left:53%;bottom:-3px;animation:_ngcontent-%COMP%_blobbing 2.5s infinite}"]}),o})();function Me(e,o){1&e&&(t.TgZ(0,"div",2)(1,"div",3),t._uU(2,"Ci sono dei filtri attivi!"),t.qZA()())}function Pe(e,o){if(1&e&&t._UZ(0,"app-script-list",15),2&e){const s=t.oxw(3).$implicit,i=t.oxw(2);t.Q6J("list",i.scripts[s.id])("isActive",i.shownTab===s.id&&!i.isFilterActive)("highlightScriptId",i.highlightScriptId)}}function Oe(e,o){1&e&&(t.TgZ(0,"div",16)(1,"div",17),t._uU(2," Nessuno script disponibile! "),t.qZA()())}function Ae(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Pe,1,3,"app-script-list",13),t.YNc(2,Oe,3,0,"ng-template",null,14,t.W1O),t.BQk()),2&e){const s=t.MAs(3),i=t.oxw(2).$implicit,n=t.oxw(2);t.xp6(1),t.Q6J("ngIf",null==n.scripts[i.id]?null:n.scripts[i.id].length)("ngIfElse",s)}}function Ue(e,o){1&e&&t._UZ(0,"div",18)}function Le(e,o){if(1&e&&(t.YNc(0,Ae,4,2,"ng-container",11),t.YNc(1,Ue,1,0,"ng-template",null,12,t.W1O)),2&e){const s=t.MAs(2),i=t.oxw().$implicit,n=t.oxw(2);t.Q6J("ngIf",n.scripts[i.id])("ngIfElse",s)}}const ke=function(e){return{active:e}};function Ie(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"li",8),t.NdJ("shown",function(){t.CHM(s);const n=t.oxw(2);return t.KtG(n.onShown())}),t._UZ(1,"a",9),t.YNc(2,Le,3,2,"ng-template",10),t.qZA()}if(2&e){const s=o.$implicit,i=t.oxw(2);t.Q6J("ngbNavItem",s.id)("ngClass",t.VKq(3,ke,s.id===i.activeTab)),t.xp6(1),t.Q6J("innerText",s.name)}}function qe(e,o){if(1&e){const s=t.EpF();t.TgZ(0,"ul",4,5),t.NdJ("activeIdChange",function(n){t.CHM(s);const r=t.oxw();return t.KtG(r.activeTab=n)})("activeIdChange",function(n){t.CHM(s);const r=t.oxw();return t.KtG(r.onChangeTab(n))}),t.YNc(2,Ie,3,5,"li",6),t.qZA(),t._UZ(3,"div",7)}if(2&e){const s=t.MAs(1),i=t.oxw();t.Q6J("activeId",i.activeTab)("destroyOnHide",!1),t.xp6(2),t.Q6J("ngForOf",i.tabs),t.xp6(1),t.Q6J("ngbNavOutlet",s)}}let Ee=(()=>{var e;class o{constructor(){this.isFilterActive=!1,this.tabs=Object.values(h.Oh),this.scripts={},this.firstRedered=!1,this.activeTab=d.tr.FFB,this.shownTab=d.tr.FFB}ngOnInit(){this.highlightScriptTab&&(0,E.o8)(h.Oh,this.highlightScriptTab)&&(this.activeTab=this.highlightScriptTab),this.setFirstTabContent()}setFirstTabContent(){this.shownTab=this.activeTab,this.isFilterActive||(this.firstRedered=!0),this.scripts[this.activeTab]=this.scriptsPerTab[this.activeTab]||[]}ngOnChanges(i){i.isFilterActive&&!i.isFilterActive.firstChange&&!this.firstRedered&&(this.firstRedered=!0),i.scriptsPerTab&&!i.scriptsPerTab.firstChange&&(this.scripts={},this.setFirstTabContent())}onChangeTab(i){this.activeTab=i,(0,E.o8)(this.scripts,this.activeTab)||(this.scripts[this.activeTab]=this.scriptsPerTab[this.activeTab]||[])}onShown(){this.shownTab=this.activeTab}}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-script-tabs"]],inputs:{scriptsPerTab:"scriptsPerTab",isFilterActive:"isFilterActive",highlightScriptTab:"highlightScriptTab",highlightScriptId:"highlightScriptId"},features:[t.TTD],decls:3,vars:2,consts:[["class","container alert alert-primary",4,"ngIf","ngIfElse"],["bootstrapTabs",""],[1,"container","alert","alert-primary"],[1,"text-center","fw-bold"],["ngbNav","",1,"d-flex","justify-content-center",3,"activeId","destroyOnHide","activeIdChange"],["nav","ngbNav"],["class","flex-grow-1",3,"ngbNavItem","ngClass","shown",4,"ngFor","ngForOf"],[1,"tab-content-wrapper",3,"ngbNavOutlet"],[1,"flex-grow-1",3,"ngbNavItem","ngClass","shown"],["ngbNavLink","",1,"text-center",3,"innerText"],["ngbNavContent",""],[4,"ngIf","ngIfElse"],["placeholder",""],[3,"list","isActive","highlightScriptId",4,"ngIf","ngIfElse"],["noScript",""],[3,"list","isActive","highlightScriptId"],[1,"container","alert","alert-primary","mb-0"],[1,"fw-bold","text-center"],[1,"min-vh-100"]],template:function(i,n){if(1&i&&(t.YNc(0,Me,3,0,"div",0),t.YNc(1,qe,4,4,"ng-template",null,1,t.W1O)),2&i){const r=t.MAs(2);t.Q6J("ngIf",n.isFilterActive&&!n.firstRedered)("ngIfElse",r)}},dependencies:[c.mk,c.sg,c.O5,u.uN,u.Pz,u.nv,u.Is,u.Vx,u.tO,u.Dy,G],styles:['.tab-content-wrapper[_ngcontent-%COMP%]{margin-top:2rem}.nav[_ngcontent-%COMP%]{max-width:1320px;background:#fff;border:1px solid #dee2e6;box-shadow:0 .125rem .25rem #00000013;border-radius:.25rem;margin:0 1rem;position:relative;z-index:1;flex-direction:column;overflow:hidden}.nav-item[_ngcontent-%COMP%]{transition:background-color .3s}.nav-item[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:1px solid #dee2e6}.nav-item.active[_ngcontent-%COMP%]{background-color:#4864fe}.nav-link[_ngcontent-%COMP%]{transition:color .3s}.nav-link[_ngcontent-%COMP%]:not(.active){color:inherit!important}.nav-link.active[_ngcontent-%COMP%]{color:#fff!important}@media (min-width: 576px){.tab-content-wrapper[_ngcontent-%COMP%]{margin-top:3rem}.nav[_ngcontent-%COMP%]{flex-direction:row;overflow:initial}.nav-item[_ngcontent-%COMP%]{transition:initial;width:25%}.nav-item[_ngcontent-%COMP%]:not(:last-of-type){border-bottom:none}.nav-item.active[_ngcontent-%COMP%]{background-color:initial}.nav-item[_ngcontent-%COMP%]:nth-of-type(2).active ~ .nav-item[_ngcontent-%COMP%]:last-of-type:after{left:25%}.nav-item[_ngcontent-%COMP%]:nth-of-type(3).active ~ .nav-item[_ngcontent-%COMP%]:last-of-type:after{left:50%}.nav-item[_ngcontent-%COMP%]:last-of-type.active:after{left:75%}.nav-item[_ngcontent-%COMP%]:last-of-type:after{content:"";display:block;position:absolute;height:100%;width:25%;left:0;bottom:0;z-index:-1;border-radius:.25rem;background-color:#4864fe;transition:left .4s cubic-bezier(.5,-.2,.445,1.2)}}@media (min-width: 768px){.nav[_ngcontent-%COMP%]{margin:0 auto}}']}),o})();function Fe(e,o){1&e&&(t.TgZ(0,"div",7),t._UZ(1,"app-forum-required"),t.qZA())}function Je(e,o){if(1&e&&t._UZ(0,"app-script-list",12),2&e){const s=t.oxw(3);t.Q6J("list",s.scriptFilteredList)}}const we=function(e){return{"d-none":e}};function Ne(e,o){if(1&e&&(t.ynx(0),t.YNc(1,Je,1,1,"app-script-list",10),t._UZ(2,"app-script-tabs",11),t.BQk()),2&e){const s=t.oxw(2);t.xp6(1),t.Q6J("ngIf",s.isFilterActive),t.xp6(1),t.Q6J("ngClass",t.VKq(6,we,s.isFilterActive))("scriptsPerTab",s.scriptPerTab)("isFilterActive",s.isFilterActive)("highlightScriptTab",s.highlightScriptTab)("highlightScriptId",s.highlightScriptId)}}function ze(e,o){if(1&e&&t._UZ(0,"app-loader",13),2&e){const s=t.oxw(2);t.Q6J("message",s.loadingMessage)}}function Qe(e,o){if(1&e&&(t.YNc(0,Ne,3,8,"ng-container",8),t.YNc(1,ze,1,1,"ng-template",null,9,t.W1O)),2&e){const s=t.MAs(2),i=t.oxw();t.Q6J("ngIf",!i.loadingMessage)("ngIfElse",s)}}const Be=[{path:"",component:(()=>{var e;class o{constructor(i,n,r,l,p,_,b){this.scriptListService=i,this.globalsService=n,this.activatedRoute=r,this.scriptFiltersService=l,this.scriptLayoutService=p,this.sidenavRightService=_,this.urlQueryParamsService=b,this.isForum=!0,this.scriptPerTab={},this.loadingMessage="Recupero della lista script",this.isFilterActive=!1,this.activeFilters={},this.scriptFilteredList=[],this.targetType=d.D7.USER,this.responseList=[];const x=this.globalsService.credentials;if(!x)throw new Error("Missing credentials!");this.credentials=x,this.targetType=this.activatedRoute.snapshot.data.type,this.isForum=this.targetType===d.D7.FORUM,this.ffuid=x.user.ffuid}ngOnInit(){var i=this;return(0,v.Z)(function*(){i.forum=i.globalsService.forum,i.isForum&&(i.forumSubscription=i.globalsService.forumObservable.subscribe(function(){var n=(0,v.Z)(function*(r){yield i.forumObservableCallback(r)});return function(r){return n.apply(this,arguments)}}())),i.highlightScriptId=i.urlQueryParamsService.getAndDeleteParam(S.RT.SCRIPT),i.highlightScriptTab=i.urlQueryParamsService.getAndDeleteParam(S.RT.TAB),yield i.setData()})()}forumObservableCallback(i){var n=this;return(0,v.Z)(function*(){n.loadingMessage="Recupero della lista script",n.forum=i,yield n.setData()})()}setData(){var i=this;return(0,v.Z)(function*(){if(i.isForum&&!i.forum)return i.sidenavRightService.closeOnAction=!0,void i.sidenavRightService.pushEntity({entity:D.z.forumList,detectChanges:!0});i.scriptListInputs={layoutOptions:i.scriptLayoutService.options,targetInfo:{targetId:i.isForum?i.forum.cid:i.ffuid,targetType:i.targetType},permissions:{}};const n=yield i.scriptListService.getData(i.isForum?i.forum.cid:i.ffuid,i.targetType);if(i.saveResponse(n),i.filterList(),void 0!==i.highlightScriptId){const r=i.responseList.find(l=>l.id===i.highlightScriptId);r?i.highlightScriptTab=r.publisher.id:i.highlightScriptId=void 0}i.loadingMessage=""})()}saveResponse(i){this.responseList=i.list.filter(n=>i.permissions[n.id].includes(d.Af.MANAGE)||i.permissions[n.id].includes(d.Af.SETTINGS)&&this.scriptListService.installedList.includes(n.id)),this.scriptPerTab=this.scriptListService.splitTabs(this.responseList),this.scriptListInputs.permissions=i.permissions,this.scriptListService.pushListInputs(this.scriptListInputs)}changeFilters(i){this.activeFilters=i,this.filterList()}filterList(){(0,V.nK)(this.activeFilters)?this.isFilterActive=!1:(this.isFilterActive=!0,this.scriptFilteredList=this.scriptFiltersService.filterScripts(this.responseList,this.scriptListService.installedList,this.activeFilters))}changeLayoutOptions(i){this.scriptListInputs.layoutOptions=i,this.scriptListService.pushListInputs(this.scriptListInputs)}ngOnDestroy(){var i;null===(i=this.forumSubscription)||void 0===i||i.unsubscribe()}}return(e=o).\u0275fac=function(i){return new(i||e)(t.Y36(B.o),t.Y36(W.d),t.Y36(m.gz),t.Y36(et.v),t.Y36(Q),t.Y36(it.f),t.Y36(tt.J))},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-script-main"]],decls:8,vars:10,consts:[[3,"pageTitle"],[1,"d-grid","script-header",3,"ngClass"],["app-script-pageinfo","",1,"flat-container","px-3","px-md-4","pt-3","info","d-flex","flex-column",3,"isForum","forum","profile","installed"],["app-script-layouts","",1,"flat-container","p-3","d-flex","flex-column","position-relative",3,"layoutDisabled","layoutOptionsEvent"],["app-script-filters","",1,"flat-container","p-3","d-flex","flex-column","position-relative",3,"filterDisabled","filterChangeEvent"],["class","container forum-required",4,"ngIf","ngIfElse"],["scriptListTemplate",""],[1,"container","forum-required"],[4,"ngIf","ngIfElse"],["loader",""],[3,"list",4,"ngIf"],[3,"ngClass","scriptsPerTab","isFilterActive","highlightScriptTab","highlightScriptId"],[3,"list"],[3,"message"]],template:function(i,n){if(1&i&&(t._UZ(0,"app-breadcrumb",0),t.TgZ(1,"div",1),t._UZ(2,"div",2),t.TgZ(3,"div",3),t.NdJ("layoutOptionsEvent",function(l){return n.changeLayoutOptions(l)}),t.qZA(),t.TgZ(4,"div",4),t.NdJ("filterChangeEvent",function(l){return n.changeFilters(l)}),t.qZA()(),t.YNc(5,Fe,2,0,"div",5),t.YNc(6,Qe,3,2,"ng-template",null,6,t.W1O)),2&i){const r=t.MAs(7);t.Q6J("pageTitle",n.isForum?"Script per forum":"Script per utenti"),t.xp6(1),t.Q6J("ngClass",n.isFilterActive||n.isForum&&!n.forum?"":"has-tabs"),t.xp6(1),t.Q6J("isForum",n.isForum)("forum",n.forum)("profile",n.credentials)("installed",n.scriptListService.installedList.length),t.xp6(1),t.Q6J("layoutDisabled",n.isForum&&void 0===n.forum),t.xp6(1),t.Q6J("filterDisabled",n.isForum&&void 0===n.forum),t.xp6(1),t.Q6J("ngIf",n.isForum&&!n.forum)("ngIfElse",r)}},dependencies:[nt.L,c.mk,c.O5,st.P,ot.R,G,ce,de,xe,Ee],styles:[".forum-required[_ngcontent-%COMP%]{margin-top:1rem;padding:0 1rem}.script-header[_ngcontent-%COMP%]{gap:1rem}.script-header[_ngcontent-%COMP%]   .flat-icon[_ngcontent-%COMP%]{top:.75rem;right:1rem}.script-header.has-tabs[_ngcontent-%COMP%]{margin-bottom:2rem}.script-header[_ngcontent-%COMP%]:not(.has-tabs){margin-bottom:1rem}@media (min-width: 576px){.forum-required[_ngcontent-%COMP%]{padding:0}.script-header.has-tabs[_ngcontent-%COMP%]{margin-bottom:3rem}}@media (min-width: 960px){.forum-required[_ngcontent-%COMP%]{margin-top:1.5rem}.script-header[_ngcontent-%COMP%]{gap:1.5rem}.script-header[_ngcontent-%COMP%]:not(.has-tabs){margin-bottom:1.5rem}}@media (min-width: 768px) and (max-width: 1499.98px){.script-header[_ngcontent-%COMP%]{grid-template-columns:repeat(2,1fr)}.info[_ngcontent-%COMP%]{grid-column:span 2}.script-layouts[_ngcontent-%COMP%], .script-filters[_ngcontent-%COMP%]{grid-row-start:2}}@media (min-width: 1500px){.script-header[_ngcontent-%COMP%]{grid-template-columns:calc(40% - 1.5rem) repeat(2,calc(30% - .75rem))}}"]}),o})()},{path:"settings",loadChildren:()=>Promise.all([a.e(887),a.e(581),a.e(592),a.e(252)]).then(a.bind(a,7968)).then(e=>e.ScriptSettingsModule),data:{title:"Script Settings"}},{path:":scriptId/:sandboxSlug",loadChildren:()=>Promise.all([a.e(592),a.e(323)]).then(a.bind(a,431)).then(e=>e.ScriptSandboxModule)}];let De=(()=>{var e;class o{}return(e=o).\u0275fac=function(i){return new(i||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[k.w,c.ez,g.u5,I.z,F.O,q.q,P.z,u.Oz,m.Bz.forChild(Be),A,C.G,T.g]}),o})()},9246:($,L,a)=>{a.d(L,{E:()=>u});var k=a(5861),c=a(6306),g=a(8645),I=a(3040),F=a(6245),q=a(3729),P=a(5879);let u=(()=>{var m;class M{constructor(t,f){this.graphqlService=t,this.scriptListService=f,this.buttonSubject=new g.x}manage(t,f,C,Z){var T=this;return(0,k.Z)(function*(){const v=(yield T.graphqlService.mutate({mutation:I.nm,variables:{targetId:t,targetType:f,scriptId:C,action:Z}})).data.scriptManage;return v&&T.scriptListService.updateInstalledScriptList(C,Z===q.n0.INSTALL),v})()}getButtonObservable(){return this.buttonSubject.asObservable()}pushButtonEvent(t,f){this.buttonSubject.next({scriptId:t,action:f})}editSettings(t,f,C,Z){var T=this;return(0,k.Z)(function*(){const A=(yield T.graphqlService.mutate({mutation:I.M$,variables:{targetId:t,targetType:f,scriptId:C,settings:Z}})).data.scriptSettings;return A&&T.scriptListService.updateInstalledScriptSettings(t,f,C,Z),A})()}}return(m=M).\u0275fac=function(t){return new(t||m)(P.LFG(c.Jk),P.LFG(F.o))},m.\u0275prov=P.Yz7({token:m,factory:m.\u0275fac,providedIn:"root"}),M})()}}]);