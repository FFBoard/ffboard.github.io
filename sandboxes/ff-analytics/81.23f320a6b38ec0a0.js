"use strict";(self.webpackChunksandboxes_ff_analytics=self.webpackChunksandboxes_ff_analytics||[]).push([[81],{5890:(vt,ut,n)=>{function L(H,tt){return H.pointToProjected?H.pointToProjected(tt):H.pointToData(tt)}function P(H,tt,at,st){var rt=H.getZoom(),it=H.getCenter(),ot=tt.zoom,Q=H.projectedToPoint?H.projectedToPoint(it):H.dataToPoint(it);if(null!=tt.dx&&null!=tt.dy&&(Q[0]-=tt.dx,Q[1]-=tt.dy,H.setCenter(L(H,Q),st)),null!=ot){if(at){var U=at.min||0;ot=Math.max(Math.min(rt*ot,at.max||1/0),U)/rt}H.scaleX*=ot,H.scaleY*=ot;var o=(tt.originY-H.y)*(ot-1);H.x-=(tt.originX-H.x)*(ot-1),H.y-=o,H.updateTransform(),H.setCenter(L(H,Q),st),H.setZoom(ot*rt)}return{center:H.getCenter(),zoom:H.getZoom()}}n.d(ut,{A:()=>P})},9961:(vt,ut,n)=>{n.d(ut,{N:()=>h});var L=n(7230),P=n(8299),H=n(1283),tt=n(7631),at=n(2752),st=n(4258),rt=n(6499);const ot=function(e){function p(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=p.type,a}return(0,P.ZT)(p,e),p.prototype.render=function(a,m,I,y){if(!y||"mapToggleSelect"!==y.type||y.from!==this.uid){var w=this.group;if(w.removeAll(),!a.getHostGeoModel()){if(this._mapDraw&&y&&"geoRoam"===y.type&&this._mapDraw.resetForLabelLayout(),y&&"geoRoam"===y.type&&"series"===y.componentType&&y.seriesId===a.id)(B=this._mapDraw)&&w.add(B.group);else if(a.needsDrawMap){var B=this._mapDraw||new tt.Z(I);w.add(B.group),B.draw(a,m,I,this,y),this._mapDraw=B}else this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null;a.get("showLegendSymbol")&&m.getComponent("legend")&&this._renderSymbols(a,m,I)}}},p.prototype.remove=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null,this.group.removeAll()},p.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove(),this._mapDraw=null},p.prototype._renderSymbols=function(a,m,I){var y=a.originalData,w=this.group;y.each(y.mapDimension("value"),function(B,x){if(!isNaN(B)){var v=y.getItemLayout(x);if(v&&v.point){var t=v.point,r=v.offset,S=new H.Z({style:{fill:a.getData().getVisual("style").fill},shape:{cx:t[0]+9*r,cy:t[1],r:3},silent:!0,z2:8+(r?0:rt.zr+1)});if(!r){var D=a.mainSeries.getData(),d=y.getName(x),F=D.indexOfName(d),N=y.getItemModel(x),G=N.getModel("label"),E=D.getItemGraphicEl(F);(0,st.ni)(S,(0,st.k3)(N),{labelFetcher:{getFormattedLabel:function(i,c){return a.getFormattedLabel(F,c)}},defaultText:d}),S.disableLabelAnimation=!0,G.get("position")||S.setTextConfig({position:"bottom"}),E.onHoverStateChange=function(i){(0,rt.Gl)(S,i)}}w.add(S)}}})},p.type="map",p}(at.Z);var Q=n(4404),U=n(6754),R=n(8736),f=n(3937),o=n(9475),_=n(5735),A=n(4869);const z=function(e){function p(){var a=null!==e&&e.apply(this,arguments)||this;return a.type=p.type,a.needsDrawMap=!1,a.seriesGroup=[],a.getTooltipPosition=function(m){if(null!=m){var I=this.getData().getName(m),y=this.coordinateSystem,w=y.getRegion(I);return w&&y.dataToPoint(w.getCenter())}},a}return(0,P.ZT)(p,e),p.prototype.getInitialData=function(a){for(var m=(0,U.Z)(this,{coordDimensions:["value"],encodeDefaulter:Q.curry(o.Ss,this)}),I=Q.createHashMap(),y=[],w=0,B=m.count();w<B;w++){var x=m.getName(w);I.set(x,!0)}var v=f.Z.load(this.getMapType(),this.option.nameMap,this.option.nameProperty);return Q.each(v.regions,function(t){var r=t.name;I.get(r)||y.push(r)}),m.appendValues([],y),m},p.prototype.getHostGeoModel=function(){var a=this.option.geoIndex;return null!=a?this.ecModel.getComponent("geo",a):null},p.prototype.getMapType=function(){return(this.getHostGeoModel()||this).option.map},p.prototype.getRawValue=function(a){var m=this.getData();return m.get(m.mapDimension("value"),a)},p.prototype.getRegionModel=function(a){var m=this.getData();return m.getItemModel(m.indexOfName(a))},p.prototype.formatTooltip=function(a,m,I){for(var y=this.getData(),w=this.getRawValue(a),B=y.getName(a),x=this.seriesGroup,v=[],t=0;t<x.length;t++){var r=x[t].originalData.indexOfName(B),S=y.mapDimension("value");isNaN(x[t].originalData.get(S,r))||v.push(x[t].name)}return(0,_.TX)("section",{header:v.join(", "),noHeader:!v.length,blocks:[(0,_.TX)("nameValue",{name:B,value:w})]})},p.prototype.setZoom=function(a){this.option.zoom=a},p.prototype.setCenter=function(a){this.option.center=a},p.prototype.getLegendIcon=function(a){var m=a.icon||"roundRect",I=(0,A.th)(m,0,0,a.itemWidth,a.itemHeight,a.itemStyle.fill);return I.setStyle(a.itemStyle),I.style.stroke="none",m.indexOf("empty")>-1&&(I.style.stroke=I.style.fill,I.style.fill="#fff",I.style.lineWidth=2),I},p.type="series.map",p.dependencies=["geo"],p.layoutMode="box",p.defaultOption={z:2,coordinateSystem:"geo",map:"",left:"center",top:"center",aspectScale:null,showLegendSymbol:!0,boundingCoords:null,center:null,zoom:1,scaleLimit:null,selectedMode:!0,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444",areaColor:"#eee"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{areaColor:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},nameProperty:"name"},p}(R.Z);function Y(e){var p={};e.eachSeriesByType("map",function(a){var m=a.getHostGeoModel(),I=m?"o"+m.id:"i"+a.getMapType();(p[I]=p[I]||[]).push(a)}),Q.each(p,function(a,m){for(var I=function V(e,p){var a={};return Q.each(e,function(m){m.each(m.mapDimension("value"),function(I,y){var w="ec-"+m.getName(y);a[w]=a[w]||[],isNaN(I)||a[w].push(I)})}),e[0].map(e[0].mapDimension("value"),function(m,I){for(var y="ec-"+e[0].getName(I),w=0,B=1/0,x=-1/0,v=a[y].length,t=0;t<v;t++)B=Math.min(B,a[y][t]),x=Math.max(x,a[y][t]),w+=a[y][t];return 0===v?NaN:"min"===p?B:"max"===p?x:"average"===p?w/v:w})}(Q.map(a,function(w){return w.getData()}),a[0].get("mapValueCalculation")),y=0;y<a.length;y++)a[y].originalData=a[y].getData();for(y=0;y<a.length;y++)a[y].seriesGroup=a,a[y].needsDrawMap=0===y&&!a[y].getHostGeoModel(),a[y].setData(I.cloneShallow()),a[y].mainSeries=a[0]})}function $(e){var p={};e.eachSeriesByType("map",function(a){var m=a.getMapType();if(!a.getHostGeoModel()&&!p[m]){var I={};Q.each(a.seriesGroup,function(w){var B=w.coordinateSystem,x=w.originalData;w.get("showLegendSymbol")&&e.getComponent("legend")&&x.each(x.mapDimension("value"),function(v,t){var r=x.getName(t),S=B.getRegion(r);if(S&&!isNaN(v)){var D=I[r]||0,d=B.dataToPoint(S.getCenter());I[r]=D+1,x.setItemLayout(t,{point:d,offset:D})}})});var y=a.getData();y.each(function(w){var B=y.getName(w),x=y.getItemLayout(w)||{};x.showLabel=!I[B],y.setItemLayout(w,x)}),p[m]=!0}})}var b=n(1101),s=n(5400);function h(e){(0,L.D)(s.N),e.registerChartView(ot),e.registerSeriesModel(z),e.registerLayout($),e.registerProcessor(e.PRIORITY.PROCESSOR.STATISTIC,Y),(0,b.y)("map",e.registerAction)}},5400:(vt,ut,n)=>{n.d(ut,{N:()=>B});var L=n(8299),P=n(4404),H=n(6496),tt=n(562),at=n(2590),st=n(3066),rt=n(442),it=n(3937),ot={geoJSON:{aspectScale:.75,invertLongitute:!0},geoSVG:{aspectScale:1,invertLongitute:!1}},Q=["lng","lat"],U=function(x){function v(t,r,S){var D=x.call(this,t)||this;D.dimensions=Q,D.type="geo",D._nameCoordMap=P.createHashMap(),D.map=r;var c,d=S.projection,F=it.Z.load(r,S.nameMap,S.nameProperty),N=it.Z.getGeoResource(r),E=(D.resourceType=N?N.type:null,D.regions=F.regions),i=ot[N.type];if(D._regionsMap=F.regionsMap,D.regions=F.regions,D.projection=d,d)for(var M=0;M<E.length;M++){var O=E[M].getBoundingRect(d);(c=c||O.clone()).union(O)}else c=F.boundingRect;return D.setBoundingRect(c.x,c.y,c.width,c.height),D.aspectScale=d?1:P.retrieve2(S.aspectScale,i.aspectScale),D._invertLongitute=!d&&i.invertLongitute,D}return(0,L.ZT)(v,x),v.prototype._transformTo=function(t,r,S,D){var d=this.getBoundingRect(),F=this._invertLongitute;d=d.clone(),F&&(d.y=-d.y-d.height);var N=this._rawTransformable;N.transform=d.calculateTransform(new st.Z(t,r,S,D));var G=N.parent;N.parent=null,N.decomposeTransform(),N.parent=G,F&&(N.scaleY=-N.scaleY),this._updateTransform()},v.prototype.getRegion=function(t){return this._regionsMap.get(t)},v.prototype.getRegionByCoord=function(t){for(var r=this.regions,S=0;S<r.length;S++){var D=r[S];if("geoJSON"===D.type&&D.contain(t))return r[S]}},v.prototype.addGeoCoord=function(t,r){this._nameCoordMap.set(t,r)},v.prototype.getGeoCoord=function(t){var r=this._regionsMap.get(t);return this._nameCoordMap.get(t)||r&&r.getCenter()},v.prototype.dataToPoint=function(t,r,S){if(P.isString(t)&&(t=this.getGeoCoord(t)),t){var D=this.projection;return D&&(t=D.project(t)),t&&this.projectedToPoint(t,r,S)}},v.prototype.pointToData=function(t){var r=this.projection;return r&&(t=r.unproject(t)),t&&this.pointToProjected(t)},v.prototype.pointToProjected=function(t){return x.prototype.pointToData.call(this,t)},v.prototype.projectedToPoint=function(t,r,S){return x.prototype.dataToPoint.call(this,t,r,S)},v.prototype.convertToPixel=function(t,r,S){var D=R(r);return D===this?D.dataToPoint(S):null},v.prototype.convertFromPixel=function(t,r,S){var D=R(r);return D===this?D.pointToData(S):null},v}(rt.Z);function R(x){var v=x.geoModel,t=x.seriesModel;return v?v.coordinateSystem:t?t.coordinateSystem||(t.getReferringComponents("geo",H.C6).models[0]||{}).coordinateSystem:null}P.mixin(U,rt.Z);const f=U;var o=n(7436),_=n(2862),A=n(8060);function K(x,v){var t=x.get("boundingCoords");if(null!=t){var r=t[0],S=t[1];if(isFinite(r[0])&&isFinite(r[1])&&isFinite(S[0])&&isFinite(S[1])){var D=this.projection;if(D){var d=r[0],F=r[1],N=S[0],G=S[1];r=[1/0,1/0],S=[-1/0,-1/0];var E=function(pt,ht,gt,dt){for(var ft=gt-pt,Dt=dt-ht,Et=0;Et<=100;Et++){var Ot=Et/100,Pt=D.project([pt+ft*Ot,ht+Dt*Ot]);A.min(r,r,Pt),A.max(S,S,Pt)}};E(d,F,N,F),E(N,F,N,G),E(N,G,d,G),E(d,G,N,F)}this.setBoundingRect(r[0],r[1],S[0]-r[0],S[1]-r[1])}}var k,et,X,i=this.getBoundingRect(),c=x.get("layoutCenter"),M=x.get("layoutSize"),O=v.getWidth(),Z=v.getHeight(),j=i.width/i.height*this.aspectScale,J=!1;if(c&&M&&(k=[_.GM(c[0],O),_.GM(c[1],Z)],et=_.GM(M,Math.min(O,Z)),!isNaN(k[0])&&!isNaN(k[1])&&!isNaN(et)&&(J=!0)),J)X={},j>1?(X.width=et,X.height=et/j):(X.height=et,X.width=et*j),X.y=k[1]-X.height/2,X.x=k[0]-X.width/2;else{var ct=x.getBoxLayoutParams();ct.aspect=j,X=o.ME(ct,{width:O,height:Z})}this.setViewRect(X.x,X.y,X.width,X.height),this.setCenter(x.get("center"),v),this.setZoom(x.get("zoom"))}const $=new(function(){function x(){this.dimensions=Q}return x.prototype.create=function(v,t){var r=[];function S(d){return{nameProperty:d.get("nameProperty"),aspectScale:d.get("aspectScale"),projection:d.get("projection")}}v.eachComponent("geo",function(d,F){var N=d.get("map"),G=new f(N+F,N,P.extend({nameMap:d.get("nameMap")},S(d)));G.zoomLimit=d.get("scaleLimit"),r.push(G),d.coordinateSystem=G,G.model=d,G.resize=K,G.resize(d,t)}),v.eachSeries(function(d){if("geo"===d.get("coordinateSystem")){var N=d.get("geoIndex")||0;d.coordinateSystem=r[N]}});var D={};return v.eachSeriesByType("map",function(d){if(!d.getHostGeoModel()){var F=d.getMapType();D[F]=D[F]||[],D[F].push(d)}}),P.each(D,function(d,F){var N=P.map(d,function(E){return E.get("nameMap")}),G=new f(F,F,P.extend({nameMap:P.mergeAll(N)},S(d[0])));G.zoomLimit=P.retrieve.apply(null,P.map(d,function(E){return E.get("scaleLimit")})),r.push(G),G.resize=K,G.resize(d[0],t),P.each(d,function(E){E.coordinateSystem=G,function z(x,v){P.each(v.get("geoCoord"),function(t,r){x.addGeoCoord(r,t)})}(G,E)})}),r},x.prototype.getFilledRegions=function(v,t,r,S){for(var D=(v||[]).slice(),d=P.createHashMap(),F=0;F<D.length;F++)d.set(D[F].name,D[F]);var N=it.Z.load(t,r,S);return P.each(N.regions,function(G){var E=G.name;!d.get(E)&&D.push({name:E})}),D},x}()),s=function(x){function v(){var t=null!==x&&x.apply(this,arguments)||this;return t.type=v.type,t}return(0,L.ZT)(v,x),v.prototype.init=function(t,r,S){var D=it.Z.getGeoResource(t.map);if(D&&"geoJSON"===D.type){var d=t.itemStyle=t.itemStyle||{};"color"in d||(d.color="#eee")}this.mergeDefaultAndTheme(t,S),H.Cc(t,"label",["show"])},v.prototype.optionUpdated=function(){var t=this,r=this.option;r.regions=$.getFilledRegions(r.regions,r.map,r.nameMap,r.nameProperty);var S={};this._optionModelMap=P.reduce(r.regions||[],function(D,d){var F=d.name;return F&&(D.set(F,new at.Z(d,t,t.ecModel)),d.selected&&(S[F]=!0)),D},P.createHashMap()),r.selectedMap||(r.selectedMap=S)},v.prototype.getRegionModel=function(t){return this._optionModelMap.get(t)||new at.Z(null,this,this.ecModel)},v.prototype.getFormattedLabel=function(t,r){var D=this.getRegionModel(t).get("normal"===r?["label","formatter"]:["emphasis","label","formatter"]),d={name:t};return P.isFunction(D)?(d.status=r,D(d)):P.isString(D)?D.replace("{a}",null!=t?t:""):void 0},v.prototype.setZoom=function(t){this.option.zoom=t},v.prototype.setCenter=function(t){this.option.center=t},v.prototype.select=function(t){var r=this.option,S=r.selectedMode;S&&("multiple"!==S&&(r.selectedMap=null),(r.selectedMap||(r.selectedMap={}))[t]=!0)},v.prototype.unSelect=function(t){var r=this.option.selectedMap;r&&(r[t]=!1)},v.prototype.toggleSelected=function(t){this[this.isSelected(t)?"unSelect":"select"](t)},v.prototype.isSelected=function(t){var r=this.option.selectedMap;return!(!r||!r[t])},v.type="geo",v.layoutMode="box",v.defaultOption={z:0,show:!0,left:"center",top:"center",aspectScale:null,silent:!1,map:"",boundingCoords:null,center:null,zoom:1,scaleLimit:null,label:{show:!1,color:"#000"},itemStyle:{borderWidth:.5,borderColor:"#444"},emphasis:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},select:{label:{show:!0,color:"rgb(100,0,0)"},itemStyle:{color:"rgba(255,215,0,0.8)"}},regions:[]},v}(tt.Z);var h=n(5890),e=n(7631),p=n(907),a=n(9133),m=n(3437);const y=function(x){function v(){var t=null!==x&&x.apply(this,arguments)||this;return t.type=v.type,t.focusBlurEnabled=!0,t}return(0,L.ZT)(v,x),v.prototype.init=function(t,r){this._api=r},v.prototype.render=function(t,r,S,D){if(this._model=t,!t.get("show"))return this._mapDraw&&this._mapDraw.remove(),void(this._mapDraw=null);this._mapDraw||(this._mapDraw=new e.Z(S));var d=this._mapDraw;d.draw(t,r,S,this,D),d.group.on("click",this._handleRegionClick,this),d.group.silent=t.get("silent"),this.group.add(d.group),this.updateSelectStatus(t,r,S)},v.prototype._handleRegionClick=function(t){var r;(0,m.o)(t.target,function(S){return null!=(r=(0,a.A)(S).eventData)},!0),r&&this._api.dispatchAction({type:"geoToggleSelect",geoId:this._model.id,name:r.name})},v.prototype.updateSelectStatus=function(t,r,S){var D=this;this._mapDraw.group.traverse(function(d){var F=(0,a.A)(d).eventData;if(F)return D._model.isSelected(F.name)?S.enterSelect(d):S.leaveSelect(d),!0})},v.prototype.findHighDownDispatchers=function(t){return this._mapDraw&&this._mapDraw.findHighDownDispatchers(t,this._model)},v.prototype.dispose=function(){this._mapDraw&&this._mapDraw.remove()},v.type="geo",v}(p.Z);function w(x,v,t){it.Z.registerMap(x,v,t)}function B(x){function v(t,r){r.update="geo:updateSelectStatus",x.registerAction(r,function(S,D){var d={},F=[];return D.eachComponent({mainType:"geo",query:S},function(N){N[t](S.name),(0,P.each)(N.coordinateSystem.regions,function(i){d[i.name]=N.isSelected(i.name)||!1});var E=[];(0,P.each)(d,function(i,c){d[c]&&E.push(c)}),F.push({geoIndex:N.componentIndex,name:E})}),{selected:d,allSelected:F,name:S.name}})}x.registerCoordinateSystem("geo",$),x.registerComponentModel(s),x.registerComponentView(y),x.registerImpl("registerMap",w),x.registerImpl("getMap",function(t){return it.Z.getMapForUser(t)}),v("toggleSelected",{type:"geoToggleSelect",event:"geoselectchanged"}),v("select",{type:"geoSelect",event:"geoselected"}),v("unSelect",{type:"geoUnSelect",event:"geounselected"}),x.registerAction({type:"geoRoam",event:"geoRoam",update:"updateTransform"},function(t,r,S){var D=t.componentType||"series";r.eachComponent({mainType:D,query:t},function(d){var F=d.coordinateSystem;if("geo"===F.type){var N=(0,h.A)(F,t,d.get("scaleLimit"),S);d.setCenter&&d.setCenter(N.center),d.setZoom&&d.setZoom(N.zoom),"series"===D&&(0,P.each)(d.seriesGroup,function(G){G.setCenter(N.center),G.setZoom(N.zoom)})}})})}},7631:(vt,ut,n)=>{n.d(ut,{Z:()=>x});var L=n(4404),P=n(2110),H=n(8845),tt=n(7034),at=n(4271),st=n(5271),rt=n(9213),it=n(2459),ot=n(50),Q=n(2285),U=n(6499),R=n(3937),f=n(7692),o=n(4258),_=n(9133),A=n(9128),K=n(9746),z=n(6496),V=["rect","circle","line","ellipse","polygon","polyline","path"],Y=L.createHashMap(V),$=L.createHashMap(V.concat(["g"])),b=L.createHashMap(V.concat(["g"])),s=(0,z.Yf)();function h(v){var t=v.getItemStyle(),r=v.get("areaColor");return null!=r&&(t.fill=r),t}function e(v){var t=v.style;t&&(t.stroke=t.stroke||t.fill,t.fill=null)}function a(v,t,r,S){var D=S.getModel("itemStyle"),d=S.getModel(["emphasis","itemStyle"]),F=S.getModel(["blur","itemStyle"]),N=S.getModel(["select","itemStyle"]),G=h(D),E=h(d),i=h(N),c=h(F),M=v.data;if(M){var O=M.getItemVisual(r,"style"),Z=M.getItemVisual(r,"decal");v.isVisualEncodedByVisualMap&&O.fill&&(G.fill=O.fill),Z&&(G.decal=(0,A.I)(Z,v.api))}t.setStyle(G),t.style.strokeNoScale=!0,t.ensureState("emphasis").style=E,t.ensureState("select").style=i,t.ensureState("blur").style=c,(0,U.MA)(t)}function m(v,t,r,S,D,d,F){var N=v.data,G=v.isGeo,E=N&&isNaN(N.get(N.mapDimension("value"),d)),i=N&&N.getItemLayout(d);if(G||E||i&&i.showLabel){var c=G?r:d,M=void 0;(!N||d>=0)&&(M=D);var O=F?{normal:{align:"center",verticalAlign:"middle"}}:null;(0,o.ni)(t,(0,o.k3)(S),{labelFetcher:M,labelDataIndex:c,defaultText:r},O);var Z=t.getTextContent();if(Z&&(s(Z).ignore=Z.ignore,t.textConfig&&F)){var j=t.getBoundingRect().clone();t.textConfig.layoutRect=j,t.textConfig.position=[(F[0]-j.x)/j.width*100+"%",(F[1]-j.y)/j.height*100+"%"]}t.disableLabelAnimation=!0}else t.removeTextContent(),t.removeTextConfig(),t.disableLabelAnimation=null}function I(v,t,r,S,D,d){v.data?v.data.setItemGraphicEl(d,t):(0,_.A)(t).eventData={componentType:"geo",componentIndex:D.componentIndex,geoIndex:D.componentIndex,name:r,region:S&&S.option||{}}}function y(v,t,r,S,D){v.data||Q.setTooltipConfig({el:t,componentModel:D,itemName:r,itemTooltipOption:S.get("tooltip")})}function w(v,t,r,S,D){t.highDownSilentOnTouch=!!D.get("selectedMode");var d=S.getModel("emphasis"),F=d.get("focus");return(0,U.k5)(t,F,d.get("blurScope"),d.get("disabled")),v.isGeo&&(0,U.th)(t,D,r),F}function B(v,t,r){var D,S=[];function d(){D=[]}function F(){D.length&&(S.push(D),D=[])}var N=t({polygonStart:d,polygonEnd:F,lineStart:d,lineEnd:F,point:function(G,E){isFinite(G)&&isFinite(E)&&D.push([G,E])},sphere:function(){}});return!r&&N.polygonStart(),L.each(v,function(G){N.lineStart();for(var E=0;E<G.length;E++)N.point(G[E][0],G[E][1]);N.lineEnd()}),!r&&N.polygonEnd(),S}const x=function(){function v(t){var r=new at.Z;this.uid=(0,f.Kr)("ec_map_draw"),this._controller=new P.Z(t.getZr()),this._controllerHost={target:r},this.group=r,r.add(this._regionsGroup=new at.Z),r.add(this._svgGroup=new at.Z)}return v.prototype.draw=function(t,r,S,D,d){var F="geo"===t.mainType,N=t.getData&&t.getData();F&&r.eachComponent({mainType:"series",subType:"map"},function(k){!N&&k.getHostGeoModel()===t&&(N=k.getData())});var G=t.coordinateSystem,E=this._regionsGroup,i=this.group,c=G.getTransformInfo(),M=c.raw,O=c.roam;!E.childAt(0)||d?(i.x=O.x,i.y=O.y,i.scaleX=O.scaleX,i.scaleY=O.scaleY,i.dirty()):st.D(i,O,t);var j=N&&N.getVisual("visualMeta")&&N.getVisual("visualMeta").length>0,J={api:S,geo:G,mapOrGeoModel:t,data:N,isVisualEncodedByVisualMap:j,isGeo:F,transformInfoRaw:M};"geoJSON"===G.resourceType?this._buildGeoJSON(J):"geoSVG"===G.resourceType&&this._buildSVG(J),this._updateController(t,r,S),this._updateMapSelectHandler(t,E,S,D)},v.prototype._buildGeoJSON=function(t){var r=this._regionsGroupByName=L.createHashMap(),S=L.createHashMap(),D=this._regionsGroup,d=t.transformInfoRaw,F=t.mapOrGeoModel,N=t.data,G=t.geo.projection,E=G&&G.stream;function i(O,Z){return Z&&(O=Z(O)),O&&[O[0]*d.scaleX+d.x,O[1]*d.scaleY+d.y]}function c(O){for(var Z=[],j=!E&&G&&G.project,J=0;J<O.length;++J){var k=i(O[J],j);k&&Z.push(k)}return Z}function M(O){return{shape:{points:c(O)}}}D.removeAll(),L.each(t.geo.regions,function(O){var Z=O.name,j=r.get(Z),J=S.get(Z)||{},k=J.dataIdx,et=J.regionModel;j||(j=r.set(Z,new at.Z),D.add(j),k=N?N.indexOfName(Z):null,et=t.isGeo?F.getRegionModel(Z):N?N.getItemModel(k):null,S.set(Z,{dataIdx:k,regionModel:et}));var X=[],ct=[];L.each(O.geometries,function(gt){if("polygon"===gt.type){var dt=[gt.exterior].concat(gt.interiors||[]);E&&(dt=B(dt,E)),L.each(dt,function(Dt){X.push(new rt.Z(M(Dt)))})}else{var ft=gt.points;E&&(ft=B(ft,E,!0)),L.each(ft,function(Dt){ct.push(new it.Z(M(Dt)))})}});var pt=i(O.getCenter(),G&&G.project);function ht(gt,dt){if(gt.length){var ft=new ot.Z({culling:!0,segmentIgnoreThreshold:1,shape:{paths:gt}});j.add(ft),a(t,ft,k,et),m(t,ft,Z,et,F,k,pt),dt&&(e(ft),L.each(ft.states,e))}}ht(X),ht(ct,!0)}),r.each(function(O,Z){var j=S.get(Z),k=j.regionModel;I(t,O,Z,k,F,j.dataIdx),y(t,O,Z,k,F),w(t,O,Z,k,F)},this)},v.prototype._buildSVG=function(t){var r=t.geo.map,S=t.transformInfoRaw;this._svgGroup.x=S.x,this._svgGroup.y=S.y,this._svgGroup.scaleX=S.scaleX,this._svgGroup.scaleY=S.scaleY,this._svgResourceChanged(r)&&(this._freeSVG(),this._useSVG(r));var D=this._svgDispatcherMap=L.createHashMap(),d=!1;L.each(this._svgGraphicRecord.named,function(F){var N=F.name,G=t.mapOrGeoModel,E=t.data,i=F.svgNodeTagLower,c=F.el,M=E?E.indexOfName(N):null,O=G.getRegionModel(N);null!=Y.get(i)&&c instanceof K.ZP&&a(t,c,M,O),c instanceof K.ZP&&(c.culling=!0),c.z2EmphasisLift=0,F.namedFrom||(null!=b.get(i)&&m(t,c,N,O,G,M,null),I(t,c,N,O,G,M),y(t,c,N,O,G),null==$.get(i))||("self"===w(t,c,N,O,G)&&(d=!0),(D.get(N)||D.set(N,[])).push(c))},this),this._enableBlurEntireSVG(d,t)},v.prototype._enableBlurEntireSVG=function(t,r){if(t&&r.isGeo){var D=r.mapOrGeoModel.getModel(["blur","itemStyle"]).getItemStyle().opacity;this._svgGraphicRecord.root.traverse(function(d){if(!d.isGroup){(0,U.MA)(d);var F=d.ensureState("blur").style||{};null==F.opacity&&null!=D&&(F.opacity=D),d.ensureState("emphasis")}})}},v.prototype.remove=function(){this._regionsGroup.removeAll(),this._regionsGroupByName=null,this._svgGroup.removeAll(),this._freeSVG(),this._controller.dispose(),this._controllerHost=null},v.prototype.findHighDownDispatchers=function(t,r){if(null==t)return[];var S=r.coordinateSystem;if("geoJSON"===S.resourceType){var D=this._regionsGroupByName;if(D){var d=D.get(t);return d?[d]:[]}}else if("geoSVG"===S.resourceType)return this._svgDispatcherMap&&this._svgDispatcherMap.get(t)||[]},v.prototype._svgResourceChanged=function(t){return this._svgMapName!==t},v.prototype._useSVG=function(t){var r=R.Z.getGeoResource(t);if(r&&"geoSVG"===r.type){var S=r.useGraphic(this.uid);this._svgGroup.add(S.root),this._svgGraphicRecord=S,this._svgMapName=t}},v.prototype._freeSVG=function(){var t=this._svgMapName;if(null!=t){var r=R.Z.getGeoResource(t);r&&"geoSVG"===r.type&&r.freeGraphic(this.uid),this._svgGraphicRecord=null,this._svgDispatcherMap=null,this._svgGroup.removeAll(),this._svgMapName=null}},v.prototype._updateController=function(t,r,S){var D=t.coordinateSystem,d=this._controller,F=this._controllerHost;F.zoomLimit=t.get("scaleLimit"),F.zoom=D.getZoom(),d.enable(t.get("roam")||!1);var N=t.mainType;function G(){var E={type:"geoRoam",componentType:N};return E[N+"Id"]=t.id,E}d.off("pan").on("pan",function(E){this._mouseDownFlag=!1,H.e(F,E.dx,E.dy),S.dispatchAction(L.extend(G(),{dx:E.dx,dy:E.dy,animation:{duration:0}}))},this),d.off("zoom").on("zoom",function(E){this._mouseDownFlag=!1,H.H(F,E.scale,E.originX,E.originY),S.dispatchAction(L.extend(G(),{zoom:E.scale,originX:E.originX,originY:E.originY,animation:{duration:0}}))},this),d.setPointerChecker(function(E,i,c){return D.containPoint([i,c])&&!(0,tt.l)(E,S,t)})},v.prototype.resetForLabelLayout=function(){this.group.traverse(function(t){var r=t.getTextContent();r&&(r.ignore=s(r).ignore)})},v.prototype._updateMapSelectHandler=function(t,r,S,D){var d=this;r.off("mousedown"),r.off("click"),t.get("selectedMode")&&(r.on("mousedown",function(){d._mouseDownFlag=!0}),r.on("click",function(F){d._mouseDownFlag&&(d._mouseDownFlag=!1)}))},v}()},2110:(vt,ut,n)=>{n.d(ut,{Z:()=>Q});var L=n(8299),P=n(7481),H=n(4491),tt=n(2767),at=n(4404);function rt(U,R,f,o,_){U.pointerChecker&&U.pointerChecker(o,_.originX,_.originY)&&(H.sT(o.event),it(U,R,f,o,_))}function it(U,R,f,o,_){_.isAvailableBehavior=(0,at.bind)(ot,null,f,o),U.trigger(R,_)}function ot(U,R,f){var o=f[U];return!U||o&&(!(0,at.isString)(o)||R.event[o+"Key"])}const Q=function(U){function R(f){var o=U.call(this)||this;o._zr=f;var _=(0,at.bind)(o._mousedownHandler,o),A=(0,at.bind)(o._mousemoveHandler,o),K=(0,at.bind)(o._mouseupHandler,o),z=(0,at.bind)(o._mousewheelHandler,o),V=(0,at.bind)(o._pinchHandler,o);return o.enable=function(Y,$){this.disable(),this._opt=(0,at.defaults)((0,at.clone)($)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==Y&&(Y=!0),(!0===Y||"move"===Y||"pan"===Y)&&(f.on("mousedown",_),f.on("mousemove",A),f.on("mouseup",K)),(!0===Y||"scale"===Y||"zoom"===Y)&&(f.on("mousewheel",z),f.on("pinch",V))},o.disable=function(){f.off("mousedown",_),f.off("mousemove",A),f.off("mouseup",K),f.off("mousewheel",z),f.off("pinch",V)},o}return(0,L.ZT)(R,U),R.prototype.isDragging=function(){return this._dragging},R.prototype.isPinching=function(){return this._pinching},R.prototype.setPointerChecker=function(f){this.pointerChecker=f},R.prototype.dispose=function(){this.disable()},R.prototype._mousedownHandler=function(f){if(!H.x1(f)){for(var o=f.target;o;){if(o.draggable)return;o=o.__hostTarget||o.parent}var _=f.offsetX,A=f.offsetY;this.pointerChecker&&this.pointerChecker(f,_,A)&&(this._x=_,this._y=A,this._dragging=!0)}},R.prototype._mousemoveHandler=function(f){if(this._dragging&&ot("moveOnMouseMove",f,this._opt)&&"pinch"!==f.gestureEvent&&!tt.Tf(this._zr,"globalPan")){var o=f.offsetX,_=f.offsetY,A=this._x,K=this._y,z=o-A,V=_-K;this._x=o,this._y=_,this._opt.preventDefaultMouseMove&&H.sT(f.event),it(this,"pan","moveOnMouseMove",f,{dx:z,dy:V,oldX:A,oldY:K,newX:o,newY:_,isAvailableBehavior:null})}},R.prototype._mouseupHandler=function(f){H.x1(f)||(this._dragging=!1)},R.prototype._mousewheelHandler=function(f){var o=ot("zoomOnMouseWheel",f,this._opt),_=ot("moveOnMouseWheel",f,this._opt),A=f.wheelDelta,K=Math.abs(A),z=f.offsetX,V=f.offsetY;if(0!==A&&(o||_)){if(o){var Y=K>3?1.4:K>1?1.2:1.1;rt(this,"zoom","zoomOnMouseWheel",f,{scale:A>0?Y:1/Y,originX:z,originY:V,isAvailableBehavior:null})}if(_){var b=Math.abs(A);rt(this,"scrollMove","moveOnMouseWheel",f,{scrollDelta:(A>0?1:-1)*(b>3?.4:b>1?.15:.05),originX:z,originY:V,isAvailableBehavior:null})}}},R.prototype._pinchHandler=function(f){tt.Tf(this._zr,"globalPan")||rt(this,"zoom",null,f,{scale:f.pinchScale>1?1.1:1/1.1,originX:f.pinchX,originY:f.pinchY,isAvailableBehavior:null})},R}(P.Z)},8845:(vt,ut,n)=>{function L(H,tt,at){var st=H.target;st.x+=tt,st.y+=at,st.dirty()}function P(H,tt,at,st){var rt=H.target,it=H.zoomLimit,ot=H.zoom=H.zoom||1;if(ot*=tt,it){var Q=it.min||0;ot=Math.max(Math.min(it.max||1/0,ot),Q)}var R=ot/H.zoom;H.zoom=ot,rt.x-=(at-rt.x)*(R-1),rt.y-=(st-rt.y)*(R-1),rt.scaleX*=R,rt.scaleY*=R,rt.dirty()}n.d(ut,{H:()=>P,e:()=>L})},1896:(vt,ut,n)=>{n.d(ut,{Z:()=>A});var L=n(8299),P=n(4404),H=n(4643),tt=n(2412),at=n(4282),st=n(6496),rt=n(2862),it=n(562),ot=tt.Z.mapVisual,Q=tt.Z.eachVisual,U=P.isArray,R=P.each,f=rt.dt,o=rt.NU;const A=function(K){function z(){var V=null!==K&&K.apply(this,arguments)||this;return V.type=z.type,V.stateList=["inRange","outOfRange"],V.replacableOptionKeys=["inRange","outOfRange","target","controller","color"],V.layoutMode={type:"box",ignoreSize:!0},V.dataBound=[-1/0,1/0],V.targetVisuals={},V.controllerVisuals={},V}return(0,L.ZT)(z,K),z.prototype.init=function(V,Y,$){this.mergeDefaultAndTheme(V,$)},z.prototype.optionUpdated=function(V,Y){!Y&&at.jO(this.option,V,this.replacableOptionKeys),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},z.prototype.resetVisual=function(V){var Y=this.stateList;V=P.bind(V,this),this.controllerVisuals=at.qD(this.option.controller,Y,V),this.targetVisuals=at.qD(this.option.target,Y,V)},z.prototype.getItemSymbol=function(){return null},z.prototype.getTargetSeriesIndices=function(){var V=this.option.seriesIndex,Y=[];return null==V||"all"===V?this.ecModel.eachSeries(function($,b){Y.push(b)}):Y=st.kF(V),Y},z.prototype.eachTargetSeries=function(V,Y){P.each(this.getTargetSeriesIndices(),function($){var b=this.ecModel.getSeriesByIndex($);b&&V.call(Y,b)},this)},z.prototype.isTargetSeries=function(V){var Y=!1;return this.eachTargetSeries(function($){$===V&&(Y=!0)}),Y},z.prototype.formatValueText=function(V,Y,$){var p,b=this.option,s=b.precision,h=this.dataBound,e=b.formatter;$=$||["<",">"],P.isArray(V)&&(V=V.slice(),p=!0);var a=Y?V:p?[m(V[0]),m(V[1])]:m(V);return P.isString(e)?e.replace("{value}",p?a[0]:a).replace("{value2}",p?a[1]:a):P.isFunction(e)?p?e(V[0],V[1]):e(V):p?V[0]===h[0]?$[0]+" "+a[1]:V[1]===h[1]?$[1]+" "+a[0]:a[0]+" - "+a[1]:a;function m(I){return I===h[0]?"min":I===h[1]?"max":(+I).toFixed(Math.min(s,20))}},z.prototype.resetExtent=function(){var V=this.option,Y=f([V.min,V.max]);this._dataExtent=Y},z.prototype.getDataDimensionIndex=function(V){var Y=this.option.dimension;if(null!=Y)return V.getDimensionIndex(Y);for(var $=V.dimensions,b=$.length-1;b>=0;b--){var h=V.getDimensionInfo($[b]);if(!h.isCalculationCoord)return h.storeDimIndex}},z.prototype.getExtent=function(){return this._dataExtent.slice()},z.prototype.completeVisualOption=function(){var V=this.ecModel,Y=this.option,$={inRange:Y.inRange,outOfRange:Y.outOfRange},b=Y.target||(Y.target={}),s=Y.controller||(Y.controller={});P.merge(b,$),P.merge(s,$);var h=this.isCategory();function e(m){U(Y.color)&&!m.inRange&&(m.inRange={color:Y.color.slice().reverse()}),m.inRange=m.inRange||{color:V.get("gradientColor")}}e.call(this,b),e.call(this,s),function p(m,I,y){var w=m[I],B=m[y];w&&!B&&(B=m[y]={},R(w,function(x,v){if(tt.Z.isValidType(v)){var t=H.Z.get(v,"inactive",h);null!=t&&(B[v]=t,"color"===v&&!B.hasOwnProperty("opacity")&&!B.hasOwnProperty("colorAlpha")&&(B.opacity=[0,0]))}}))}.call(this,b,"inRange","outOfRange"),function a(m){var I=(m.inRange||{}).symbol||(m.outOfRange||{}).symbol,y=(m.inRange||{}).symbolSize||(m.outOfRange||{}).symbolSize,w=this.get("inactiveColor"),x=this.getItemSymbol()||"roundRect";R(this.stateList,function(v){var t=this.itemSize,r=m[v];r||(r=m[v]={color:h?w:[w]}),null==r.symbol&&(r.symbol=I&&P.clone(I)||(h?x:[x])),null==r.symbolSize&&(r.symbolSize=y&&P.clone(y)||(h?t[0]:[t[0],t[0]])),r.symbol=ot(r.symbol,function(d){return"none"===d?x:d});var S=r.symbolSize;if(null!=S){var D=-1/0;Q(S,function(d){d>D&&(D=d)}),r.symbolSize=ot(S,function(d){return o(d,[0,D],[0,t[0]],!0)})}},this)}.call(this,s)},z.prototype.resetItemSize=function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},z.prototype.isCategory=function(){return!!this.option.categories},z.prototype.setSelected=function(V){},z.prototype.getSelected=function(){return null},z.prototype.getValueState=function(V){return null},z.prototype.getVisualMeta=function(V){return null},z.type="visualMap",z.dependencies=["series"],z.defaultOption={show:!0,z:4,seriesIndex:"all",min:0,max:200,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,textStyle:{color:"#333"}},z}(it.Z)},5680:(vt,ut,n)=>{n.d(ut,{Z:()=>ot});var L=n(8299),P=n(4404),H=n(2501),tt=n(8597),at=n(7436),st=n(2412);const ot=function(Q){function U(){var R=null!==Q&&Q.apply(this,arguments)||this;return R.type=U.type,R.autoPositionValues={left:1,right:1,top:1,bottom:1},R}return(0,L.ZT)(U,Q),U.prototype.init=function(R,f){this.ecModel=R,this.api=f},U.prototype.render=function(R,f,o,_){this.visualMapModel=R,!1!==R.get("show")?this.doRender(R,f,o,_):this.group.removeAll()},U.prototype.renderBackground=function(R){var f=this.visualMapModel,o=tt.MY(f.get("padding")||0),_=R.getBoundingRect();R.add(new H.Z({z2:-1,silent:!0,shape:{x:_.x-o[3],y:_.y-o[0],width:_.width+o[3]+o[1],height:_.height+o[0]+o[2]},style:{fill:f.get("backgroundColor"),stroke:f.get("borderColor"),lineWidth:f.get("borderWidth")}}))},U.prototype.getControllerVisual=function(R,f,o){var _=(o=o||{}).forceState,A=this.visualMapModel,K={};if("color"===f){var z=A.get("contentColor");K.color=z}function V(s){return K[s]}function Y(s,h){K[s]=h}var $=A.controllerVisuals[_||A.getValueState(R)],b=st.Z.prepareVisualTypes($);return P.each(b,function(s){var h=$[s];o.convertOpacityToAlpha&&"opacity"===s&&(s="colorAlpha",h=$.__alphaForOpacity),st.Z.dependsOn(s,f)&&h&&h.applyVisual(R,V,Y)}),K[f]},U.prototype.positionGroup=function(R){var o=this.api;at.p$(R,this.visualMapModel.getBoxLayoutParams(),{width:o.getWidth(),height:o.getHeight()})},U.prototype.doRender=function(R,f,o,_){},U.type="visualMap",U}(n(907).Z)},3380:(vt,ut,n)=>{n.d(ut,{H:()=>at,X:()=>tt});var L=n(4404),P=n(7436),H=[["left","right","width"],["top","bottom","height"]];function tt(st,rt,it){var ot=st.option,Q=ot.align;if(null!=Q&&"auto"!==Q)return Q;for(var U={width:rt.getWidth(),height:rt.getHeight()},R="horizontal"===ot.orient?1:0,f=H[R],o=[0,null,10],_={},A=0;A<3;A++)_[H[1-R][A]]=o[A],_[f[A]]=2===A?it[0]:ot[f[A]];var K=[["x","width",3],["y","height",0]][R],z=(0,P.ME)(_,U,ot.padding);return f[(z.margin[K[2]]||0)+z[K[0]]+.5*z[K[1]]<.5*U[K[1]]?0:1]}function at(st,rt){return L.each(st||[],function(it){null!=it.dataIndex&&(it.dataIndexInside=it.dataIndex,it.dataIndex=null),it.highlightKey="visualMap"+(rt?rt.componentIndex:"")}),st}},9028:(vt,ut,n)=>{n.d(ut,{N:()=>tt});var L=n(7230),P=n(293),H=n(153);function tt(at){(0,L.D)(P.N),(0,L.D)(H.N)}},1524:(vt,ut,n)=>{n.d(ut,{Z:()=>f});var L={type:"selectDataRange",event:"dataRangeSelected",update:"update"},P=function(o,_){_.eachComponent({mainType:"visualMap",query:o},function(A){A.setSelected(o.selected)})},H=n(4404),tt=n(4282),at=n(2412),st=n(7248),rt=[{createOnAllSeries:!0,reset:function(o,_){var A=[];return _.eachComponent("visualMap",function(K){var z=o.pipelineContext;!K.isTargetSeries(o)||z&&z.large||A.push(tt.Z7(K.stateList,K.targetVisuals,H.bind(K.getValueState,K),K.getDataDimensionIndex(o.getData())))}),A}},{createOnAllSeries:!0,reset:function(o,_){var A=o.getData(),K=[];_.eachComponent("visualMap",function(z){if(z.isTargetSeries(o)){var V=z.getVisualMeta(H.bind(it,null,o,z))||{stops:[],outerColors:[]},Y=z.getDataDimensionIndex(A);Y>=0&&(V.dimension=Y,K.push(V))}}),o.getData().setVisual("visualMeta",K)}}];function it(o,_,A,K){for(var z=_.targetVisuals[K],V=at.Z.prepareVisualTypes(z),Y={color:(0,st.UL)(o.getData(),"color")},$=0,b=V.length;$<b;$++){var s=V[$],h=z["opacity"===s?"__alphaForOpacity":s];h&&h.applyVisual(A,e,p)}return Y.color;function e(a){return Y[a]}function p(a,m){Y[a]=m}}var ot=H.each;function Q(o){var _=o&&o.visualMap;H.isArray(_)||(_=_?[_]:[]),ot(_,function(A){if(A){U(A,"splitList")&&!U(A,"pieces")&&(A.pieces=A.splitList,delete A.splitList);var K=A.pieces;K&&H.isArray(K)&&ot(K,function(z){H.isObject(z)&&(U(z,"start")&&!U(z,"min")&&(z.min=z.start),U(z,"end")&&!U(z,"max")&&(z.max=z.end))})}})}function U(o,_){return o&&o.hasOwnProperty&&o.hasOwnProperty(_)}var R=!1;function f(o){R||(R=!0,o.registerSubTypeDefaulter("visualMap",function(_){return _.categories||(_.pieces?_.pieces.length>0:_.splitNumber>0)&&!_.calculable?"piecewise":"continuous"}),o.registerAction(L,P),(0,H.each)(rt,function(_){o.registerVisual(o.PRIORITY.VISUAL.COMPONENT,_)}),o.registerPreprocessor(Q))}},293:(vt,ut,n)=>{n.d(ut,{N:()=>N});var L=n(8299),P=n(4404),H=n(1896),tt=n(2862),at=n(7692),st=[20,140];function it(G,E,i){if(i[0]===i[1])return i.slice();for(var M=(i[1]-i[0])/200,O=i[0],Z=[],j=0;j<=200&&O<i[1];j++)Z.push(O),O+=M;return Z.push(i[1]),Z}const ot=function(G){function E(){var i=null!==G&&G.apply(this,arguments)||this;return i.type=E.type,i}return(0,L.ZT)(E,G),E.prototype.optionUpdated=function(i,c){G.prototype.optionUpdated.apply(this,arguments),this.resetExtent(),this.resetVisual(function(M){M.mappingMethod="linear",M.dataExtent=this.getExtent()}),this._resetRange()},E.prototype.resetItemSize=function(){G.prototype.resetItemSize.apply(this,arguments);var i=this.itemSize;(null==i[0]||isNaN(i[0]))&&(i[0]=st[0]),(null==i[1]||isNaN(i[1]))&&(i[1]=st[1])},E.prototype._resetRange=function(){var i=this.getExtent(),c=this.option.range;!c||c.auto?(i.auto=1,this.option.range=i):P.isArray(c)&&(c[0]>c[1]&&c.reverse(),c[0]=Math.max(c[0],i[0]),c[1]=Math.min(c[1],i[1]))},E.prototype.completeVisualOption=function(){G.prototype.completeVisualOption.apply(this,arguments),P.each(this.stateList,function(i){var c=this.option.controller[i].symbolSize;c&&c[0]!==c[1]&&(c[0]=c[1]/3)},this)},E.prototype.setSelected=function(i){this.option.range=i.slice(),this._resetRange()},E.prototype.getSelected=function(){var i=this.getExtent(),c=tt.dt((this.get("range")||[]).slice());return c[0]>i[1]&&(c[0]=i[1]),c[1]>i[1]&&(c[1]=i[1]),c[0]<i[0]&&(c[0]=i[0]),c[1]<i[0]&&(c[1]=i[0]),c},E.prototype.getValueState=function(i){var c=this.option.range,M=this.getExtent();return(c[0]<=M[0]||c[0]<=i)&&(c[1]>=M[1]||i<=c[1])?"inRange":"outOfRange"},E.prototype.findTargetDataIndices=function(i){var c=[];return this.eachTargetSeries(function(M){var O=[],Z=M.getData();Z.each(this.getDataDimensionIndex(Z),function(j,J){i[0]<=j&&j<=i[1]&&O.push(J)},this),c.push({seriesId:M.id,dataIndex:O})},this),c},E.prototype.getVisualMeta=function(i){var c=it(0,0,this.getExtent()),M=it(0,0,this.option.range.slice()),O=[];function Z(pt,ht){O.push({value:pt,color:i(pt,ht)})}for(var j=0,J=0,k=M.length,et=c.length;J<et&&(!M.length||c[J]<=M[0]);J++)c[J]<M[j]&&Z(c[J],"outOfRange");for(var X=1;j<k;j++,X=0)X&&O.length&&Z(M[j],"outOfRange"),Z(M[j],"inRange");for(X=1;J<et;J++)(!M.length||M[M.length-1]<c[J])&&(X&&(O.length&&Z(O[O.length-1].value,"outOfRange"),X=0),Z(c[J],"outOfRange"));var ct=O.length;return{stops:O,outerColors:[ct?O[0].color:"transparent",ct?O[ct-1].color:"transparent"]}},E.type="visualMap.continuous",E.defaultOption=(0,at.ZL)(H.Z.defaultOption,{align:"auto",calculable:!1,hoverLink:!0,realtime:!0,handleIcon:"path://M-11.39,9.77h0a3.5,3.5,0,0,1-3.5,3.5h-22a3.5,3.5,0,0,1-3.5-3.5h0a3.5,3.5,0,0,1,3.5-3.5h22A3.5,3.5,0,0,1-11.39,9.77Z",handleSize:"120%",handleStyle:{borderColor:"#fff",borderWidth:1},indicatorIcon:"circle",indicatorSize:"50%",indicatorStyle:{borderColor:"#fff",borderWidth:2,shadowBlur:2,shadowOffsetX:1,shadowOffsetY:1,shadowColor:"rgba(0,0,0,0.2)"}}),E}(H.Z);var Q=n(2920),U=n(4491),R=n(5680),f=n(2054),o=n(4271),_=n(2501),A=n(2285),K=n(9213),z=n(5205),V=n(3380),Y=n(6496),$=n(4981),b=n(6499),s=n(4869),h=n(1959),e=n(9133),p=n(4258),a=n(3437),m=tt.NU,I=P.each,y=Math.min,w=Math.max;function t(G,E,i,c){return new K.Z({shape:{points:G},draggable:!!i,cursor:E,drift:i,onmousemove:function(M){U.sT(M.event)},ondragend:c})}function S(G){var E=G.get("hoverLinkOnHandle");return!!(null==E?G.get("realtime"):E)}function D(G){return"vertical"===G?"ns-resize":"ew-resize"}const d=function(G){function E(){var i=null!==G&&G.apply(this,arguments)||this;return i.type=E.type,i._shapes={},i._dataInterval=[],i._handleEnds=[],i._hoverLinkDataIndices=[],i}return(0,L.ZT)(E,G),E.prototype.doRender=function(i,c,M,O){this._api=M,(!O||"selectDataRange"!==O.type||O.from!==this.uid)&&this._buildView()},E.prototype._buildView=function(){this.group.removeAll();var i=this.visualMapModel,c=this.group;this._orient=i.get("orient"),this._useHandle=i.get("calculable"),this._resetInterval(),this._renderBar(c);var M=i.get("text");this._renderEndsText(c,M,0),this._renderEndsText(c,M,1),this._updateView(!0),this.renderBackground(c),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(c)},E.prototype._renderEndsText=function(i,c,M){if(c){var O=c[1-M];O=null!=O?O+"":"";var Z=this.visualMapModel,j=Z.get("textGap"),J=Z.itemSize,k=this._shapes.mainGroup,et=this._applyTransform([J[0]/2,0===M?-j:J[1]+j],k),X=this._applyTransform(0===M?"bottom":"top",k),ct=this._orient;this.group.add(new f.ZP({style:(0,p.Lr)(this.visualMapModel.textStyleModel,{x:et[0],y:et[1],verticalAlign:"horizontal"===ct?"middle":X,align:"horizontal"===ct?X:"center",text:O})}))}},E.prototype._renderBar=function(i){var c=this.visualMapModel,M=this._shapes,O=c.itemSize,Z=this._orient,j=this._useHandle,J=V.X(c,this.api,O),k=M.mainGroup=this._createBarGroup(J),et=new o.Z;k.add(et),et.add(M.outOfRange=t()),et.add(M.inRange=t(null,j?D(this._orient):null,P.bind(this._dragHandle,this,"all",!1),P.bind(this._dragHandle,this,"all",!0))),et.setClipPath(new _.Z({shape:{x:0,y:0,width:O[0],height:O[1],r:3}}));var X=c.textStyleModel.getTextRect("\u56fd"),ct=w(X.width,X.height);j&&(M.handleThumbs=[],M.handleLabels=[],M.handleLabelPoints=[],this._createHandle(c,k,0,O,ct,Z),this._createHandle(c,k,1,O,ct,Z)),this._createIndicator(c,k,O,ct,Z),i.add(k)},E.prototype._createHandle=function(i,c,M,O,Z,j){var J=P.bind(this._dragHandle,this,M,!1),k=P.bind(this._dragHandle,this,M,!0),et=(0,$.GM)(i.get("handleSize"),O[0]),X=(0,s.th)(i.get("handleIcon"),-et/2,-et/2,et,et,null,!0),ct=D(this._orient);X.attr({cursor:ct,draggable:!0,drift:J,ondragend:k,onmousemove:function(ft){U.sT(ft.event)}}),X.x=O[0]/2,X.useStyle(i.getModel("handleStyle").getItemStyle()),X.setStyle({strokeNoScale:!0,strokeFirst:!0}),X.style.lineWidth*=2,X.ensureState("emphasis").style=i.getModel(["emphasis","handleStyle"]).getItemStyle(),(0,b.Nj)(X,!0),c.add(X);var ht=new f.ZP({cursor:ct,draggable:!0,drift:J,onmousemove:function(ft){U.sT(ft.event)},ondragend:k,style:(0,p.Lr)(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});ht.ensureState("blur").style={opacity:.1},ht.stateTransition={duration:200},this.group.add(ht);var gt=[et,0],dt=this._shapes;dt.handleThumbs[M]=X,dt.handleLabelPoints[M]=gt,dt.handleLabels[M]=ht},E.prototype._createIndicator=function(i,c,M,O,Z){var j=(0,$.GM)(i.get("indicatorSize"),M[0]),J=(0,s.th)(i.get("indicatorIcon"),-j/2,-j/2,j,j,null,!0);J.attr({cursor:"move",invisible:!0,silent:!0,x:M[0]/2});var k=i.getModel("indicatorStyle").getItemStyle();if(J instanceof h.ZP){var et=J.style;J.useStyle(P.extend({image:et.image,x:et.x,y:et.y,width:et.width,height:et.height},k))}else J.useStyle(k);c.add(J);var ct=new f.ZP({silent:!0,invisible:!0,style:(0,p.Lr)(this.visualMapModel.textStyleModel,{x:0,y:0,text:""})});this.group.add(ct);var pt=[("horizontal"===Z?O/2:6)+M[0]/2,0],ht=this._shapes;ht.indicator=J,ht.indicatorLabel=ct,ht.indicatorLabelPoint=pt,this._firstShowIndicator=!0},E.prototype._dragHandle=function(i,c,M,O){if(this._useHandle){if(this._dragging=!c,!c){var Z=this._applyTransform([M,O],this._shapes.mainGroup,!0);this._updateInterval(i,Z[1]),this._hideIndicator(),this._updateView()}c===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),c?!this._hovering&&this._clearHoverLinkToSeries():S(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[i],!1)}},E.prototype._resetInterval=function(){var i=this.visualMapModel,c=this._dataInterval=i.getSelected(),M=i.getExtent(),O=[0,i.itemSize[1]];this._handleEnds=[m(c[0],M,O,!0),m(c[1],M,O,!0)]},E.prototype._updateInterval=function(i,c){var M=this.visualMapModel,O=this._handleEnds,Z=[0,M.itemSize[1]];(0,z.Z)(c=c||0,O,Z,i,0);var j=M.getExtent();this._dataInterval=[m(O[0],Z,j,!0),m(O[1],Z,j,!0)]},E.prototype._updateView=function(i){var c=this.visualMapModel,M=c.getExtent(),O=this._shapes,Z=[0,c.itemSize[1]],j=i?Z:this._handleEnds,J=this._createBarVisual(this._dataInterval,M,j,"inRange"),k=this._createBarVisual(M,M,Z,"outOfRange");O.inRange.setStyle({fill:J.barColor}).setShape("points",J.barPoints),O.outOfRange.setStyle({fill:k.barColor}).setShape("points",k.barPoints),this._updateHandle(j,J)},E.prototype._createBarVisual=function(i,c,M,O){var Z={forceState:O,convertOpacityToAlpha:!0},j=this._makeColorGradient(i,Z),J=[this.getControllerVisual(i[0],"symbolSize",Z),this.getControllerVisual(i[1],"symbolSize",Z)],k=this._createBarPoints(M,J);return{barColor:new Q.Z(0,0,0,1,j),barPoints:k,handlesColor:[j[0].color,j[j.length-1].color]}},E.prototype._makeColorGradient=function(i,c){var O=[],Z=(i[1]-i[0])/100;O.push({color:this.getControllerVisual(i[0],"color",c),offset:0});for(var j=1;j<100;j++){var J=i[0]+Z*j;if(J>i[1])break;O.push({color:this.getControllerVisual(J,"color",c),offset:j/100})}return O.push({color:this.getControllerVisual(i[1],"color",c),offset:1}),O},E.prototype._createBarPoints=function(i,c){var M=this.visualMapModel.itemSize;return[[M[0]-c[0],i[0]],[M[0],i[0]],[M[0],i[1]],[M[0]-c[1],i[1]]]},E.prototype._createBarGroup=function(i){var c=this._orient,M=this.visualMapModel.get("inverse");return new o.Z("horizontal"!==c||M?"horizontal"===c&&M?{scaleX:"bottom"===i?-1:1,rotation:-Math.PI/2}:"vertical"!==c||M?{scaleX:"left"===i?1:-1}:{scaleX:"left"===i?1:-1,scaleY:-1}:{scaleX:"bottom"===i?1:-1,rotation:Math.PI/2})},E.prototype._updateHandle=function(i,c){if(this._useHandle){var M=this._shapes,O=this.visualMapModel,Z=M.handleThumbs,j=M.handleLabels,J=O.itemSize,k=O.getExtent();I([0,1],function(et){var X=Z[et];X.setStyle("fill",c.handlesColor[et]),X.y=i[et];var ct=m(i[et],[0,J[1]],k,!0),pt=this.getControllerVisual(ct,"symbolSize");X.scaleX=X.scaleY=pt/J[0],X.x=J[0]-pt/2;var ht=A.applyTransform(M.handleLabelPoints[et],A.getTransform(X,this.group));j[et].setStyle({x:ht[0],y:ht[1],text:O.formatValueText(this._dataInterval[et]),verticalAlign:"middle",align:"vertical"===this._orient?this._applyTransform("left",M.mainGroup):"center"})},this)}},E.prototype._showIndicator=function(i,c,M,O){var Z=this.visualMapModel,j=Z.getExtent(),J=Z.itemSize,k=[0,J[1]],et=this._shapes,X=et.indicator;if(X){X.attr("invisible",!1);var pt=this.getControllerVisual(i,"color",{convertOpacityToAlpha:!0}),ht=this.getControllerVisual(i,"symbolSize"),gt=m(i,j,k,!0),dt=J[0]-ht/2,ft={x:X.x,y:X.y};X.y=gt,X.x=dt;var Dt=A.applyTransform(et.indicatorLabelPoint,A.getTransform(X,this.group)),Et=et.indicatorLabel;Et.attr("invisible",!1);var Ot=this._applyTransform("left",et.mainGroup),Rt="horizontal"===this._orient;Et.setStyle({text:(M||"")+Z.formatValueText(c),verticalAlign:Rt?Ot:"middle",align:Rt?"center":Ot});var C={x:dt,y:gt,style:{fill:pt}},u={style:{x:Dt[0],y:Dt[1]}};if(Z.ecModel.isAnimationEnabled()&&!this._firstShowIndicator){var g={duration:100,easing:"cubicInOut",additive:!0};X.x=ft.x,X.y=ft.y,X.animateTo(C,g),Et.animateTo(u,g)}else X.attr(C),Et.attr(u);this._firstShowIndicator=!1;var l=this._shapes.handleLabels;if(l)for(var T=0;T<l.length;T++)this._api.enterBlur(l[T])}},E.prototype._enableHoverLinkToSeries=function(){var i=this;this._shapes.mainGroup.on("mousemove",function(c){if(i._hovering=!0,!i._dragging){var M=i.visualMapModel.itemSize,O=i._applyTransform([c.offsetX,c.offsetY],i._shapes.mainGroup,!0,!0);O[1]=y(w(0,O[1]),M[1]),i._doHoverLinkToSeries(O[1],0<=O[0]&&O[0]<=M[0])}}).on("mouseout",function(){i._hovering=!1,!i._dragging&&i._clearHoverLinkToSeries()})},E.prototype._enableHoverLinkFromSeries=function(){var i=this.api.getZr();this.visualMapModel.option.hoverLink?(i.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),i.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},E.prototype._doHoverLinkToSeries=function(i,c){var M=this.visualMapModel;if(M.option.hoverLink){var Z=[0,M.itemSize[1]],j=M.getExtent();i=y(w(Z[0],i),Z[1]);var J=function r(G,E,i){var c=6,M=G.get("hoverLinkDataSize");return M&&(c=m(M,E,i,!0)/2),c}(M,j,Z),k=[i-J,i+J],et=m(i,Z,j,!0),X=[m(k[0],Z,j,!0),m(k[1],Z,j,!0)];k[0]<Z[0]&&(X[0]=-1/0),k[1]>Z[1]&&(X[1]=1/0),c&&(X[0]===-1/0?this._showIndicator(et,X[1],"< ",J):X[1]===1/0?this._showIndicator(et,X[0],"> ",J):this._showIndicator(et,et,"\u2248 ",J));var ct=this._hoverLinkDataIndices,pt=[];(c||S(M))&&(pt=this._hoverLinkDataIndices=M.findTargetDataIndices(X));var ht=Y.XI(ct,pt);this._dispatchHighDown("downplay",V.H(ht[0],M)),this._dispatchHighDown("highlight",V.H(ht[1],M))}},E.prototype._hoverLinkFromSeriesMouseOver=function(i){var c;if((0,a.o)(i.target,function(J){var k=(0,e.A)(J);if(null!=k.dataIndex)return c=k,!0},!0),c){var M=this.ecModel.getSeriesByIndex(c.seriesIndex),O=this.visualMapModel;if(O.isTargetSeries(M)){var Z=M.getData(c.dataType),j=Z.getStore().get(O.getDataDimensionIndex(Z),c.dataIndex);isNaN(j)||this._showIndicator(j,j)}}},E.prototype._hideIndicator=function(){var i=this._shapes;i.indicator&&i.indicator.attr("invisible",!0),i.indicatorLabel&&i.indicatorLabel.attr("invisible",!0);var c=this._shapes.handleLabels;if(c)for(var M=0;M<c.length;M++)this._api.leaveBlur(c[M])},E.prototype._clearHoverLinkToSeries=function(){this._hideIndicator();var i=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",V.H(i,this.visualMapModel)),i.length=0},E.prototype._clearHoverLinkFromSeries=function(){this._hideIndicator();var i=this.api.getZr();i.off("mouseover",this._hoverLinkFromSeriesMouseOver),i.off("mouseout",this._hideIndicator)},E.prototype._applyTransform=function(i,c,M,O){var Z=A.getTransform(c,O?null:this.group);return P.isArray(i)?A.applyTransform(i,Z,M):A.transformDirection(i,Z,M)},E.prototype._dispatchHighDown=function(i,c){c&&c.length&&this.api.dispatchAction({type:i,batch:c})},E.prototype.dispose=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},E.prototype.remove=function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},E.type="visualMap.continuous",E}(R.Z);var F=n(1524);function N(G){G.registerComponentModel(ot),G.registerComponentView(d),(0,F.Z)(G)}},153:(vt,ut,n)=>{n.d(ut,{N:()=>b});var L=n(8299),P=n(4404),H=n(1896),tt=n(2412),at=n(4643),st=n(2862),rt=n(7692),it=function(s){function h(){var e=null!==s&&s.apply(this,arguments)||this;return e.type=h.type,e._pieceList=[],e}return(0,L.ZT)(h,s),h.prototype.optionUpdated=function(e,p){s.prototype.optionUpdated.apply(this,arguments),this.resetExtent();var a=this._mode=this._determineMode();this._pieceList=[],ot[this._mode].call(this,this._pieceList),this._resetSelected(e,p);var m=this.option.categories;this.resetVisual(function(I,y){"categories"===a?(I.mappingMethod="category",I.categories=P.clone(m)):(I.dataExtent=this.getExtent(),I.mappingMethod="piecewise",I.pieceList=P.map(this._pieceList,function(w){return w=P.clone(w),"inRange"!==y&&(w.visual=null),w}))})},h.prototype.completeVisualOption=function(){var e=this.option,p={},a=tt.Z.listVisualTypes(),m=this.isCategory();function I(y,w,B){return y&&y[w]&&y[w].hasOwnProperty(B)}P.each(e.pieces,function(y){P.each(a,function(w){y.hasOwnProperty(w)&&(p[w]=1)})}),P.each(p,function(y,w){var B=!1;P.each(this.stateList,function(x){B=B||I(e,x,w)||I(e.target,x,w)},this),!B&&P.each(this.stateList,function(x){(e[x]||(e[x]={}))[w]=at.Z.get(w,"inRange"===x?"active":"inactive",m)})},this),s.prototype.completeVisualOption.apply(this,arguments)},h.prototype._resetSelected=function(e,p){var a=this.option,m=this._pieceList,I=(p?a:e).selected||{};if(a.selected=I,P.each(m,function(w,B){var x=this.getSelectedMapKey(w);I.hasOwnProperty(x)||(I[x]=!0)},this),"single"===a.selectedMode){var y=!1;P.each(m,function(w,B){var x=this.getSelectedMapKey(w);I[x]&&(y?I[x]=!1:y=!0)},this)}},h.prototype.getItemSymbol=function(){return this.get("itemSymbol")},h.prototype.getSelectedMapKey=function(e){return"categories"===this._mode?e.value+"":e.index+""},h.prototype.getPieceList=function(){return this._pieceList},h.prototype._determineMode=function(){var e=this.option;return e.pieces&&e.pieces.length>0?"pieces":this.option.categories?"categories":"splitNumber"},h.prototype.setSelected=function(e){this.option.selected=P.clone(e)},h.prototype.getValueState=function(e){var p=tt.Z.findPieceIndex(e,this._pieceList);return null!=p&&this.option.selected[this.getSelectedMapKey(this._pieceList[p])]?"inRange":"outOfRange"},h.prototype.findTargetDataIndices=function(e){var p=[],a=this._pieceList;return this.eachTargetSeries(function(m){var I=[],y=m.getData();y.each(this.getDataDimensionIndex(y),function(w,B){tt.Z.findPieceIndex(w,a)===e&&I.push(B)},this),p.push({seriesId:m.id,dataIndex:I})},this),p},h.prototype.getRepresentValue=function(e){var p;if(this.isCategory())p=e.value;else if(null!=e.value)p=e.value;else{var a=e.interval||[];p=a[0]===-1/0&&a[1]===1/0?0:(a[0]+a[1])/2}return p},h.prototype.getVisualMeta=function(e){if(!this.isCategory()){var p=[],a=["",""],m=this,y=this._pieceList.slice();if(y.length){var w=y[0].interval[0];w!==-1/0&&y.unshift({interval:[-1/0,w]}),(w=y[y.length-1].interval[1])!==1/0&&y.push({interval:[w,1/0]})}else y.push({interval:[-1/0,1/0]});var B=-1/0;return P.each(y,function(x){var v=x.interval;v&&(v[0]>B&&I([B,v[0]],"outOfRange"),I(v.slice()),B=v[1])},this),{stops:p,outerColors:a}}function I(x,v){var t=m.getRepresentValue({interval:x});v||(v=m.getValueState(t));var r=e(t,v);x[0]===-1/0?a[0]=r:x[1]===1/0?a[1]=r:p.push({value:x[0],color:r},{value:x[1],color:r})}},h.type="visualMap.piecewise",h.defaultOption=(0,rt.ZL)(H.Z.defaultOption,{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieces:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0}),h}(H.Z),ot={splitNumber:function(s){var h=this.option,e=Math.min(h.precision,20),p=this.getExtent(),a=h.splitNumber;a=Math.max(parseInt(a,10),1),h.splitNumber=a;for(var m=(p[1]-p[0])/a;+m.toFixed(e)!==m&&e<5;)e++;h.precision=e,m=+m.toFixed(e),h.minOpen&&s.push({interval:[-1/0,p[0]],close:[0,0]});for(var I=0,y=p[0];I<a;y+=m,I++)s.push({interval:[y,I===a-1?p[1]:y+m],close:[1,1]});h.maxOpen&&s.push({interval:[p[1],1/0],close:[0,0]}),(0,st.nR)(s),P.each(s,function(B,x){B.index=x,B.text=this.formatValueText(B.interval)},this)},categories:function(s){var h=this.option;P.each(h.categories,function(e){s.push({text:this.formatValueText(e,!0),value:e})},this),Q(h,s)},pieces:function(s){var h=this.option;P.each(h.pieces,function(e,p){P.isObject(e)||(e={value:e});var a={text:"",index:p};if(null!=e.label&&(a.text=e.label),e.hasOwnProperty("value")){var m=a.value=e.value;a.interval=[m,m],a.close=[1,1]}else{for(var I=a.interval=[],y=a.close=[0,0],w=[1,0,1],B=[-1/0,1/0],x=[],v=0;v<2;v++){for(var t=[["gte","gt","min"],["lte","lt","max"]][v],r=0;r<3&&null==I[v];r++)I[v]=e[t[r]],y[v]=w[r],x[v]=2===r;null==I[v]&&(I[v]=B[v])}x[0]&&I[1]===1/0&&(y[0]=0),x[1]&&I[0]===-1/0&&(y[1]=0),I[0]===I[1]&&y[0]&&y[1]&&(a.value=I[0])}a.visual=tt.Z.retrieveVisuals(e),s.push(a)},this),Q(h,s),(0,st.nR)(s),P.each(s,function(e){var p=e.close;e.text=e.text||this.formatValueText(null!=e.value?e.value:e.interval,!1,[["<","\u2264"][p[1]],[">","\u2265"][p[0]]])},this)}};function Q(s,h){var e=s.inverse;("vertical"===s.orient?!e:e)&&h.reverse()}const U=it;var R=n(5680),f=n(4271),o=n(2054),_=n(4869),A=n(7436),K=n(3380),z=n(4258);const Y=function(s){function h(){var e=null!==s&&s.apply(this,arguments)||this;return e.type=h.type,e}return(0,L.ZT)(h,s),h.prototype.doRender=function(){var e=this.group;e.removeAll();var p=this.visualMapModel,a=p.get("textGap"),m=p.textStyleModel,I=m.getFont(),y=m.getTextColor(),w=this._getItemAlign(),B=p.itemSize,x=this._getViewData(),v=x.endsText,t=P.retrieve(p.get("showLabel",!0),!v);v&&this._renderEndsText(e,v[0],B,t,w),P.each(x.viewPieceList,function(r){var S=r.piece,D=new f.Z;D.onclick=P.bind(this._onItemClick,this,S),this._enableHoverLink(D,r.indexInModelPieceList);var d=p.getRepresentValue(S);if(this._createItemSymbol(D,d,[0,0,B[0],B[1]]),t){var F=this.visualMapModel.getValueState(d);D.add(new o.ZP({style:{x:"right"===w?-a:B[0]+a,y:B[1]/2,text:S.text,verticalAlign:"middle",align:w,font:I,fill:y,opacity:"outOfRange"===F?.5:1}}))}e.add(D)},this),v&&this._renderEndsText(e,v[1],B,t,w),A.BZ(p.get("orient"),e,p.get("itemGap")),this.renderBackground(e),this.positionGroup(e)},h.prototype._enableHoverLink=function(e,p){var a=this;e.on("mouseover",function(){return m("highlight")}).on("mouseout",function(){return m("downplay")});var m=function(I){var y=a.visualMapModel;y.option.hoverLink&&a.api.dispatchAction({type:I,batch:K.H(y.findTargetDataIndices(p),y)})}},h.prototype._getItemAlign=function(){var e=this.visualMapModel,p=e.option;if("vertical"===p.orient)return K.X(e,this.api,e.itemSize);var a=p.align;return(!a||"auto"===a)&&(a="left"),a},h.prototype._renderEndsText=function(e,p,a,m,I){if(p){var y=new f.Z;y.add(new o.ZP({style:(0,z.Lr)(this.visualMapModel.textStyleModel,{x:m?"right"===I?a[0]:0:a[0]/2,y:a[1]/2,verticalAlign:"middle",align:m?I:"center",text:p})})),e.add(y)}},h.prototype._getViewData=function(){var e=this.visualMapModel,p=P.map(e.getPieceList(),function(y,w){return{piece:y,indexInModelPieceList:w}}),a=e.get("text"),m=e.get("orient"),I=e.get("inverse");return("horizontal"===m?I:!I)?p.reverse():a&&(a=a.slice().reverse()),{viewPieceList:p,endsText:a}},h.prototype._createItemSymbol=function(e,p,a){e.add((0,_.th)(this.getControllerVisual(p,"symbol"),a[0],a[1],a[2],a[3],this.getControllerVisual(p,"color")))},h.prototype._onItemClick=function(e){var p=this.visualMapModel,a=p.option,m=a.selectedMode;if(m){var I=P.clone(a.selected),y=p.getSelectedMapKey(e);"single"===m||!0===m?(I[y]=!0,P.each(I,function(w,B){I[B]=B===y})):I[y]=!I[y],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:I})}},h.type="visualMap.piecewise",h}(R.Z);var $=n(1524);function b(s){s.registerComponentModel(U),s.registerComponentView(Y),(0,$.Z)(s)}},442:(vt,ut,n)=>{n.d(ut,{Z:()=>Q});var L=n(8299),P=n(8060),H=n(1751),tt=n(3066),at=n(2353),st=n(2862),rt=P.applyTransform;function ot(U){var R=U.seriesModel;return R?R.coordinateSystem:null}const Q=function(U){function R(f){var o=U.call(this)||this;return o.type="view",o.dimensions=["x","y"],o._roamTransformable=new at.ZP,o._rawTransformable=new at.ZP,o.name=f,o}return(0,L.ZT)(R,U),R.prototype.setBoundingRect=function(f,o,_,A){return this._rect=new tt.Z(f,o,_,A),this._rect},R.prototype.getBoundingRect=function(){return this._rect},R.prototype.setViewRect=function(f,o,_,A){this._transformTo(f,o,_,A),this._viewRect=new tt.Z(f,o,_,A)},R.prototype._transformTo=function(f,o,_,A){var K=this.getBoundingRect(),z=this._rawTransformable;z.transform=K.calculateTransform(new tt.Z(f,o,_,A));var V=z.parent;z.parent=null,z.decomposeTransform(),z.parent=V,this._updateTransform()},R.prototype.setCenter=function(f,o){f&&(this._center=[(0,st.GM)(f[0],o.getWidth()),(0,st.GM)(f[1],o.getHeight())],this._updateCenterAndZoom())},R.prototype.setZoom=function(f){f=f||1;var o=this.zoomLimit;o&&(null!=o.max&&(f=Math.min(o.max,f)),null!=o.min&&(f=Math.max(o.min,f))),this._zoom=f,this._updateCenterAndZoom()},R.prototype.getDefaultCenter=function(){var f=this.getBoundingRect();return[f.x+f.width/2,f.y+f.height/2]},R.prototype.getCenter=function(){return this._center||this.getDefaultCenter()},R.prototype.getZoom=function(){return this._zoom||1},R.prototype.getRoamTransform=function(){return this._roamTransformable.getLocalTransform()},R.prototype._updateCenterAndZoom=function(){var f=this._rawTransformable.getLocalTransform(),o=this._roamTransformable,_=this.getDefaultCenter(),A=this.getCenter(),K=this.getZoom();A=P.applyTransform([],A,f),_=P.applyTransform([],_,f),o.originX=A[0],o.originY=A[1],o.x=_[0]-A[0],o.y=_[1]-A[1],o.scaleX=o.scaleY=K,this._updateTransform()},R.prototype._updateTransform=function(){var f=this._roamTransformable,o=this._rawTransformable;o.parent=f,f.updateTransform(),o.updateTransform(),H.copy(this.transform||(this.transform=[]),o.transform||H.create()),this._rawTransform=o.getLocalTransform(),this.invTransform=this.invTransform||[],H.invert(this.invTransform,this.transform),this.decomposeTransform()},R.prototype.getTransformInfo=function(){var f=this._rawTransformable,o=this._roamTransformable,_=new at.ZP;return _.transform=o.transform,_.decomposeTransform(),{roam:{x:_.x,y:_.y,scaleX:_.scaleX,scaleY:_.scaleY},raw:{x:f.x,y:f.y,scaleX:f.scaleX,scaleY:f.scaleY}}},R.prototype.getViewRect=function(){return this._viewRect},R.prototype.getViewRectAfterRoam=function(){var f=this.getBoundingRect().clone();return f.applyTransform(this.transform),f},R.prototype.dataToPoint=function(f,o,_){var A=o?this._rawTransform:this.transform;return _=_||[],A?rt(_,f,A):P.copy(_,f)},R.prototype.pointToData=function(f){var o=this.invTransform;return o?rt([],f,o):[f[0],f[1]]},R.prototype.convertToPixel=function(f,o,_){var A=ot(o);return A===this?A.dataToPoint(_):null},R.prototype.convertFromPixel=function(f,o,_){var A=ot(o);return A===this?A.pointToData(_):null},R.prototype.containPoint=function(f){return this.getViewRectAfterRoam().contain(f[0],f[1])},R.dimensions=["x","y"],R}(at.ZP)},3937:(vt,ut,n)=>{n.d(ut,{Z:()=>Rt});var L=n(4404),P=n(4271),H=n(1959),tt=n(1283),at=n(2501),st=n(1462),rt=n(2139),it=n(9213),ot=n(2459),Q=n(1751),U=n(8209),R=n(2920),f=n(1592),o=n(6094);function _(C){(0,L.isString)(C)&&(C=(new DOMParser).parseFromString(C,"text/xml"));var g=C;for(9===g.nodeType&&(g=g.firstChild);"svg"!==g.nodeName.toLowerCase()||1!==g.nodeType;)g=g.nextSibling;return g}var A,K={fill:"fill",stroke:"stroke","stroke-width":"lineWidth",opacity:"opacity","fill-opacity":"fillOpacity","stroke-opacity":"strokeOpacity","stroke-dasharray":"lineDash","stroke-dashoffset":"lineDashOffset","stroke-linecap":"lineCap","stroke-linejoin":"lineJoin","stroke-miterlimit":"miterLimit","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","text-anchor":"textAlign",visibility:"visibility",display:"display"},z=(0,L.keys)(K),V={"alignment-baseline":"textBaseline","stop-color":"stopColor"},Y=(0,L.keys)(V),$=function(){function C(){this._defs={},this._root=null}return C.prototype.parse=function(u,g){g=g||{};var l=_(u);this._defsUsePending=[];var T=new P.Z;this._root=T;var yt,_t,W=[],lt=l.getAttribute("viewBox")||"",q=parseFloat(l.getAttribute("width")||g.width),nt=parseFloat(l.getAttribute("height")||g.height);isNaN(q)&&(q=null),isNaN(nt)&&(nt=null),a(l,T,null,!0,!1);for(var mt=l.firstChild;mt;)this._parseNode(mt,T,W,null,!1,!1),mt=mt.nextSibling;if(function w(C,u){for(var g=0;g<u.length;g++){var l=u[g];l[0].style[l[1]]=C[l[2]]}}(this._defs,this._defsUsePending),this._defsUsePending=[],lt){var Mt=x(lt);Mt.length>=4&&(yt={x:parseFloat(Mt[0]||0),y:parseFloat(Mt[1]||0),width:parseFloat(Mt[2]),height:parseFloat(Mt[3])})}if(yt&&null!=q&&null!=nt&&(_t=F(yt,{x:0,y:0,width:q,height:nt}),!g.ignoreViewBox)){var St=T;(T=new P.Z).add(St),St.scaleX=St.scaleY=_t.scale,St.x=_t.x,St.y=_t.y}return!g.ignoreRootClip&&null!=q&&null!=nt&&T.setClipPath(new at.Z({shape:{x:0,y:0,width:q,height:nt}})),{root:T,width:q,height:nt,viewBoxRect:yt,viewBoxTransform:_t,named:W}},C.prototype._parseNode=function(u,g,l,T,W,lt){var nt,q=u.nodeName.toLowerCase(),mt=T;if("defs"===q&&(W=!0),"text"===q&&(lt=!0),"defs"===q||"switch"===q)nt=g;else{if(!W){var yt=A[q];if(yt&&(0,L.hasOwn)(A,q)){nt=yt.call(this,u,g);var _t=u.getAttribute("name");if(_t){var Mt={name:_t,namedFrom:null,svgNodeTagLower:q,el:nt};l.push(Mt),"g"===q&&(mt=Mt)}else T&&l.push({name:T.name,namedFrom:T,svgNodeTagLower:q,el:nt});g.add(nt)}}var St=b[q];if(St&&(0,L.hasOwn)(b,q)){var It=St.call(this,u),xt=u.getAttribute("id");xt&&(this._defs[xt]=It)}}if(nt&&nt.isGroup)for(var Tt=u.firstChild;Tt;)1===Tt.nodeType?this._parseNode(Tt,nt,l,mt,W,lt):3===Tt.nodeType&&lt&&this._parseText(Tt,nt),Tt=Tt.nextSibling},C.prototype._parseText=function(u,g){var l=new o.Z({style:{text:u.textContent},silent:!0,x:this._textX||0,y:this._textY||0});e(g,l),a(u,l,this._defsUsePending,!1,!1),function m(C,u){var g=u.__selfStyle;if(g){var l=g.textBaseline,T=l;l&&"auto"!==l&&"baseline"!==l?"before-edge"===l||"text-before-edge"===l?T="top":"after-edge"===l||"text-after-edge"===l?T="bottom":("central"===l||"mathematical"===l)&&(T="middle"):T="alphabetic",C.style.textBaseline=T}var W=u.__inheritedStyle;if(W){var lt=W.textAlign,q=lt;lt&&("middle"===lt&&(q="center"),C.style.textAlign=q)}}(l,g);var T=l.style,W=T.fontSize;W&&W<9&&(T.fontSize=9,l.scaleX*=W/9,l.scaleY*=W/9);var lt=(T.fontSize||T.fontFamily)&&[T.fontStyle,T.fontWeight,(T.fontSize||12)+"px",T.fontFamily||"sans-serif"].join(" ");T.font=lt;var q=l.getBoundingRect();return this._textX+=q.width,g.add(l),l},C.internalField=void(A={g:function(u,g){var l=new P.Z;return e(g,l),a(u,l,this._defsUsePending,!1,!1),l},rect:function(u,g){var l=new at.Z;return e(g,l),a(u,l,this._defsUsePending,!1,!1),l.setShape({x:parseFloat(u.getAttribute("x")||"0"),y:parseFloat(u.getAttribute("y")||"0"),width:parseFloat(u.getAttribute("width")||"0"),height:parseFloat(u.getAttribute("height")||"0")}),l.silent=!0,l},circle:function(u,g){var l=new tt.Z;return e(g,l),a(u,l,this._defsUsePending,!1,!1),l.setShape({cx:parseFloat(u.getAttribute("cx")||"0"),cy:parseFloat(u.getAttribute("cy")||"0"),r:parseFloat(u.getAttribute("r")||"0")}),l.silent=!0,l},line:function(u,g){var l=new rt.Z;return e(g,l),a(u,l,this._defsUsePending,!1,!1),l.setShape({x1:parseFloat(u.getAttribute("x1")||"0"),y1:parseFloat(u.getAttribute("y1")||"0"),x2:parseFloat(u.getAttribute("x2")||"0"),y2:parseFloat(u.getAttribute("y2")||"0")}),l.silent=!0,l},ellipse:function(u,g){var l=new st.Z;return e(g,l),a(u,l,this._defsUsePending,!1,!1),l.setShape({cx:parseFloat(u.getAttribute("cx")||"0"),cy:parseFloat(u.getAttribute("cy")||"0"),rx:parseFloat(u.getAttribute("rx")||"0"),ry:parseFloat(u.getAttribute("ry")||"0")}),l.silent=!0,l},polygon:function(u,g){var T,l=u.getAttribute("points");l&&(T=p(l));var W=new it.Z({shape:{points:T||[]},silent:!0});return e(g,W),a(u,W,this._defsUsePending,!1,!1),W},polyline:function(u,g){var T,l=u.getAttribute("points");l&&(T=p(l));var W=new ot.Z({shape:{points:T||[]},silent:!0});return e(g,W),a(u,W,this._defsUsePending,!1,!1),W},image:function(u,g){var l=new H.ZP;return e(g,l),a(u,l,this._defsUsePending,!1,!1),l.setStyle({image:u.getAttribute("xlink:href")||u.getAttribute("href"),x:+u.getAttribute("x"),y:+u.getAttribute("y"),width:+u.getAttribute("width"),height:+u.getAttribute("height")}),l.silent=!0,l},text:function(u,g){var l=u.getAttribute("x")||"0",T=u.getAttribute("y")||"0",W=u.getAttribute("dx")||"0",lt=u.getAttribute("dy")||"0";this._textX=parseFloat(l)+parseFloat(W),this._textY=parseFloat(T)+parseFloat(lt);var q=new P.Z;return e(g,q),a(u,q,this._defsUsePending,!1,!0),q},tspan:function(u,g){var l=u.getAttribute("x"),T=u.getAttribute("y");null!=l&&(this._textX=parseFloat(l)),null!=T&&(this._textY=parseFloat(T));var W=u.getAttribute("dx")||"0",lt=u.getAttribute("dy")||"0",q=new P.Z;return e(g,q),a(u,q,this._defsUsePending,!1,!0),this._textX+=parseFloat(W),this._textY+=parseFloat(lt),q},path:function(u,g){var l=u.getAttribute("d")||"",T=(0,U.iR)(l);return e(g,T),a(u,T,this._defsUsePending,!1,!1),T.silent=!0,T}}),C}(),b={lineargradient:function(C){var u=parseInt(C.getAttribute("x1")||"0",10),g=parseInt(C.getAttribute("y1")||"0",10),l=parseInt(C.getAttribute("x2")||"10",10),T=parseInt(C.getAttribute("y2")||"0",10),W=new R.Z(u,g,l,T);return s(C,W),h(C,W),W},radialgradient:function(C){var u=parseInt(C.getAttribute("cx")||"0",10),g=parseInt(C.getAttribute("cy")||"0",10),l=parseInt(C.getAttribute("r")||"0",10),T=new f.Z(u,g,l);return s(C,T),h(C,T),T}};function s(C,u){"userSpaceOnUse"===C.getAttribute("gradientUnits")&&(u.global=!0)}function h(C,u){for(var g=C.firstChild;g;){if(1===g.nodeType&&"stop"===g.nodeName.toLocaleLowerCase()){var T,l=g.getAttribute("offset");T=l&&l.indexOf("%")>0?parseInt(l,10)/100:l?parseFloat(l):0;var W={};D(g,W,W);var lt=W.stopColor||g.getAttribute("stop-color")||"#000000";u.colorStops.push({offset:T,color:lt})}g=g.nextSibling}}function e(C,u){C&&C.__inheritedStyle&&(u.__inheritedStyle||(u.__inheritedStyle={}),(0,L.defaults)(u.__inheritedStyle,C.__inheritedStyle))}function p(C){for(var u=x(C),g=[],l=0;l<u.length;l+=2){var T=parseFloat(u[l]),W=parseFloat(u[l+1]);g.push([T,W])}return g}function a(C,u,g,l,T){var W=u,lt=W.__inheritedStyle=W.__inheritedStyle||{},q={};1===C.nodeType&&(function r(C,u){var g=C.getAttribute("transform");if(g){g=g.replace(/,/g," ");var l=[],T=null;g.replace(v,function(_t,Mt,St){return l.push(Mt,St),""});for(var W=l.length-1;W>0;W-=2){var q=l[W-1],nt=x(l[W]);switch(T=T||Q.create(),q){case"translate":Q.translate(T,T,[parseFloat(nt[0]),parseFloat(nt[1]||"0")]);break;case"scale":Q.scale(T,T,[parseFloat(nt[0]),parseFloat(nt[1]||nt[0])]);break;case"rotate":Q.rotate(T,T,-parseFloat(nt[0])*t);break;case"skewX":var mt=Math.tan(parseFloat(nt[0])*t);Q.mul(T,[1,0,mt,1,0,0],T);break;case"skewY":var yt=Math.tan(parseFloat(nt[0])*t);Q.mul(T,[1,yt,0,1,0,0],T);break;case"matrix":T[0]=parseFloat(nt[0]),T[1]=parseFloat(nt[1]),T[2]=parseFloat(nt[2]),T[3]=parseFloat(nt[3]),T[4]=parseFloat(nt[4]),T[5]=parseFloat(nt[5])}}u.setLocalTransform(T)}}(C,u),D(C,lt,q),l||function d(C,u,g){for(var l=0;l<z.length;l++)null!=(W=C.getAttribute(T=z[l]))&&(u[K[T]]=W);for(l=0;l<Y.length;l++){var T,W;null!=(W=C.getAttribute(T=Y[l]))&&(g[V[T]]=W)}}(C,lt,q)),W.style=W.style||{},null!=lt.fill&&(W.style.fill=y(W,"fill",lt.fill,g)),null!=lt.stroke&&(W.style.stroke=y(W,"stroke",lt.stroke,g)),(0,L.each)(["lineWidth","opacity","fillOpacity","strokeOpacity","miterLimit","fontSize"],function(nt){null!=lt[nt]&&(W.style[nt]=parseFloat(lt[nt]))}),(0,L.each)(["lineDashOffset","lineCap","lineJoin","fontWeight","fontFamily","fontStyle","textAlign"],function(nt){null!=lt[nt]&&(W.style[nt]=lt[nt])}),T&&(W.__selfStyle=q),lt.lineDash&&(W.style.lineDash=(0,L.map)(x(lt.lineDash),function(nt){return parseFloat(nt)})),("hidden"===lt.visibility||"collapse"===lt.visibility)&&(W.invisible=!0),"none"===lt.display&&(W.ignore=!0)}var I=/^url\(\s*#(.*?)\)/;function y(C,u,g,l){var T=g&&g.match(I);if(!T)return"none"===g&&(g=null),g;var W=(0,L.trim)(T[1]);l.push([C,u,W])}var B=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function x(C){return C.match(B)||[]}var v=/(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.eE,]*)\)/g,t=Math.PI/180,S=/([^\s:;]+)\s*:\s*([^:;]+)/g;function D(C,u,g){var l=C.getAttribute("style");if(l){S.lastIndex=0;for(var T;null!=(T=S.exec(l));){var W=T[1],lt=(0,L.hasOwn)(K,W)?K[W]:null;lt&&(u[lt]=T[2]);var q=(0,L.hasOwn)(V,W)?V[W]:null;q&&(g[q]=T[2])}}}function F(C,u){var T=Math.min(u.width/C.width,u.height/C.height);return{scale:T,x:-(C.x+C.width/2)*T+(u.x+u.width/2),y:-(C.y+C.height/2)*T+(u.y+u.height/2)}}for(var G=n(3066),E=n(5199),i=(0,L.createHashMap)(["rect","circle","line","ellipse","polygon","polyline","path","text","tspan","g"]),c=function(){function C(u,g){this.type="geoSVG",this._usedGraphicMap=(0,L.createHashMap)(),this._freedGraphics=[],this._mapName=u,this._parsedXML=_(g)}return C.prototype.load=function(){var u=this._firstGraphic;if(!u){u=this._firstGraphic=this._buildGraphic(this._parsedXML),this._freedGraphics.push(u),this._boundingRect=this._firstGraphic.boundingRect.clone();var g=function O(C){var u=[],g=(0,L.createHashMap)();return(0,L.each)(C,function(l){if(null==l.namedFrom){var T=new E.Im(l.name,l.el);u.push(T),g.set(l.name,T)}}),{regions:u,regionsMap:g}}(u.named),T=g.regionsMap;this._regions=g.regions,this._regionsMap=T}return{boundingRect:this._boundingRect,regions:this._regions,regionsMap:this._regionsMap}},C.prototype._buildGraphic=function(u){var g,l;try{g=u&&function N(C,u){return(new $).parse(C,u)}(u,{ignoreViewBox:!0,ignoreRootClip:!0})||{},(0,L.assert)(null!=(l=g.root))}catch(Tt){throw new Error("Invalid svg format\n"+Tt.message)}var T=new P.Z;T.add(l),T.isGeoSVGGraphicRoot=!0;var W=g.width,lt=g.height,q=g.viewBoxRect,nt=this._boundingRect;if(!nt){var mt=void 0,yt=void 0,_t=void 0,Mt=void 0;if(null!=W?(mt=0,_t=W):q&&(mt=q.x,_t=q.width),null!=lt?(yt=0,Mt=lt):q&&(yt=q.y,Mt=q.height),null==mt||null==yt){var St=l.getBoundingRect();null==mt&&(mt=St.x,_t=St.width),null==yt&&(yt=St.y,Mt=St.height)}nt=this._boundingRect=new G.Z(mt,yt,_t,Mt)}if(q){var It=F(q,nt);l.scaleX=l.scaleY=It.scale,l.x=It.x,l.y=It.y}T.setClipPath(new at.Z({shape:nt.plain()}));var xt=[];return(0,L.each)(g.named,function(Tt){null!=i.get(Tt.svgNodeTagLower)&&(xt.push(Tt),function M(C){C.silent=!1,C.isGroup&&C.traverse(function(u){u.silent=!1})}(Tt.el))}),{root:T,boundingRect:nt,named:xt}},C.prototype.useGraphic=function(u){var g=this._usedGraphicMap,l=g.get(u);return l||(l=this._freedGraphics.pop()||this._buildGraphic(this._parsedXML),g.set(u,l),l)},C.prototype.freeGraphic=function(u){var g=this._usedGraphicMap,l=g.get(u);l&&(g.removeKey(u),this._freedGraphics.push(l))},C}(),Z=n(5529),j=[126,25],J="\u5357\u6d77\u8bf8\u5c9b",k=[[[0,3.5],[7,11.2],[15,11.9],[30,7],[42,.7],[52,.7],[56,7.7],[59,.7],[64,.7],[64,0],[5,0],[0,3.5]],[[13,16.1],[19,14.7],[16,21.7],[11,23.1],[13,16.1]],[[12,32.2],[14,38.5],[15,38.5],[13,32.2],[12,32.2]],[[16,47.6],[12,53.2],[13,53.2],[18,47.6],[16,47.6]],[[6,64.4],[8,70],[9,70],[8,64.4],[6,64.4]],[[23,82.6],[29,79.8],[30,79.8],[25,82.6],[23,82.6]],[[37,70.7],[43,62.3],[44,62.3],[39,70.7],[37,70.7]],[[48,51.1],[51,45.5],[53,45.5],[50,51.1],[48,51.1]],[[51,35],[51,28.7],[53,28.7],[53,35],[51,35]],[[52,22.4],[55,17.5],[56,17.5],[53,22.4],[52,22.4]],[[58,12.6],[62,7],[63,7],[60,12.6],[58,12.6]],[[0,3.5],[0,93.1],[64,93.1],[64,0],[63,0],[63,92.4],[1,92.4],[1,3.5],[0,3.5]]],et=0;et<k.length;et++)for(var X=0;X<k[et].length;X++)k[et][X][0]/=10.5,k[et][X][1]/=-14,k[et][X][0]+=j[0],k[et][X][1]+=j[1];var pt={\u5357\u6d77\u8bf8\u5c9b:[32,80],\u5e7f\u4e1c:[0,-10],\u9999\u6e2f:[10,5],\u6fb3\u95e8:[-10,10],\u5929\u6d25:[5,5]},gt=[[[123.45165252685547,25.73527164402261],[123.49731445312499,25.73527164402261],[123.49731445312499,25.750734064600884],[123.45165252685547,25.750734064600884],[123.45165252685547,25.73527164402261]]],Dt=function(){function C(u,g,l){this.type="geoJSON",this._parsedMap=(0,L.createHashMap)(),this._mapName=u,this._specialAreas=l,this._geoJSON=function Ot(C){return(0,L.isString)(C)?typeof JSON<"u"&&JSON.parse?JSON.parse(C):new Function("return ("+C+");")():C}(g)}return C.prototype.load=function(u,g){var l=this._parsedMap.get(g=g||"name");if(!l){var T=this._parseToRegions(g);l=this._parsedMap.set(g,{regions:T,boundingRect:Et(T)})}var W=(0,L.createHashMap)(),lt=[];return(0,L.each)(l.regions,function(q){var nt=q.name;u&&(0,L.hasOwn)(u,nt)&&(q=q.cloneShallow(nt=u[nt])),lt.push(q),W.set(nt,q)}),{regions:lt,boundingRect:l.boundingRect||new G.Z(0,0,0,0),regionsMap:W}},C.prototype._parseToRegions=function(u){var T,g=this._mapName,l=this._geoJSON;try{T=l?(0,Z.Z)(l,u):[]}catch(W){throw new Error("Invalid geoJson format\n"+W.message)}return function ct(C,u){if("china"===C){for(var g=0;g<u.length;g++)if(u[g].name===J)return;u.push(new E.Ni(J,L.map(k,function(l){return{type:"polygon",exterior:l}}),j))}}(g,T),(0,L.each)(T,function(W){var lt=W.name;(function ht(C,u){if("china"===C){var g=pt[u.name];if(g){var l=u.getCenter();l[0]+=g[0]/10.5,l[1]+=-g[1]/14,u.setCenter(l)}}})(g,W),function dt(C,u){"china"===C&&"\u53f0\u6e7e"===u.name&&u.geometries.push({type:"polygon",exterior:gt[0]})}(g,W);var q=this._specialAreas&&this._specialAreas[lt];q&&W.transformTo(q.left,q.top,q.width,q.height)},this),T},C.prototype.getMapForUser=function(){return{geoJson:this._geoJSON,geoJSON:this._geoJSON,specialAreas:this._specialAreas}},C}();function Et(C){for(var u,g=0;g<C.length;g++){var l=C[g].getBoundingRect();(u=u||l.clone()).union(l)}return u}var Pt=(0,L.createHashMap)();const Rt={registerMap:function(C,u,g){if(u.svg){var l=new c(C,u.svg);Pt.set(C,l)}else{var T=u.geoJson||u.geoJSON;T&&!u.features?g=u.specialAreas:T=u,l=new Dt(C,T,g),Pt.set(C,l)}},getGeoResource:function(C){return Pt.get(C)},getMapForUser:function(C){var u=Pt.get(C);return u&&"geoJSON"===u.type&&u.getMapForUser()},load:function(C,u,g){var l=Pt.get(C);if(l)return l.load(u,g)}}},2412:(vt,ut,n)=>{n.d(ut,{Z:()=>$});var L=n(4404),P=n(2),H=n(2862),tt=L.each,at=L.isObject,st=-1,rt=function(){function b(s){var h=s.mappingMethod,e=s.type,p=this.option=L.clone(s);this.type=e,this.mappingMethod=h,this._normalizeData=V[h];var a=b.visualHandlers[e];this.applyVisual=a.applyVisual,this.getColorMapper=a.getColorMapper,this._normalizedToVisual=a._normalizedToVisual[h],"piecewise"===h?(Q(p),function it(b){var s=b.pieceList;b.hasSpecialVisual=!1,L.each(s,function(h,e){h.originIndex=e,null!=h.visual&&(b.hasSpecialVisual=!0)})}(p)):"category"===h?p.categories?function ot(b){var s=b.categories,h=b.categoryMap={},e=b.visual;if(tt(s,function(m,I){h[m]=I}),!L.isArray(e)){var p=[];L.isObject(e)?tt(e,function(m,I){var y=h[I];p[null!=y?y:st]=m}):p[st]=e,e=z(b,p)}for(var a=s.length-1;a>=0;a--)null==e[a]&&(delete h[s[a]],s.pop())}(p):Q(p,!0):(L.assert("linear"!==h||p.dataExtent),Q(p))}return b.prototype.mapValueToVisual=function(s){var h=this._normalizeData(s);return this._normalizedToVisual(h,s)},b.prototype.getNormalizer=function(){return L.bind(this._normalizeData,this)},b.listVisualTypes=function(){return L.keys(b.visualHandlers)},b.isValidType=function(s){return b.visualHandlers.hasOwnProperty(s)},b.eachVisual=function(s,h,e){L.isObject(s)?L.each(s,h,e):h.call(e,s)},b.mapVisual=function(s,h,e){var p,a=L.isArray(s)?[]:L.isObject(s)?{}:(p=!0,null);return b.eachVisual(s,function(m,I){var y=h.call(e,m,I);p?a=y:a[I]=y}),a},b.retrieveVisuals=function(s){var e,h={};return s&&tt(b.visualHandlers,function(p,a){s.hasOwnProperty(a)&&(h[a]=s[a],e=!0)}),e?h:null},b.prepareVisualTypes=function(s){if(L.isArray(s))s=s.slice();else{if(!at(s))return[];var h=[];tt(s,function(e,p){h.push(p)}),s=h}return s.sort(function(e,p){return"color"===p&&"color"!==e&&0===e.indexOf("color")?1:-1}),s},b.dependsOn=function(s,h){return"color"===h?!(!s||0!==s.indexOf(h)):s===h},b.findPieceIndex=function(s,h,e){for(var p,a=1/0,m=0,I=h.length;m<I;m++){var y=h[m].value;if(null!=y){if(y===s||L.isString(y)&&y===s+"")return m;e&&v(y,m)}}for(m=0,I=h.length;m<I;m++){var w=h[m],B=w.interval,x=w.close;if(B){if(B[0]===-1/0){if(Y(x[1],s,B[1]))return m}else if(B[1]===1/0){if(Y(x[0],B[0],s))return m}else if(Y(x[0],B[0],s)&&Y(x[1],s,B[1]))return m;e&&v(B[0],m),e&&v(B[1],m)}}if(e)return s===1/0?h.length-1:s===-1/0?0:p;function v(t,r){var S=Math.abs(t-s);S<a&&(a=S,p=r)}},b.visualHandlers={color:{applyVisual:f("color"),getColorMapper:function(){var s=this.option;return L.bind("category"===s.mappingMethod?function(h,e){return!e&&(h=this._normalizeData(h)),o.call(this,h)}:function(h,e,p){var a=!!p;return!e&&(h=this._normalizeData(h)),p=P.fastLerp(h,s.parsedVisual,p),a?p:P.stringify(p,"rgba")},this)},_normalizedToVisual:{linear:function(s){return P.stringify(P.fastLerp(s,this.option.parsedVisual),"rgba")},category:o,piecewise:function(s,h){var e=K.call(this,h);return null==e&&(e=P.stringify(P.fastLerp(s,this.option.parsedVisual),"rgba")),e},fixed:_}},colorHue:U(function(s,h){return P.modifyHSL(s,h)}),colorSaturation:U(function(s,h){return P.modifyHSL(s,null,h)}),colorLightness:U(function(s,h){return P.modifyHSL(s,null,null,h)}),colorAlpha:U(function(s,h){return P.modifyAlpha(s,h)}),decal:{applyVisual:f("decal"),_normalizedToVisual:{linear:null,category:o,piecewise:null,fixed:null}},opacity:{applyVisual:f("opacity"),_normalizedToVisual:A([0,1])},liftZ:{applyVisual:f("liftZ"),_normalizedToVisual:{linear:_,category:_,piecewise:_,fixed:_}},symbol:{applyVisual:function(s,h,e){e("symbol",this.mapValueToVisual(s))},_normalizedToVisual:{linear:R,category:o,piecewise:function(s,h){var e=K.call(this,h);return null==e&&(e=R.call(this,s)),e},fixed:_}},symbolSize:{applyVisual:f("symbolSize"),_normalizedToVisual:A([0,1])}},b}();function Q(b,s){var h=b.visual,e=[];L.isObject(h)?tt(h,function(a){e.push(a)}):null!=h&&e.push(h),!s&&1===e.length&&!{color:1,symbol:1}.hasOwnProperty(b.type)&&(e[1]=e[0]),z(b,e)}function U(b){return{applyVisual:function(s,h,e){var p=this.mapValueToVisual(s);e("color",b(h("color"),p))},_normalizedToVisual:A([0,1])}}function R(b){var s=this.option.visual;return s[Math.round((0,H.NU)(b,[0,1],[0,s.length-1],!0))]||{}}function f(b){return function(s,h,e){e(b,this.mapValueToVisual(s))}}function o(b){var s=this.option.visual;return s[this.option.loop&&b!==st?b%s.length:b]}function _(){return this.option.visual[0]}function A(b){return{linear:function(s){return(0,H.NU)(s,b,this.option.visual,!0)},category:o,piecewise:function(s,h){var e=K.call(this,h);return null==e&&(e=(0,H.NU)(s,b,this.option.visual,!0)),e},fixed:_}}function K(b){var s=this.option,h=s.pieceList;if(s.hasSpecialVisual){var p=h[rt.findPieceIndex(b,h)];if(p&&p.visual)return p.visual[this.type]}}function z(b,s){return b.visual=s,"color"===b.type&&(b.parsedVisual=L.map(s,function(h){return P.parse(h)||[0,0,0,1]})),s}var V={linear:function(b){return(0,H.NU)(b,this.option.dataExtent,[0,1],!0)},piecewise:function(b){var s=this.option.pieceList,h=rt.findPieceIndex(b,s,!0);if(null!=h)return(0,H.NU)(h,[0,s.length-1],[0,1],!0)},category:function(b){var s=this.option.categories?this.option.categoryMap[b]:b;return null==s?st:s},fixed:L.noop};function Y(b,s,h){return b?s<=h:s<h}const $=rt},4643:(vt,ut,n)=>{n.d(ut,{Z:()=>tt});var L=n(4404),P={get:function(at,st,rt){var it=L.clone((H[at]||{})[st]);return rt&&L.isArray(it)?it[it.length-1]:it}},H={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}};const tt=P},4282:(vt,ut,n)=>{n.d(ut,{$p:()=>it,Z7:()=>ot,jO:()=>rt,qD:()=>st});var L=n(4404),P=n(2412),H=n(7248),tt=L.each;function at(Q){if(Q)for(var U in Q)if(Q.hasOwnProperty(U))return!0}function st(Q,U,R){var f={};return tt(U,function(_){var A=f[_]=function o(){var _=function(){};return _.prototype.__hidden=_.prototype,new _}();tt(Q[_],function(K,z){if(P.Z.isValidType(z)){var V={type:z,visual:K};R&&R(V,_),A[z]=new P.Z(V),"opacity"===z&&((V=L.clone(V)).type="colorAlpha",A.__hidden.__alphaForOpacity=new P.Z(V))}})}),f}function rt(Q,U,R){var f;L.each(R,function(o){U.hasOwnProperty(o)&&at(U[o])&&(f=!0)}),f&&L.each(R,function(o){U.hasOwnProperty(o)&&at(U[o])?Q[o]=L.clone(U[o]):delete Q[o]})}function it(Q,U,R,f,o,_){var K,A={};function z($){return(0,H.Or)(R,K,$)}function V($,b){(0,H.LZ)(R,K,$,b)}function Y($,b){var s=R.getRawDataItem(K=null==_?$:b);if(!s||!1!==s.visualMap)for(var h=f.call(o,$),e=U[h],p=A[h],a=0,m=p.length;a<m;a++){var I=p[a];e[I]&&e[I].applyVisual($,z,V)}}L.each(Q,function($){var b=P.Z.prepareVisualTypes(U[$]);A[$]=b}),null==_?R.each(Y):R.each([_],Y)}function ot(Q,U,R,f){var o={};return L.each(Q,function(_){var A=P.Z.prepareVisualTypes(U[_]);o[_]=A}),{progress:function(A,K){var z;function V(w){return(0,H.Or)(K,$,w)}function Y(w,B){(0,H.LZ)(K,$,w,B)}null!=f&&(z=K.getDimensionIndex(f));for(var $,b=K.getStore();null!=($=A.next());){var s=K.getRawDataItem($);if(!s||!1!==s.visualMap)for(var h=null!=f?b.get(z,$):$,e=R(h),p=U[e],a=o[e],m=0,I=a.length;m<I;m++){var y=a[m];p[y]&&p[y].applyVisual(h,V,Y)}}}}}}}]);