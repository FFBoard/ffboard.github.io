(self.webpackChunkpages=self.webpackChunkpages||[]).push([[654],{9654:(Ae,we,z)=>{"use strict";z.r(we),z.d(we,{LoginModule:()=>ze});var V=z(6814),W=z(5213),t=z(5879);let ce=(()=>{var C;class R{}return(C=R).\u0275fac=function(p){return new(p||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({imports:[V.ez]}),R})();var me=z(4295),$=z(7905),K=z(1413),ie=z(5861),ue=z(1378),ee=z(4020),B=z(3912),I=z(1410),j=z(9018),Y=z(463),te=z(7165),ae=z(1993),Me=z(5661),pe=z(2986),_e=z(8645),xe=z(8180),ge=z(6699),he=z(4664),Se=z(2096),Ce=z(5177),ve=z(2655),w=z(1698),b=z(9344),y=z(7219),m=z(4825),d=z(9773),_=z(2438),k=z(2181),S=z(6593);function P(C,R){if(1&C&&t._UZ(0,"iframe",1),2&C){const T=t.oxw();t.Q6J("src",T.iframeUrl,t.uOi)}}let ne=(()=>{var C;class R{constructor(p){this.domSanitizer=p,this.maxMessages=1,this.firstMessageMaxTimeout=5e3,this.iframeDestroyed=!1,this.iframeDestroySubject=new _e.x,this.messageCounter=0}ngOnInit(){this.iframeUrl=this.domSanitizer.bypassSecurityTrustResourceUrl(this.url);const p=new URL(this.url);this.origin=p.origin,this.firstMessageMaxTimeout&&this.firstMessageMaxTimeout>0&&(0,m.H)(this.firstMessageMaxTimeout).pipe((0,d.R)(this.iframeDestroySubject)).subscribe(()=>{0===this.messageCounter&&this.emitAndDestroy()}),(0,_.R)(window,"message").pipe((0,d.R)(this.iframeDestroySubject),(0,k.h)(M=>M.origin===this.origin)).subscribe(M=>{++this.messageCounter,this.messageSubject.next(M.data),this.maxMessages&&this.maxMessages>0&&this.messageCounter>=this.maxMessages&&this.destroyIframe()})}onIframeError(){this.emitAndDestroy()}emitAndDestroy(){this.messageSubject.next(void 0),this.destroyIframe()}destroyIframe(){this.iframeDestroyed=!0,this.iframeDestroySubject.next()}ngOnDestroy(){this.iframeDestroySubject.next(),this.iframeDestroySubject.complete()}}return(C=R).\u0275fac=function(p){return new(p||C)(t.Y36(S.H7))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-iframe-message-receiver"]],inputs:{url:"url",messageSubject:"messageSubject",maxMessages:"maxMessages",firstMessageMaxTimeout:"firstMessageMaxTimeout"},decls:1,vars:1,consts:[[3,"src",4,"ngIf"],[3,"src"]],template:function(p,M){1&p&&t.YNc(0,P,1,1,"iframe",0),2&p&&t.Q6J("ngIf",!M.iframeDestroyed&&M.iframeUrl)},dependencies:[V.O5],styles:["[_nghost-%COMP%]{display:block;width:1px;height:1px;position:absolute;opacity:0;visibility:hidden;-webkit-user-select:none;-moz-user-select:none;user-select:none}iframe[_ngcontent-%COMP%]{border:0;width:100%;height:100%}"]}),R})();var h=z(9473),e=z(554);const r=["app-login-header",""];let n=(()=>{var C;class R{constructor(){this.appName=ee.lW}ngOnInit(){}}return(C=R).\u0275fac=function(p){return new(p||C)},C.\u0275cmp=t.Xpm({type:C,selectors:[["","app-login-header",""]],attrs:r,decls:4,vars:2,consts:[[1,"mb-3","d-flex"],["svgSize","xl",3,"responsive"],[1,"mb-2"]],template:function(p,M){1&p&&(t.TgZ(0,"h1",0),t._UZ(1,"app-logo",1),t.qZA(),t.TgZ(2,"p",2),t._uU(3),t.qZA()),2&p&&(t.xp6(1),t.Q6J("responsive",!1),t.xp6(2),t.hij(" ",M.appName," \xe8 un progetto gratuito creato per raccogliere e offrire i principali servizi aggiuntivi disponibili per i siti e gli account dei circuiti Forumfree, Forumcommunity e Blogfree. Scritto principalmente in typescript, Easy Innovation sfrutta le potenzialit\xe0 offerte dal celebre pacchetto per sviluppo web Angular al fine di garantire un'esperienza di navigazione fluida, immediata e intuitiva. Dopo aver selezionato un profilo con cui effettuare il login, si viene indirizzati nell'apposita area del sito in cui \xe8 possibile usufruire delle funzioni messe a disposizione per forum, blog e utenti, tra cui EasyScript e la gestione degli Admin degli Script!\n"))},dependencies:[e.R],styles:["p[_ngcontent-%COMP%]{text-align:justify}"]}),R})();var a=z(4464);const u=["loginModal"];let c=(()=>{var C;class R{constructor(p){this.endpointsService=p,this.supportLink=ee.Ll,this.redirects={forumfree:"",forumcommunity:"",blogfree:""}}ngOnInit(){this.redirects={forumfree:this.endpointsService.get(B.jQ.LOGIN,B.G9.REDIRECT,B.P3.HTTPS),forumcommunity:this.endpointsService.get(B.jQ.LOGIN,B.G9.REDIRECT,B.P3.HTTPS,B.ig.FORUMCOMMUNITY),blogfree:this.endpointsService.get(B.jQ.LOGIN,B.G9.REDIRECT,B.P3.HTTPS,B.ig.BLOGFREE)}}open(){this.loginModalRef.open()}}return(C=R).\u0275fac=function(p){return new(p||C)(t.Y36(B.oz))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-login-modal"]],viewQuery:function(p,M){if(1&p&&t.Gf(u,5),2&p){let N;t.iGM(N=t.CRH())&&(M.loginModalRef=N.first)}},decls:80,vars:4,consts:[["title","Cookie di terze parti"],["loginModal",""],["href","https://accounts.forumfree.it/?act=Login","target","_blank"],["href","https://accounts.forumcommunity.net/?act=Login","target","_blank"],["href","https://accounts.blogfree.net/?act=Login","target","_blank"],[1,"fst-italic"],[1,"mb-0"],[1,"d-flex","my-3","flex-wrap","justify-content-evenly"],["target","_self",1,"d-block","my-2","py-2","px-3","rounded","ff-btn",3,"href"],["target","_self",1,"d-block","my-2","py-2","px-3","rounded","fc-btn",3,"href"],["target","_self",1,"d-block","my-2","py-2","px-3","rounded","bf-btn",3,"href"],[1,"mb-1"],["href","https://support.google.com/chrome/answer/95647#zippy=%2Cconsentire-o-bloccare-i-cookie","target","_blank"],["href","https://support.mozilla.org/it/kb/cookie-terze-parti-protezione-antitracciamento","target","_blank"],["href","https://support.apple.com/it-it/guide/safari/sfri11471/mac","target","_blank"],["href","https://help.opera.com/latest/web-preferences/#cookies","target","_blank"],["target","_blank",3,"href"]],template:function(p,M){1&p&&(t.TgZ(0,"app-modal",0,1)(2,"p"),t._uU(3," In determinate occasioni e con alcuni browser \xe8 possibile che vengano riscontrate delle difficolt\xe0 nell'effettuare l'accesso con l'account desiderato in quanto quest'ultimo non \xe8 disponibile per la selezione. In questi casi, \xe8 innanzitutto necessario controllare di essere "),t.TgZ(4,"strong"),t._uU(5,"effettivamente loggati"),t.qZA(),t._uU(6," nel circuito a cui appartiene l'account con cui si vorrebbe accedere. In caso negativo, occorre recarsi sulla pagina di login di "),t.TgZ(7,"a",2),t._uU(8,"Forumfree"),t.qZA(),t._uU(9,", "),t.TgZ(10,"a",3),t._uU(11,"Forumcommunity"),t.qZA(),t._uU(12," o "),t.TgZ(13,"a",4),t._uU(14,"Blogfree"),t.qZA(),t._uU(15," ed eseguire l'accesso."),t._UZ(16,"br"),t._uU(17," Se, al contrario, l'account risulta correttamente loggato sul circuito di appartenenza, come primo tentativo viene consigliato di "),t.TgZ(18,"strong"),t._uU(19,"ricaricare semplicemente la pagina"),t.qZA(),t._uU(20,": infatti, pu\xf2 accadere che, per un momentaneo carico eccessivo sul server, il recupero della lista degli account fallisca. Se ci\xf2 non dovesse risultare sufficiente, \xe8 possibile seguire una delle due soluzioni descritte di seguito. "),t.qZA(),t.TgZ(21,"h6",5),t._uU(22,"Cookie di terze parti"),t.qZA(),t.TgZ(23,"p",6),t._uU(24," L'attuale metodo di autenticazione si basa sui cookie. \xc8 quindi necessario che, quando viene eseguita una richiesta al server, "),t.TgZ(25,"strong"),t._uU(26,"i cookie di Forumfree, Forumcommunity e Blogfree siano disponibili"),t.qZA(),t._uU(27,". Alcuni browser, per\xf2, tendono a bloccare di default l'invio dei cookie del sito di destinazione se il dominio di partenza \xe8 differente. Purtroppo, con gli strumenti che Forumfree al momento offre agli sviluppatori, il problema non \xe8 di immediata soluzione."),t._UZ(28,"br"),t._uU(29," In primo luogo, \xe8 possibile provare a "),t.TgZ(30,"strong"),t._uU(31,"selezionare il circuito"),t.qZA(),t._uU(32," a cui appartiene l'account con cui si vorrebbe accedere dai seguenti pulsanti: "),t.qZA(),t.TgZ(33,"div",7)(34,"a",8),t._uU(35,"Forumfree"),t.qZA(),t.TgZ(36,"a",9),t._uU(37,"Forumcommunity"),t.qZA(),t.TgZ(38,"a",10),t._uU(39,"Blogfree"),t.qZA()(),t.TgZ(40,"p"),t._uU(41," Cliccando su uno di questi, si verr\xe0 indirizzati a una pagina su Forumfree, Forumcommunity e Blogfree e, in seguito, subito indietro alla pagina di login di Easy Innovation. Se l'operazione dovesse avere successo, si dovrebbe riuscire a entrare nel sito. "),t.qZA(),t.TgZ(42,"h6",5),t._uU(43,"Abilitazione dei cookie di terze parti"),t.qZA(),t.TgZ(44,"p",11),t._uU(45," Una seconda alternativa riguarda "),t.TgZ(46,"strong"),t._uU(47,"l'abilitazione dei cookie di terze parti"),t.qZA(),t._uU(48,". Si tratta di cookie creati da altri siti che interagiscono con i siti visitati mediante alcuni elementi, quali le immagini. A seconda del browser, \xe8 possibile abilitare i cookie solo di alcuni specifici siti, al fine di proteggere maggiormente la privacy dell'utente. Di seguito vengono riportate le istruzioni da seguire per i principali browser attualmente in uso: "),t.qZA(),t.TgZ(49,"ul",11)(50,"li")(51,"a",12),t._uU(52," Google Chrome "),t.qZA()(),t.TgZ(53,"li")(54,"a",13),t._uU(55," Mozilla Firefox "),t.qZA()(),t.TgZ(56,"li")(57,"a",14),t._uU(58," Apple Safari "),t.qZA()(),t.TgZ(59,"li"),t._uU(60," Microsoft Edge: tramite la pagina in "),t.TgZ(61,"em"),t._uU(62,"Impostazioni"),t.qZA(),t._uU(63," > "),t.TgZ(64,"em"),t._uU(65,"Cookie e autorizzazioni sito"),t.qZA(),t._uU(66," > "),t.TgZ(67,"em"),t._uU(68,"Gestisci ed elimina cookie e dati del sito"),t.qZA(),t._uU(69," > "),t.TgZ(70,"em"),t._uU(71,"Blocca cookie di terze parti"),t.qZA()(),t.TgZ(72,"li")(73,"a",15),t._uU(74," Opera "),t.qZA()()(),t.TgZ(75,"p"),t._uU(76," In caso di difficolt\xe0, \xe8 possibile richiedere supporto aprendo una discussione nella "),t.TgZ(77,"a",16),t._uU(78,"sezione dedicata"),t.qZA(),t._uU(79,". "),t.qZA()()),2&p&&(t.xp6(34),t.Q6J("href",M.redirects.forumfree,t.LSH),t.xp6(2),t.Q6J("href",M.redirects.forumcommunity,t.LSH),t.xp6(2),t.Q6J("href",M.redirects.blogfree,t.LSH),t.xp6(39),t.Q6J("href",M.supportLink,t.LSH))},dependencies:[a.z],styles:[".ff-btn[_ngcontent-%COMP%], .fc-btn[_ngcontent-%COMP%], .bf-btn[_ngcontent-%COMP%]{color:#fff;transition:background-color .2s}.ff-btn[_ngcontent-%COMP%]{background-color:#58a72e}.ff-btn[_ngcontent-%COMP%]:hover{background-color:#4d9328}.ff-btn[_ngcontent-%COMP%]:active{background-color:#458224}.fc-btn[_ngcontent-%COMP%]{background-color:#0082cd}.fc-btn[_ngcontent-%COMP%]:hover{background-color:#0072b4}.fc-btn[_ngcontent-%COMP%]:active{background-color:#0065a0}.bf-btn[_ngcontent-%COMP%]{background-color:#e67f22}.bf-btn[_ngcontent-%COMP%]:hover{background-color:#d16f18}.bf-btn[_ngcontent-%COMP%]:active{background-color:#b96315}"]}),R})();var f=z(4601),i=z(4291),s=z(8595),o=z(7357);const l=["app-login-profile",""];function g(C,R){if(1&C&&(t.TgZ(0,"div",4)(1,"div",5),t._UZ(2,"img",6),t.ALo(3,"uploadsreplace"),t._UZ(4,"div",7),t.qZA()()),2&C){const T=t.oxw();t.xp6(2),t.s9C("alt",T.profile.user.nickname+"'s "+T.profile.site.name+" avatar"),t.Q6J("nameDynamicReplace",T.profile.user.nickname)("src",t.lcZ(3,3,T.profile.user.avatar),t.LSH)}}function x(C,R){if(1&C&&(t._UZ(0,"div",8),t.ALo(1,"titlecase")),2&C){const T=t.oxw();t.Q6J("appTippy","Effettua il login con "+t.lcZ(1,2,T.profile.site.name)+"!")("disableOnTouchDevice",!0)}}function O(C,R){if(1&C&&t._UZ(0,"div",9),2&C){const T=t.oxw();t.Q6J("innerHTML",T.profile.user.nickname,t.oJD)}}const v=function(C,R){return{logged:C,"touch-device":R}};let A=(()=>{var C;class R{constructor(p,M){this.loginService=p,this.urlQueryParamsService=M,this.isTouch=ee.eX,this.redirectLink="",this.jwtRedirect=!1}ngOnInit(){if(this.profile.user.id){const p=(0,K.Z)((0,K.Z)({},this.loginService.redirect!==te.B2.HOME?{path:this.loginService.redirect}:{}),this.urlQueryParamsService.getAll());this.redirectLink=`https://script.${this.profile.site.domain}/i/jwt-redirect`,(0,f.nK)(p)||(this.redirectLink+=`?params=${encodeURIComponent(JSON.stringify(p))}`),this.jwtRedirect=!0}else this.redirectLink=`https://accounts.${this.profile.site.domain}/?act=Login`}}return(C=R).\u0275fac=function(p){return new(p||C)(t.Y36(j.r),t.Y36(pe.J))},C.\u0275cmp=t.Xpm({type:C,selectors:[["","app-login-profile",""]],inputs:{profile:"profile"},attrs:l,decls:5,vars:12,consts:[[3,"href","target","ngClass"],["class","avatar rounded-circle",4,"ngIf","ngIfElse"],["loginRedirect",""],["class","name mt-sm-2 ms-sm-0 ms-2 text-center text-truncate fw-bold",3,"innerHTML",4,"ngIf"],[1,"avatar","rounded-circle"],[1,"card-flipper","position-relative","w-100","h-100"],["appImage","",1,"card-front","d-block","rounded-circle","image-cover",3,"nameDynamicReplace","src","alt"],[1,"card-back","w-100","h-100","rounded-circle","d-none","d-lg-block"],[1,"d-block","avatar","rounded-circle",3,"appTippy","disableOnTouchDevice"],[1,"name","mt-sm-2","ms-sm-0","ms-2","text-center","text-truncate","fw-bold",3,"innerHTML"]],template:function(p,M){if(1&p&&(t.TgZ(0,"a",0),t.YNc(1,g,5,5,"div",1),t.YNc(2,x,2,4,"ng-template",null,2,t.W1O),t.YNc(4,O,1,1,"div",3),t.qZA()),2&p){const N=t.MAs(3);t.Gre("user user-",M.profile.site.short," d-flex flex-sm-column align-items-center justify-content-center text-reset"),t.Q6J("href",M.redirectLink,t.LSH)("target",M.jwtRedirect?"_self":"_blank")("ngClass",t.WLB(9,v,M.profile.user.id>0,M.isTouch)),t.xp6(1),t.Q6J("ngIf",M.profile.user.id>0)("ngIfElse",N),t.xp6(3),t.Q6J("ngIf",M.profile.user.id>0)}},dependencies:[V.mk,V.O5,i.t,s.$,V.rS,o.g],styles:[".logged[_ngcontent-%COMP%]{cursor:pointer}.avatar[_ngcontent-%COMP%]{width:75px;height:75px;background-repeat:no-repeat;background-position:50% 50%;background-size:40px}.name[_ngcontent-%COMP%]{width:100px}.user-ff[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{color:#58a72e;background-color:#58a72e}.user-ff[_ngcontent-%COMP%]:not(.logged)   .avatar[_ngcontent-%COMP%]{background-image:url(/assets/icon-ff-50.jpg)}.user-fc[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{color:#0082cd;background-color:#0082cd}.user-fc[_ngcontent-%COMP%]:not(.logged)   .avatar[_ngcontent-%COMP%]{background-image:url(/assets/icon-fc-50.jpg)}.user-bf[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{color:#e67f22;background-color:#e67f22}.user-bf[_ngcontent-%COMP%]:not(.logged)   .avatar[_ngcontent-%COMP%]{background-image:url(/assets/icon-bf-50.jpg)}.user.touch-device.logged[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%]{border:3px solid}.user.touch-device.logged.user-ff[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#58a72e}.user.touch-device.logged.user-fc[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#0082cd}.user.touch-device.logged.user-bf[_ngcontent-%COMP%]   .name[_ngcontent-%COMP%]{color:#e67f22}.user[_ngcontent-%COMP%]:not(.touch-device).logged   .avatar[_ngcontent-%COMP%]{border:2px solid}.user[_ngcontent-%COMP%]:not(.touch-device)   .name[_ngcontent-%COMP%]{transition:color .4s}.user[_ngcontent-%COMP%]:not(.touch-device)   .card-flipper[_ngcontent-%COMP%]{transition:.4s;transform-style:preserve-3d}.user[_ngcontent-%COMP%]:not(.touch-device)   .card-front[_ngcontent-%COMP%], .user[_ngcontent-%COMP%]:not(.touch-device)   .card-back[_ngcontent-%COMP%]{-webkit-backface-visibility:hidden;backface-visibility:hidden;position:absolute;top:0;left:0}.user[_ngcontent-%COMP%]:not(.touch-device)   .card-front[_ngcontent-%COMP%]{z-index:2;transform:rotateY(0)}.user[_ngcontent-%COMP%]:not(.touch-device)   .card-back[_ngcontent-%COMP%]{transform:rotateY(180deg);background-repeat:no-repeat;background-position:50% 50%}.user[_ngcontent-%COMP%]:not(.touch-device).logged:hover   .card-flipper[_ngcontent-%COMP%]{transform:rotateY(180deg)}.user[_ngcontent-%COMP%]:not(.touch-device).user-ff.logged:hover   .name[_ngcontent-%COMP%]{color:#58a72e}.user[_ngcontent-%COMP%]:not(.touch-device).user-ff.logged   .card-back[_ngcontent-%COMP%]{background-color:#58a72e;background-image:url(/assets/icon-ff-50.jpg)}.user[_ngcontent-%COMP%]:not(.touch-device).user-fc.logged:hover   .name[_ngcontent-%COMP%]{color:#0082cd}.user[_ngcontent-%COMP%]:not(.touch-device).user-fc.logged   .card-back[_ngcontent-%COMP%]{background-color:#0082cd;background-image:url(/assets/icon-fc-50.jpg)}.user[_ngcontent-%COMP%]:not(.touch-device).user-bf.logged:hover   .name[_ngcontent-%COMP%]{color:#e67f22}.user[_ngcontent-%COMP%]:not(.touch-device).user-bf.logged   .card-back[_ngcontent-%COMP%]{background-color:#e67f22;background-image:url(/assets/icon-bf-50.jpg)}@media (min-width: 576px){.avatar[_ngcontent-%COMP%]{width:100px;height:100px;background-size:initial}.name[_ngcontent-%COMP%]{width:150px}}"]}),R})();var L=z(149),E=z.n(L),Q=z(4004);const U=["canvas"],Z=["modal"];let q=(()=>{var C;class R{constructor(p,M){this.graphqlService=p,this.loginService=M,this.loginQrEvent=new t.vpe,this.uuid=(0,Q.Z)()}ngAfterViewInit(){const p=new URL(window.location.href);new(E())({width:250,height:250,margin:5,data:`${p.protocol}//${p.host}/settings?qr-login=${this.uuid}`,image:"/assets/easy-innovation-logo.svg",dotsOptions:{color:"#4b579a",type:"rounded"},backgroundOptions:{color:"#ffffff"},imageOptions:{crossOrigin:"anonymous",margin:3}}).append(this.canvas.nativeElement)}open(){this.graphqlService.subscribe({query:"\nsubscription securityLoginQr($listener: String!) {\n    securityLoginQr(listener: $listener) {\n        eventMessage\n        user {\n            host\n            id\n            nickname\n            avatar\n        }\n    }\n}",variables:{listener:this.uuid}},p=>{this.onNext(p)}).then(p=>{this.unsubscribeFunction&&this.unsubscribeFunction(),this.unsubscribeFunction=p}),this.modalComponent.open()}onModalHidden(){this.unsubscribeFunction&&this.unsubscribeFunction()}onNext(p){var M;const N=null===(M=p.data)||void 0===M?void 0:M.securityLoginQr;if(!N)return;const de=this.loginService.createProfileFromJwtResponse({host:N.user.host,user:(0,K.Z)({},N.user)});this.loginQrEvent.emit({refreshToken:N.refreshToken,refreshTokenId:N.refreshTokenId,accessToken:"",profile:de}),this.modalComponent.close()}ngOnDestroy(){this.unsubscribeFunction&&this.unsubscribeFunction()}}return(C=R).\u0275fac=function(p){return new(p||C)(t.Y36(B.Jk),t.Y36(j.r))},C.\u0275cmp=t.Xpm({type:C,selectors:[["app-login-qr-modal"]],viewQuery:function(p,M){if(1&p&&(t.Gf(U,5),t.Gf(Z,5)),2&p){let N;t.iGM(N=t.CRH())&&(M.canvas=N.first),t.iGM(N=t.CRH())&&(M.modalComponent=N.first)}},outputs:{loginQrEvent:"loginQrEvent"},decls:16,vars:1,consts:[["title","Login tramite QR Code",3,"hidden"],["modal",""],[1,"text-center"],["canvas",""]],template:function(p,M){1&p&&(t.TgZ(0,"app-modal",0,1),t.NdJ("hidden",function(){return M.onModalHidden()}),t.TgZ(2,"ol")(3,"li"),t._uU(4,"Apri l'app fotocamera integrata del telefono o tablet."),t.qZA(),t.TgZ(5,"li"),t._uU(6,"Inquadra il QR Code."),t.qZA(),t.TgZ(7,"li"),t._uU(8,"Tocca il banner che compare sul telefono o tablet."),t.qZA(),t.TgZ(9,"li"),t._uU(10,"Segui le istruzioni sullo schermo per terminare l'accesso."),t.qZA()(),t._UZ(11,"div",2,3),t.TgZ(13,"p",2)(14,"small",2),t._uU(15),t.qZA()()()),2&p&&(t.xp6(15),t.hij("Codice di verifica: ",M.uuid,""))},dependencies:[a.z]}),R})();function le(C,R){1&C&&t._UZ(0,"app-loader",14)}const J=function(C,R){return{"mx-sm-auto":C,"mb-4 mb-sm-0":R}};function F(C,R){if(1&C&&t._UZ(0,"li",19),2&C){const T=R.$implicit,M=R.last;t.Q6J("ngClass",t.WLB(2,J,R.first||M,!M))("profile",T)}}function G(C,R){if(1&C){const T=t.EpF();t.TgZ(0,"ul",15),t.YNc(1,F,1,5,"li",16),t.qZA(),t.TgZ(2,"div",17),t._uU(3," Proseguendo accetti i "),t.TgZ(4,"a",18),t.NdJ("click",function(){t.CHM(T);const M=t.oxw(2);return t.KtG(M.openTosModal())}),t._uU(5,"Termini di Servizio"),t.qZA(),t._uU(6),t.qZA()}if(2&C){const T=t.oxw(2);t.xp6(1),t.Q6J("ngForOf",T.profiles),t.xp6(5),t.hij(" di ",T.appName," ")}}function H(C,R){if(1&C&&t._UZ(0,"app-iframe-message-receiver",20),2&C){const T=R.$implicit,p=t.oxw(2);t.Q6J("url",T)("messageSubject",p.profileSubject)}}function X(C,R){if(1&C){const T=t.EpF();t.ynx(0),t.TgZ(1,"div",1)(2,"main",2),t._UZ(3,"div",3),t.TgZ(4,"div",4)(5,"div",5),t.NdJ("click",function(){t.CHM(T);const M=t.MAs(15);return t.KtG(M.open())}),t._uU(6,"qr_code_scanner"),t.qZA(),t.TgZ(7,"div",6),t._uU(8," Scegli l'account Forumfree, Forumcommunity o Blogfree con cui accedere! "),t.qZA(),t.YNc(9,le,1,0,"app-loader",7),t.YNc(10,G,7,2,"ng-template",null,8,t.W1O),t.qZA()(),t._UZ(12,"app-login-modal",null,9),t.TgZ(14,"app-login-qr-modal",10,11),t.NdJ("loginQrEvent",function(M){t.CHM(T);const N=t.oxw();return t.KtG(N.saveProfileTokensEvent(M))}),t.qZA(),t._UZ(16,"app-footer",12),t.qZA(),t.YNc(17,H,1,2,"app-iframe-message-receiver",13),t.BQk()}if(2&C){const T=t.MAs(11),p=t.oxw();t.xp6(1),t.ekj("embedded",p.appEmbedded),t.xp6(8),t.Q6J("ngIf",p.loading)("ngIfElse",T),t.xp6(7),t.Q6J("subscribeToToggleTosModalSubject",!0),t.xp6(1),t.Q6J("ngForOf",p.loginIframeUrls)}}const oe=[{path:"",component:(()=>{var C;class R{constructor(p,M,N,de,ke,fe,Pe,De,Le,Ie,Ze,Ee,Ue){this.router=p,this.loginService=M,this.globalsService=N,this.activatedRoute=de,this.toastService=ke,this.titleCasePipe=fe,this.tosService=Pe,this.urlQueryParamsService=De,this.preferencesService=Le,this.loadingBarService=Ie,this.tokensStorageService=Ze,this.tokensService=Ee,this.destroyRef=Ue,this.loading=!0,this.profiles=[],this.render=!1,this.appName=ee.lW,this.appEmbedded=ee.wS,this.loginIframeUrls=[],this.profileSubject=new _e.x,ee.wS&&this.loadingBarService.useRef("http").disable()}saveProfileTokensEvent(p){var M=this;return(0,ie.Z)(function*(){M.tokensStorageService.refreshToken={value:p.refreshToken,id:p.refreshTokenId},M.tokensStorageService.accessToken=p.accessToken,p.refreshToken||(M.loginService.loggedWithOnlyAccessToken=!0),yield M.setProfileAndNavigate(p.profile)})()}setProfileAndNavigate(p){var M=this;return(0,ie.Z)(function*(){M.globalsService.credentials=p;const N=M.loginService.redirect;M.loginService.redirect=void 0,M.loginService.loggedInCurrentSession=!0,yield M.router.navigateByUrl(N)})()}ngOnInit(){var p=this;return(0,ie.Z)(function*(){const M=p.activatedRoute.snapshot.data[te.RT.PROFILE];yield p.logout(M&&M.success&&M.data&&!M.data.refreshToken);const N=p.urlQueryParamsService.getAndDeleteParam(te.RT.REDIRECT_PATH);if(N&&(p.loginService.redirect=N),M)if(M.success){if(M.data.profile)return void(yield p.saveProfileTokensEvent(M.data));const de=M.data.refreshToken,ke=M.data.accessToken;let fe;if(de){p.tokensStorageService.refreshToken={value:de,id:M.data.refreshTokenId};try{const Pe=yield p.tokensService.generateAccessToken();p.tokensStorageService.accessToken=Pe.token,fe=Pe.info}catch(Pe){}}else ke&&(p.tokensStorageService.accessToken=ke,fe=yield p.loginService.getProfileFromAccessToken(ke),fe||(yield p.invalidateOldSession()));if(fe)return void(yield p.setProfileAndNavigate(p.loginService.createProfileFromJwtResponse({host:fe.host,user:{id:fe.id,avatar:fe.avatar,nickname:fe.nickname,roles:fe.roles}})))}else M.domain&&p.showToast(M.domain);p.showPageContent()})()}showPageContent(){this.render=!0,this.profiles=this.loginService.emptyProfiles,this.profileSubject.pipe((0,ae.sL)(this.destroyRef),(0,xe.q)(3),(0,ge.R)((p,M)=>[...p,M],[]),(0,he.w)(p=>(0,Se.of)(p).pipe((0,Ce.g)(200)))).subscribe(p=>{for(const M of p){if(!M||"error"in M)continue;const N=this.profiles.findIndex(de=>de.host===M.host);N>-1&&!this.profiles[N].user.id&&(this.profiles[N]=this.loginService.createProfileFromJwtResponse({host:M.host,user:(0,K.Z)({},M)}))}this.loading&&(this.loading=!1)}),this.loginIframeUrls=this.loginService.iframeGenerateUrls}logout(p){var M=this;return(0,ie.Z)(function*(){p||(yield M.invalidateOldSession(),M.globalsService.forum=void 0),M.globalsService.credentials=void 0,M.tokensStorageService.accessToken=void 0,M.loginService.loggedWithOnlyAccessToken=!1,M.preferencesService.resetItemsOnProfileChange()})()}invalidateOldSession(){var p=this;return(0,ie.Z)(function*(){p.tokensStorageService.refreshToken&&(yield p.tokensService.invalidateRefreshToken()),p.tokensStorageService.refreshToken=void 0})()}showToast(p){this.toastService.show({content:`Non risulti loggato su ${this.titleCasePipe.transform(p.split(".")[0])}, prova ad effettuare l'accesso dal <a href="https://accounts.${p}/?act=Login" target="_blank">portale dedicato</a> e a ricaricare la pagina!`,level:ue.m.ERROR})}openTosModal(){this.tosService.toggleModal(!0)}}return(C=R).\u0275fac=function(p){return new(p||C)(t.Y36(ve.F0),t.Y36(j.r),t.Y36(I.d),t.Y36(ve.gz),t.Y36(Me.k),t.Y36(V.rS),t.Y36(w.F),t.Y36(pe.J),t.Y36(Y.y),t.Y36(b.dL),t.Y36(B.n5),t.Y36(B.H),t.Y36(t.ktI))},C.\u0275cmp=t.Xpm({type:C,selectors:[["ng-component"]],features:[t._Bn([V.rS])],decls:1,vars:1,consts:[[4,"ngIf"],[1,"wrapper"],[1,"shadow-sm","d-flex","flex-column","mx-auto","mb-5"],["app-login-header","",1,"login-info","text-white","p-4"],[1,"login-form","p-4","bg-white","d-flex","flex-column","justify-content-center","position-relative"],[1,"material-icons-outlined","p-3","position-absolute","cursor-pointer","qr-code-icon",3,"click"],[1,"text-center","mb-4","px-4"],["message","Caricamento profili",4,"ngIf","ngIfElse"],["profileList",""],["loginModal",""],[3,"loginQrEvent"],["loginQrModal",""],[3,"subscribeToToggleTosModalSubject"],[3,"url","messageSubject",4,"ngFor","ngForOf"],["message","Caricamento profili"],[1,"user-list","list-unstyled","d-flex","flex-column","flex-sm-row","mb-0"],["app-login-profile","",3,"ngClass","profile",4,"ngFor","ngForOf"],[1,"text-center","small","text-muted","mt-3"],["role","button",1,"tos-modal-btn",3,"click"],["app-login-profile","",3,"ngClass","profile"],[3,"url","messageSubject"]],template:function(p,M){1&p&&t.YNc(0,X,18,6,"ng-container",0),2&p&&t.Q6J("ngIf",M.render)},dependencies:[V.mk,V.sg,V.O5,y.c,ne,h.R,n,c,A,q],styles:["[_nghost-%COMP%]{display:flex;min-height:100vh}.wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex-basis:100%;background-image:url(/assets/back-pattern.png)}.wrapper.embedded[_ngcontent-%COMP%]{display:none}main[_ngcontent-%COMP%]{max-width:992px}.login-info[_ngcontent-%COMP%]{background-color:#4b579a}.login-form[_ngcontent-%COMP%]{min-height:228px}.alert.alert-primary[_ngcontent-%COMP%]{margin-bottom:2rem}.qr-code-icon[_ngcontent-%COMP%]{right:0;top:0}@media (min-width: 768px){main[_ngcontent-%COMP%]{margin-top:5rem}}@media (min-width: 768px){.login-info[_ngcontent-%COMP%]{border-top-left-radius:.25rem;border-top-right-radius:.25rem}.login-form[_ngcontent-%COMP%]{border-bottom-right-radius:.25rem;border-bottom-left-radius:.25rem}}"]}),R})()}];let se=(()=>{var C;class R{}return(C=R).\u0275fac=function(p){return new(p||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({imports:[ve.Bz.forChild(oe),ve.Bz]}),R})();var ye=z(2740),Te=z(4610),be=z(3038),Oe=z(5063);let ze=(()=>{var C;class R{}return(C=R).\u0275fac=function(p){return new(p||C)},C.\u0275mod=t.oAB({type:C}),C.\u0275inj=t.cJS({providers:[{provide:Window,useValue:window}],imports:[V.ez,W._,ce,me.$,$.q,se,ye.h,Te.z,be.G,Oe.g]}),R})()},149:Ae=>{self,Ae.exports=(()=>{var we={192:(W,t)=>{var ce,me,$=function(){var K=function(w,b){var y=w,m=j[b],d=null,_=0,k=null,S=[],P={},ne=function(i,s){d=function(o){for(var l=new Array(o),g=0;g<o;g+=1){l[g]=new Array(o);for(var x=0;x<o;x+=1)l[g][x]=null}return l}(_=4*y+17),h(0,0),h(_-7,0),h(0,_-7),r(),e(),a(i,s),y>=7&&n(i),null==k&&(k=c(y,m,S)),u(k,s)},h=function(i,s){for(var o=-1;o<=7;o+=1)if(!(i+o<=-1||_<=i+o))for(var l=-1;l<=7;l+=1)s+l<=-1||_<=s+l||(d[i+o][s+l]=0<=o&&o<=6&&(0==l||6==l)||0<=l&&l<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=l&&l<=4)},e=function(){for(var i=8;i<_-8;i+=1)null==d[i][6]&&(d[i][6]=i%2==0);for(var s=8;s<_-8;s+=1)null==d[6][s]&&(d[6][s]=s%2==0)},r=function(){for(var i=Y.getPatternPosition(y),s=0;s<i.length;s+=1)for(var o=0;o<i.length;o+=1){var l=i[s],g=i[o];if(null==d[l][g])for(var x=-2;x<=2;x+=1)for(var O=-2;O<=2;O+=1)d[l+x][g+O]=-2==x||2==x||-2==O||2==O||0==x&&0==O}},n=function(i){for(var s=Y.getBCHTypeNumber(y),o=0;o<18;o+=1){var l=!i&&1==(s>>o&1);d[Math.floor(o/3)][o%3+_-8-3]=l}for(o=0;o<18;o+=1)l=!i&&1==(s>>o&1),d[o%3+_-8-3][Math.floor(o/3)]=l},a=function(i,s){for(var l=Y.getBCHTypeInfo(m<<3|s),g=0;g<15;g+=1){var x=!i&&1==(l>>g&1);g<6?d[g][8]=x:g<8?d[g+1][8]=x:d[_-15+g][8]=x}for(g=0;g<15;g+=1)x=!i&&1==(l>>g&1),g<8?d[8][_-g-1]=x:g<9?d[8][15-g-1+1]=x:d[8][15-g-1]=x;d[_-8][8]=!i},u=function(i,s){for(var o=-1,l=_-1,g=7,x=0,O=Y.getMaskFunction(s),v=_-1;v>0;v-=2)for(6==v&&(v-=1);;){for(var A=0;A<2;A+=1)if(null==d[l][v-A]){var L=!1;x<i.length&&(L=1==(i[x]>>>g&1)),O(l,v-A)&&(L=!L),d[l][v-A]=L,-1==(g-=1)&&(x+=1,g=7)}if((l+=o)<0||_<=l){l-=o,o=-o;break}}},c=function(i,s,o){for(var l=Me.getRSBlocks(i,s),g=pe(),x=0;x<o.length;x+=1){var O=o[x];g.put(O.getMode(),4),g.put(O.getLength(),Y.getLengthInBits(O.getMode(),i)),O.write(g)}var v=0;for(x=0;x<l.length;x+=1)v+=l[x].dataCount;if(g.getLengthInBits()>8*v)throw"code length overflow. ("+g.getLengthInBits()+">"+8*v+")";for(g.getLengthInBits()+4<=8*v&&g.put(0,4);g.getLengthInBits()%8!=0;)g.putBit(!1);for(;!(g.getLengthInBits()>=8*v||(g.put(236,8),g.getLengthInBits()>=8*v));)g.put(17,8);return function(A,L){for(var E=0,Q=0,D=0,U=new Array(L.length),Z=new Array(L.length),q=0;q<L.length;q+=1){var le=L[q].dataCount,J=L[q].totalCount-le;Q=Math.max(Q,le),D=Math.max(D,J),U[q]=new Array(le);for(var F=0;F<U[q].length;F+=1)U[q][F]=255&A.getBuffer()[F+E];E+=le;var G=Y.getErrorCorrectPolynomial(J),H=ae(U[q],G.getLength()-1).mod(G);for(Z[q]=new Array(G.getLength()-1),F=0;F<Z[q].length;F+=1){var X=F+H.getLength()-Z[q].length;Z[q][F]=X>=0?H.getAt(X):0}}var re=0;for(F=0;F<L.length;F+=1)re+=L[F].totalCount;var oe=new Array(re),se=0;for(F=0;F<Q;F+=1)for(q=0;q<L.length;q+=1)F<U[q].length&&(oe[se]=U[q][F],se+=1);for(F=0;F<D;F+=1)for(q=0;q<L.length;q+=1)F<Z[q].length&&(oe[se]=Z[q][F],se+=1);return oe}(g,l)};P.addData=function(i,s){var o=null;switch(s=s||"Byte"){case"Numeric":o=_e(i);break;case"Alphanumeric":o=xe(i);break;case"Byte":o=ge(i);break;case"Kanji":o=he(i);break;default:throw"mode:"+s}S.push(o),k=null},P.isDark=function(i,s){if(i<0||_<=i||s<0||_<=s)throw i+","+s;return d[i][s]},P.getModuleCount=function(){return _},P.make=function(){if(y<1){for(var i=1;i<40;i++){for(var s=Me.getRSBlocks(i,m),o=pe(),l=0;l<S.length;l++){var g=S[l];o.put(g.getMode(),4),o.put(g.getLength(),Y.getLengthInBits(g.getMode(),i)),g.write(o)}var x=0;for(l=0;l<s.length;l++)x+=s[l].dataCount;if(o.getLengthInBits()<=8*x)break}y=i}ne(!1,function(){for(var O=0,v=0,A=0;A<8;A+=1){ne(!0,A);var L=Y.getLostPoint(P);(0==A||O>L)&&(O=L,v=A)}return v}())},P.createTableTag=function(i,s){i=i||2;var o="";o+='<table style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: "+(s=void 0===s?4*i:s)+"px;",o+='">',o+="<tbody>";for(var l=0;l<P.getModuleCount();l+=1){o+="<tr>";for(var g=0;g<P.getModuleCount();g+=1)o+='<td style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: 0px;",o+=" width: "+i+"px;",o+=" height: "+i+"px;",o+=" background-color: ",o+=P.isDark(l,g)?"#000000":"#ffffff",o+=";",o+='"/>';o+="</tr>"}return(o+="</tbody>")+"</table>"},P.createSvgTag=function(i,s,o,l){var g={};"object"==typeof arguments[0]&&(i=(g=arguments[0]).cellSize,s=g.margin,o=g.alt,l=g.title),i=i||2,s=void 0===s?4*i:s,(o="string"==typeof o?{text:o}:o||{}).text=o.text||null,o.id=o.text?o.id||"qrcode-description":null,(l="string"==typeof l?{text:l}:l||{}).text=l.text||null,l.id=l.text?l.id||"qrcode-title":null;var x,O,v,A,L=P.getModuleCount()*i+2*s,E="";for(A="l"+i+",0 0,"+i+" -"+i+",0 0,-"+i+"z ",E+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',E+=g.scalable?"":' width="'+L+'px" height="'+L+'px"',E+=' viewBox="0 0 '+L+" "+L+'" ',E+=' preserveAspectRatio="xMinYMin meet"',E+=l.text||o.text?' role="img" aria-labelledby="'+f([l.id,o.id].join(" ").trim())+'"':"",E+=">",E+=l.text?'<title id="'+f(l.id)+'">'+f(l.text)+"</title>":"",E+=o.text?'<description id="'+f(o.id)+'">'+f(o.text)+"</description>":"",E+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',E+='<path d="',O=0;O<P.getModuleCount();O+=1)for(v=O*i+s,x=0;x<P.getModuleCount();x+=1)P.isDark(O,x)&&(E+="M"+(x*i+s)+","+v+A);return(E+='" stroke="transparent" fill="black"/>')+"</svg>"},P.createDataURL=function(i,s){i=i||2,s=void 0===s?4*i:s;var o=P.getModuleCount()*i+2*s,l=s,g=o-s;return ve(o,o,function(x,O){if(l<=x&&x<g&&l<=O&&O<g){var v=Math.floor((x-l)/i),A=Math.floor((O-l)/i);return P.isDark(A,v)?0:1}return 1})},P.createImgTag=function(i,s,o){i=i||2,s=void 0===s?4*i:s;var l=P.getModuleCount()*i+2*s,g="";return g+="<img",g+=' src="',g+=P.createDataURL(i,s),g+='"',g+=' width="',g+=l,g+='"',g+=' height="',g+=l,g+='"',o&&(g+=' alt="',g+=f(o),g+='"'),g+"/>"};var f=function(i){for(var s="",o=0;o<i.length;o+=1){var l=i.charAt(o);switch(l){case"<":s+="&lt;";break;case">":s+="&gt;";break;case"&":s+="&amp;";break;case'"':s+="&quot;";break;default:s+=l}}return s};return P.createASCII=function(i,s){if((i=i||1)<2)return function(U){U=void 0===U?2:U;var Z,q,le,J,F,G=1*P.getModuleCount()+2*U,H=U,X=G-U,re={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},oe={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},se="";for(Z=0;Z<G;Z+=2){for(le=Math.floor((Z-H)/1),J=Math.floor((Z+1-H)/1),q=0;q<G;q+=1)F="\u2588",H<=q&&q<X&&H<=Z&&Z<X&&P.isDark(le,Math.floor((q-H)/1))&&(F=" "),H<=q&&q<X&&H<=Z+1&&Z+1<X&&P.isDark(J,Math.floor((q-H)/1))?F+=" ":F+="\u2588",se+=U<1&&Z+1>=X?oe[F]:re[F];se+="\n"}return G%2&&U>0?se.substring(0,se.length-G-1)+Array(G+1).join("\u2580"):se.substring(0,se.length-1)}(s);i-=1,s=void 0===s?2*i:s;var o,l,g,x,O=P.getModuleCount()*i+2*s,v=s,A=O-s,L=Array(i+1).join("\u2588\u2588"),E=Array(i+1).join("  "),Q="",D="";for(o=0;o<O;o+=1){for(g=Math.floor((o-v)/i),D="",l=0;l<O;l+=1)x=1,v<=l&&l<A&&v<=o&&o<A&&P.isDark(g,Math.floor((l-v)/i))&&(x=0),D+=x?L:E;for(g=0;g<i;g+=1)Q+=D+"\n"}return Q.substring(0,Q.length-1)},P.renderTo2dContext=function(i,s){s=s||2;for(var o=P.getModuleCount(),l=0;l<o;l++)for(var g=0;g<o;g++)i.fillStyle=P.isDark(l,g)?"black":"white",i.fillRect(l*s,g*s,s,s)},P};K.stringToBytes=(K.stringToBytesFuncs={default:function(w){for(var b=[],y=0;y<w.length;y+=1){var m=w.charCodeAt(y);b.push(255&m)}return b}}).default,K.createStringToBytes=function(w,b){var y=function(){for(var d=Ce(w),_=function(){var e=d.read();if(-1==e)throw"eof";return e},k=0,S={};;){var P=d.read();if(-1==P)break;var ne=_(),h=_()<<8|_();S[String.fromCharCode(P<<8|ne)]=h,k+=1}if(k!=b)throw k+" != "+b;return S}(),m="?".charCodeAt(0);return function(d){for(var _=[],k=0;k<d.length;k+=1){var S=d.charCodeAt(k);if(S<128)_.push(S);else{var P=y[d.charAt(k)];"number"==typeof P?(255&P)==P?_.push(P):(_.push(P>>>8),_.push(255&P)):_.push(m)}}return _}};var ie,B,I,j={L:1,M:0,Q:3,H:2},Y=(ie=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],1335,7973,I=function(w){for(var b=0;0!=w;)b+=1,w>>>=1;return b},(B={}).getBCHTypeInfo=function(w){for(var b=w<<10;I(b)-I(1335)>=0;)b^=1335<<I(b)-I(1335);return 21522^(w<<10|b)},B.getBCHTypeNumber=function(w){for(var b=w<<12;I(b)-I(7973)>=0;)b^=7973<<I(b)-I(7973);return w<<12|b},B.getPatternPosition=function(w){return ie[w-1]},B.getMaskFunction=function(w){switch(w){case 0:return function(b,y){return(b+y)%2==0};case 1:return function(b,y){return b%2==0};case 2:return function(b,y){return y%3==0};case 3:return function(b,y){return(b+y)%3==0};case 4:return function(b,y){return(Math.floor(b/2)+Math.floor(y/3))%2==0};case 5:return function(b,y){return b*y%2+b*y%3==0};case 6:return function(b,y){return(b*y%2+b*y%3)%2==0};case 7:return function(b,y){return(b*y%3+(b+y)%2)%2==0};default:throw"bad maskPattern:"+w}},B.getErrorCorrectPolynomial=function(w){for(var b=ae([1],0),y=0;y<w;y+=1)b=b.multiply(ae([1,te.gexp(y)],0));return b},B.getLengthInBits=function(w,b){if(1<=b&&b<10)switch(w){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+w}else if(b<27)switch(w){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+w}else{if(!(b<41))throw"type:"+b;switch(w){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+w}}},B.getLostPoint=function(w){for(var b=w.getModuleCount(),y=0,m=0;m<b;m+=1)for(var d=0;d<b;d+=1){for(var _=0,k=w.isDark(m,d),S=-1;S<=1;S+=1)if(!(m+S<0||b<=m+S))for(var P=-1;P<=1;P+=1)d+P<0||b<=d+P||0==S&&0==P||k==w.isDark(m+S,d+P)&&(_+=1);_>5&&(y+=3+_-5)}for(m=0;m<b-1;m+=1)for(d=0;d<b-1;d+=1){var ne=0;w.isDark(m,d)&&(ne+=1),w.isDark(m+1,d)&&(ne+=1),w.isDark(m,d+1)&&(ne+=1),w.isDark(m+1,d+1)&&(ne+=1),0!=ne&&4!=ne||(y+=3)}for(m=0;m<b;m+=1)for(d=0;d<b-6;d+=1)w.isDark(m,d)&&!w.isDark(m,d+1)&&w.isDark(m,d+2)&&w.isDark(m,d+3)&&w.isDark(m,d+4)&&!w.isDark(m,d+5)&&w.isDark(m,d+6)&&(y+=40);for(d=0;d<b;d+=1)for(m=0;m<b-6;m+=1)w.isDark(m,d)&&!w.isDark(m+1,d)&&w.isDark(m+2,d)&&w.isDark(m+3,d)&&w.isDark(m+4,d)&&!w.isDark(m+5,d)&&w.isDark(m+6,d)&&(y+=40);var h=0;for(d=0;d<b;d+=1)for(m=0;m<b;m+=1)w.isDark(m,d)&&(h+=1);return y+Math.abs(100*h/b/b-50)/5*10},B),te=function(){for(var w=new Array(256),b=new Array(256),y=0;y<8;y+=1)w[y]=1<<y;for(y=8;y<256;y+=1)w[y]=w[y-4]^w[y-5]^w[y-6]^w[y-8];for(y=0;y<255;y+=1)b[w[y]]=y;return{glog:function(m){if(m<1)throw"glog("+m+")";return b[m]},gexp:function(m){for(;m<0;)m+=255;for(;m>=256;)m-=255;return w[m]}}}();function ae(w,b){if(void 0===w.length)throw w.length+"/"+b;var y=function(){for(var d=0;d<w.length&&0==w[d];)d+=1;for(var _=new Array(w.length-d+b),k=0;k<w.length-d;k+=1)_[k]=w[k+d];return _}(),m={getAt:function(d){return y[d]},getLength:function(){return y.length},multiply:function(d){for(var _=new Array(m.getLength()+d.getLength()-1),k=0;k<m.getLength();k+=1)for(var S=0;S<d.getLength();S+=1)_[k+S]^=te.gexp(te.glog(m.getAt(k))+te.glog(d.getAt(S)));return ae(_,0)},mod:function(d){if(m.getLength()-d.getLength()<0)return m;for(var _=te.glog(m.getAt(0))-te.glog(d.getAt(0)),k=new Array(m.getLength()),S=0;S<m.getLength();S+=1)k[S]=m.getAt(S);for(S=0;S<d.getLength();S+=1)k[S]^=te.gexp(te.glog(d.getAt(S))+_);return ae(k,0).mod(d)}};return m}var w,b,Me=(w=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],b=function(m,d){var _={};return _.totalCount=m,_.dataCount=d,_},{getRSBlocks:function(m,d){var _=function(n,a){switch(a){case j.L:return w[4*(n-1)+0];case j.M:return w[4*(n-1)+1];case j.Q:return w[4*(n-1)+2];case j.H:return w[4*(n-1)+3];default:return}}(m,d);if(void 0===_)throw"bad rs block @ typeNumber:"+m+"/errorCorrectionLevel:"+d;for(var k=_.length/3,S=[],P=0;P<k;P+=1)for(var ne=_[3*P+0],h=_[3*P+1],e=_[3*P+2],r=0;r<ne;r+=1)S.push(b(h,e));return S}}),pe=function(){var w=[],b=0,y={getBuffer:function(){return w},getAt:function(m){var d=Math.floor(m/8);return 1==(w[d]>>>7-m%8&1)},put:function(m,d){for(var _=0;_<d;_+=1)y.putBit(1==(m>>>d-_-1&1))},getLengthInBits:function(){return b},putBit:function(m){var d=Math.floor(b/8);w.length<=d&&w.push(0),m&&(w[d]|=128>>>b%8),b+=1}};return y},_e=function(w){var b=w,y={getMode:function(){return 1},getLength:function(_){return b.length},write:function(_){for(var k=b,S=0;S+2<k.length;)_.put(m(k.substring(S,S+3)),10),S+=3;S<k.length&&(k.length-S==1?_.put(m(k.substring(S,S+1)),4):k.length-S==2&&_.put(m(k.substring(S,S+2)),7))}},m=function(_){for(var k=0,S=0;S<_.length;S+=1)k=10*k+d(_.charAt(S));return k},d=function(_){if("0"<=_&&_<="9")return _.charCodeAt(0)-"0".charCodeAt(0);throw"illegal char :"+_};return y},xe=function(w){var b=w,y={getMode:function(){return 2},getLength:function(d){return b.length},write:function(d){for(var _=b,k=0;k+1<_.length;)d.put(45*m(_.charAt(k))+m(_.charAt(k+1)),11),k+=2;k<_.length&&d.put(m(_.charAt(k)),6)}},m=function(d){if("0"<=d&&d<="9")return d.charCodeAt(0)-"0".charCodeAt(0);if("A"<=d&&d<="Z")return d.charCodeAt(0)-"A".charCodeAt(0)+10;switch(d){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+d}};return y},ge=function(w){var b=K.stringToBytes(w);return{getMode:function(){return 4},getLength:function(y){return b.length},write:function(y){for(var m=0;m<b.length;m+=1)y.put(b[m],8)}}},he=function(w){var b=K.stringToBytesFuncs.SJIS;if(!b)throw"sjis not supported.";!function(m,d){var _=b("\u53cb");if(2!=_.length||38726!=(_[0]<<8|_[1]))throw"sjis not supported."}();var y=b(w);return{getMode:function(){return 8},getLength:function(m){return~~(y.length/2)},write:function(m){for(var d=y,_=0;_+1<d.length;){var k=(255&d[_])<<8|255&d[_+1];if(33088<=k&&k<=40956)k-=33088;else{if(!(57408<=k&&k<=60351))throw"illegal char at "+(_+1)+"/"+k;k-=49472}m.put(k=192*(k>>>8&255)+(255&k),13),_+=2}if(_<d.length)throw"illegal char at "+(_+1)}}},Se=function(){var w=[],b={writeByte:function(y){w.push(255&y)},writeShort:function(y){b.writeByte(y),b.writeByte(y>>>8)},writeBytes:function(y,m,d){m=m||0,d=d||y.length;for(var _=0;_<d;_+=1)b.writeByte(y[_+m])},writeString:function(y){for(var m=0;m<y.length;m+=1)b.writeByte(y.charCodeAt(m))},toByteArray:function(){return w},toString:function(){var y="";y+="[";for(var m=0;m<w.length;m+=1)m>0&&(y+=","),y+=w[m];return y+"]"}};return b},Ce=function(w){var b=w,y=0,m=0,d=0,_={read:function(){for(;d<8;){if(y>=b.length){if(0==d)return-1;throw"unexpected end of file./"+d}var S=b.charAt(y);if(y+=1,"="==S)return d=0,-1;S.match(/^\s$/)||(m=m<<6|k(S.charCodeAt(0)),d+=6)}var P=m>>>d-8&255;return d-=8,P}},k=function(S){if(65<=S&&S<=90)return S-65;if(97<=S&&S<=122)return S-97+26;if(48<=S&&S<=57)return S-48+52;if(43==S)return 62;if(47==S)return 63;throw"c:"+S};return _},ve=function(w,b,y){for(var m=function(h,e){var r=h,n=e,a=new Array(h*e),u={setPixel:function(i,s,o){a[s*r+i]=o},write:function(i){i.writeString("GIF87a"),i.writeShort(r),i.writeShort(n),i.writeByte(128),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(255),i.writeByte(255),i.writeByte(255),i.writeString(","),i.writeShort(0),i.writeShort(0),i.writeShort(r),i.writeShort(n),i.writeByte(0);var s=c(2);i.writeByte(2);for(var o=0;s.length-o>255;)i.writeByte(255),i.writeBytes(s,o,255),o+=255;i.writeByte(s.length-o),i.writeBytes(s,o,s.length-o),i.writeByte(0),i.writeString(";")}},c=function(i){for(var s=1<<i,o=1+(1<<i),l=i+1,g=f(),x=0;x<s;x+=1)g.add(String.fromCharCode(x));g.add(String.fromCharCode(s)),g.add(String.fromCharCode(o));var O,v,A,L=Se(),E=(O=L,v=0,A=0,{write:function(Z,q){if(Z>>>q)throw"length over";for(;v+q>=8;)O.writeByte(255&(Z<<v|A)),q-=8-v,Z>>>=8-v,A=0,v=0;A|=Z<<v,v+=q},flush:function(){v>0&&O.writeByte(A)}});E.write(s,l);var Q=0,D=String.fromCharCode(a[Q]);for(Q+=1;Q<a.length;){var U=String.fromCharCode(a[Q]);Q+=1,g.contains(D+U)?D+=U:(E.write(g.indexOf(D),l),g.size()<4095&&(g.size()==1<<l&&(l+=1),g.add(D+U)),D=U)}return E.write(g.indexOf(D),l),E.write(o,l),E.flush(),L.toByteArray()},f=function(){var i={},s=0,o={add:function(l){if(o.contains(l))throw"dup key:"+l;i[l]=s,s+=1},size:function(){return s},indexOf:function(l){return i[l]},contains:function(l){return void 0!==i[l]}};return o};return u}(w,b),d=0;d<b;d+=1)for(var _=0;_<w;_+=1)m.setPixel(_,d,y(_,d));var k=Se();m.write(k);for(var S=function(){var h=0,e=0,r=0,n="",a={},u=function(f){n+=String.fromCharCode(c(63&f))},c=function(f){if(!(f<0)){if(f<26)return 65+f;if(f<52)return f-26+97;if(f<62)return f-52+48;if(62==f)return 43;if(63==f)return 47}throw"n:"+f};return a.writeByte=function(f){for(h=h<<8|255&f,e+=8,r+=1;e>=6;)u(h>>>e-6),e-=6},a.flush=function(){if(e>0&&(u(h<<6-e),h=0,e=0),r%3!=0)for(var f=3-r%3,i=0;i<f;i+=1)n+="="},a.toString=function(){return n},a}(),P=k.toByteArray(),ne=0;ne<P.length;ne+=1)S.writeByte(P[ne]);return S.flush(),"data:image/gif;base64,"+S};return K}();$.stringToBytesFuncs["UTF-8"]=function(K){return function(ie){for(var ue=[],ee=0;ee<ie.length;ee++){var B=ie.charCodeAt(ee);B<128?ue.push(B):B<2048?ue.push(192|B>>6,128|63&B):B<55296||B>=57344?ue.push(224|B>>12,128|B>>6&63,128|63&B):(ee++,B=65536+((1023&B)<<10|1023&ie.charCodeAt(ee)),ue.push(240|B>>18,128|B>>12&63,128|B>>6&63,128|63&B))}return ue}(K)},void 0===(me="function"==typeof(ce=function(){return $})?ce.apply(t,[]):ce)||(W.exports=me)},676:(W,t,ce)=>{"use strict";ce.d(t,{default:()=>ne});var me=function(){return(me=Object.assign||function(h){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(h[a]=e[a]);return h}).apply(this,arguments)},K=function(h){return!!h&&"object"==typeof h&&!Array.isArray(h)};function ie(h){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(!e.length)return h;var n=e.shift();return void 0!==n&&K(h)&&K(n)?(h=me({},h),Object.keys(n).forEach(function(a){var u=h[a],c=n[a];h[a]=Array.isArray(u)&&Array.isArray(c)?c:K(u)&&K(c)?ie(Object.assign({},u),c):c}),ie.apply(void 0,function(){for(var h=0,e=0,r=arguments.length;e<r;e++)h+=arguments[e].length;var n=Array(h),a=0;for(e=0;e<r;e++)for(var u=arguments[e],c=0,f=u.length;c<f;c++,a++)n[a]=u[c];return n}([h],e))):h}function ue(h,e){var r=document.createElement("a");r.download=e,r.href=h,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function ee(h){return e=this,void 0,a=function(){return function(u,c){var f,i,s,o,l={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:g(0),throw:g(1),return:g(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function g(x){return function(O){return function(v){if(f)throw new TypeError("Generator is already executing.");for(;l;)try{if(f=1,i&&(s=2&v[0]?i.return:v[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,v[1])).done)return s;switch(i=0,s&&(v=[2&v[0],s.value]),v[0]){case 0:case 1:s=v;break;case 4:return l.label++,{value:v[1],done:!1};case 5:l.label++,i=v[1],v=[0];continue;case 7:v=l.ops.pop(),l.trys.pop();continue;default:if(!((s=(s=l.trys).length>0&&s[s.length-1])||6!==v[0]&&2!==v[0])){l=0;continue}if(3===v[0]&&(!s||v[1]>s[0]&&v[1]<s[3])){l.label=v[1];break}if(6===v[0]&&l.label<s[1]){l.label=s[1],s=v;break}if(s&&l.label<s[2]){l.label=s[2],l.ops.push(v);break}s[2]&&l.ops.pop(),l.trys.pop();continue}v=c.call(u,l)}catch(A){v=[6,A],i=0}finally{f=s=0}if(5&v[0])throw v[1];return{value:v[0]?v[1]:void 0,done:!0}}([x,O])}}}(this,function(u){return[2,new Promise(function(c){var f=new XMLHttpRequest;f.onload=function(){var i=new FileReader;i.onloadend=function(){c(i.result)},i.readAsDataURL(f.response)},f.open("GET",h),f.responseType="blob",f.send()})]})},new((n=void 0)||(n=Promise))(function(u,c){function f(o){try{s(a.next(o))}catch(l){c(l)}}function i(o){try{s(a.throw(o))}catch(l){c(l)}}function s(o){var l;o.done?u(o.value):(l=o.value,l instanceof n?l:new n(function(g){g(l)})).then(f,i)}s((a=a.apply(e,[])).next())});var e,n,a}const B={L:.07,M:.15,Q:.25,H:.3};var I=function(){return(I=Object.assign||function(h){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(h[a]=e[a]);return h}).apply(this,arguments)};const j=function(){function h(e){var n=e.type;this._svg=e.svg,this._type=n}return h.prototype.draw=function(e,r,n,a){var u;switch(this._type){case"dots":u=this._drawDot;break;case"classy":u=this._drawClassy;break;case"classy-rounded":u=this._drawClassyRounded;break;case"rounded":u=this._drawRounded;break;case"extra-rounded":u=this._drawExtraRounded;break;default:u=this._drawSquare}u.call(this,{x:e,y:r,size:n,getNeighbor:a})},h.prototype._rotateFigure=function(e){var r,u=e.size,c=e.rotation,f=void 0===c?0:c,i=e.x+u/2,s=e.y+u/2;(0,e.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*f/Math.PI+","+i+","+s+")")},h.prototype._basicDot=function(e){var r=this,n=e.size,a=e.x,u=e.y;this._rotateFigure(I(I({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),r._element.setAttribute("cx",String(a+n/2)),r._element.setAttribute("cy",String(u+n/2)),r._element.setAttribute("r",String(n/2))}}))},h.prototype._basicSquare=function(e){var r=this,n=e.size,a=e.x,u=e.y;this._rotateFigure(I(I({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),r._element.setAttribute("x",String(a)),r._element.setAttribute("y",String(u)),r._element.setAttribute("width",String(n)),r._element.setAttribute("height",String(n))}}))},h.prototype._basicSideRounded=function(e){var r=this,n=e.size,a=e.x,u=e.y;this._rotateFigure(I(I({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n/2+"a "+n/2+" "+n/2+", 0, 0, 0, 0 "+-n)}}))},h.prototype._basicCornerRounded=function(e){var r=this,n=e.size,a=e.x,u=e.y;this._rotateFigure(I(I({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"v "+-n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+-n/2+" "+-n/2)}}))},h.prototype._basicCornerExtraRounded=function(e){var r=this,n=e.size,a=e.x,u=e.y;this._rotateFigure(I(I({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"a "+n+" "+n+", 0, 0, 0, "+-n+" "+-n)}}))},h.prototype._basicCornersRounded=function(e){var r=this,n=e.size,a=e.x,u=e.y;this._rotateFigure(I(I({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+n/2+" "+n/2+"h "+n/2+"v "+-n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+-n/2+" "+-n/2)}}))},h.prototype._drawDot=function(e){this._basicDot({x:e.x,y:e.y,size:e.size,rotation:0})},h.prototype._drawSquare=function(e){this._basicSquare({x:e.x,y:e.y,size:e.size,rotation:0})},h.prototype._drawRounded=function(e){var r=e.x,n=e.y,a=e.size,u=e.getNeighbor,c=u?+u(-1,0):0,f=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0,o=c+f+i+s;if(0!==o)if(o>2||c&&f||i&&s)this._basicSquare({x:r,y:n,size:a,rotation:0});else{if(2===o){var l=0;return c&&i?l=Math.PI/2:i&&f?l=Math.PI:f&&s&&(l=-Math.PI/2),void this._basicCornerRounded({x:r,y:n,size:a,rotation:l})}if(1===o)return l=0,i?l=Math.PI/2:f?l=Math.PI:s&&(l=-Math.PI/2),void this._basicSideRounded({x:r,y:n,size:a,rotation:l})}else this._basicDot({x:r,y:n,size:a,rotation:0})},h.prototype._drawExtraRounded=function(e){var r=e.x,n=e.y,a=e.size,u=e.getNeighbor,c=u?+u(-1,0):0,f=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0,o=c+f+i+s;if(0!==o)if(o>2||c&&f||i&&s)this._basicSquare({x:r,y:n,size:a,rotation:0});else{if(2===o){var l=0;return c&&i?l=Math.PI/2:i&&f?l=Math.PI:f&&s&&(l=-Math.PI/2),void this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:l})}if(1===o)return l=0,i?l=Math.PI/2:f?l=Math.PI:s&&(l=-Math.PI/2),void this._basicSideRounded({x:r,y:n,size:a,rotation:l})}else this._basicDot({x:r,y:n,size:a,rotation:0})},h.prototype._drawClassy=function(e){var r=e.x,n=e.y,a=e.size,u=e.getNeighbor,c=u?+u(-1,0):0,f=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0;c+f+i+s!==0?c||i?f||s?this._basicSquare({x:r,y:n,size:a,rotation:0}):this._basicCornerRounded({x:r,y:n,size:a,rotation:Math.PI/2}):this._basicCornerRounded({x:r,y:n,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:n,size:a,rotation:Math.PI/2})},h.prototype._drawClassyRounded=function(e){var r=e.x,n=e.y,a=e.size,u=e.getNeighbor,c=u?+u(-1,0):0,f=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0;c+f+i+s!==0?c||i?f||s?this._basicSquare({x:r,y:n,size:a,rotation:0}):this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:n,size:a,rotation:Math.PI/2})},h}();var Y=function(){return(Y=Object.assign||function(h){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(h[a]=e[a]);return h}).apply(this,arguments)};const te=function(){function h(e){var n=e.type;this._svg=e.svg,this._type=n}return h.prototype.draw=function(e,r,n,a){var u;switch(this._type){case"square":u=this._drawSquare;break;case"extra-rounded":u=this._drawExtraRounded;break;default:u=this._drawDot}u.call(this,{x:e,y:r,size:n,rotation:a})},h.prototype._rotateFigure=function(e){var r,u=e.size,c=e.rotation,f=void 0===c?0:c,i=e.x+u/2,s=e.y+u/2;(0,e.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*f/Math.PI+","+i+","+s+")")},h.prototype._basicDot=function(e){var r=this,n=e.size,a=e.x,u=e.y,c=n/7;this._rotateFigure(Y(Y({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+(a+n/2)+" "+u+"a "+n/2+" "+n/2+" 0 1 0 0.1 0zm 0 "+c+"a "+(n/2-c)+" "+(n/2-c)+" 0 1 1 -0.1 0Z")}}))},h.prototype._basicSquare=function(e){var r=this,n=e.size,a=e.x,u=e.y,c=n/7;this._rotateFigure(Y(Y({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"v "+-n+"zM "+(a+c)+" "+(u+c)+"h "+(n-2*c)+"v "+(n-2*c)+"h "+(2*c-n)+"z")}}))},h.prototype._basicExtraRounded=function(e){var r=this,a=e.x,u=e.y,c=e.size/7;this._rotateFigure(Y(Y({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+a+" "+(u+2.5*c)+"v "+2*c+"a "+2.5*c+" "+2.5*c+", 0, 0, 0, "+2.5*c+" "+2.5*c+"h "+2*c+"a "+2.5*c+" "+2.5*c+", 0, 0, 0, "+2.5*c+" "+2.5*-c+"v "+-2*c+"a "+2.5*c+" "+2.5*c+", 0, 0, 0, "+2.5*-c+" "+2.5*-c+"h "+-2*c+"a "+2.5*c+" "+2.5*c+", 0, 0, 0, "+2.5*-c+" "+2.5*c+"M "+(a+2.5*c)+" "+(u+c)+"h "+2*c+"a "+1.5*c+" "+1.5*c+", 0, 0, 1, "+1.5*c+" "+1.5*c+"v "+2*c+"a "+1.5*c+" "+1.5*c+", 0, 0, 1, "+1.5*-c+" "+1.5*c+"h "+-2*c+"a "+1.5*c+" "+1.5*c+", 0, 0, 1, "+1.5*-c+" "+1.5*-c+"v "+-2*c+"a "+1.5*c+" "+1.5*c+", 0, 0, 1, "+1.5*c+" "+1.5*-c)}}))},h.prototype._drawDot=function(e){this._basicDot({x:e.x,y:e.y,size:e.size,rotation:e.rotation})},h.prototype._drawSquare=function(e){this._basicSquare({x:e.x,y:e.y,size:e.size,rotation:e.rotation})},h.prototype._drawExtraRounded=function(e){this._basicExtraRounded({x:e.x,y:e.y,size:e.size,rotation:e.rotation})},h}();var ae=function(){return(ae=Object.assign||function(h){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(h[a]=e[a]);return h}).apply(this,arguments)};const Me=function(){function h(e){var n=e.type;this._svg=e.svg,this._type=n}return h.prototype.draw=function(e,r,n,a){("square"===this._type?this._drawSquare:this._drawDot).call(this,{x:e,y:r,size:n,rotation:a})},h.prototype._rotateFigure=function(e){var r,u=e.size,c=e.rotation,f=void 0===c?0:c,i=e.x+u/2,s=e.y+u/2;(0,e.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*f/Math.PI+","+i+","+s+")")},h.prototype._basicDot=function(e){var r=this,n=e.size,a=e.x,u=e.y;this._rotateFigure(ae(ae({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),r._element.setAttribute("cx",String(a+n/2)),r._element.setAttribute("cy",String(u+n/2)),r._element.setAttribute("r",String(n/2))}}))},h.prototype._basicSquare=function(e){var r=this,n=e.size,a=e.x,u=e.y;this._rotateFigure(ae(ae({},e),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),r._element.setAttribute("x",String(a)),r._element.setAttribute("y",String(u)),r._element.setAttribute("width",String(n)),r._element.setAttribute("height",String(n))}}))},h.prototype._drawDot=function(e){this._basicDot({x:e.x,y:e.y,size:e.size,rotation:e.rotation})},h.prototype._drawSquare=function(e){this._basicSquare({x:e.x,y:e.y,size:e.size,rotation:e.rotation})},h}(),pe="circle";var _e=function(h,e,r,n){return new(r||(r=Promise))(function(a,u){function c(s){try{i(n.next(s))}catch(o){u(o)}}function f(s){try{i(n.throw(s))}catch(o){u(o)}}function i(s){var o;s.done?a(s.value):(o=s.value,o instanceof r?o:new r(function(l){l(o)})).then(c,f)}i((n=n.apply(h,e||[])).next())})},xe=function(h,e){var r,n,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function f(i){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(h,c)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([i,s])}}},ge=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],he=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const Se=function(){function h(e){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(e.width)),this._element.setAttribute("height",String(e.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=e}return Object.defineProperty(h.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),h.prototype.getElement=function(){return this._element},h.prototype.drawQR=function(e){return _e(this,void 0,void 0,function(){var r,n,a,u,c,f,l,g=this;return xe(this,function(x){switch(x.label){case 0:return r=e.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,a=this._options.shape===pe?n/Math.sqrt(2):n,u=Math.floor(a/r),c={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=e,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(x.sent(),!this._image)return[2];f=this._options,l=Math.floor(f.imageOptions.imageSize*B[f.qrOptions.errorCorrectionLevel]*r*r),c=function(O){var v=O.originalHeight,A=O.originalWidth,L=O.maxHiddenDots,E=O.maxHiddenAxisDots,Q=O.dotSize,D={x:0,y:0},U={x:0,y:0};if(v<=0||A<=0||L<=0||Q<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var Z=v/A;return D.x=Math.floor(Math.sqrt(L/Z)),D.x<=0&&(D.x=1),E&&E<D.x&&(D.x=E),D.x%2==0&&D.x--,U.x=D.x*Q,D.y=1+2*Math.ceil((D.x*Z-1)/2),U.y=Math.round(U.x*Z),(D.y*D.x>L||E&&E<D.y)&&(E&&E<D.y?(D.y=E,D.y%2==0&&D.x--):D.y-=2,U.y=D.y*Q,D.x=1+2*Math.ceil((D.y/Z-1)/2),U.x=Math.round(U.y/Z)),{height:U.y,width:U.x,hideYDots:D.y,hideXDots:D.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:l,maxHiddenAxisDots:r-14,dotSize:u}),x.label=2;case 2:return this.drawBackground(),this.drawDots(function(O,v){var A,L,E,Q,D,U;return!(g._options.imageOptions.hideBackgroundDots&&O>=(r-c.hideXDots)/2&&O<(r+c.hideXDots)/2&&v>=(r-c.hideYDots)/2&&v<(r+c.hideYDots)/2||null!==(A=ge[O])&&void 0!==A&&A[v]||null!==(L=ge[O-r+7])&&void 0!==L&&L[v]||null!==(E=ge[O])&&void 0!==E&&E[v-r+7]||null!==(Q=he[O])&&void 0!==Q&&Q[v]||null!==(D=he[O-r+7])&&void 0!==D&&D[v]||null!==(U=he[O])&&void 0!==U&&U[v-r+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:c.width,height:c.height,count:r,dotSize:u})]:[3,4];case 3:x.sent(),x.label=4;case 4:return[2]}})})},h.prototype.drawBackground=function(){var e,r,n,u=this._options;if(this._element){var c=null===(e=u.backgroundOptions)||void 0===e?void 0:e.gradient,f=null===(r=u.backgroundOptions)||void 0===r?void 0:r.color;if((c||f)&&this._createColor({options:c,color:f,additionalRotation:0,x:0,y:0,height:u.height,width:u.width,name:"background-color"}),null===(n=u.backgroundOptions)||void 0===n?void 0:n.round){var i=Math.min(u.width,u.height),s=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),s.setAttribute("x",String((u.width-i)/2)),s.setAttribute("y",String((u.height-i)/2)),s.setAttribute("width",String(i)),s.setAttribute("height",String(i)),s.setAttribute("rx",String(i/2*u.backgroundOptions.round)),this._backgroundClipPath.appendChild(s)}}},h.prototype.drawDots=function(e){var r,n,a=this;if(!this._qr)throw"QR code is not defined";var u=this._options,c=this._qr.getModuleCount();if(c>u.width||c>u.height)throw"The canvas is too small.";var f=Math.min(u.width,u.height)-2*u.margin,i=u.shape===pe?f/Math.sqrt(2):f,s=Math.floor(i/c),o=Math.floor((u.width-c*s)/2),l=Math.floor((u.height-c*s)/2),g=new j({svg:this._element,type:u.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(r=u.dotsOptions)||void 0===r?void 0:r.gradient,color:u.dotsOptions.color,additionalRotation:0,x:0,y:0,height:u.height,width:u.width,name:"dot-color"});for(var x=function(J){for(var F=function(H){return e&&!e(J,H)?"continue":null!==(n=O._qr)&&void 0!==n&&n.isDark(J,H)?(g.draw(o+J*s,l+H*s,s,function(X,re){return!(J+X<0||H+re<0||J+X>=c||H+re>=c)&&!(e&&!e(J+X,H+re))&&!!a._qr&&a._qr.isDark(J+X,H+re)}),void(g._element&&O._dotsClipPath&&O._dotsClipPath.appendChild(g._element))):"continue"},G=0;G<c;G++)F(G)},O=this,v=0;v<c;v++)x(v);if(u.shape===pe){var A=Math.floor((f/s-c)/2),L=c+2*A,E=o-A*s,Q=l-A*s,D=[],U=Math.floor(L/2);for(v=0;v<L;v++){D[v]=[];for(var Z=0;Z<L;Z++)D[v][Z]=v>=A-1&&v<=L-A&&Z>=A-1&&Z<=L-A||Math.sqrt((v-U)*(v-U)+(Z-U)*(Z-U))>U?0:this._qr.isDark(Z-2*A<0?Z:Z>=c?Z-2*A:Z-A,v-2*A<0?v:v>=c?v-2*A:v-A)?1:0}var q=function(J){for(var F=function(H){if(!D[J][H])return"continue";g.draw(E+J*s,Q+H*s,s,function(X,re){var oe;return!(null===(oe=D[J+X])||void 0===oe||!oe[H+re])}),g._element&&le._dotsClipPath&&le._dotsClipPath.appendChild(g._element)},G=0;G<L;G++)F(G)},le=this;for(v=0;v<L;v++)q(v)}},h.prototype.drawCorners=function(){var e=this;if(!this._qr)throw"QR code is not defined";var n=this._options;if(!this._element)throw"Element code is not defined";var a=this._qr.getModuleCount(),u=Math.min(n.width,n.height)-2*n.margin,c=n.shape===pe?u/Math.sqrt(2):u,f=Math.floor(c/a),i=7*f,s=3*f,o=Math.floor((n.width-a*f)/2),l=Math.floor((n.height-a*f)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(g){var x,O,v,A,L,E,Q,D,U,Z,q,le,J=g[0],F=g[1],G=g[2],H=o+J*f*(a-7),X=l+F*f*(a-7),re=e._dotsClipPath,oe=e._dotsClipPath;if((!(null===(x=n.cornersSquareOptions)||void 0===x)&&x.gradient||!(null===(O=n.cornersSquareOptions)||void 0===O)&&O.color)&&((re=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+J+"-"+F),e._defs.appendChild(re),e._cornersSquareClipPath=e._cornersDotClipPath=oe=re,e._createColor({options:null===(v=n.cornersSquareOptions)||void 0===v?void 0:v.gradient,color:null===(A=n.cornersSquareOptions)||void 0===A?void 0:A.color,additionalRotation:G,x:H,y:X,height:i,width:i,name:"corners-square-color-"+J+"-"+F})),null===(L=n.cornersSquareOptions)||void 0===L?void 0:L.type){var se=new te({svg:e._element,type:n.cornersSquareOptions.type});se.draw(H,X,i,G),se._element&&re&&re.appendChild(se._element)}else for(var ye=new j({svg:e._element,type:n.dotsOptions.type}),Te=function(C){for(var R=function(p){if(null===(E=ge[C])||void 0===E||!E[p])return"continue";ye.draw(H+C*f,X+p*f,f,function(M,N){var de;return!(null===(de=ge[C+M])||void 0===de||!de[p+N])}),ye._element&&re&&re.appendChild(ye._element)},T=0;T<ge[C].length;T++)R(T)},be=0;be<ge.length;be++)Te(be);if((!(null===(Q=n.cornersDotOptions)||void 0===Q)&&Q.gradient||!(null===(D=n.cornersDotOptions)||void 0===D)&&D.color)&&((oe=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+J+"-"+F),e._defs.appendChild(oe),e._cornersDotClipPath=oe,e._createColor({options:null===(U=n.cornersDotOptions)||void 0===U?void 0:U.gradient,color:null===(Z=n.cornersDotOptions)||void 0===Z?void 0:Z.color,additionalRotation:G,x:H+2*f,y:X+2*f,height:s,width:s,name:"corners-dot-color-"+J+"-"+F})),null===(q=n.cornersDotOptions)||void 0===q?void 0:q.type){var Oe=new Me({svg:e._element,type:n.cornersDotOptions.type});Oe.draw(H+2*f,X+2*f,s,G),Oe._element&&oe&&oe.appendChild(Oe._element)}else{ye=new j({svg:e._element,type:n.dotsOptions.type});var ze=function(C){for(var R=function(p){if(null===(le=he[C])||void 0===le||!le[p])return"continue";ye.draw(H+C*f,X+p*f,f,function(M,N){var de;return!(null===(de=he[C+M])||void 0===de||!de[p+N])}),ye._element&&oe&&oe.appendChild(ye._element)},T=0;T<he[C].length;T++)R(T)};for(be=0;be<he.length;be++)ze(be)}})},h.prototype.loadImage=function(){var e=this;return new Promise(function(r,n){var a=e._options,u=new Image;if(!a.image)return n("Image is not defined");"string"==typeof a.imageOptions.crossOrigin&&(u.crossOrigin=a.imageOptions.crossOrigin),e._image=u,u.onload=function(){r()},u.src=a.image})},h.prototype.drawImage=function(e){var r=e.width,n=e.height,a=e.count,u=e.dotSize;return _e(this,void 0,void 0,function(){var c,f,i,s,o,l,g,x,O;return xe(this,function(v){switch(v.label){case 0:return c=this._options,f=Math.floor((c.width-a*u)/2),i=Math.floor((c.height-a*u)/2),s=f+c.imageOptions.margin+(a*u-r)/2,o=i+c.imageOptions.margin+(a*u-n)/2,l=r-2*c.imageOptions.margin,g=n-2*c.imageOptions.margin,(x=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(s)),x.setAttribute("y",String(o)),x.setAttribute("width",l+"px"),x.setAttribute("height",g+"px"),[4,ee(c.image||"")];case 1:return O=v.sent(),x.setAttribute("href",O||""),this._element.appendChild(x),[2]}})})},h.prototype._createColor=function(e){var r=e.options,n=e.color,a=e.additionalRotation,u=e.x,c=e.y,f=e.height,i=e.width,s=e.name,o=i>f?i:f,l=document.createElementNS("http://www.w3.org/2000/svg","rect");if(l.setAttribute("x",String(u)),l.setAttribute("y",String(c)),l.setAttribute("height",String(f)),l.setAttribute("width",String(i)),l.setAttribute("clip-path","url('#clip-path-"+s+"')"),r){var g;if("radial"===r.type)(g=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",s),g.setAttribute("gradientUnits","userSpaceOnUse"),g.setAttribute("fx",String(u+i/2)),g.setAttribute("fy",String(c+f/2)),g.setAttribute("cx",String(u+i/2)),g.setAttribute("cy",String(c+f/2)),g.setAttribute("r",String(o/2));else{var x=((r.rotation||0)+a)%(2*Math.PI),O=(x+2*Math.PI)%(2*Math.PI),v=u+i/2,A=c+f/2,L=u+i/2,E=c+f/2;O>=0&&O<=.25*Math.PI||O>1.75*Math.PI&&O<=2*Math.PI?(v-=i/2,A-=f/2*Math.tan(x),L+=i/2,E+=f/2*Math.tan(x)):O>.25*Math.PI&&O<=.75*Math.PI?(A-=f/2,v-=i/2/Math.tan(x),E+=f/2,L+=i/2/Math.tan(x)):O>.75*Math.PI&&O<=1.25*Math.PI?(v+=i/2,A+=f/2*Math.tan(x),L-=i/2,E-=f/2*Math.tan(x)):O>1.25*Math.PI&&O<=1.75*Math.PI&&(A+=f/2,v+=i/2/Math.tan(x),E-=f/2,L-=i/2/Math.tan(x)),(g=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",s),g.setAttribute("gradientUnits","userSpaceOnUse"),g.setAttribute("x1",String(Math.round(v))),g.setAttribute("y1",String(Math.round(A))),g.setAttribute("x2",String(Math.round(L))),g.setAttribute("y2",String(Math.round(E)))}r.colorStops.forEach(function(Q){var D=Q.offset,U=Q.color,Z=document.createElementNS("http://www.w3.org/2000/svg","stop");Z.setAttribute("offset",100*D+"%"),Z.setAttribute("stop-color",U),g.appendChild(Z)}),l.setAttribute("fill","url('#"+s+"')"),this._defs.appendChild(g)}else n&&l.setAttribute("fill",n);this._element.appendChild(l)},h}(),Ce="canvas";for(var ve={},w=0;w<=40;w++)ve[w]=w;const b={type:Ce,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:ve[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var y=function(){return(y=Object.assign||function(h){for(var e,r=1,n=arguments.length;r<n;r++)for(var a in e=arguments[r])Object.prototype.hasOwnProperty.call(e,a)&&(h[a]=e[a]);return h}).apply(this,arguments)};function m(h){var e=y({},h);if(!e.colorStops||!e.colorStops.length)throw"Field 'colorStops' is required in gradient";return e.rotation=e.rotation?Number(e.rotation):0,e.colorStops=e.colorStops.map(function(r){return y(y({},r),{offset:Number(r.offset)})}),e}function d(h){var e=y({},h);return e.width=Number(e.width),e.height=Number(e.height),e.margin=Number(e.margin),e.imageOptions=y(y({},e.imageOptions),{hideBackgroundDots:!!e.imageOptions.hideBackgroundDots,imageSize:Number(e.imageOptions.imageSize),margin:Number(e.imageOptions.margin)}),e.margin>Math.min(e.width,e.height)&&(e.margin=Math.min(e.width,e.height)),e.dotsOptions=y({},e.dotsOptions),e.dotsOptions.gradient&&(e.dotsOptions.gradient=m(e.dotsOptions.gradient)),e.cornersSquareOptions&&(e.cornersSquareOptions=y({},e.cornersSquareOptions),e.cornersSquareOptions.gradient&&(e.cornersSquareOptions.gradient=m(e.cornersSquareOptions.gradient))),e.cornersDotOptions&&(e.cornersDotOptions=y({},e.cornersDotOptions),e.cornersDotOptions.gradient&&(e.cornersDotOptions.gradient=m(e.cornersDotOptions.gradient))),e.backgroundOptions&&(e.backgroundOptions=y({},e.backgroundOptions),e.backgroundOptions.gradient&&(e.backgroundOptions.gradient=m(e.backgroundOptions.gradient))),e}var _=ce(192),k=ce.n(_),S=function(h,e,r,n){return new(r||(r=Promise))(function(a,u){function c(s){try{i(n.next(s))}catch(o){u(o)}}function f(s){try{i(n.throw(s))}catch(o){u(o)}}function i(s){var o;s.done?a(s.value):(o=s.value,o instanceof r?o:new r(function(l){l(o)})).then(c,f)}i((n=n.apply(h,e||[])).next())})},P=function(h,e){var r,n,a,u,c={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:f(0),throw:f(1),return:f(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function f(i){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;c;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return c.label++,{value:o[1],done:!1};case 5:c.label++,n=o[1],o=[0];continue;case 7:o=c.ops.pop(),c.trys.pop();continue;default:if(!((a=(a=c.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){c=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){c.label=o[1];break}if(6===o[0]&&c.label<a[1]){c.label=a[1],a=o;break}if(a&&c.label<a[2]){c.label=a[2],c.ops.push(o);break}a[2]&&c.ops.pop(),c.trys.pop();continue}o=e.call(h,c)}catch(l){o=[6,l],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([i,s])}}};const ne=function(){function h(e){this._options=e?d(ie(b,e)):b,this.update()}return h._clearContainer=function(e){e&&(e.innerHTML="")},h.prototype._setupSvg=function(){var e=this;if(this._qr){var r=new Se(this._options);this._svg=r.getElement(),this._svgDrawingPromise=r.drawQR(this._qr).then(function(){var n;e._svg&&(null===(n=e._extension)||void 0===n||n.call(e,r.getElement(),e._options))})}},h.prototype._setupCanvas=function(){var e,r=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=null===(e=this._svgDrawingPromise)||void 0===e?void 0:e.then(function(){if(r._svg){var n=r._svg,a=(new XMLSerializer).serializeToString(n),u="data:image/svg+xml;base64,"+btoa(a),c=new Image;return new Promise(function(f){c.onload=function(){var i,s;null===(s=null===(i=r._canvas)||void 0===i?void 0:i.getContext("2d"))||void 0===s||s.drawImage(c,0,0),f()},c.src=u})}}))},h.prototype._getElement=function(e){return void 0===e&&(e="png"),S(this,void 0,void 0,function(){return P(this,function(r){switch(r.label){case 0:if(!this._qr)throw"QR code is empty";return"svg"!==e.toLowerCase()?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return r.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return r.sent(),[2,this._canvas]}})})},h.prototype.update=function(e){h._clearContainer(this._container),this._options=e?d(ie(this._options,e)):this._options,this._options.data&&(this._qr=k()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(r){switch(!0){case/^[0-9]*$/.test(r):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(r):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===Ce?this._setupCanvas():this._setupSvg(),this.append(this._container))},h.prototype.append=function(e){if(e){if("function"!=typeof e.appendChild)throw"Container should be a single DOM node";this._options.type===Ce?this._canvas&&e.appendChild(this._canvas):this._svg&&e.appendChild(this._svg),this._container=e}},h.prototype.applyExtension=function(e){if(!e)throw"Extension function should be defined.";this._extension=e,this.update()},h.prototype.deleteExtension=function(){this._extension=void 0,this.update()},h.prototype.getRawData=function(e){return void 0===e&&(e="png"),S(this,void 0,void 0,function(){var r,n,a;return P(this,function(u){switch(u.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(e)];case 1:return(r=u.sent())?"svg"===e.toLowerCase()?(n=new XMLSerializer,a=n.serializeToString(r),[2,new Blob(['<?xml version="1.0" standalone="no"?>\r\n'+a],{type:"image/svg+xml"})]):[2,new Promise(function(c){return r.toBlob(c,"image/"+e,1)})]:[2,null]}})})},h.prototype.download=function(e){return S(this,void 0,void 0,function(){var r,n,a,u,c;return P(this,function(f){switch(f.label){case 0:if(!this._qr)throw"QR code is empty";return r="png",n="qr","string"==typeof e?(r=e,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof e&&null!==e&&(e.name&&(n=e.name),e.extension&&(r=e.extension)),[4,this._getElement(r)];case 1:return(a=f.sent())?("svg"===r.toLowerCase()?(u=new XMLSerializer,c='<?xml version="1.0" standalone="no"?>\r\n'+(c=u.serializeToString(a)),ue("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(c),n+".svg")):ue(a.toDataURL("image/"+r),n+"."+r),[2]):[2]}})})},h}()}},z={};function V(W){if(z[W])return z[W].exports;var t=z[W]={exports:{}};return we[W](t,t.exports,V),t.exports}return V.n=W=>{var t=W&&W.__esModule?()=>W.default:()=>W;return V.d(t,{a:t}),t},V.d=(W,t)=>{for(var ce in t)V.o(t,ce)&&!V.o(W,ce)&&Object.defineProperty(W,ce,{enumerable:!0,get:t[ce]})},V.o=(W,t)=>Object.prototype.hasOwnProperty.call(W,t),V(676)})().default},4004:(Ae,we,z)=>{"use strict";z.d(we,{Z:()=>B});const W={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let t;const ce=new Uint8Array(16);function me(){if(!t&&(t=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!t))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return t(ce)}const $=[];for(let I=0;I<256;++I)$.push((I+256).toString(16).slice(1));const B=function ee(I,j,Y){if(W.randomUUID&&!j&&!I)return W.randomUUID();const te=(I=I||{}).random||(I.rng||me)();if(te[6]=15&te[6]|64,te[8]=63&te[8]|128,j){Y=Y||0;for(let ae=0;ae<16;++ae)j[Y+ae]=te[ae];return j}return function K(I,j=0){return $[I[j+0]]+$[I[j+1]]+$[I[j+2]]+$[I[j+3]]+"-"+$[I[j+4]]+$[I[j+5]]+"-"+$[I[j+6]]+$[I[j+7]]+"-"+$[I[j+8]]+$[I[j+9]]+"-"+$[I[j+10]]+$[I[j+11]]+$[I[j+12]]+$[I[j+13]]+$[I[j+14]]+$[I[j+15]]}(te)}}}]);