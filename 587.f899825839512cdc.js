(self.webpackChunkpages=self.webpackChunkpages||[]).push([[587],{1354:(ve,x,d)=>{"use strict";d.d(x,{w:()=>Y});var H=d(1413),Z=d(5861),y=d(5879),G=d(9093),k=d(4004),O=d(8645),q=d(9773),re=d(836),ie=d(2438),M=d(1410),l=d(5202),o=d(6593),f=d(6814),t=d(9451);let R=(()=>{var I;class V{constructor(c,z){this.element=c,this.globalsService=z,this.appIframeResizer=!0,this.autoResize=!0,this.resizerInitialized=!1}ngOnChanges(c){c.appIframeResizer&&!c.appIframeResizer.firstChange&&this.appIframeResizer&&!this.resizerInitialized&&this.setIframeResizer()}ngAfterViewInit(){this.appIframeResizer&&this.setIframeResizer()}setIframeResizer(){this.resizerInitialized=!0;const c=(0,t.iframeResizer)({autoResize:this.autoResize,checkOrigin:!1,log:this.globalsService.credentials&&["ff11674905","ff7482873"].includes(this.globalsService.credentials.user.ffuid)},this.element.nativeElement);this.component=c&&c.length>0?c[0]:void 0}ngOnDestroy(){this.component&&this.component.iFrameResizer&&this.component.iFrameResizer.close()}}return(I=V).\u0275fac=function(c){return new(c||I)(y.Y36(y.SBq),y.Y36(M.d))},I.\u0275dir=y.lG2({type:I,selectors:[["","appIframeResizer",""]],inputs:{appIframeResizer:"appIframeResizer",autoResize:"autoResize"},features:[y.TTD]}),V})();const N=["iframe"],D=function(I,V){return{"scroll-sandbox":I,"reset-padding":V}};let Y=(()=>{var I;class V{constructor(c,z,u){this.domSanitizer=c,this.globalsService=z,this.postMessageService=u,this.head="",this.body="",this.bodyClass=[],this.initData={},this.resetMainPaddig=!1,this.loadEvent=new y.vpe,this.sandboxId=(0,k.Z)(),this.iframeAutoHeight=!1,this.iframeAutoResize=!1,this.componentDestroyed=new O.x,this.bsCssLink=window.location.origin+"/assets/css/bootstrap.css",this.isIframeLoaded=!1,this.iframeAutoHeightRequested=!1}loaded(){this.iframeContent&&(this.isIframeLoaded=!0,this.loadEvent.emit(!0),this.updateAutoHeight())}ngOnInit(){var c=this;return(0,Z.Z)(function*(){var z;const u=c.globalsService.forum?Object.assign({},c.globalsService.forum):void 0;u&&delete u.admin,c.initData=(0,H.Z)({[l.Tu.FORUM]:u,[l.Tu.PROFILE]:null===(z=c.globalsService.credentials)||void 0===z?void 0:z.user},c.initData),c.iframeContent=c.domSanitizer.bypassSecurityTrustResourceUrl(URL.createObjectURL(new Blob([`<!DOCTYPE html>\n                    <html lang="it">\n                        <head>\n                            <title></title>\n                            <link rel="stylesheet" href="${c.bsCssLink}"></link>\n                            <script>\n                                window.initData = JSON.parse('${JSON.stringify(c.initData)}');\n                                window.sandboxHeight = 'auto';\n                            <\/script>\n                            ${c.head}\n                        </head>\n                        <body${c.bodyClass.length?' class="'+c.bodyClass.join(" ")+'"':""}>\n                            ${c.body}\n                        <script src="https://cdnjs.cloudflare.com/ajax/libs/iframe-resizer/4.3.7/iframeResizer.contentWindow.min.js" integrity="sha512-m1pgIWD4G0Jl+afPJ76tsR/4Zyg7dzZWr6WKv1scgv/7dD/d7AvehR+V6XvpTQUMzdZBWsd+v+tQGzlvhbW+Sw==" crossorigin="anonymous" referrerpolicy="no-referrer"><\/script>\n                        <script>\n                            window.parent.postMessage({\n                                id: "${c.sandboxId}",\n                                sandboxHeight: window.sandboxHeight\n                            }, "*");\n                        <\/script>\n                        </body>\n                    </html>`],{type:"text/html"}))),c.setSubscriptions()})()}setSubscriptions(){this.globalsService.forumObservable.pipe((0,q.R)(this.componentDestroyed)).subscribe(c=>{const z=Object.assign({},c);null==z||delete z.admin,this.postMessageService.sendToSandbox(this.iframe.nativeElement,l.Yt.FORUM,{forum:z})}),this.globalsService.profileObservable.pipe((0,re.T)(1),(0,q.R)(this.componentDestroyed)).subscribe(c=>{this.postMessageService.sendToSandbox(this.iframe.nativeElement,l.Yt.PROFILE,{profile:c})})}ngAfterViewInit(){this.eventsObservable&&this.eventsObservable.pipe((0,q.R)(this.componentDestroyed)).subscribe(c=>{this.postMessageService.sendToSandbox(this.iframe.nativeElement,c.eventType,c.eventContent)}),(0,ie.R)(window,"message").pipe((0,q.R)(this.componentDestroyed)).subscribe(c=>{c.data.id===this.sandboxId&&"none"!==c.data.sandboxHeight&&(this.iframeAutoHeightRequested=!0,this.iframeAutoResize="auto"===c.data.sandboxHeight,this.updateAutoHeight())})}updateAutoHeight(){!this.isIframeLoaded||this.iframeAutoHeightRequested===this.iframeAutoHeight||(this.iframeAutoHeight=this.iframeAutoHeightRequested)}ngOnDestroy(){this.componentDestroyed.next(),this.componentDestroyed.complete()}}return(I=V).\u0275fac=function(c){return new(c||I)(y.Y36(o.H7),y.Y36(M.d),y.Y36(G.F))},I.\u0275cmp=y.Xpm({type:I,selectors:[["app-sandbox"]],viewQuery:function(c,z){if(1&c&&y.Gf(N,5),2&c){let u;y.iGM(u=y.CRH())&&(z.iframe=u.first)}},inputs:{head:"head",body:"body",bodyClass:"bodyClass",eventsObservable:"eventsObservable",initData:"initData",resetMainPaddig:"resetMainPaddig"},outputs:{loadEvent:"loadEvent"},decls:2,vars:7,consts:[["sandbox","allow-forms allow-scripts",3,"ngClass","src","appIframeResizer","autoResize","load"],["iframe",""]],template:function(c,z){1&c&&(y.TgZ(0,"iframe",0,1),y.NdJ("load",function(){return z.loaded()}),y.qZA()),2&c&&y.Q6J("ngClass",y.WLB(4,D,!z.iframeAutoHeight,z.resetMainPaddig))("src",z.iframeContent,y.uOi)("appIframeResizer",z.iframeAutoHeight)("autoResize",z.iframeAutoResize)},dependencies:[f.mk,R],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex-grow:1}iframe[_ngcontent-%COMP%]{margin:0;padding:0;display:block;border:0;height:auto;min-height:0;min-width:100%}iframe.scroll-sandbox[_ngcontent-%COMP%]{flex-grow:1;margin-bottom:-1rem}@media (min-width: 768px){.reset-padding[_ngcontent-%COMP%]{margin:0 -1rem -1rem}}@media (min-width: 960px){.reset-padding[_ngcontent-%COMP%]{margin:0 -1.5rem -1.5rem}}"]}),V})()},6765:(ve,x,d)=>{"use strict";d.d(x,{i:()=>G});var H=d(6814),Z=d(5879);let y=(()=>{var k;class O{}return(k=O).\u0275fac=function(re){return new(re||k)},k.\u0275mod=Z.oAB({type:k}),k.\u0275inj=Z.cJS({imports:[H.ez]}),O})(),G=(()=>{var k;class O{}return(k=O).\u0275fac=function(re){return new(re||k)},k.\u0275mod=Z.oAB({type:k}),k.\u0275inj=Z.cJS({imports:[H.ez,y]}),O})()},9960:(ve,x,d)=>{"use strict";d.d(x,{Bc:()=>y,Lc:()=>k,O9:()=>re,UD:()=>O,Wf:()=>ie,lw:()=>q});var H=d(3729),Z=d(4004);const y=/^https:\/\/[^?]+[^?\/]+\.js(\?.+)?$/,G=/^https?:\/\/[^?]+[^?\/]+\.js(\?.+)?$/,k=/^https:\/\/[^?]+[^?\/]+\.css(\?.+)?$/,O={type:"object",required:["name","source","publisher","type","settingsSchema"],properties:{name:{type:"string",title:"Nome:"},description:{type:"string",title:"Descrizione:",description:"Una descrizione accattivante incentiva gli utenti ad installare lo script!",default:""},faqLink:{type:"string",title:"Link alla guida:",description:"Una guida completa \xe8 fondamentale per mostrare tutte le potenzialit\xe0 dello script!",default:"",widget:{formlyConfig:{validators:{pattern:{expression:M=>!M.value||/^https:\/\/(.+?)\.(forumfree\.it|forumcommunity\.net|blogfree\.net)\/\?t=(\d+)(#entry(\d+))?$/.test(M.value),message:(M,l)=>{var o;return`"${null===(o=l.formControl)||void 0===o?void 0:o.value}" non \xe8 un valido link alla guida!`}}}}}},preview:{type:"string",title:"Link all'anteprima (jpg, png, gif o webp):",description:"Un'anteprima perfetta riesce a mostrare in pochi secondi il funzionamento dello script!",default:"",widget:{formlyConfig:{validators:{pattern:{expression:M=>!M.value||/^https:\/\/(.+?)\.(jpg|png|gif|webp)$/.test(M.value),message:(M,l)=>{var o;return`"${null===(o=l.formControl)||void 0===o?void 0:o.value}" non \xe8 un valido link all'anteprima!`}}}}}},publisher:{type:"string",title:"Tab:",oneOf:[{}],default:""},source:{type:"string",title:"Link del file javascript:",widget:{formlyConfig:{validators:{pattern:{expression:M=>!M.value||y.test(M.value),message:(M,l)=>{var o;return`"${null===(o=l.formControl)||void 0===o?void 0:o.value}" non \xe8 un file javascript valido!`}}}}}},sourceBeta:{type:["string","null"],title:"Link del file javascript per la versione beta (caricata solo per il dev):",widget:{formlyConfig:{validators:{pattern:{expression:M=>!M.value||G.test(M.value),message:(M,l)=>{var o;return`"${null===(o=l.formControl)||void 0===o?void 0:o.value}" non \xe8 un file javascript valido!`}}}}}},position:{type:"string",title:"Posizione in cui verr\xe0 importato il file js:",oneOf:[{}],default:7},type:{type:"string",title:"Tipo:",oneOf:[{title:"Script per forum",const:H.AV.FORUM},{title:"Script per utenti (profilo o userscript)",const:H.AV.USER},{title:"Script per entrambi",const:H.AV.ALL}],default:0},sandboxes:{type:"array",title:"Lista di sandbox legate allo script (opzionali)",uniqueItems:!0,items:{type:"object",required:["value","slug"],properties:{name:{type:["string","null"],title:"Nome della sandbox:",default:""},slug:{type:"string",title:"Slug della sandbox:",description:"Lo slug viene usato per generare il link alla sandbox, se non inserita nella pagina delle impostazioni dello script. Pertanto, se verr\xe0 cambiato, [b]cambier\xe0 anche il link![/b]",widget:{formlyConfig:{hooks:{onInit:M=>{const l=M.formControl;null!=l&&l.value||null==l||l.setValue((0,Z.Z)())}},validators:{pattern:{expression:M=>!M.value||/^[a-zA-Z0-9\-]+$/.test(M.value),message:(M,l)=>{var o;return`"${null===(o=l.formControl)||void 0===o?void 0:o.value}" non \xe8 uno slug valido!`}}}}}},inSettings:{type:"boolean",title:"Visualizza questa sandbox nella pagina delle impostazioni dello script",default:!1},value:{type:"array",title:"Lista di risorse js-css-html",description:"Se viene specificata una risorsa HTML, il suo contenuto sar\xe0 riportato nella sandbox.",uniqueItems:!0,items:{type:"string",title:"Link del file:",widget:{formlyConfig:{validators:{pattern:{expression:M=>!M.value||/^https:\/\//.test(M.value),message:(M,l)=>{var o;return`"${null===(o=l.formControl)||void 0===o?void 0:o.value}" non \xe8 un file valido!`}}}}}}}}}},webhook:{type:"object",title:"Impostazioni webhook (opzionali)",description:"Se lo desideri, puoi indicare un url che verr\xe0 chiamato (richiesta [i]POST[/i]) ogni volta che si verifica [i]l'evento abilitato[/i] dai checkbox seguenti, avente come payload le informazioni riguardanti l'evento (ad esempio nel caso di modifica delle impostazioni dello script verranno inviate le impostazioni dello script stesso).",widget:{formlyConfig:{props:{fieldsetTemplate:!0}}},properties:{url:{type:["string","null"],title:"Link al webhook:",widget:{formlyConfig:{validators:{pattern:{expression:M=>{if(null===M.value)return!0;let l;try{l=new URL(M.value)}catch(o){return!1}return"http:"===l.protocol||"https:"===l.protocol},message:(M,l)=>{var o;return`"${null===(o=l.formControl)||void 0===o?void 0:o.value}" non \xe8 un link valido!`}}}}}},scriptSettings:{type:"boolean",title:"Chiama il webhook quando vengono salvate le impostazioni",default:!1},scriptManage:{type:"boolean",title:"Chiama il webhook quando lo script viene installato o disinstallato",default:!1}}},packages:{type:"array",uniqueItems:!0,title:"Librerie e framework da importare:",default:[""],items:{type:"string",oneOf:[{title:"------",const:""}]}},dependencies:{type:"array",uniqueItems:!0,title:"Script richiesti per l'installazione:",default:[""],items:{type:"string",oneOf:[{title:"------",const:""}]}},settingsSchema:{type:"code-editor",title:"Schema JSON per le opzioni:",default:"{}",widget:{formlyConfig:{props:{editorOptions:{height:"500px"}}}}},html:{type:"code-editor",title:"Codice HTML che sar\xe0 mostrato nel tag HEAD (anche sul layout FFMobile):",description:"In questo campo \xe8 possibile inserire degli stili usando il tag <style>",default:"",widget:{formlyConfig:{props:{editorOptions:{language:"html"}}}}},layouts:{type:"object",title:"Compatibilit\xe0",description:"Se uno script non \xe8 compatibile con un determinato layout, in automatico [i]non[/i] verr\xe0 eseguito sui forum che possiedono tale layout.",widget:{formlyConfig:{props:{fieldsetTemplate:!0}}},properties:{quirks:{type:"boolean",title:"Compatibile con il layout Quirks",default:!1},standard:{type:"boolean",title:"Compatibile con il layout Standard",default:!0},ffmobile:{type:"boolean",title:"Compatibile con il layout FFMobile",default:!0}}},hidden:{type:"boolean",title:"Nascondi lo script dalla lista (test o script privati)",default:!1}}},q={name:"",faqLink:"",description:"",preview:"",source:"",sourceBeta:null,publisher:H.tr.FFB,position:"html_ads_start",sandboxes:[],type:H.AV.FORUM,packages:[],dependencies:[],settingsDefault:{},settingsSchema:"{}",html:"",hidden:!1,webhook:{url:null,scriptSettings:!1,scriptManage:!1},layouts:{quirks:!1,standard:!0,mobile:!0}},re=[{title:"[Open] Font Awesome 4.7.0",link:"https://ffb.forumfree.net:4999/nicoxys/libs/fontawesome-4.7.0.css"},{title:"[Open] Font Awesome 5.7.0",link:"https://ffb.forumfree.net:4999/nicoxys/libs/fontawesome-5.7.0.css"},{title:"[Open] Font Awesome 6.2.1",link:"https://img.forumfree.net/fontawesome/6.2.1/css/all.min.css"},{title:"[Open] Twitter API",link:"https://platform.twitter.com/widgets.js"},{title:"[Open] AngularJS 1.7.7",link:"https://ffb.forumfree.net:4999/nicoxys/libs/angularjs-1.7.7.js"},{title:"[Open] ReactJS (w/ dom) 16.8.2",link:"https://ffb.forumfree.net:4999/nicoxys/libs/reactjs-16.8.2.js"},{title:"[Open] Popper 2.5.2",link:"https://ffb.forumfree.net:4999/nicoxys/libs/popper-2.5.2.js"},{title:"[Open] Tippy 6.2.6",link:"https://ffb.forumfree.net:4999/nicoxys/libs/tippy-6.2.6.js"},{title:"[Open] Vue.js 2.6.6",link:"https://ffb.forumfree.net:4999/nicoxys/libs/vuejs-2.6.6.js"},{title:"[Open] Mustache 3.0.1",link:"https://ffb.forumfree.net:4999/nicoxys/libs/mustache-3.0.1.js"},{title:"[Open] Handlebars 4.7.3",link:"https://ffb.forumfree.net:4999/nicoxys/libs/handlebars-4.7.3.js"},{title:"[Open] Timeago",link:"https://ffb.forumfree.net:4999/nicoxys/libs/jquery.timeago.js"},{title:"[Open] RxJS 6.5.1",link:"https://ffb.forumfree.net:4999/nicoxys/libs/rxjs-6.5.1.js"},{title:"[Open] ChartJs 2.7.2",link:"https://ffb.forumfree.net:4999/nicoxys/libs/chartjs-2.7.2.js"},{title:"[Open] Apollo Client",link:"https://ffb.forumfree.net:4999/nicoxys/libs/apollo-client-2.6.10.js"},{title:"[Private - All] Crediti in fondo al forum",link:"https://ffb.forumfree.net:4999/nicoxys/private/credits.js"},{tab:H.tr.FFB,title:"[Private - FFBoard] HelloBox",link:"https://ffb.forumfree.net:4999/nicoxys/forum/hellobox.js"}],ie=[{title:"Codice HTML che sar\xe0 mostrato nel tag HEAD",const:"html_head"},{title:"[Start] Codice HTML che sar\xe0 mostrato in CIMA a tutte le pagine",const:"html_top_start"},{title:"[End] Codice HTML che sar\xe0 mostrato in CIMA a tutte le pagine",const:"html_top_end"},{title:"[Start] Codice HTML che sar\xe0 mostrato in tutte le pagine sotto il logo del sito",const:"html_logo_start"},{title:"[End] Codice HTML che sar\xe0 mostrato in tutte le pagine sotto il logo del sito",const:"html_logo_end"},{title:"[Start] Codice HTML che sar\xe0 mostrato nella homepage del sito",const:"html_home_start"},{title:"[End] Codice HTML che sar\xe0 mostrato nella homepage del sito",const:"html_home_end"},{title:"Codice HTML che sar\xe0 mostrato sopra le pubblicit\xe0",const:"html_ads_start"},{title:"[Start] Codice HTML che sar\xe0 mostrato in FONDO a tutte le pagine",const:"html_bottom_start"},{title:"[End] Codice HTML che sar\xe0 mostrato in FONDO a tutte le pagine",const:"html_bottom_end"}]},137:(ve,x,d)=>{"use strict";d.d(x,{s:()=>l});var H=d(9960),Z=d(8645),y=d(4664),G=d(2096),k=d(5879),O=d(7398),q=d(9315),ie=d(9862);let M=(()=>{var o;class f{constructor(R){this.http=R}getContentFromUrls(R){const N=R.map(D=>this.http.get(D,{responseType:"text"}).pipe((0,O.U)(Y=>({source:Y,resource:D}))));return(0,q.D)([...N,(0,G.of)({source:"",resource:""})]).pipe((0,y.w)(D=>{D=D.filter(V=>""!==V.resource);const Y=[],I=[];return D.forEach(V=>{const $=function re(o){let f={head:"",body:""};const R=(new DOMParser).parseFromString(o.source,"text/html"),N=R.querySelector("head"),D=R.querySelector("body"),Y=R.querySelector("base");if(Y){const I=Y.getAttribute("href")||"";R.querySelectorAll("head link, head img, head script, body link, body script, body img").forEach($=>{const c="LINK"===$.tagName?"href":"src",z=$.getAttribute(c);if(z&&!z.startsWith("http")){let u=`${z}`;z.startsWith(I)||(u=`${I}${u}`);const we=new URL(o.resource).origin;u.startsWith("http")||(u=`${we}/${u}`),$.setAttribute(c,u)}}),Y.remove()}return N&&(["meta","title","base"].forEach(I=>{N.querySelectorAll(I).forEach($=>$.remove())}),f.head=N.innerHTML),D&&(f.body=D.innerHTML),f}(V);$.head&&Y.push($.head),$.body&&I.push($.body)}),(0,G.of)({headData:Y,bodyData:I})}))}}return(o=f).\u0275fac=function(R){return new(R||o)(k.LFG(ie.eN))},o.\u0275prov=k.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),f})(),l=(()=>{var o;class f{constructor(R){this.sandboxService=R}create(R,N={}){const D=new Z.x,Y=R.value.filter(I=>!H.Bc.test(I)&&!H.Lc.test(I));return this.sandboxService.getContentFromUrls(Y).pipe((0,y.w)(I=>(0,G.of)({eventSubject:D,eventObservable:D.asObservable(),loading:!0,initData:N,headData:[...R.value.map(V=>H.Bc.test(V)?`<script src='${V}'><\/script>`:H.Lc.test(V)?`<link rel="stylesheet" type="text/css" href="${V}">`:""),...I.headData].join(""),bodyData:[...I.bodyData].join("")})))}}return(o=f).\u0275fac=function(R){return new(R||o)(k.LFG(M))},o.\u0275prov=k.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),f})()},9451:(ve,x,d)=>{const H=d(7402);ve.exports={iframeResize:H,iframeResizer:H,contentWindow:d(6023)}},6023:ve=>{!function(x){if(!(typeof window>"u")){var d=!0,H=10,Z="",y=0,G="",k=null,O="",q=!1,re={resize:1,click:1},ie=128,M=!0,l=1,o="bodyOffset",f=o,t=!0,R="",N={},D=32,Y=null,I=!1,V=!1,$="[iFrameSizer]",c=$.length,z="",u={max:1,min:1,bodyScroll:1,documentElementScroll:1},we="child",le=!0,Re=window.parent,Oe="*",Fe=0,xe=!1,Ie=null,Me=16,Se=1,We="scroll",oe=We,Qe=window,ke=function(){ge("onMessage function not defined")},ae=function(){},Le=function(){},Be={height:function(){return ge("Custom height calculation function not defined"),document.documentElement.offsetHeight},width:function(){return ge("Custom width calculation function not defined"),document.body.scrollWidth}},Pe={},Ae=!1;try{var Ze=Object.create({},{passive:{get:function(){Ae=!0}}});window.addEventListener("test",je,Ze),window.removeEventListener("test",je,Ze)}catch(e){}var a={bodyOffset:function(){return document.body.offsetHeight+Ee("marginTop")+Ee("marginBottom")},offset:function(){return a.bodyOffset()},bodyScroll:function(){return document.body.scrollHeight},custom:function(){return Be.height()},documentElementOffset:function(){return document.documentElement.offsetHeight},documentElementScroll:function(){return document.documentElement.scrollHeight},max:function(){return Math.max.apply(null,ne(a))},min:function(){return Math.min.apply(null,ne(a))},grow:function(){return a.max()},lowestElement:function(){return Math.max(a.bodyOffset()||a.documentElementOffset(),Ce("bottom",v()))},taggedElement:function(){return E("bottom","data-iframe-height")}},h={bodyScroll:function(){return document.body.scrollWidth},bodyOffset:function(){return document.body.offsetWidth},custom:function(){return Be.width()},documentElementScroll:function(){return document.documentElement.scrollWidth},documentElementOffset:function(){return document.documentElement.offsetWidth},scroll:function(){return Math.max(h.bodyScroll(),h.documentElementScroll())},max:function(){return Math.max.apply(null,ne(h))},min:function(){return Math.min.apply(null,ne(h))},rightMostElement:function(){return Ce("right",v())},taggedElement:function(){return E("right","data-iframe-width")}},A=function Ke(e){var i,r,b,P=null,K=0,te=function(){K=Date.now(),P=null,b=e.apply(i,r),P||(i=r=null)};return function(){var ee=Date.now();K||(K=ee);var B=Me-(ee-K);return i=this,r=arguments,B<=0||B>Me?(P&&(clearTimeout(P),P=null),K=ee,b=e.apply(i,r),P||(i=r=null)):P||(P=setTimeout(te,B)),b}}(L);Te(window,"message",function et(e){var i={init:function(){R=e.data,Re=e.source,function n(){(function s(){function e(r){return"true"===r}var i=R.slice(c).split(":");z=i[0],y=x===i[1]?y:Number(i[1]),q=x===i[2]?q:e(i[2]),I=x===i[3]?I:e(i[3]),D=x===i[4]?D:Number(i[4]),d=x===i[6]?d:e(i[6]),G=i[7],f=x===i[8]?f:i[8],Z=i[9],O=i[10],Fe=x===i[11]?Fe:Number(i[11]),N.enable=x!==i[12]&&e(i[12]),we=x===i[13]?we:i[13],oe=x===i[14]?oe:i[14],V=x===i[15]?V:e(i[15])})(),w("Initialising iFrame ("+window.location.href+")"),function g(){function e(){var r=window.iFrameResizer;w("Reading data from page: "+JSON.stringify(r)),Object.keys(r).forEach(T,r),ke="onMessage"in r?r.onMessage:ke,ae="onReady"in r?r.onReady:ae,Oe="targetOrigin"in r?r.targetOrigin:Oe,f="heightCalculationMethod"in r?r.heightCalculationMethod:f,oe="widthCalculationMethod"in r?r.widthCalculationMethod:oe}function i(r,b){return"function"==typeof r&&(w("Setup custom "+b+"CalcMethod"),Be[b]=r,r="custom"),r}"iFrameResizer"in window&&Object===window.iFrameResizer.constructor&&(e(),f=i(f,"height"),oe=i(oe,"width")),w("TargetOrigin for parent set to: "+Oe)}(),function ce(){x===G&&(G=y+"px"),S("margin",function F(e,i){return-1!==i.indexOf("-")&&(ge("Negative CSS value ignored for "+e),i=""),i}("margin",G))}(),S("background",Z),S("padding",O),function m(){var e=document.createElement("div");e.style.clear="both",e.style.display="block",e.style.height="0",document.body.appendChild(e)}(),He(),ze(),function be(){document.documentElement.style.height="",document.body.style.height="",w('HTML & body height set to "auto"')}(),function X(){w("Enable public methods"),Qe.parentIFrame={autoResize:function(i){return!0===i&&!1===d?(d=!0,Ne()):!1===i&&!0===d&&(d=!1,function $e(){ue("remove"),function Ve(){null!==k&&k.disconnect()}(),clearInterval(Y)}()),fe(0,0,"autoResize",JSON.stringify(d)),d},close:function(){fe(0,0,"close")},getId:function(){return z},getPageInfo:function(i){"function"==typeof i?(Le=i,fe(0,0,"pageInfo")):(Le=function(){},fe(0,0,"pageInfoStop"))},moveToAnchor:function(i){N.findTarget(i)},reset:function(){Ye("parentIFrame.reset")},scrollTo:function(i,r){fe(r,i,"scrollTo")},scrollToOffset:function(i,r){fe(r,i,"scrollToOffset")},sendMessage:function(i,r){fe(0,0,"message",JSON.stringify(i),r)},setHeightCalculationMethod:function(i){f=i,He()},setWidthCalculationMethod:function(i){oe=i,ze()},setTargetOrigin:function(i){w("Set targetOrigin: "+i),Oe=i},size:function(i,r){W("size","parentIFrame.size("+(i||"")+(r?","+r:"")+")",i,r)}}}(),function Q(){function e(r){fe(0,0,r.type,r.screenY+":"+r.screenX)}function i(r,b){w("Add event listener: "+b),Te(window.document,r,e)}!0===V&&(i("mouseenter","Mouse Enter"),i("mouseleave","Mouse Leave"))}(),Ne(),N=function p(){function e(){return{x:window.pageXOffset===x?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===x?document.documentElement.scrollTop:window.pageYOffset}}function i(B){var J=B.getBoundingClientRect(),U=e();return{x:parseInt(J.left,10)+parseInt(U.x,10),y:parseInt(J.top,10)+parseInt(U.y,10)}}function r(B){function J(he){var De=i(he);w("Moving to in page link (#"+U+") at x: "+De.x+" y: "+De.y),fe(De.y,De.x,"scrollToOffset")}var U=B.split("#")[1]||B,C=decodeURIComponent(U),me=document.getElementById(C)||document.getElementsByName(C)[0];x===me?(w("In page link (#"+U+") not found in iFrame, so sending to parent"),fe(0,0,"inPageLink","#"+U)):J(me)}function b(){var B=window.location.hash,J=window.location.href;""!==B&&"#"!==B&&r(J)}function P(){function B(J){function U(C){C.preventDefault(),r(this.getAttribute("href"))}"#"!==J.getAttribute("href")&&Te(J,"click",U)}Array.prototype.forEach.call(document.querySelectorAll('a[href^="#"]'),B)}function K(){Te(window,"hashchange",b)}function te(){setTimeout(b,ie)}function ee(){Array.prototype.forEach&&document.querySelectorAll?(w("Setting up location.hash handlers"),P(),K(),te()):ge("In page linking not fully supported in this browser! (See README.md for IE8 workaround)")}return N.enable?ee():w("In page linking not enabled"),{findTarget:r}}(),W("init","Init message from host page"),ae()}(),M=!1,setTimeout(function(){t=!1},ie)},reset:function(){t?w("Page reset ignored by init"):(w("Page size reset by host page"),de("resetPage"))},resize:function(){W("resizeParent","Parent window requested size check")},moveToAnchor:function(){N.findTarget(P())},inPageLink:function(){this.moveToAnchor()},pageInfo:function(){var U=P();w("PageInfoFromParent called from parent: "+U),Le(JSON.parse(U)),w(" --")},message:function(){var U=P();w("onMessage called from parent: "+U),ke(JSON.parse(U)),w(" --")}};function b(){return e.data.split("]")[1].split(":")[0]}function P(){return e.data.slice(e.data.indexOf(":")+1)}function te(){return e.data.split(":")[2]in{true:1,false:1}}(function r(){return $===(""+e.data).slice(0,c)})()&&function B(){!1===M?function ee(){var J=b();J in i?i[J]():!function K(){return!ve.exports&&"iFrameResize"in window||window.jQuery!==x&&"iFrameResize"in window.jQuery.prototype}()&&!te()&&ge("Unexpected message ("+e.data+")")}():te()?i.init():w('Ignored message of type "'+b()+'". Received before initialization.')}()}),Te(window,"readystatechange",_e),_e()}function je(){}function Te(e,i,r,b){e.addEventListener(i,r,!!Ae&&(b||{}))}function Ue(e){return e.charAt(0).toUpperCase()+e.slice(1)}function Ge(e){return $+"["+z+"] "+e}function w(e){I&&"object"==typeof window.console&&console.log(Ge(e))}function ge(e){"object"==typeof window.console&&console.warn(Ge(e))}function T(e){var i=e.split("Callback");if(2===i.length){var r="on"+i[0].charAt(0).toUpperCase()+i[0].slice(1);this[r]=this[e],delete this[e],ge("Deprecated: '"+e+"' has been renamed '"+r+"'. The old method will be removed in the next major version.")}}function S(e,i){x!==i&&""!==i&&"null"!==i&&(document.body.style[e]=i,w("Body "+e+' set to "'+i+'"'))}function j(e){var i={add:function(r){function b(){W(e.eventName,e.eventType)}Pe[r]=b,Te(window,r,b,{passive:!0})},remove:function(r){var b=Pe[r];delete Pe[r],function Xe(e,i,r){e.removeEventListener(i,r,!1)}(window,r,b)}};e.eventNames&&Array.prototype.map?(e.eventName=e.eventNames[0],e.eventNames.map(i[e.method])):i[e.method](e.eventName),w(Ue(e.method)+" event listener: "+e.eventType)}function ue(e){j({method:e,eventType:"Animation Start",eventNames:["animationstart","webkitAnimationStart"]}),j({method:e,eventType:"Animation Iteration",eventNames:["animationiteration","webkitAnimationIteration"]}),j({method:e,eventType:"Animation End",eventNames:["animationend","webkitAnimationEnd"]}),j({method:e,eventType:"Input",eventName:"input"}),j({method:e,eventType:"Mouse Up",eventName:"mouseup"}),j({method:e,eventType:"Mouse Down",eventName:"mousedown"}),j({method:e,eventType:"Orientation Change",eventName:"orientationchange"}),j({method:e,eventType:"Print",eventNames:["afterprint","beforeprint"]}),j({method:e,eventType:"Ready State Change",eventName:"readystatechange"}),j({method:e,eventType:"Touch Start",eventName:"touchstart"}),j({method:e,eventType:"Touch End",eventName:"touchend"}),j({method:e,eventType:"Touch Cancel",eventName:"touchcancel"}),j({method:e,eventType:"Transition Start",eventNames:["transitionstart","webkitTransitionStart","MSTransitionStart","oTransitionStart","otransitionstart"]}),j({method:e,eventType:"Transition Iteration",eventNames:["transitioniteration","webkitTransitionIteration","MSTransitionIteration","oTransitionIteration","otransitioniteration"]}),j({method:e,eventType:"Transition End",eventNames:["transitionend","webkitTransitionEnd","MSTransitionEnd","oTransitionEnd","otransitionend"]}),"child"===we&&j({method:e,eventType:"IFrame Resized",eventName:"resize"})}function pe(e,i,r,b){return i!==e&&(e in r||(ge(e+" is not a valid option for "+b+"CalculationMethod."),e=i),w(b+' calculation method set to "'+e+'"')),e}function He(){f=pe(f,o,a,"height")}function ze(){oe=pe(oe,We,h,"width")}function Ne(){!0===d?(ue("add"),function Je(){window.MutationObserver||window.WebKitMutationObserver?0>D?se():k=function ye(){function e(C){function me(he){!1===he.complete&&(w("Attach listeners to "+he.src),he.addEventListener("load",P,!1),he.addEventListener("error",K,!1),B.push(he))}"attributes"===C.type&&"src"===C.attributeName?me(C.target):"childList"===C.type&&Array.prototype.forEach.call(C.target.querySelectorAll("img"),me)}function r(C){w("Remove listeners from "+C.src),C.removeEventListener("load",P,!1),C.removeEventListener("error",K,!1),function i(C){B.splice(B.indexOf(C),1)}(C)}function b(C,me,he){r(C.target),W(me,he+": "+C.target.src)}function P(C){b(C,"imageLoad","Image loaded")}function K(C){b(C,"imageLoadFailed","Image load failed")}function te(C){W("mutationObserver","mutationObserver: "+C[0].target+" "+C[0].type),C.forEach(e)}var B=[],J=window.MutationObserver||window.WebKitMutationObserver,U=function ee(){var C=document.querySelector("body");return U=new J(te),w("Create body MutationObserver"),U.observe(C,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0}),U}();return{disconnect:function(){"disconnect"in U&&(w("Disconnect body MutationObserver"),U.disconnect(),B.forEach(r))}}}():(w("MutationObserver not supported in this browser!"),se())}()):w("Auto Resize disabled")}function se(){0!==D&&(w("setInterval: "+D+"ms"),Y=setInterval(function(){W("interval","setInterval: "+D)},Math.abs(D)))}function Ee(e,i){var r=0;return i=i||document.body,r=null===(r=document.defaultView.getComputedStyle(i,null))?0:r[e],parseInt(r,H)}function Ce(e,i){for(var r=i.length,b=0,P=0,K=Ue(e),te=Date.now(),ee=0;ee<r;ee++)(b=i[ee].getBoundingClientRect()[e]+Ee("margin"+K,i[ee]))>P&&(P=b);return te=Date.now()-te,w("Parsed "+r+" HTML elements"),w("Element position calculated in "+te+"ms"),function qe(e){e>Me/2&&w("Event throttle increased to "+(Me=2*e)+"ms")}(te),P}function ne(e){return[e.bodyOffset(),e.bodyScroll(),e.documentElementOffset(),e.documentElementScroll()]}function E(e,i){var b=document.querySelectorAll("["+i+"]");return 0===b.length&&function r(){ge("No tagged elements ("+i+") found on page"),document.querySelectorAll("body *")}(),Ce(e,b)}function v(){return document.querySelectorAll("body *")}function L(e,i,r,b){var U,C;!function K(){function me(he,De){return!(Math.abs(he-De)<=Fe)}return U=x===r?a[f]():r,C=x===b?h[oe]():b,me(l,U)||q&&me(Se,C)}()&&"init"!==e?function J(){(function te(){return!(e in{init:1,interval:1,size:1})})()&&function ee(){return f in u||q&&oe in u}()?Ye(i):e in{interval:1}||function B(){w("No change in size detected")}()}():(_(),function P(){fe(l=U,Se=C,e)}())}function W(e,i,r,b){!function K(){return xe&&e in re}()?(function P(){e in{reset:1,resetPage:1,init:1}||w("Trigger event: "+i)}(),"init"===e?L(e,i,r,b):A(e,i,r,b)):w("Trigger event cancelled: "+e)}function _(){xe||(xe=!0,w("Trigger event lock on")),clearTimeout(Ie),Ie=setTimeout(function(){xe=!1,w("Trigger event lock off"),w("--")},ie)}function de(e){l=a[f](),Se=h[oe](),fe(l,Se,e)}function Ye(e){var i=f;f=o,w("Reset trigger event: "+e),_(),de("reset"),f=i}function fe(e,i,r,b,P){!0===le&&(function K(){x===P?P=Oe:w("Message targetOrigin: "+P)}(),function te(){var B=z+":"+e+":"+i+":"+r+(x===b?"":":"+b);w("Sending message to host page ("+B+")"),Re.postMessage($+B,P)}())}function _e(){"loading"!==document.readyState&&window.parent.postMessage("[iFrameResizerChild]Ready","*")}}()},7402:(ve,x)=>{var d,H,Z;!function(y){if(!(typeof window>"u")){var G=0,k=!1,O=!1,re=7,ie="[iFrameSizer]",M=ie.length,l=null,o=window.requestAnimationFrame,f=Object.freeze({max:1,scroll:1,bodyScroll:1,documentElementScroll:1}),t={},R=null,N=Object.freeze({autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,inPageLinks:!1,enablePublicMethods:!0,heightCalculationMethod:"bodyOffset",id:"iFrameResizer",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,mouseEvents:!0,resizeFrom:"parent",scrolling:!1,sizeHeight:!0,sizeWidth:!1,warningTimeout:5e3,tolerance:0,widthCalculationMethod:"scroll",onClose:function(){return!0},onClosed:function(){},onInit:function(){},onMessage:function(){le("onMessage function not defined")},onMouseEnter:function(){},onMouseLeave:function(){},onResized:function(){},onScroll:function(){return!0}}),je={};window.jQuery!==y&&function ge(n){n.fn?n.fn.iFrameResize||(n.fn.iFrameResize=function(T){return this.filter("iframe").each(function g(F,S){Pe(S,T)}).end()}):we("","Unable to bind to jQuery, it is not fully loaded.")}(window.jQuery),H=[],(Z="function"==typeof(d=w)?d.apply(x,H):d)!==y&&(ve.exports=Z),window.iFrameResize=window.iFrameResize||w()}function D(){return window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver}function Y(n,s,T){n.addEventListener(s,T,!1)}function I(n,s,T){n.removeEventListener(s,T,!1)}function z(n){return t[n]?t[n].log:k}function u(n,s){Re("log",n,s,z(n))}function we(n,s){Re("info",n,s,z(n))}function le(n,s){Re("warn",n,s,!0)}function Re(n,s,T,g){!0===g&&"object"==typeof window.console&&console[n](function c(n){return ie+"["+function $(n){var s="Host page: "+n;return window.top!==window.self&&(s=window.parentIFrame&&window.parentIFrame.getId?window.parentIFrame.getId()+": "+n:"Nested host page: "+n),s}(n)+"]"}(s),T)}function Oe(n){function s(){S("Height"),S("Width"),ke(function a(){Qe(E),Se(v),ye("onResized",E)},E,"init")}function g(a){return"border-box"!==a.boxSizing?0:(a.paddingTop?parseInt(a.paddingTop,10):0)+(a.paddingBottom?parseInt(a.paddingBottom,10):0)}function F(a){return"border-box"!==a.boxSizing?0:(a.borderTopWidth?parseInt(a.borderTopWidth,10):0)+(a.borderBottomWidth?parseInt(a.borderBottomWidth,10):0)}function S(a){var h=Number(t[v]["max"+a]),L=Number(t[v]["min"+a]),A=a.toLowerCase(),W=Number(E[A]);u(v,"Checking "+A+" is in range "+L+"-"+h),W<L&&(W=L,u(v,"Set "+A+" to min value")),W>h&&(W=h,u(v,"Set "+A+" to max value")),E[A]=""+W}function ue(a){return ne.slice(ne.indexOf(":")+re+a)}function ze(a,h){!function Ze(n,s,T){je[T]||(je[T]=setTimeout(function(){je[T]=null,n()},s))}(function L(){ae("Send Page Info","pageInfo:"+function He(){var a=document.body.getBoundingClientRect(),h=E.iframe.getBoundingClientRect();return JSON.stringify({iframeHeight:h.height,iframeWidth:h.width,clientHeight:Math.max(document.documentElement.clientHeight,window.innerHeight||0),clientWidth:Math.max(document.documentElement.clientWidth,window.innerWidth||0),offsetTop:parseInt(h.top-a.top,10),offsetLeft:parseInt(h.left-a.left,10),scrollTop:window.pageYOffset,scrollLeft:window.pageXOffset,documentHeight:document.documentElement.clientHeight,documentWidth:document.documentElement.clientWidth,windowHeight:window.innerHeight,windowWidth:window.innerWidth})}(),a,h)},32,h)}function m(a){var h=a.getBoundingClientRect();return Me(v),{x:Math.floor(Number(h.left)+Number(l.x)),y:Math.floor(Number(h.top)+Number(l.y))}}function p(a){var W=a?m(E.iframe):{x:0,y:0},_=function L(){return{x:Number(E.width)+W.x,y:Number(E.height)+W.y}}();u(v,"Reposition requested from iFrame (offset x:"+W.x+" y:"+W.y+")"),window.top===window.self?function h(){l=_,Q(),u(v,"--")}():function A(){window.parentIFrame?window.parentIFrame["scrollTo"+(a?"Offset":"")](_.x,_.y):le(v,"Unable to scroll to requested position, window.parentIFrame not found")}()}function Q(){!1===ye("onScroll",l)?We():Se(v)}function se(a){var h={};if(0===Number(E.width)&&0===Number(E.height)){var L=ue(9).split(":");h={x:L[1],y:L[0]}}else h={x:E.width,y:E.height};ye(a,{iframe:E.iframe,screenX:Number(h.x),screenY:Number(h.y),type:E.type})}function ye(a,h){return Fe(v,a,h)}var ne=n.data,E={},v=null;"[iFrameResizerChild]Ready"===ne?function qe(){for(var a in t)ae("iFrame requested init",Le(a),t[a].iframe,a)}():function be(){return ie===(""+ne).slice(0,M)&&ne.slice(M).split(":")[0]in t}()?(E=function T(){var a=ne.slice(M).split(":"),h=a[1]?parseInt(a[1],10):0,L=t[a[0]]&&t[a[0]].iframe,A=getComputedStyle(L);return{iframe:L,id:a[0],height:h+g(A)+F(A),width:a[2],type:a[3]}}(),t[v=E.id]&&(t[v].loaded=!0),!function j(){var a=E.type in{true:1,false:1,undefined:1};return a&&u(v,"Ignoring init message from meta parent page"),a}()&&function Ee(a){var h=!0;return t[a]||(h=!1,le(E.type+" No settings for "+a+". Message was: "+ne)),h}(v)&&(u(v,"Received: "+ne),function $e(){var a=!0;return null===E.iframe&&(le(v,"IFrame ("+E.id+") not found"),a=!1),a}()&&function ce(){var h=n.origin,L=t[v]&&t[v].checkOrigin;if(L&&""+h!="null"&&!function a(){return L.constructor===Array?function A(){var _=0,de=!1;for(u(v,"Checking connection is from allowed list of origins: "+L);_<L.length;_++)if(L[_]===h){de=!0;break}return de}():function W(){var _=t[v]&&t[v].remoteHost;return u(v,"Checking connection is from: "+_),h===_}()}())throw new Error("Unexpected message received from: "+h+" for "+E.iframe.id+". Message was: "+n.data+". This error can be disabled by setting the checkOrigin: false option or by providing of array of trusted domains.");return!0}()&&function Je(){switch(t[v]&&t[v].firstRun&&function Ce(){t[v]&&(t[v].firstRun=!1)}(),E.type){case"close":Ie(E.iframe);break;case"message":!function pe(a){u(v,"onMessage passed: {iframe: "+E.iframe.id+", message: "+a+"}"),ye("onMessage",{iframe:E.iframe,message:JSON.parse(a)}),u(v,"--")}(ue(6));break;case"mouseenter":se("onMouseEnter");break;case"mouseleave":se("onMouseLeave");break;case"autoResize":t[v].autoResize=JSON.parse(ue(9));break;case"scrollTo":p(!1);break;case"scrollToOffset":p(!0);break;case"pageInfo":ze(t[v]&&t[v].iframe,v),function Ne(){function a(W,_){function de(){t[A]?ze(t[A].iframe,A):h()}["scroll","resize"].forEach(function(Ye){u(A,W+Ye+" listener for sendPageInfo"),_(window,Ye,de)})}function h(){a("Remove ",I)}var A=v;(function L(){a("Add ",Y)})(),t[A]&&(t[A].stopPageInfo=h)}();break;case"pageInfoStop":!function Ve(){t[v]&&t[v].stopPageInfo&&(t[v].stopPageInfo(),delete t[v].stopPageInfo)}();break;case"inPageLink":!function X(a){var A=a.split("#")[1]||"",W=decodeURIComponent(A),_=document.getElementById(W)||document.getElementsByName(W)[0];_?function h(){var de=m(_);u(v,"Moving to in page link (#"+A+") at x: "+de.x+" y: "+de.y),l={x:de.x,y:de.y},Q(),u(v,"--")}():window.top===window.self?u(v,"In page link #"+A+" not found"):function L(){window.parentIFrame?window.parentIFrame.moveToAnchor(A):u(v,"In page link #"+A+" not found and window.parentIFrame not found")}()}(ue(9));break;case"reset":oe(E);break;case"init":s(),ye("onInit",E.iframe);break;default:0===Number(E.width)&&0===Number(E.height)?le("Unsupported message received ("+E.type+"), this is likely due to the iframe containing a later version of iframe-resizer than the parent page"):s()}}())):we(v,"Ignored: "+ne)}function Fe(n,s,T){var g=null,F=null;if(t[n]){if("function"!=typeof(g=t[n][s]))throw new TypeError(s+" on iFrame["+n+"] is not a function");F=g(T)}return F}function xe(n){delete t[n.id]}function Ie(n){var s=n.id;if(!1!==Fe(s,"onClose",s)){u(s,"Removing iFrame: "+s);try{n.parentNode&&n.parentNode.removeChild(n)}catch(T){le(T)}Fe(s,"onClosed",s),u(s,"--"),xe(n)}else u(s,"Close iframe cancelled by onClose event")}function Me(n){null===l&&u(n,"Get page position: "+(l={x:window.pageXOffset===y?document.documentElement.scrollLeft:window.pageXOffset,y:window.pageYOffset===y?document.documentElement.scrollTop:window.pageYOffset}).x+","+l.y)}function Se(n){null!==l&&(window.scrollTo(l.x,l.y),u(n,"Set page position: "+l.x+","+l.y),We())}function We(){l=null}function oe(n){u(n.id,"Size reset requested by "+("init"===n.type?"host page":"iFrame")),Me(n.id),ke(function s(){Qe(n),ae("reset","reset",n.iframe,n.id)},n,"reset")}function Qe(n){function T(S){!O&&"0"===n[S]&&(O=!0,u(F,"Hidden iFrame detected, creating visibility listener"),function Te(){function n(){Object.keys(t).forEach(function(S){!function F(S){function ce(j){return"0px"===(t[S]&&t[S].iframe.style[j])}t[S]&&function be(j){return null!==j.offsetParent}(t[S].iframe)&&(ce("height")||ce("width"))&&ae("Visibility change","resize",t[S].iframe,S)}(S)})}function s(F){u("window","Mutation observed: "+F[0].target+" "+F[0].type),Ae(n,16)}var g=D();g&&function T(){var F=document.querySelector("body");new g(s).observe(F,{attributes:!0,attributeOldValue:!1,characterData:!0,characterDataOldValue:!1,childList:!0,subtree:!0})}()}())}function g(S){(function s(S){n.id?(n.iframe.style[S]=n[S]+"px",u(n.id,"IFrame ("+F+") "+S+" set to "+n[S]+"px")):u("undefined","messageData id not set")})(S),T(S)}var F=n.iframe.id;t[F]&&(t[F].sizeHeight&&g("height"),t[F].sizeWidth&&g("width"))}function ke(n,s,T){T!==s.type&&o&&!window.jasmine?(u(s.id,"Requesting animation frame"),o(n)):n()}function ae(n,s,T,g,F){var ue=!1;t[g=g||T.id]&&(function be(){T&&"contentWindow"in T&&null!==T.contentWindow?function S(){var pe=t[g]&&t[g].targetOrigin;u(g,"["+n+"] Sending msg to iframe["+g+"] ("+s+") targetOrigin: "+pe),T.contentWindow.postMessage(ie+s,pe)}():function ce(){le(g,"["+n+"] IFrame("+g+") not found")}()}(),function j(){F&&t[g]&&t[g].warningTimeout&&(t[g].msgTimeout=setTimeout(function pe(){t[g]&&!t[g].loaded&&!ue&&(ue=!0,le(g,"IFrame has not responded within "+t[g].warningTimeout/1e3+" seconds. Check iFrameResizer.contentWindow.js has been loaded in iFrame. This message can be ignored if everything is working, or you can set the warningTimeout option to a higher value or zero to suppress this warning."))},t[g].warningTimeout))}())}function Le(n){return n+":"+t[n].bodyMarginV1+":"+t[n].sizeWidth+":"+t[n].log+":"+t[n].interval+":"+t[n].enablePublicMethods+":"+t[n].autoResize+":"+t[n].bodyMargin+":"+t[n].heightCalculationMethod+":"+t[n].bodyBackground+":"+t[n].bodyPadding+":"+t[n].tolerance+":"+t[n].inPageLinks+":"+t[n].resizeFrom+":"+t[n].widthCalculationMethod+":"+t[n].mouseEvents}function Pe(n,s){function Ne(p){var Q=p.split("Callback");if(2===Q.length){var X="on"+Q[0].charAt(0).toUpperCase()+Q[0].slice(1);this[X]=this[p],delete this[p],le(m,"Deprecated: '"+p+"' has been renamed '"+X+"'. The old method will be removed in the next major version.")}}var m=function F(p){if("string"!=typeof p)throw new TypeError("Invaild id for iFrame. Expected String");return""===p&&(n.id=p=function g(){var p=s&&s.id||N.id+G++;return null!==document.getElementById(p)&&(p+=G++),p}(),k=(s||{}).log,u(p,"Added missing iframe ID: "+p+" ("+n.src+")")),p}(n.id);!function $e(){return m in t&&"iFrameResizer"in n}()?(function Ve(p){p=p||{},t[m]=Object.create(null),t[m].iframe=n,t[m].firstRun=!0,t[m].remoteHost=n.src&&n.src.split("/").slice(0,3).join("/"),function pe(p){if("object"!=typeof p)throw new TypeError("Options is not an object")}(p),Object.keys(p).forEach(Ne,p),function He(p){for(var Q in N)Object.prototype.hasOwnProperty.call(N,Q)&&(t[m][Q]=Object.prototype.hasOwnProperty.call(p,Q)?p[Q]:N[Q])}(p),t[m]&&(t[m].targetOrigin=!0===t[m].checkOrigin?function ze(p){return""===p||null!==p.match(/^(about:blank|javascript:|file:\/\/)/)?"*":p}(t[m].remoteHost):"*")}(s),function S(){switch(u(m,"IFrame scrolling "+(t[m]&&t[m].scrolling?"enabled":"disabled")+" for "+m),n.style.overflow=!1===(t[m]&&t[m].scrolling)?"hidden":"auto",t[m]&&t[m].scrolling){case"omit":break;case!0:n.scrolling="yes";break;case!1:n.scrolling="no";break;default:n.scrolling=t[m]?t[m].scrolling:"no"}}(),function T(){function p(X){var se=t[m][X];se!==1/0&&0!==se&&(n.style[X]=function Be(n){return"number"==typeof n}(se)?se+"px":se,u(m,"Set "+X+" = "+n.style[X]))}function Q(X){if(t[m]["min"+X]>t[m]["max"+X])throw new Error("Value for min"+X+" can not be greater than max"+X)}Q("Height"),Q("Width"),p("maxHeight"),p("minHeight"),p("maxWidth"),p("minWidth")}(),function ce(){("number"==typeof(t[m]&&t[m].bodyMargin)||"0"===(t[m]&&t[m].bodyMargin))&&(t[m].bodyMarginV1=t[m].bodyMargin,t[m].bodyMargin=t[m].bodyMargin+"px")}(),function ue(p){var se=D();se&&function X(ye){n.parentNode&&new ye(function(Ee){Ee.forEach(function(qe){Array.prototype.slice.call(qe.removedNodes).forEach(function(ne){ne===n&&Ie(n)})})}).observe(n.parentNode,{childList:!0})}(se),Y(n,"load",function Q(){ae("iFrame.onload",p,n,y,!0),function be(){(!t[m]||!t[m].firstRun)&&t[m]&&t[m].heightCalculationMethod in f&&oe({iframe:n,height:0,width:0,type:"init"})}()}),ae("init",p,n,y,!0)}(Le(m)),function j(){t[m]&&(t[m].iframe.iFrameResizer={close:Ie.bind(null,t[m].iframe),removeListeners:xe.bind(null,t[m].iframe),resize:ae.bind(null,"Window resize","resize",t[m].iframe),moveToAnchor:function(p){ae("Move to anchor","moveToAnchor:"+p,t[m].iframe,m)},sendMessage:function(p){ae("Send Message","message:"+(p=JSON.stringify(p)),t[m].iframe,m)}})}()):le(m,"Ignored iFrame, already setup.")}function Ae(n,s){null===R&&(R=setTimeout(function(){R=null,n()},s))}function Ue(){"hidden"!==document.visibilityState&&(u("document","Trigger event: Visibility change"),Ae(function n(){Ke("Tab Visible","resize")},16))}function Ke(n,s){Object.keys(t).forEach(function(g){(function T(g){return t[g]&&"parent"===t[g].resizeFrom&&t[g].autoResize&&!t[g].firstRun})(g)&&ae(n,s,t[g].iframe,g)})}function w(){function n(g,F){F&&(function S(){if(!F.tagName)throw new TypeError("Object is not a valid DOM element");if("IFRAME"!==F.tagName.toUpperCase())throw new TypeError("Expected <IFRAME> tag, found <"+F.tagName+">")}(),Pe(F,g),T.push(F))}var T;return function V(){var s,n=["moz","webkit","o","ms"];for(s=0;s<n.length&&!o;s+=1)o=window[n[s]+"RequestAnimationFrame"];o?o=o.bind(window):u("setup","RequestAnimationFrame not supported")}(),function Ge(){Y(window,"message",Oe),Y(window,"resize",function(){!function Xe(n){u("window","Trigger event: "+n),Ae(function s(){Ke("Window "+n,"resize")},16)}("resize")}),Y(document,"visibilitychange",Ue),Y(document,"-webkit-visibilitychange",Ue)}(),function(F,S){switch(T=[],function s(g){g&&g.enablePublicMethods&&le("enablePublicMethods option has been removed, public methods are now always available in the iFrame")}(F),typeof S){case"undefined":case"string":Array.prototype.forEach.call(document.querySelectorAll(S||"iframe"),n.bind(y,F));break;case"object":n(F,S);break;default:throw new TypeError("Unexpected data type ("+typeof S+")")}return T}}}()},4004:(ve,x,d)=>{"use strict";d.d(x,{Z:()=>l});const Z={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let y;const G=new Uint8Array(16);function k(){if(!y&&(y=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!y))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return y(G)}const O=[];for(let o=0;o<256;++o)O.push((o+256).toString(16).slice(1));const l=function M(o,f,t){if(Z.randomUUID&&!f&&!o)return Z.randomUUID();const R=(o=o||{}).random||(o.rng||k)();if(R[6]=15&R[6]|64,R[8]=63&R[8]|128,f){t=t||0;for(let N=0;N<16;++N)f[t+N]=R[N];return f}return function q(o,f=0){return O[o[f+0]]+O[o[f+1]]+O[o[f+2]]+O[o[f+3]]+"-"+O[o[f+4]]+O[o[f+5]]+"-"+O[o[f+6]]+O[o[f+7]]+"-"+O[o[f+8]]+O[o[f+9]]+"-"+O[o[f+10]]+O[o[f+11]]+O[o[f+12]]+O[o[f+13]]+O[o[f+14]]+O[o[f+15]]}(R)}}}]);