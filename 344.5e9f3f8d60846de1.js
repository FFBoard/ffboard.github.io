(self.webpackChunkpages=self.webpackChunkpages||[]).push([[344],{7429:(ke,J,b)=>{"use strict";b.d(J,{d:()=>u});var y=b(5879),P=b(3888);let C=(()=>{var s;class r{constructor(){this.allowedProps={$ref:{validator:this.isString},anyOf:{validator:this.validateAnyOf},default:{validator:this.isNestedOfPrimitives},definitions:null,description:null,enum:{validator:this.validateEnum},items:{child:"allProps"},maximum:null,maxItems:null,maxLength:null,minimum:null,minItems:null,minLength:null,multipleOf:null,oneOf:{validator:this.validateOneOf},properties:null,required:{validator:this.validateRequired},title:null,type:{validator:this.isNestedOfPrimitives},uniqueItems:null,widget:{child:{formlyConfig:{child:{props:{child:{placeholder:{validator:this.isString},multiple:{validator:this.isBoolean},pattern:{validator:this.isString},type:{validator:function(l){return"hidden"===l}},minLength:{validator:this.isNumber},maxLength:{validator:this.isNumber},rows:{validator:this.isNumber},keepGroupsWithoutId:{validator:this.isBoolean},fieldsetTemplate:{validator:this.isBoolean},startDate:{child:{year:null,month:null,day:null}},endDate:{child:{year:null,month:null,day:null}},minDate:{child:{year:null,month:null,day:null}},maxDate:{child:{year:null,month:null,day:null}},selectDomain:{validator:this.isBoolean},resetButton:{validator:this.isBoolean},height:{validator:this.isString}}},type:{validator:function(l){return"radio"===l}}}}}}},this.fieldListKeys=["properties","definitions"]}validateSchema(l){this.isObject(l)&&((!(0,P.o8)(l,"type")||!(0,P.o8)(l,"properties")||"object"!==l.type)&&(l.type="object",l.properties={}),this.validate(l))}validate(l,t){t||(t=this.allowedProps);for(const[c,d]of Object.entries(l))if((0,P.o8)(t,c)){if((0,P.o8)(t[c]||{},"validator"))t[c].validator.call(this,d)||delete l[c];else if(this.fieldListKeys.includes(c))for(const _ of Object.keys(l[c]))this.validate(l[c][_]);else if(!this.isPrimitive(d)){if(!(0,P.o8)(t[c]||{},"child")||!this.isObject(d)){delete l[c];continue}this.validate(l[c],"allProps"===t[c].child?this.allowedProps:t[c].child)}}else delete l[c]}isObject(l){return null!=l&&"object"==typeof l&&!Array.isArray(l)}isPrimitive(l){return this.isString(l)||this.isNumber(l)||this.isBoolean(l)||null==l}isString(l){return"string"==typeof l}isBoolean(l){return"boolean"==typeof l}isNumber(l){return"number"==typeof l}validateRequired(l){if(!Array.isArray(l))return!1;for(const t of l)if(!this.isString(t))return!1;return!0}validateEnum(l){if(!Array.isArray(l))return!1;for(const t of l)if(!this.isString(t)&&!this.isNumber(t))return!1;return!0}validateOneOf(l){if(Array.isArray(l)&&(0,P.o8)(l[0]||{},"const")){for(const t of l){if(!this.isObject(t))return!1;this.validate(t,{const:null,title:null})}return!0}return this.validateAnyOf(l)}validateAnyOf(l){if(!Array.isArray(l))return!1;for(const t of l){if(!this.isObject(t))return!1;this.validate(t)}return!0}isNestedOfPrimitives(l){if(this.isPrimitive(l))return!0;if(Array.isArray(l)||this.isObject(l)){for(const t of Object.values(l))if(!this.isNestedOfPrimitives(t))return!1;return!0}return!1}}return(s=r).\u0275fac=function(l){return new(l||s)},s.\u0275prov=y.Yz7({token:s,factory:s.\u0275fac,providedIn:"root"}),r})();var w=b(6223),e=b(1993),E=b(5661),m=b(336),a=b(5545);const n=["app-custom-form",""],i=[[["","buttons",""]]],f=["[buttons]"];let u=(()=>{var s;class r{constructor(l,t,c,d){this.formlyJsonschema=l,this.customFormSchemaService=t,this.toastService=c,this.destroyRef=d,this.model={},this.validateSchema=!1,this.enableModelChangeEvent=!1,this.defaultModel={},this.showFieldValidationOnInit=!1,this.cancelEvent=new y.vpe,this.submitEvent=new y.vpe,this.validityChangeEvent=new y.vpe,this.modelChangeEvent=new y.vpe,this.form=new w.nJ({}),this.fields=[],this.options={},this.isFormCurrentlyValid=!0}ngAfterViewInit(){this.validityChangeEvent.emit(this.isFormCurrentlyValid=this.form.valid)}ngOnInit(){this.createFields(),this.form.statusChanges.pipe((0,e.sL)(this.destroyRef)).subscribe(()=>{this.form.valid!==this.isFormCurrentlyValid&&this.validityChangeEvent.emit(this.isFormCurrentlyValid=this.form.valid)})}ngOnChanges(l){l.schema&&!l.schema.firstChange&&this.createFields()}createFields(){this.customFormSchemaService.isObject(this.schema)||(this.schema={}),this.validateSchema&&this.customFormSchemaService.validateSchema(this.schema),this.fields=[this.formlyJsonschema.toFieldConfig(this.schema)],this.showFieldValidationOnInit&&this.showFieldValidation()}showFieldValidation(){this.cycleFields(this.fields)}showFieldValidationWithMessage(){this.showFieldValidation(),this.toastService.show({content:"Tutti i campi sono stati <strong>validati</strong>: quelli con errore sono evidenziati da un <strong>bordo rosso</strong>!"})}cycleFields(l){l.forEach(t=>{this.forceValidation(t),t.fieldGroup&&this.cycleFields(t.fieldGroup)})}forceValidation(l){l.validation||(l.validation={}),l.validation.show=!0}reset(){this.options.resetModel&&this.options.resetModel(this.defaultModel)}cancel(){this.cancelEvent.emit()}submit(){this.form.valid&&(this.log(),this.submitEvent.emit(this.model))}onModelChange(l){this.enableModelChangeEvent&&this.modelChangeEvent.emit(l||{})}log(){}}return(s=r).\u0275fac=function(l){return new(l||s)(y.Y36(m.c),y.Y36(C),y.Y36(E.k),y.Y36(y.ktI))},s.\u0275cmp=y.Xpm({type:s,selectors:[["","app-custom-form",""]],inputs:{schema:"schema",model:"model",validateSchema:"validateSchema",enableModelChangeEvent:"enableModelChangeEvent",defaultModel:"defaultModel",showFieldValidationOnInit:"showFieldValidationOnInit"},outputs:{cancelEvent:"cancelEvent",submitEvent:"submitEvent",validityChangeEvent:"validityChangeEvent",modelChangeEvent:"modelChangeEvent"},features:[y.TTD],attrs:n,ngContentSelectors:f,decls:3,vars:5,consts:[[3,"formGroup","ngSubmit"],[3,"model","fields","form","options","modelChange"]],template:function(l,t){1&l&&(y.F$t(i),y.TgZ(0,"form",0),y.NdJ("ngSubmit",function(){return t.submit()}),y.TgZ(1,"formly-form",1),y.NdJ("modelChange",function(d){return t.onModelChange(d)}),y.qZA(),y.Hsn(2),y.qZA()),2&l&&(y.Q6J("formGroup",t.form),y.xp6(1),y.Q6J("model",t.model)("fields",t.fields)("form",t.form)("options",t.options))},dependencies:[a.T7,w._Y,w.JL,w.sg]}),r})()},5748:(ke,J,b)=>{"use strict";b.d(J,{I:()=>Ln});var y=b(6814),P=b(7905),C=b(3888),w=b(5545),e=b(5879),E=b(8595);function m(g,Z){1&g&&e.GkF(0)}function a(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"div",13),e.TgZ(2,"div",14),e._uU(3," ("),e.YNc(4,m,1,0,"ng-container",15),e._uU(5,") "),e.qZA(),e.BQk()),2&g){const S=e.oxw(),x=e.MAs(15);e.xp6(1),e.Q6J("innerHTML",S.parsedTitle,e.oJD),e.xp6(3),e.Q6J("ngTemplateOutlet",x)}}function n(g,Z){1&g&&e.GkF(0)}function i(g,Z){if(1&g&&(e.TgZ(0,"div",16),e._uU(1," Lista di "),e.YNc(2,n,1,0,"ng-container",15),e.qZA()),2&g){e.oxw();const S=e.MAs(15);e.xp6(2),e.Q6J("ngTemplateOutlet",S)}}function f(g,Z){if(1&g&&e._UZ(0,"div",17),2&g){const S=e.oxw();e.Q6J("innerHTML",S.parsedDescription,e.oJD)}}const u=function(g){return{"mt-3":g}};function s(g,Z){if(1&g&&(e.TgZ(0,"div",18),e._UZ(1,"formly-validation-message",19),e.qZA()),2&g){const S=e.oxw();e.Q6J("ngClass",e.VKq(2,u,S.parsedDescription.length)),e.xp6(1),e.Q6J("field",S.field)}}function r(g,Z){if(1&g){const S=e.EpF();e.TgZ(0,"li")(1,"div",30),e.NdJ("click",function(){e.CHM(S);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.move(M,M-1))}),e._uU(2," arrow_circle_up "),e.qZA()()}2&g&&(e.xp6(1),e.Q6J("disableOnTouchDevice",!0))}const o=function(g){return{"ms-1":g}};function l(g,Z){if(1&g){const S=e.EpF();e.TgZ(0,"li",31)(1,"div",32),e.NdJ("click",function(){e.CHM(S);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.move(M,M+1))}),e._uU(2," arrow_circle_down "),e.qZA()()}if(2&g){const S=e.oxw().first;e.Q6J("ngClass",e.VKq(2,o,!S)),e.xp6(1),e.Q6J("disableOnTouchDevice",!0)}}function t(g,Z){if(1&g){const S=e.EpF();e.TgZ(0,"li",31)(1,"div",33),e.NdJ("click",function(){e.CHM(S);const M=e.oxw().index,B=e.oxw(2);return e.KtG(B.remove(M))}),e._uU(2," highlight_off "),e.qZA()()}if(2&g){const S=e.oxw();e.Q6J("ngClass",e.VKq(2,o,!(S.first&&S.last))),e.xp6(1),e.Q6J("disableOnTouchDevice",!0)}}const c=function(g){return{"mb-3":g}},d=function(g){return{"has-error":g}};function _(g,Z){if(1&g&&(e.TgZ(0,"li",22)(1,"fieldset",23)(2,"legend",24)(3,"div",25)(4,"div",26),e._uU(5),e.qZA(),e.TgZ(6,"ul",27),e.YNc(7,r,3,1,"li",28),e.YNc(8,l,3,4,"li",29),e.YNc(9,t,3,4,"li",29),e.qZA()()(),e._UZ(10,"formly-field",19),e.qZA()()),2&g){const S=Z.$implicit,x=Z.index,M=Z.first,B=Z.last;e.Q6J("ngClass",e.VKq(7,c,!B)),e.xp6(1),e.Q6J("ngClass",e.VKq(9,d,null==S.formControl?null:S.formControl.invalid)),e.xp6(4),e.hij("#",x+1,""),e.xp6(2),e.Q6J("ngIf",!M),e.xp6(1),e.Q6J("ngIf",!B),e.xp6(1),e.Q6J("ngIf",S.props&&!1!==S.props.removable),e.xp6(1),e.Q6J("field",S)}}function O(g,Z){if(1&g&&(e.TgZ(0,"ul",20),e.YNc(1,_,11,11,"li",21),e.qZA()),2&g){const S=e.oxw();e.xp6(1),e.Q6J("ngForOf",S.field.fieldGroup)}}const k=function(g){return{"d-none d-md-inline":g}};function v(g,Z){if(1&g&&(e.TgZ(0,"span"),e._uU(1),e.qZA(),e.TgZ(2,"span",31),e._uU(3),e.qZA()),2&g){const S=e.oxw();e.xp6(1),e.Oqu(S.field.fieldGroup?S.field.fieldGroup.length:0),e.xp6(1),e.Q6J("ngClass",e.VKq(3,k,S.props.label)),e.xp6(1),e.hij(" element",S.field.fieldGroup&&1===S.field.fieldGroup.length?"o":"i","")}}const p=function(){return[10,10]},h=function(g){return{placement:"top-end",offset:g}};let T=(()=>{var g;class Z extends w.hv{constructor(x){super(),this.customFormUtilsService=x,this.parsedTitle="",this.parsedDescription=""}ngOnInit(){this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):"",this.parsedTitle=this.props.label?this.customFormUtilsService.parseBBCode(this.props.label):""}get maxLengthExceeded(){return this.props.maxItems&&this.model&&this.model.length>=this.props.maxItems}move(x,M){const B=this.model[x];this.remove(x),this.add(M,B)}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(C.d6))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-array"]],features:[e.qOj],decls:16,vars:14,consts:[[1,"rounded","px-3","pb-3","pt-2","mb-3","formly-fieldset",3,"ngClass"],[1,"legend-reset","pb-1","px-2","mb-0","mw-100"],[1,"d-flex","align-items-center","mw-100"],[4,"ngIf","ngIfElse"],["nolabel",""],["class","mb-2 text-justify",3,"innerHTML",4,"ngIf"],["class","alert alert-danger formly-field-array-error text-center","role","alert",3,"ngClass",4,"ngIf"],["class","list-unstyled mb-3",4,"ngIf"],[1,"d-flex","flex-row-reverse"],["appTippy","Hai aggiunto il numero massimo di elementi!",3,"disableInstance","tippyProps"],["type","button",1,"btn","btn-primary","d-flex","align-items-center",3,"disabled","click"],[1,"material-icons"],["itemscount",""],[1,"fs-lg","text-truncate","mw-100",3,"innerHTML"],[1,"ms-2","fs-reset","lh-1","fst-italic","list-counter","text-nowrap"],[4,"ngTemplateOutlet"],[1,"fs-xl","text-truncate","mw-10"],[1,"mb-2","text-justify",3,"innerHTML"],["role","alert",1,"alert","alert-danger","formly-field-array-error","text-center",3,"ngClass"],[3,"field"],[1,"list-unstyled","mb-3"],["class","item",3,"ngClass",4,"ngFor","ngForOf"],[1,"item",3,"ngClass"],[1,"rounded","formly-fieldset","dashed","show-success","px-3",3,"ngClass"],[1,"legend-reset","ms-auto","mb-0","px-2"],[1,"d-flex","align-items-center"],[1,"fs-xl","ms-1"],[1,"ms-2","mb-0","item-icons","list-unstyled","d-flex","align-items-center"],[4,"ngIf"],[3,"ngClass",4,"ngIf"],["appTippy","Sposta in alto",1,"d-block","material-icons","cursor-pointer",3,"disableOnTouchDevice","click"],[3,"ngClass"],["appTippy","Sposta in basso",1,"d-block","material-icons","cursor-pointer",3,"disableOnTouchDevice","click"],["appTippy","Rimuovi",1,"d-block","material-icons","cursor-pointer","text-danger",3,"disableOnTouchDevice","click"]],template:function(x,M){if(1&x&&(e.TgZ(0,"fieldset",0)(1,"legend",1)(2,"div",2),e.YNc(3,a,6,2,"ng-container",3),e.YNc(4,i,3,1,"ng-template",null,4,e.W1O),e.qZA()(),e.YNc(6,f,1,1,"div",5),e.YNc(7,s,2,4,"div",6),e.YNc(8,O,2,1,"ul",7),e.TgZ(9,"div",8)(10,"div",9)(11,"button",10),e.NdJ("click",function(){return!M.maxLengthExceeded&&M.add()}),e.TgZ(12,"span",11),e._uU(13,"add"),e.qZA()()()(),e.YNc(14,v,4,5,"ng-template",null,12,e.W1O),e.qZA()),2&x){const B=e.MAs(5);e.Q6J("ngClass",e.VKq(9,d,M.formControl.invalid)),e.xp6(3),e.Q6J("ngIf",M.parsedTitle)("ngIfElse",B),e.xp6(3),e.Q6J("ngIf",M.parsedDescription),e.xp6(1),e.Q6J("ngIf",M.showError&&M.formControl.errors),e.xp6(1),e.Q6J("ngIf",M.field.fieldGroup&&M.field.fieldGroup.length),e.xp6(2),e.Q6J("disableInstance",!M.maxLengthExceeded)("tippyProps",e.VKq(12,h,e.DdM(11,p))),e.xp6(1),e.Q6J("disabled",M.maxLengthExceeded)}},dependencies:[y.mk,y.sg,y.O5,y.tP,w.cw,w.M2,E.$],styles:["legend[_ngcontent-%COMP%]   .item-icons[_ngcontent-%COMP%]{padding-top:.1rem}"]}),Z})();var N=b(1413),F=b(4020),D=b(6223),V=b(91),$=b(2181),j=b(8180),I=b(5619);const A=["language","theme"],q=["editor"];let L=(()=>{class g{constructor(S,x){this.ngZone=S,this.monacoPathConfig=x,this.isMonacoLoaded$=new I.X(!1),this._monacoPath="assets/monaco-editor/min/vs",window.monacoEditorAlreadyInitialized?S.run(()=>this.isMonacoLoaded$.next(!0)):(window.monacoEditorAlreadyInitialized=!0,this.monacoPathConfig&&(this.monacoPath=this.monacoPathConfig),this.loadMonaco())}set monacoPath(S){S&&(this._monacoPath=S)}loadMonaco(){const S=()=>{let G=this._monacoPath;window.amdRequire=window.require;const te=!!this.nodeRequire,oe=G.includes("http");te&&(window.require=this.nodeRequire,oe||(G=window.require("path").resolve(window.__dirname,this._monacoPath))),window.amdRequire.config({paths:{vs:G}}),window.amdRequire(["vs/editor/editor.main"],()=>{this.ngZone.run(()=>this.isMonacoLoaded$.next(!0))},le=>console.error("Error loading monaco-editor: ",le))};if(window.amdRequire)return S();window.require&&(this.addElectronFixScripts(),this.nodeRequire=window.require);const B=document.createElement("script");B.type="text/javascript",B.src=`${this._monacoPath}/loader.js`,B.addEventListener("load",S),document.body.appendChild(B)}addElectronFixScripts(){const S=document.createElement("script"),x=document.createTextNode("self.module = undefined;"),M=document.createTextNode("self.process.browser = true;");S.appendChild(x),S.appendChild(M),document.body.appendChild(S)}}return g.\u0275fac=function(S){return new(S||g)(e.LFG(e.R0b),e.LFG("MONACO_PATH",8))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),g})(),z=(()=>{class g{constructor(S){this.monacoLoader=S,this.init=new e.vpe,this.onTouched=()=>{},this.onErrorStatusChange=()=>{},this.propagateChange=()=>{}}get model(){return this.editor&&this.editor.getModel()}get modelMarkers(){return this.model&&monaco.editor.getModelMarkers({resource:this.model.uri})}ngOnInit(){this.monacoLoader.isMonacoLoaded$.pipe((0,$.h)(S=>S),(0,j.q)(1)).subscribe(()=>{this.initEditor()})}ngOnChanges(S){if(this.editor&&S.options&&!S.options.firstChange){const x=S.options.currentValue,{language:M,theme:B}=x,G=(0,V.Z)(x,A),{language:te,theme:oe}=S.options.previousValue;te!==M&&monaco.editor.setModelLanguage(this.editor.getModel(),this.options&&this.options.language?this.options.language:"text"),oe!==B&&monaco.editor.setTheme(B),this.editor.updateOptions(G)}if(this.editor&&S.uri){const x=S.uri.currentValue,M=S.uri.previousValue;if(M&&!x||!M&&x||x&&M&&x.path!==M.path){const B=this.editor.getValue();let G;this.modelUriInstance&&this.modelUriInstance.dispose(),x&&(G=monaco.editor.getModels().find(te=>te.uri.path===x.path)),this.modelUriInstance=G||monaco.editor.createModel(B,this.options.language||"text",this.uri),this.editor.setModel(this.modelUriInstance)}}}writeValue(S){this.value=S,this.editor&&S?this.editor.setValue(S):this.editor&&this.editor.setValue("")}registerOnChange(S){this.propagateChange=S}registerOnTouched(S){this.onTouched=S}validate(){return this.parsedError?{monaco:{value:this.parsedError.split("|")}}:null}registerOnValidatorChange(S){this.onErrorStatusChange=S}initEditor(){const S={value:[this.value].join("\n"),language:"text",automaticLayout:!0,scrollBeyondLastLine:!1,theme:"vc"};this.editor=monaco.editor.create(this.editorContent.nativeElement,this.options?(0,N.Z)((0,N.Z)({},S),this.options):S),this.registerEditorListeners(),this.init.emit(this.editor)}registerEditorListeners(){this.editor.onDidChangeModelContent(()=>{this.propagateChange(this.editor.getValue())}),this.editor.onDidChangeModelDecorations(()=>{const S=this.modelMarkers.map(({message:M})=>M).join("|");this.parsedError!==S&&(this.parsedError=S,this.onErrorStatusChange())}),this.editor.onDidBlurEditorText(()=>{this.onTouched()})}ngOnDestroy(){this.editor&&this.editor.dispose()}}return g.\u0275fac=function(S){return new(S||g)(e.Y36(L))},g.\u0275cmp=e.Xpm({type:g,selectors:[["ngx-monaco-editor"]],viewQuery:function(S,x){if(1&S&&e.Gf(q,7),2&S){let M;e.iGM(M=e.CRH())&&(x.editorContent=M.first)}},inputs:{options:"options",uri:"uri"},outputs:{init:"init"},features:[e._Bn([{provide:D.JU,useExisting:(0,e.Gpc)(()=>g),multi:!0},{provide:D.Cf,useExisting:(0,e.Gpc)(()=>g),multi:!0}]),e.TTD],decls:4,vars:0,consts:[["fxFlex","",1,"editor-container"],["container",""],[1,"monaco-editor"],["editor",""]],template:function(S,x){1&S&&(e.TgZ(0,"div",0,1),e._UZ(2,"div",2,3),e.qZA())},styles:[".monaco-editor[_ngcontent-%COMP%]{position:absolute;top:0;bottom:0;left:0;right:0}.editor-container[_ngcontent-%COMP%]{overflow:hidden;position:relative;display:table;width:100%;height:100%;min-width:0}"],changeDetection:0}),g})(),X=(()=>{class g{}return g.\u0275fac=function(S){return new(S||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[[]]}),g})();function re(g,Z){if(1&g&&(e.ynx(0),e.TgZ(1,"textarea",2),e._uU(2,"            "),e.qZA(),e.BQk()),2&g){const S=e.oxw();e.xp6(1),e.ekj("is-invalid",S.showError),e.Q6J("formControl",S.formControl)("cols",1)("rows",10)("formlyAttributes",S.field)}}function ae(g,Z){1&g&&(e.ynx(0),e.TgZ(1,"p",4),e._UZ(2,"span",5),e.qZA(),e.BQk())}function se(g,Z){if(1&g&&e._UZ(0,"ngx-monaco-editor",6),2&g){const S=e.oxw(2);e.Udp("height",S.editorHeight),e.Q6J("options",S.editorOptions)("formControl",S.formControl)}}function de(g,Z){if(1&g&&(e.YNc(0,ae,3,0,"ng-container",0),e.YNc(1,se,1,4,"ng-template",null,3,e.W1O)),2&g){const S=e.MAs(2),x=e.oxw();e.Q6J("ngIf",x.loading)("ngIfElse",S)}}let he=(()=>{var g;class Z extends w.fS{constructor(){super(...arguments),this.touchDevice=F.b1,this.editorOptions={theme:"vs-dark",language:"json"},this.loading=!0,this.editorHeight="350px"}ngOnInit(){this.touchDevice||(this.field.props.editorOptions&&(this.field.props.editorOptions.height&&(this.editorHeight=this.field.props.editorOptions.height,delete this.field.props.editorOptions.height),this.editorOptions=(0,N.Z)((0,N.Z)({},this.editorOptions),this.field.props.editorOptions)),this.loading=!1)}}return(g=Z).\u0275fac=function(){let S;return function(M){return(S||(S=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-code-editor-type"]],features:[e.qOj],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["notTouchDevice",""],[1,"form-control",3,"formControl","cols","rows","formlyAttributes"],["codeEditor",""],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],[1,"d-block","formly-code-editor",3,"options","formControl"]],template:function(x,M){if(1&x&&(e.YNc(0,re,3,6,"ng-container",0),e.YNc(1,de,3,2,"ng-template",null,1,e.W1O)),2&x){const B=e.MAs(2);e.Q6J("ngIf",M.touchDevice)("ngIfElse",B)}},dependencies:[y.O5,w.JD,D.Fj,D.JJ,D.oH,z],encapsulation:2}),Z})();var pe=b(5861),ve=b(8784);function K(g,Z){if(1&g){const S=e.EpF();e.ynx(0),e.TgZ(1,"div",4),e.NdJ("click",function(){e.CHM(S);const M=e.oxw();return e.KtG(M.formControl.setValue(void 0))}),e._uU(2,"highlight_off"),e.qZA(),e.BQk()}}function W(g,Z){1&g&&(e.ynx(0),e.TgZ(1,"p",5),e._UZ(2,"span",6),e.qZA(),e.BQk())}function ne(g,Z){if(1&g&&e._UZ(0,"option",10),2&g){const S=Z.$implicit;e.Q6J("ngValue",S.id||S.name)("innerText",S.name)}}function ie(g,Z){if(1&g&&(e.ynx(0),e.TgZ(1,"select",8),e.YNc(2,ne,1,2,"option",9),e.qZA(),e.BQk()),2&g){const S=e.oxw(2);e.xp6(1),e.ekj("is-invalid",S.showError),e.Q6J("formControl",S.formControl)("formlyAttributes",S.field),e.xp6(1),e.Q6J("ngForOf",S.groupsList)}}function ee(g,Z){if(1&g&&e._UZ(0,"option",10),2&g){const S=Z.$implicit;e.Q6J("ngValue",S.id||S.name)("innerText",S.name)}}function ue(g,Z){if(1&g&&(e.TgZ(0,"select",11),e.YNc(1,ee,1,2,"option",9),e.qZA()),2&g){const S=e.oxw(2);e.ekj("is-invalid",S.showError),e.Q6J("formControl",S.formControl)("formlyAttributes",S.field),e.xp6(1),e.Q6J("ngForOf",S.groupsList)}}function fe(g,Z){if(1&g&&(e.YNc(0,ie,3,5,"ng-container",2),e.YNc(1,ue,2,5,"ng-template",null,7,e.W1O)),2&g){const S=e.MAs(2),x=e.oxw();e.Q6J("ngIf",x.field.props.multiple)("ngIfElse",S)}}const ce=function(g){return{"no-label":g}};let _e=(()=>{var g;class Z extends w.fS{constructor(x,M){super(),this.forumService=x,this.changeDetectorRef=M,this.loading=!0,this.groupsList=[]}ngOnInit(){var x=this;return(0,pe.Z)(function*(){x.field.defaultValue=void 0,(0,C.o8)(x.field.props,"multiple")||(x.field.props.multiple=!0),x.groupsList=(yield x.forumService.getGroups()).sort((M,B)=>M.name.localeCompare(B.name)),x.field.props.keepGroupsWithoutId||(x.groupsList=x.groupsList.filter(M=>M.id>0)),x.loading=!1,x.field.formControl.updateValueAndValidity(),x.changeDetectorRef.detectChanges()})()}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(ve._),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-groups"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"position-relative","wrapper",3,"ngClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["formSelect",""],[1,"reset-icon","position-absolute","cursor-pointer","d-block","material-icons","text-danger",3,"click"],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],["single",""],["multiple","",1,"form-select",3,"formControl","formlyAttributes"],[3,"ngValue","innerText",4,"ngFor","ngForOf"],[3,"ngValue","innerText"],[1,"form-select",3,"formControl","formlyAttributes"]],template:function(x,M){if(1&x&&(e.TgZ(0,"div",0),e.YNc(1,K,3,0,"ng-container",1),e.YNc(2,W,3,0,"ng-container",2),e.YNc(3,fe,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&x){const B=e.MAs(4);e.Q6J("ngClass",e.VKq(4,ce,!M.props.label)),e.xp6(1),e.Q6J("ngIf",!M.props.label||void 0!==M.formControl.value),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,w.JD,D.YN,D.Kr,D.EJ,D.K7,D.JJ,D.oH],styles:[".reset-icon[_ngcontent-%COMP%]{right:0}.wrapper[_ngcontent-%COMP%]:not(.no-label)   .reset-icon[_ngcontent-%COMP%]{top:calc(-24px - .45rem)}.no-label[_ngcontent-%COMP%]{padding-top:calc(24px + .45rem)}.no-label[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{top:0}"]}),Z})();var Oe=b(1410),me=b(8645);const Me=[{value:C.ig.FORUMFREE,placeholder:"ForumFree"},{value:C.ig.FORUMCOMMUNITY,placeholder:"ForumCommunity"},{value:C.ig.BLOGFREE,placeholder:"BlogFree"}];function ye(g,Z){if(1&g&&e._UZ(0,"option",2),2&g){const S=Z.$implicit;e.Q6J("ngValue",S.value)("innerText",S.placeholder)}}let Ee=(()=>{var g;class Z{constructor(){this.model=C.ig.FORUMFREE,this.modelChange=new e.vpe,this.options=Me}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-domain-select"]],inputs:{model:"model"},outputs:{modelChange:"modelChange"},decls:2,vars:2,consts:[[1,"form-select",3,"ngModel","ngModelChange"],[3,"ngValue","innerText",4,"ngFor","ngForOf"],[3,"ngValue","innerText"]],template:function(x,M){1&x&&(e.TgZ(0,"select",0),e.NdJ("ngModelChange",function(G){return M.model=G})("ngModelChange",function(G){return M.modelChange.emit(G)}),e.YNc(1,ye,1,2,"option",1),e.qZA()),2&x&&(e.Q6J("ngModel",M.model),e.xp6(1),e.Q6J("ngForOf",M.options))},dependencies:[y.sg,D.YN,D.Kr,D.EJ,D.JJ,D.On],encapsulation:2}),Z})();var De=b(7827),ze=b(9473),Ye=b(7357);function Ge(g,Z){1&g&&(e.TgZ(0,"div",4),e._UZ(1,"app-loader",5),e.qZA())}function Ke(g,Z){1&g&&e._UZ(0,"div",8),2&g&&e.Q6J("innerText","Nessun elemento inserito!")}function We(g,Z){if(1&g){const S=e.EpF();e.TgZ(0,"li")(1,"a",11)(2,"div",12),e.NdJ("click",function(M){const G=e.CHM(S).index,te=e.oxw(3);return e.KtG(te.remove(G,M))}),e.TgZ(3,"div",13),e._uU(4," remove "),e.qZA()(),e._UZ(5,"img",14),e.ALo(6,"uploadsreplace"),e.qZA(),e._UZ(7,"a",15),e.qZA()}if(2&g){const S=Z.$implicit,x=e.oxw(3);e.Gre("d-flex flex-column align-items-center item-",S.type,""),e.xp6(1),e.Q6J("href",S.link,e.LSH),e.xp6(1),e.Q6J("disableOnTouchDevice",!0),e.xp6(3),e.s9C("alt",S.title),e.Q6J("src",x.lazyImagePlaceholder,e.LSH)("lazyLoad",e.lcZ(6,12,S.image))("offset",100)("errorImage",x.defaultImage),e.xp6(2),e.Q6J("innerHTML",S.title,e.oJD)("href",S.link,e.LSH)}}function $e(g,Z){if(1&g&&(e.TgZ(0,"ul",9),e.YNc(1,We,8,14,"li",10),e.qZA()),2&g){const S=e.oxw(2);e.xp6(1),e.Q6J("ngForOf",S.list)}}function Xe(g,Z){if(1&g&&(e.YNc(0,Ke,1,1,"div",6),e.YNc(1,$e,2,1,"ng-template",null,7,e.W1O)),2&g){const S=e.MAs(2),x=e.oxw();e.Q6J("ngIf",0===x.list.length)("ngIfElse",S)}}const et=function(g){return{"empty-list":g}};let tt=(()=>{var g;class Z{constructor(){this.list=[],this.defaultImage="/assets/default_avatar.png",this.loading=!0,this.removeEvent=new e.vpe,this.lazyImagePlaceholder=F.Qi}remove(x,M){M.preventDefault(),M.stopPropagation();const B=this.list[x].id;this.list.splice(x,1),this.list=[...this.list],this.removeEvent.emit(B)}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-typeahead-content"]],inputs:{list:"list",listTitle:"listTitle",defaultImage:"defaultImage",loading:"loading"},outputs:{removeEvent:"removeEvent"},decls:5,vars:6,consts:[[1,"formly-list-container","rounded","px-3","pt-2","mt-2",3,"ngClass"],[1,"legend-reset","fs-reset","mb-0","px-2","pb-1",3,"innerText"],["class","d-flex justify-content-center",4,"ngIf","ngIfElse"],["content",""],[1,"d-flex","justify-content-center"],["message","Recupero dei dati"],["class","text-center mb-0 px-1 pb-1 fst-italic",3,"innerText",4,"ngIf","ngIfElse"],["noEmpty",""],[1,"text-center","mb-0","px-1","pb-1","fst-italic",3,"innerText"],[1,"formly-list","list-unstyled","mb-0","d-grid","px-2"],[3,"class",4,"ngFor","ngForOf"],["target","_blank",1,"preview","rounded-circle","d-block","position-relative",3,"href"],["appTippy","Rimuovi",1,"remove-btn","alert","alert-danger","position-absolute","cursor-pointer","mb-0","py-0","px-1",3,"disableOnTouchDevice","click"],[1,"material-icons","d-block","fs-reset"],[1,"d-block","image-cover","rounded-circle",3,"src","lazyLoad","offset","errorImage","alt"],["target","_blank",1,"d-block","fw-bold","mt-1","item-title","text-truncate","mw-100",3,"innerHTML","href"]],template:function(x,M){if(1&x&&(e.TgZ(0,"fieldset",0),e._UZ(1,"legend",1),e.YNc(2,Ge,2,0,"div",2),e.YNc(3,Xe,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&x){const B=e.MAs(4);e.Q6J("ngClass",e.VKq(4,et,0===M.list.length)),e.xp6(1),e.Q6J("innerText",M.listTitle),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,De.z1,ze.R,E.$,Ye.g],styles:[".formly-list-container[_ngcontent-%COMP%]{border:1px dashed var(--bs-gray-500)}.formly-list-container[_ngcontent-%COMP%]:not(.empty-list){padding-bottom:.75rem}.formly-list-container.empty-list[_ngcontent-%COMP%]{padding-bottom:1rem}.formly-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(60px,1fr));gap:1rem}.formly-list[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{top:0;left:-8px}.formly-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:60px;height:60px;border:2px solid}.formly-list[_ngcontent-%COMP%]   .item-ff[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#58a72e}.formly-list[_ngcontent-%COMP%]   .item-ff[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#58a72e!important}.formly-list[_ngcontent-%COMP%]   .item-fc[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#0082cd}.formly-list[_ngcontent-%COMP%]   .item-fc[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#0082cd!important}.formly-list[_ngcontent-%COMP%]   .item-bf[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{border-color:#e67f22}.formly-list[_ngcontent-%COMP%]   .item-bf[_ngcontent-%COMP%]   .item-title[_ngcontent-%COMP%]{color:#e67f22!important}@media (min-width: 960px){.formly-list[_ngcontent-%COMP%]{grid-template-columns:repeat(auto-fill,minmax(75px,1fr));gap:1.5rem}.formly-list[_ngcontent-%COMP%]   .remove-btn[_ngcontent-%COMP%]{top:4px}.formly-list[_ngcontent-%COMP%]   .preview[_ngcontent-%COMP%]{width:75px;height:75px}}"]}),Z})();var nt=b(1378),Fe=b(3620),rt=b(3997),ot=b(3019),je=b(9397),lt=b(4664),at=b(2096),st=b(1993),ut=b(5661),xe=b(8726);function ft(g,Z){1&g&&(e.TgZ(0,"span",8),e._uU(1,"*"),e.qZA())}function ct(g,Z){if(1&g&&(e.TgZ(0,"legend",5)(1,"label",6),e._uU(2),e.YNc(3,ft,2,0,"span",7),e.qZA()()),2&g){const S=e.oxw();e.xp6(1),e.Q6J("for",S.field.id),e.xp6(1),e.hij(" ",S.props.label," "),e.xp6(1),e.Q6J("ngIf",S.props.required)}}function dt(g,Z){1&g&&e.GkF(0)}function ht(g,Z){1&g&&e.GkF(0)}function pt(g,Z){if(1&g&&e._UZ(0,"div",9),2&g){const S=e.oxw();e.Q6J("innerHTML",S.parsedDescription,e.oJD)}}function mt(g,Z){1&g&&(e.TgZ(0,"div",16)(1,"span",17),e._uU(2,"Loading..."),e.qZA()())}function vt(g,Z){1&g&&e.GkF(0)}function yt(g,Z){if(1&g&&(e.ynx(0),e.TgZ(1,"div",18),e.YNc(2,vt,1,0,"ng-container",2),e.qZA(),e.BQk()),2&g){const S=e.oxw(2);e.xp6(2),e.Q6J("ngTemplateOutlet",S.additionalInputsTemplate)}}function gt(g,Z){if(1&g&&(e.TgZ(0,"div",19),e._UZ(1,"formly-validation-message",20),e.qZA()),2&g){const S=e.oxw(2);e.Udp("display","block"),e.xp6(1),e.Q6J("field",S.field)}}function bt(g,Z){if(1&g){const S=e.EpF();e.TgZ(0,"div",10)(1,"div",11)(2,"input",12),e.NdJ("ngModelChange",function(M){e.CHM(S);const B=e.oxw();return e.KtG(B.inputValue=M)})("selectItem",function(M){e.CHM(S);const B=e.oxw();return e.KtG(B.selectEntity(M))})("focus",function(M){e.CHM(S);const B=e.oxw();return e.KtG(B.focusSubject.next(M.target.value))}),e.qZA(),e.YNc(3,mt,3,0,"div",13),e.qZA(),e.YNc(4,yt,3,1,"ng-container",14),e.qZA(),e.YNc(5,gt,2,3,"div",15)}if(2&g){const S=e.oxw();e.xp6(2),e.ekj("is-invalid",S.showError),e.Q6J("ngModel",S.inputValue)("formlyAttributes",S.field)("ngbTypeahead",S.search)("editable",!1)("inputFormatter",S.inputFormatter)("resultFormatter",S.resultFormatter),e.xp6(1),e.Q6J("ngIf",S.searching),e.xp6(1),e.Q6J("ngIf",S.additionalInputsTemplate),e.xp6(1),e.Q6J("ngIf",S.showError)}}let _t=(()=>{var g;class Z{constructor(x,M,B,G){this.customFormUtilsService=x,this.changeDetectorRef=M,this.toastService=B,this.destroyRef=G,this.showError=!1,this.selectItemEvent=new e.vpe,this.populateListEvent=new e.vpe,this.inputValue="",this.inputFormatter=te=>te.name,this.focusSubject=new me.x,this.searching=!1,this.formlyFieldValues=[],this.search=te=>{const oe=te.pipe((0,Fe.b)(700),(0,rt.x)());return(0,ot.T)(oe,this.focusSubject).pipe((0,je.b)(()=>this.setSearching(!0)),(0,lt.w)(le=>le.length<3?(0,at.of)([]):this.searchFunction(le)),(0,je.b)(()=>this.setSearching(!1)))}}ngOnInit(){this.formControl=this.field.formControl,this.props=this.field.props,this.parsedDescription=this.props.description?this.customFormUtilsService.parseBBCode(this.props.description):void 0,this.formlyFieldValues=Array.isArray(this.formControl.value)?this.formControl.value:Array.isArray(this.field.defaultValue)?this.field.defaultValue:[],this.populateListEvent.emit(this.formlyFieldValues),this.formControl.updateValueAndValidity(),this.removeItemObservable.pipe((0,st.sL)(this.destroyRef)).subscribe(x=>{const M=this.formlyFieldValues.indexOf(x);M>-1&&(this.formlyFieldValues.splice(M,1),this.formControl.setValue([...this.formlyFieldValues]))})}resultFormatter(x){return x.name.indexOf("&")>-1?function it(g){const Z=document.createElement("TEXTAREA");return Z.innerHTML=g,Z.value}(x.name):x.name}setSearching(x){this.searching=x,this.changeDetectorRef.detectChanges()}selectEntity(x){const M=x.item;if(x.preventDefault(),this.formlyFieldValues.includes(M.id))return this.toastService.show({content:`L'elemento <strong>${M.name}</strong> \xe8 gi\xe0 stato aggiunto alla lista!`,level:nt.m.ERROR}),void(this.inputValue="");this.formlyFieldValues.push(M.id),this.selectItemEvent.emit(x.item),this.inputValue="",this.updateFieldValue()}updateFieldValue(){this.formControl.setValue([...this.formlyFieldValues])}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(C.d6),e.Y36(e.sBO),e.Y36(ut.k),e.Y36(e.ktI))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-typeahead"]],inputs:{field:"field",showError:"showError",removeItemObservable:"removeItemObservable",searchFunction:"searchFunction",resultsTemplate:"resultsTemplate",additionalInputsTemplate:"additionalInputsTemplate"},outputs:{selectItemEvent:"selectItemEvent",populateListEvent:"populateListEvent"},decls:7,vars:6,consts:[[1,"mb-3","rounded","px-3","pt-2","pb-3","formly-fieldset"],["class","legend-reset fs-reset mb-0 px-2 mw-100 lh-1 py-1",4,"ngIf"],[4,"ngTemplateOutlet"],["class","form-text text-muted",3,"innerHTML",4,"ngIf"],["typeaheadTemplate",""],[1,"legend-reset","fs-reset","mb-0","px-2","mw-100","lh-1","py-1"],[1,"form-label","mb-0","mw-100","text-truncate",3,"for"],["aria-hidden","true",4,"ngIf"],["aria-hidden","true"],[1,"form-text","text-muted",3,"innerHTML"],[1,"d-flex","flex-column","flex-sm-row"],[1,"position-relative","flex-grow-1"],["type","text","placeholder","Cerca...","container","body",1,"form-control",3,"ngModel","formlyAttributes","ngbTypeahead","editable","inputFormatter","resultFormatter","ngModelChange","selectItem","focus"],["class","spinner-border spinner-border-sm text-primary position-absolute","role","status",4,"ngIf"],[4,"ngIf"],["class","invalid-feedback",3,"display",4,"ngIf"],["role","status",1,"spinner-border","spinner-border-sm","text-primary","position-absolute"],[1,"visually-hidden"],[1,"ms-sm-3","mt-3","mt-sm-0"],[1,"invalid-feedback"],[3,"field"]],template:function(x,M){if(1&x&&(e.TgZ(0,"fieldset",0),e.YNc(1,ct,4,3,"legend",1),e.YNc(2,dt,1,0,"ng-container",2),e.YNc(3,ht,1,0,"ng-container",2),e.YNc(4,pt,1,1,"div",3),e.qZA(),e.YNc(5,bt,6,11,"ng-template",null,4,e.W1O)),2&x){const B=e.MAs(6);e.ekj("has-error",M.formControl.invalid),e.xp6(1),e.Q6J("ngIf",M.props.label),e.xp6(1),e.Q6J("ngTemplateOutlet",B),e.xp6(1),e.Q6J("ngTemplateOutlet",M.resultsTemplate),e.xp6(1),e.Q6J("ngIf",M.parsedDescription)}},dependencies:[y.O5,y.tP,w.JD,w.M2,D.Fj,D.JJ,D.On,xe.dR],styles:[".spinner-border[_ngcontent-%COMP%]{top:calc(50% - 8px);right:10px}"],changeDetection:0}),Z})();function Ot(g,Z){if(1&g){const S=e.EpF();e.TgZ(0,"app-formly-typeahead-content",3),e.NdJ("removeEvent",function(M){e.CHM(S);const B=e.oxw();return e.KtG(B.removeItemSubject.next(M))}),e.qZA()}if(2&g){const S=e.oxw();e.Q6J("listTitle",S.listTitle)("list",S.list)("loading",S.loading)("defaultImage",S.defaultThumb)}}function Et(g,Z){if(1&g){const S=e.EpF();e.TgZ(0,"app-domain-select",4),e.NdJ("modelChange",function(M){e.CHM(S);const B=e.oxw();return e.KtG(B.selectedDomain=M)}),e.qZA()}if(2&g){const S=e.oxw();e.Q6J("model",S.selectedDomain)}}let Be=(()=>{var g;class Z{constructor(x,M){var G,B=this;this.globalsService=x,this.changeDetectorRef=M,this.showError=!1,this.listTitle="",this.defaultThumb="/assets/default_avatar.png",this.removeItemSubject=new me.x,this.list=[],this.hasDomainSelect=!1,this.loading=!0,this.lastResults=[],this.search=function(){var te=(0,pe.Z)(function*(oe){return B.lastDomain===B.selectedDomain&&B.lastSearchedValueWithoutResult&&oe.startsWith(B.lastSearchedValueWithoutResult)?[]:(B.lastDomain=B.selectedDomain,B.lastResults=yield B.searchFunction(oe,(0,C.vV)(B.selectedDomain)),B.lastSearchedValueWithoutResult=B.lastResults.length?void 0:oe,B.lastResults.map(ge=>({id:ge.id,name:ge.title})))});return function(oe){return te.apply(this,arguments)}}(),this.selectedDomain=this.lastDomain=(null===(G=this.globalsService.credentials)||void 0===G?void 0:G.site.domain)||C.ig.FORUMFREE}ngOnInit(){this.hasDomainSelect=!0===this.field.props.selectDomain}populateListEvent(x){var M=this;return(0,pe.Z)(function*(){M.list=(yield M.populateFunction(x)).sort((B,G)=>B.title.localeCompare(G.title)),M.loading=!1,M.changeDetectorRef.detectChanges()})()}selectItemEvent(x){const M=this.lastResults.find(B=>B.id===x.id);M&&(this.list=[...this.list,this.createEntityFunction(M)])}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(Oe.d),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-formly-forum-typeahead"]],inputs:{field:"field",showError:"showError",listTitle:"listTitle",defaultThumb:"defaultThumb",searchFunction:"searchFunction",populateFunction:"populateFunction",createEntityFunction:"createEntityFunction"},decls:5,vars:6,consts:[[3,"field","showError","removeItemObservable","searchFunction","resultsTemplate","additionalInputsTemplate","populateListEvent","selectItemEvent"],["contentList",""],["circuitSelect",""],[3,"listTitle","list","loading","defaultImage","removeEvent"],[3,"model","modelChange"]],template:function(x,M){if(1&x&&(e.TgZ(0,"app-formly-typeahead",0),e.NdJ("populateListEvent",function(G){return M.populateListEvent(G)})("selectItemEvent",function(G){return M.selectItemEvent(G)}),e.qZA(),e.YNc(1,Ot,1,4,"ng-template",null,1,e.W1O),e.YNc(3,Et,1,1,"ng-template",null,2,e.W1O)),2&x){const B=e.MAs(2),G=e.MAs(4);e.Q6J("field",M.field)("showError",M.showError)("removeItemObservable",M.removeItemSubject)("searchFunction",M.search)("resultsTemplate",B)("additionalInputsTemplate",M.hasDomainSelect?G:void 0)}},dependencies:[Ee,tt,_t],encapsulation:2,changeDetection:0}),Z})(),Tt=(()=>{var g;class Z extends w.fS{constructor(x){var M;super(),M=this,this.forumService=x,this.defaultThumb="/assets/default_forum.jpg",this.search=function(){var B=(0,pe.Z)(function*(G,te){const oe=(0,C.$t)(te);return oe?(yield M.forumService.searchForumByName(G,te)).map(le=>({id:`${oe.shortdomain}${le.id}`,title:le.domain,preview:le.preview})):[]});return function(G,te){return B.apply(this,arguments)}}(),this.populateList=function(){var B=(0,pe.Z)(function*(G){const te=yield M.forumService.getForumDetailsFromCids(G),oe=(0,C.tX)(G,te.map(le=>le.cid));return[...te.map(le=>M.generateTypeaheadContentEntity(le.cid,le.domain,le.preview)),...oe.map(le=>M.generateTypeaheadContentEntity(le,le,M.defaultThumb,!0))]});return function(G){return B.apply(this,arguments)}}(),this.searchToTypeaheadContentEntity=B=>this.generateTypeaheadContentEntity(B.id,B.title,B.preview)}generateTypeaheadContentEntity(x,M,B,G=!1){const te=(0,C.$t)(x);if(!te)throw new Error(`Invalid cid ${x}!`);return{id:x,title:M,image:B,type:te.shortdomain,link:"https://"+(G?`${te.domain}/?cid=${te.id}`:`${M}.${te.domain}`)}}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(ve._))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-list"]],features:[e.qOj],decls:1,vars:6,consts:[["listTitle","Lista forum",3,"field","showError","defaultThumb","searchFunction","populateFunction","createEntityFunction"]],template:function(x,M){1&x&&e._UZ(0,"app-formly-forum-typeahead",0),2&x&&e.Q6J("field",M.field)("showError",M.showError)("defaultThumb",M.defaultThumb)("searchFunction",M.search)("populateFunction",M.populateList)("createEntityFunction",M.searchToTypeaheadContentEntity)},dependencies:[Be],encapsulation:2,changeDetection:0}),Z})();function xt(g,Z){if(1&g){const S=e.EpF();e.ynx(0),e.TgZ(1,"div",4),e.NdJ("click",function(){e.CHM(S);const M=e.oxw();return e.KtG(M.formControl.setValue(void 0))}),e._uU(2,"highlight_off"),e.qZA(),e.BQk()}}function wt(g,Z){1&g&&(e.ynx(0),e.TgZ(1,"p",5),e._UZ(2,"span",6),e.qZA(),e.BQk())}function At(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&g){const S=Z.$implicit;e.xp6(1),e.Q6J("ngValue",S.id)("innerHTML"," - "+S.name,e.oJD)}}function Ct(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,At,2,2,"ng-container",9),e.BQk()),2&g){const S=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",S.subsections)}}function St(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.YNc(2,Ct,2,1,"ng-container",1),e.BQk()),2&g){const S=Z.$implicit;e.xp6(1),e.Q6J("ngValue",S.id)("innerHTML",S.name,e.oJD),e.xp6(1),e.Q6J("ngIf",S.subsections&&S.subsections.length)}}function kt(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&g){const S=Z.$implicit;e.xp6(1),e.Q6J("ngValue",S)("innerHTML"," -- Sezione ristretta -- #"+S,e.oJD)}}function Nt(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,kt,2,2,"ng-container",9),e.BQk()),2&g){const S=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",S.restrictedOrDeletedSections)}}function Mt(g,Z){if(1&g&&(e.ynx(0),e.TgZ(1,"select",8),e.YNc(2,St,3,3,"ng-container",9),e.YNc(3,Nt,2,1,"ng-container",1),e.qZA(),e.BQk()),2&g){const S=e.oxw(2);e.xp6(1),e.ekj("is-invalid",S.showError),e.Q6J("formControl",S.formControl)("formlyAttributes",S.field),e.xp6(1),e.Q6J("ngForOf",S.sectionsList),e.xp6(1),e.Q6J("ngIf",S.restrictedOrDeletedSections.length>0)}}function Ft(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&g){const S=Z.$implicit;e.xp6(1),e.Q6J("ngValue",S.id)("innerHTML"," - "+S.name,e.oJD)}}function Lt(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,Ft,2,2,"ng-container",9),e.BQk()),2&g){const S=e.oxw().$implicit;e.xp6(1),e.Q6J("ngForOf",S.subsections)}}function Pt(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.YNc(2,Lt,2,1,"ng-container",1),e.BQk()),2&g){const S=Z.$implicit;e.xp6(1),e.Q6J("ngValue",S.id)("innerHTML",S.name,e.oJD),e.xp6(1),e.Q6J("ngIf",S.subsections&&S.subsections.length)}}function qt(g,Z){if(1&g&&(e.ynx(0),e._UZ(1,"option",10),e.BQk()),2&g){const S=Z.$implicit;e.xp6(1),e.Q6J("ngValue",S)("innerHTML"," -- Sezione ristretta -- #"+S,e.oJD)}}function It(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,qt,2,2,"ng-container",9),e.BQk()),2&g){const S=e.oxw(3);e.xp6(1),e.Q6J("ngForOf",S.restrictedOrDeletedSections)}}function Rt(g,Z){if(1&g&&(e.TgZ(0,"select",11),e.YNc(1,Pt,3,3,"ng-container",9),e.YNc(2,It,2,1,"ng-container",1),e.qZA()),2&g){const S=e.oxw(2);e.ekj("is-invalid",S.showError),e.Q6J("formControl",S.formControl)("formlyAttributes",S.field),e.xp6(1),e.Q6J("ngForOf",S.sectionsList),e.xp6(1),e.Q6J("ngIf",S.restrictedOrDeletedSections.length>0)}}function Dt(g,Z){if(1&g&&(e.YNc(0,Mt,4,6,"ng-container",2),e.YNc(1,Rt,3,6,"ng-template",null,7,e.W1O)),2&g){const S=e.MAs(2),x=e.oxw();e.Q6J("ngIf",x.field.props.multiple)("ngIfElse",S)}}const jt=function(g){return{"no-label":g}};let Bt=(()=>{var g;class Z extends w.fS{constructor(x,M){super(),this.forumService=x,this.changeDetectorRef=M,this.loading=!0,this.sectionsList=[],this.restrictedOrDeletedSections=[]}ngOnInit(){var x=this;return(0,pe.Z)(function*(){x.field.defaultValue=void 0,(0,C.o8)(x.field.props,"multiple")||(x.field.props.multiple=!0),x.restrictedOrDeletedSections=Array.isArray(x.field.formControl.value)?[...x.field.formControl.value]:[];const M=yield x.forumService.getSections();x.sectionsList=M.map(B=>{const G=x.restrictedOrDeletedSections.indexOf(B.id);return G>-1&&x.restrictedOrDeletedSections.splice(G,1),(0,N.Z)((0,N.Z)({},B),{subsections:x.flattenSubsections(B)})}),x.loading=!1,x.field.formControl.updateValueAndValidity(),x.changeDetectorRef.detectChanges()})()}flattenSubsections(x){let M=[],B=-1;if(x.subsections&&x.subsections.length)for(const G of x.subsections)B=this.restrictedOrDeletedSections.indexOf(G.id),B>-1&&this.restrictedOrDeletedSections.splice(B,1),M.push(G),G.subsections&&(M=[...M,...this.flattenSubsections(G)]);return M}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(ve._),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-sections"]],features:[e.qOj],decls:5,vars:6,consts:[[1,"position-relative","wrapper",3,"ngClass"],[4,"ngIf"],[4,"ngIf","ngIfElse"],["formSelect",""],[1,"reset-icon","position-absolute","cursor-pointer","d-block","material-icons","text-danger",3,"click"],[1,"placeholder-glow"],[1,"placeholder","col-12","placeholder-lg"],["single",""],["multiple","",1,"form-select",3,"formControl","formlyAttributes"],[4,"ngFor","ngForOf"],[3,"ngValue","innerHTML"],[1,"form-select",3,"formControl","formlyAttributes"]],template:function(x,M){if(1&x&&(e.TgZ(0,"div",0),e.YNc(1,xt,3,0,"ng-container",1),e.YNc(2,wt,3,0,"ng-container",2),e.YNc(3,Dt,3,2,"ng-template",null,3,e.W1O),e.qZA()),2&x){const B=e.MAs(4);e.Q6J("ngClass",e.VKq(4,jt,!M.props.label)),e.xp6(1),e.Q6J("ngIf",!M.props.label||void 0!==M.formControl.value),e.xp6(1),e.Q6J("ngIf",M.loading)("ngIfElse",B)}},dependencies:[y.mk,y.sg,y.O5,w.JD,D.YN,D.Kr,D.EJ,D.K7,D.JJ,D.oH],styles:[".reset-icon[_ngcontent-%COMP%]{right:0}.wrapper[_ngcontent-%COMP%]:not(.no-label)   .reset-icon[_ngcontent-%COMP%]{top:calc(-24px - .45rem)}.no-label[_ngcontent-%COMP%]{padding-top:calc(24px + .45rem)}.no-label[_ngcontent-%COMP%]   .reset-icon[_ngcontent-%COMP%]{top:0}"]}),Z})();var Ut=b(8418);let Zt=(()=>{var g;class Z extends w.fS{constructor(x){var M;super(),M=this,this.userService=x,this.defaultThumb="/assets/default_avatar.png",this.search=function(){var B=(0,pe.Z)(function*(G,te){return(yield M.userService.searchUserByName(G,te)).map(oe=>({id:oe.uid,title:oe.nickname,preview:oe.avatar}))});return function(G,te){return B.apply(this,arguments)}}(),this.populateList=function(){var B=(0,pe.Z)(function*(G){const te=yield M.userService.getDetailsFromUids(G),oe=(0,C.tX)(G,te.map(le=>le.uid));return[...te.map(le=>M.generateTypeaheadContentEntity(le.uid,le.nickname,le.avatar)),...oe.map(le=>M.generateTypeaheadContentEntity(le,le,M.defaultThumb))]});return function(G){return B.apply(this,arguments)}}(),this.searchToTypeaheadContentEntity=B=>this.generateTypeaheadContentEntity(B.id,B.title,B.preview)}generateTypeaheadContentEntity(x,M,B){const G=x.substring(0,2),te=(0,C.A)(G);if(!te)throw new Error(`Invalid uid ${x}!`);return{id:x,title:M,image:B,type:G,link:`${te}/?act=Profile&MID=${x.substring(2)}`}}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(Ut.K))},g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-forum-users"]],features:[e.qOj],decls:1,vars:6,consts:[["listTitle","Lista utenti",3,"field","showError","defaultThumb","searchFunction","populateFunction","createEntityFunction"]],template:function(x,M){1&x&&e._UZ(0,"app-formly-forum-typeahead",0),2&x&&e.Q6J("field",M.field)("showError",M.showError)("defaultThumb",M.defaultThumb)("searchFunction",M.search)("populateFunction",M.populateList)("createEntityFunction",M.searchToTypeaheadContentEntity)},dependencies:[Be],encapsulation:2,changeDetection:0}),Z})(),Vt=(()=>{var g;class Z extends w.fS{constructor(){super(...arguments),this.defaultOptions={props:{label:""}}}}return(g=Z).\u0275fac=function(){let S;return function(M){return(S||(S=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-label"]],features:[e.qOj],decls:2,vars:1,template:function(x,M){1&x&&(e.TgZ(0,"h5"),e._uU(1),e.qZA()),2&x&&(e.xp6(1),e.Oqu(M.props.label))},encapsulation:2,changeDetection:0}),Z})();const Le={toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},Pe=new e.OlP("config",{providedIn:"root",factory:()=>({modules:Le})});var qe=b(6593),Ht=b(4911),Jt=b(2664),Qt=b(4036),zt=b(7394),Ie=b(2438),Yt=b(7081),Ue=b(9769);function Gt(g,Z){1&g&&e._UZ(0,"pre",3)}function Kt(g,Z){if(1&g&&e.YNc(0,Gt,1,0,"pre",2),2&g){const S=e.oxw(),x=e.MAs(6);e.Q6J("ngIf",S.preserve)("ngIfElse",x)}}function Wt(g,Z){1&g&&e._UZ(0,"pre",3)}function $t(g,Z){if(1&g&&e.YNc(0,Wt,1,0,"pre",2),2&g){const S=e.oxw(),x=e.MAs(6);e.Q6J("ngIf",S.preserve)("ngIfElse",x)}}function Xt(g,Z){1&g&&e._UZ(0,"div",3)}const en=[[["","above-quill-editor-toolbar",""]],[["","quill-editor-toolbar",""]],[["","below-quill-editor-toolbar",""]]],tn=["[above-quill-editor-toolbar]","[quill-editor-toolbar]","[below-quill-editor-toolbar]"];function nn(g,Z){1&g&&e._UZ(0,"div",1)}function rn(g,Z){1&g&&e._UZ(0,"pre",1)}const Ce=(g,Z)=>g||Z||"html";let Re=(()=>{var g;class Z{constructor(x,M){var B=this;this.config=M,this.quill$=(0,Ht.P)((0,pe.Z)(function*(){var G;if(!B.Quill){const te=B.document.addEventListener;B.document.addEventListener=B.document.__zone_symbol__addEventListener||B.document.addEventListener;const oe=yield Promise.resolve().then(b.t.bind(b,7536,19));B.document.addEventListener=te,B.Quill=oe.default?oe.default:oe}return null===(G=B.config.customOptions)||void 0===G||G.forEach(te=>{const oe=B.Quill.import(te.import);oe.whitelist=te.whitelist,B.Quill.register(oe,!0,B.config.suppressGlobalRegisterWarning)}),yield B.registerCustomModules(B.Quill,B.config.customModules,B.config.suppressGlobalRegisterWarning)})).pipe((0,Yt.d)({bufferSize:1,refCount:!0})),this.document=x.get(y.K0),this.config||(this.config={modules:Le})}getQuill(){return this.quill$}registerCustomModules(x,M,B){return(0,pe.Z)(function*(){if(Array.isArray(M))for(let{implementation:G,path:te}of M)(0,Jt.b)(G)&&(G=yield(0,Qt.z)(G)),x.register(te,G,B);return x})()}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.LFG(e.zs3),e.LFG(Pe,8))},g.\u0275prov=e.Yz7({token:g,factory:g.\u0275fac,providedIn:"root"}),Z})(),on=(()=>{var g;class Z{constructor(){this.required=!1,this.customToolbarPosition="top",this.styles=null,this.strict=!0,this.customOptions=[],this.customModules=[],this.preserveWhitespace=!1,this.trimOnValidation=!1,this.compareValues=!1,this.filterNull=!1,this.defaultEmptyValue=null,this.onEditorCreated=new e.vpe,this.onEditorChanged=new e.vpe,this.onContentChanged=new e.vpe,this.onSelectionChanged=new e.vpe,this.onFocus=new e.vpe,this.onBlur=new e.vpe,this.onNativeFocus=new e.vpe,this.onNativeBlur=new e.vpe,this.disabled=!1,this.preserve=!1,this.toolbarPosition="top",this.subscription=null,this.quillSubscription=null,this.elementRef=(0,e.f3M)(e.SBq),this.document=(0,e.f3M)(y.K0),this.cd=(0,e.f3M)(e.sBO),this.domSanitizer=(0,e.f3M)(qe.H7),this.platformId=(0,e.f3M)(e.Lbi),this.renderer=(0,e.f3M)(e.Qsj),this.zone=(0,e.f3M)(e.R0b),this.service=(0,e.f3M)(Re),this.valueGetter=(x,M)=>{let B=M.querySelector(".ql-editor").innerHTML;("<p><br></p>"===B||"<div><br></div>"===B)&&(B=this.defaultEmptyValue);let G=B;const te=Ce(this.format,this.service.config.format);if("text"===te)G=x.getText();else if("object"===te)G=x.getContents();else if("json"===te)try{G=JSON.stringify(x.getContents())}catch(oe){G=x.getText()}return G},this.valueSetter=(x,M)=>{const B=Ce(this.format,this.service.config.format);if("html"===B)return([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(M=this.domSanitizer.sanitize(e.q3G.HTML,M)),x.clipboard.convert(M);if("json"===B)try{return JSON.parse(M)}catch(G){return[{insert:M}]}return M},this.selectionChangeHandler=(x,M,B)=>{const G=this.trackChanges||this.service.config.trackChanges,te=!x&&!!this.onModelTouched&&("user"===B||G&&"all"===G);!this.onBlur.observed&&!this.onFocus.observed&&!this.onSelectionChanged.observed&&!te||this.zone.run(()=>{null===x?this.onBlur.emit({editor:this.quillEditor,source:B}):null===M&&this.onFocus.emit({editor:this.quillEditor,source:B}),this.onSelectionChanged.emit({editor:this.quillEditor,oldRange:M,range:x,source:B}),te&&this.onModelTouched(),this.cd.markForCheck()})},this.textChangeHandler=(x,M,B)=>{const G=this.quillEditor.getText(),te=this.quillEditor.getContents();let oe=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===oe||"<div><br></div>"===oe)&&(oe=this.defaultEmptyValue);const le=this.trackChanges||this.service.config.trackChanges,ge=("user"===B||le&&"all"===le)&&!!this.onModelChange;!this.onContentChanged.observed&&!ge||this.zone.run(()=>{ge&&this.onModelChange(this.valueGetter(this.quillEditor,this.editorElem)),this.onContentChanged.emit({content:te,delta:x,editor:this.quillEditor,html:oe,oldDelta:M,source:B,text:G}),this.cd.markForCheck()})},this.editorChangeHandler=(x,M,B,G)=>{if(this.onEditorChanged.observed)if("text-change"===x){const te=this.quillEditor.getText(),oe=this.quillEditor.getContents();let le=this.editorElem.querySelector(".ql-editor").innerHTML;("<p><br></p>"===le||"<div><br></div>"===le)&&(le=this.defaultEmptyValue),this.zone.run(()=>{this.onEditorChanged.emit({content:oe,delta:M,editor:this.quillEditor,event:x,html:le,oldDelta:B,source:G,text:te}),this.cd.markForCheck()})}else this.zone.run(()=>{this.onEditorChanged.emit({editor:this.quillEditor,event:x,oldRange:B,range:M,source:G}),this.cd.markForCheck()})}}static normalizeClassNames(x){return x.trim().split(" ").reduce((B,G)=>{const te=G.trim();return te&&B.push(te),B},[])}ngOnInit(){this.preserve=this.preserveWhitespace,this.toolbarPosition=this.customToolbarPosition}ngAfterViewInit(){(0,y.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,Ue.z)(x=>{var M;const B=[this.service.registerCustomModules(x,this.customModules)],G=null!==(M=this.beforeRender)&&void 0!==M?M:this.service.config.beforeRender;return G&&B.push(G()),Promise.all(B).then(()=>x)})).subscribe(x=>{this.editorElem=this.elementRef.nativeElement.querySelector("[quill-editor-element]");const M=this.elementRef.nativeElement.querySelector("[quill-editor-toolbar]"),B=Object.assign({},this.modules||this.service.config.modules);M?B.toolbar=M:void 0===B.toolbar&&(B.toolbar=Le.toolbar);let G=void 0!==this.placeholder?this.placeholder:this.service.config.placeholder;void 0===G&&(G="Insert text here ..."),this.styles&&Object.keys(this.styles).forEach(be=>{this.renderer.setStyle(this.editorElem,be,this.styles[be])}),this.classes&&this.addClasses(this.classes),this.customOptions.forEach(be=>{const we=x.import(be.import);we.whitelist=be.whitelist,x.register(we,!0)});let te=this.bounds&&"self"===this.bounds?this.editorElem:this.bounds;te||(te=this.service.config.bounds?this.service.config.bounds:this.document.body);let oe=this.debug;!oe&&!1!==oe&&this.service.config.debug&&(oe=this.service.config.debug);let le=this.readOnly;!le&&!1!==this.readOnly&&(le=void 0!==this.service.config.readOnly&&this.service.config.readOnly);let ge=this.defaultEmptyValue;this.service.config.hasOwnProperty("defaultEmptyValue")&&(ge=this.service.config.defaultEmptyValue);let Ae=this.scrollingContainer;!Ae&&null!==this.scrollingContainer&&(Ae=null===this.service.config.scrollingContainer||this.service.config.scrollingContainer?this.service.config.scrollingContainer:null);let Te=this.formats;if(!Te&&void 0===Te&&(Te=this.service.config.formats?[...this.service.config.formats]:null===this.service.config.formats?null:void 0),this.zone.runOutsideAngular(()=>{if(this.quillEditor=new x(this.editorElem,{bounds:te,debug:oe,formats:Te,modules:B,placeholder:G,readOnly:le,defaultEmptyValue:ge,scrollingContainer:Ae,strict:this.strict,theme:this.theme||(this.service.config.theme?this.service.config.theme:"snow")}),this.onNativeBlur.observed&&(this.quillEditor.scroll.domNode.addEventListener("blur",()=>this.onNativeBlur.next({editor:this.quillEditor,source:"dom"})),this.quillEditor.getModule("toolbar").container.addEventListener("mousedown",Se=>Se.preventDefault())),this.onNativeFocus.observed&&this.quillEditor.scroll.domNode.addEventListener("focus",()=>this.onNativeFocus.next({editor:this.quillEditor,source:"dom"})),this.linkPlaceholder){var be,we;const Se=null===(be=this.quillEditor)||void 0===be||null===(be=be.theme)||void 0===be?void 0:be.tooltip,Ne=null==Se||null===(we=Se.root)||void 0===we?void 0:we.querySelector("input[data-link]");null!=Ne&&Ne.dataset&&(Ne.dataset.link=this.linkPlaceholder)}}),this.content){if("text"===Ce(this.format,this.service.config.format))this.quillEditor.setText(this.content,"silent");else{const we=this.valueSetter(this.quillEditor,this.content);this.quillEditor.setContents(we,"silent")}this.quillEditor.getModule("history").clear()}this.setDisabledState(),this.addQuillEventListeners(),(this.onEditorCreated.observed||this.onValidatorChanged)&&requestAnimationFrame(()=>{this.onValidatorChanged&&this.onValidatorChanged(),this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var x;this.dispose(),null===(x=this.quillSubscription)||void 0===x||x.unsubscribe(),this.quillSubscription=null}ngOnChanges(x){if(this.quillEditor){if(x.readOnly&&this.quillEditor.enable(!x.readOnly.currentValue),x.placeholder&&(this.quillEditor.root.dataset.placeholder=x.placeholder.currentValue),x.defaultEmptyValue&&(this.quillEditor.root.dataset.defaultEmptyValue=x.defaultEmptyValue.currentValue),x.styles){const M=x.styles.currentValue,B=x.styles.previousValue;B&&Object.keys(B).forEach(G=>{this.renderer.removeStyle(this.editorElem,G)}),M&&Object.keys(M).forEach(G=>{this.renderer.setStyle(this.editorElem,G,this.styles[G])})}if(x.classes){const M=x.classes.currentValue,B=x.classes.previousValue;B&&this.removeClasses(B),M&&this.addClasses(M)}x.debounceTime&&this.addQuillEventListeners()}}addClasses(x){Z.normalizeClassNames(x).forEach(M=>{this.renderer.addClass(this.editorElem,M)})}removeClasses(x){Z.normalizeClassNames(x).forEach(M=>{this.renderer.removeClass(this.editorElem,M)})}writeValue(x){if(this.filterNull&&null===x||(this.content=x,!this.quillEditor))return;const M=Ce(this.format,this.service.config.format),B=this.valueSetter(this.quillEditor,x);if(this.compareValues){const G=this.quillEditor.getContents();if(JSON.stringify(G)===JSON.stringify(B))return}x?"text"===M?this.quillEditor.setText(x):this.quillEditor.setContents(B):this.quillEditor.setText("")}setDisabledState(x=this.disabled){this.disabled=x,this.quillEditor&&(x?(this.quillEditor.disable(),this.renderer.setAttribute(this.elementRef.nativeElement,"disabled","disabled")):(this.readOnly||this.quillEditor.enable(),this.renderer.removeAttribute(this.elementRef.nativeElement,"disabled")))}registerOnChange(x){this.onModelChange=x}registerOnTouched(x){this.onModelTouched=x}registerOnValidatorChange(x){this.onValidatorChanged=x}validate(){if(!this.quillEditor)return null;const x={};let M=!0;const B=this.quillEditor.getText(),G=this.trimOnValidation?B.trim().length:1===B.length&&0===B.trim().length?0:B.length-1,te=this.quillEditor.getContents().ops,oe=te&&1===te.length&&["\n",""].includes(te[0].insert);return this.minLength&&G&&G<this.minLength&&(x.minLengthError={given:G,minLength:this.minLength},M=!1),this.maxLength&&G>this.maxLength&&(x.maxLengthError={given:G,maxLength:this.maxLength},M=!1),this.required&&!G&&oe&&(x.requiredError={empty:!0},M=!1),M?null:x}addQuillEventListeners(){this.dispose(),this.zone.runOutsideAngular(()=>{this.subscription=new zt.w0,this.subscription.add((0,Ie.R)(this.quillEditor,"selection-change").subscribe(([B,G,te])=>{this.selectionChangeHandler(B,G,te)}));let x=(0,Ie.R)(this.quillEditor,"text-change"),M=(0,Ie.R)(this.quillEditor,"editor-change");"number"==typeof this.debounceTime&&(x=x.pipe((0,Fe.b)(this.debounceTime)),M=M.pipe((0,Fe.b)(this.debounceTime))),this.subscription.add(x.subscribe(([B,G,te])=>{this.textChangeHandler(B,G,te)})),this.subscription.add(M.subscribe(([B,G,te,oe])=>{this.editorChangeHandler(B,G,te,oe)}))})}dispose(){null!==this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275dir=e.lG2({type:g,inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",readOnly:"readOnly",placeholder:"placeholder",maxLength:"maxLength",minLength:"minLength",required:"required",formats:"formats",customToolbarPosition:"customToolbarPosition",sanitize:"sanitize",beforeRender:"beforeRender",styles:"styles",strict:"strict",scrollingContainer:"scrollingContainer",bounds:"bounds",customOptions:"customOptions",customModules:"customModules",trackChanges:"trackChanges",preserveWhitespace:"preserveWhitespace",classes:"classes",trimOnValidation:"trimOnValidation",linkPlaceholder:"linkPlaceholder",compareValues:"compareValues",filterNull:"filterNull",debounceTime:"debounceTime",defaultEmptyValue:"defaultEmptyValue",valueGetter:"valueGetter",valueSetter:"valueSetter"},outputs:{onEditorCreated:"onEditorCreated",onEditorChanged:"onEditorChanged",onContentChanged:"onContentChanged",onSelectionChanged:"onSelectionChanged",onFocus:"onFocus",onBlur:"onBlur",onNativeFocus:"onNativeFocus",onNativeBlur:"onNativeBlur"},features:[e.TTD]}),Z})(),Ze=(()=>{var g;class Z extends on{}return(g=Z).\u0275fac=function(){let S;return function(M){return(S||(S=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-editor"]],standalone:!0,features:[e._Bn([{multi:!0,provide:D.JU,useExisting:(0,e.Gpc)(()=>g)},{multi:!0,provide:D.Cf,useExisting:(0,e.Gpc)(()=>g)}]),e.qOj,e.jDz],ngContentSelectors:tn,decls:7,vars:2,consts:[[3,"ngIf"],["noPreserveTpl",""],["quill-editor-element","",4,"ngIf","ngIfElse"],["quill-editor-element",""]],template:function(x,M){1&x&&(e.F$t(en),e.YNc(0,Kt,1,2,"ng-template",0),e.Hsn(1),e.Hsn(2,1),e.Hsn(3,2),e.YNc(4,$t,1,2,"ng-template",0),e.YNc(5,Xt,1,0,"ng-template",null,1,e.W1O)),2&x&&(e.Q6J("ngIf","top"!==M.toolbarPosition),e.xp6(4),e.Q6J("ngIf","top"===M.toolbarPosition))},dependencies:[y.ez,y.O5],styles:["[_nghost-%COMP%]{display:inline-block}"]}),Z})(),ln=(()=>{var g;class Z{constructor(x,M){this.sanitizer=x,this.service=M,this.content="",this.innerHTML="",this.themeClass="ql-snow"}ngOnChanges(x){if(x.theme?this.themeClass=`ql-${x.theme.currentValue||(this.service.config.theme?this.service.config.theme:"snow")} ngx-quill-view-html`:this.theme||(this.themeClass=`ql-${this.service.config.theme?this.service.config.theme:"snow"} ngx-quill-view-html`),x.content){const M=x.content.currentValue,B=[!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1;this.innerHTML=B?M:this.sanitizer.bypassSecurityTrustHtml(M)}}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(qe.H7),e.Y36(Re))},g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-view-html"]],inputs:{content:"content",theme:"theme",sanitize:"sanitize"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[[1,"ql-container",3,"ngClass"],[1,"ql-editor",3,"innerHTML"]],template:function(x,M){1&x&&(e.TgZ(0,"div",0),e._UZ(1,"div",1),e.qZA()),2&x&&(e.Q6J("ngClass",M.themeClass),e.xp6(1),e.Q6J("innerHTML",M.innerHTML,e.oJD))},dependencies:[y.ez,y.mk],styles:[".ql-container.ngx-quill-view-html{border:0}\n"],encapsulation:2}),Z})(),an=(()=>{var g;class Z{constructor(x,M,B,G,te,oe){this.elementRef=x,this.renderer=M,this.zone=B,this.service=G,this.domSanitizer=te,this.platformId=oe,this.strict=!0,this.customModules=[],this.customOptions=[],this.preserveWhitespace=!1,this.onEditorCreated=new e.vpe,this.preserve=!1,this.quillSubscription=null,this.valueSetter=(le,ge)=>{const Ae=Ce(this.format,this.service.config.format);let Te=ge;if("text"===Ae)le.setText(Te);else{if("html"===Ae)([!0,!1].includes(this.sanitize)?this.sanitize:this.service.config.sanitize||!1)&&(ge=this.domSanitizer.sanitize(e.q3G.HTML,ge)),Te=le.clipboard.convert(ge);else if("json"===Ae)try{Te=JSON.parse(ge)}catch(be){Te=[{insert:ge}]}le.setContents(Te)}}}ngOnInit(){this.preserve=this.preserveWhitespace}ngOnChanges(x){this.quillEditor&&x.content&&this.valueSetter(this.quillEditor,x.content.currentValue)}ngAfterViewInit(){(0,y.PM)(this.platformId)||(this.quillSubscription=this.service.getQuill().pipe((0,Ue.z)(x=>{var M;const B=[this.service.registerCustomModules(x,this.customModules)],G=null!==(M=this.beforeRender)&&void 0!==M?M:this.service.config.beforeRender;return G&&B.push(G()),Promise.all(B).then(()=>x)})).subscribe(x=>{const M=Object.assign({},this.modules||this.service.config.modules);M.toolbar=!1,this.customOptions.forEach(oe=>{const le=x.import(oe.import);le.whitelist=oe.whitelist,x.register(le,!0)});let B=this.debug;!B&&!1!==B&&this.service.config.debug&&(B=this.service.config.debug);let G=this.formats;!G&&void 0===G&&(G=this.service.config.formats?Object.assign({},this.service.config.formats):null===this.service.config.formats?null:void 0);const te=this.theme||(this.service.config.theme?this.service.config.theme:"snow");this.editorElem=this.elementRef.nativeElement.querySelector("[quill-view-element]"),this.zone.runOutsideAngular(()=>{this.quillEditor=new x(this.editorElem,{debug:B,formats:G,modules:M,readOnly:!0,strict:this.strict,theme:te})}),this.renderer.addClass(this.editorElem,"ngx-quill-view"),this.content&&this.valueSetter(this.quillEditor,this.content),this.onEditorCreated.observers.length&&requestAnimationFrame(()=>{this.onEditorCreated.emit(this.quillEditor),this.onEditorCreated.complete()})}))}ngOnDestroy(){var x;null===(x=this.quillSubscription)||void 0===x||x.unsubscribe(),this.quillSubscription=null}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(e.SBq),e.Y36(e.Qsj),e.Y36(e.R0b),e.Y36(Re),e.Y36(qe.H7),e.Y36(e.Lbi))},g.\u0275cmp=e.Xpm({type:g,selectors:[["quill-view"]],inputs:{format:"format",theme:"theme",modules:"modules",debug:"debug",formats:"formats",sanitize:"sanitize",beforeRender:"beforeRender",strict:"strict",content:"content",customModules:"customModules",customOptions:"customOptions",preserveWhitespace:"preserveWhitespace"},outputs:{onEditorCreated:"onEditorCreated"},standalone:!0,features:[e.TTD,e.jDz],decls:2,vars:2,consts:[["quill-view-element","",4,"ngIf"],["quill-view-element",""]],template:function(x,M){1&x&&(e.YNc(0,nn,1,0,"div",0),e.YNc(1,rn,1,0,"pre",0)),2&x&&(e.Q6J("ngIf",!M.preserve),e.xp6(1),e.Q6J("ngIf",M.preserve))},dependencies:[y.ez,y.O5],styles:[".ql-container.ngx-quill-view{border:0}\n"],encapsulation:2}),Z})(),sn=(()=>{var g;class Z{static forRoot(x){return{ngModule:Z,providers:[{provide:Pe,useValue:x}]}}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[Ze,an,ln]}),Z})();const Ve=["#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"];function fn(g,Z){const S=g.getSelection(!0);S&&(g.insertEmbed(S.index,"image",Z,"user"),g.setSelection(S.index+1,0))}function cn(g,Z,S){const x=g.getSelection(!0);if(x){const M=S||Z;g.insertText(x.index,M,"link",Z,"user"),g.setSelection(x.index+M.length,0)}}b(7536);var He=b(9054),dn=b(4825),hn=b(9773),pn=b(4887);const mn=["popover"],vn=function(){return["bottom-start","bottom","auto"]},yn=function(){return["bottom","auto"]};let gn=(()=>{var g;class Z{constructor(x,M){this.uploaderService=x,this.changeDetectorRef=M,this.imagesSelect=new e.vpe,this.filesSelect=new e.vpe,this.urlModel="",this.isUrlValid=!1,this.isUploading=!1,this.popoverMessage="",this.resetPopoverTimer=new me.x}checkImageUrl(){this.isUrlValid=!!/^https:\/\//i.test(this.urlModel)}insertImageFromUrl(x){x.close(),this.isUrlValid&&((0,He.Or)((0,He.Tb)(this.urlModel).ext)?this.imagesSelect.emit([this.urlModel]):this.filesSelect.emit([this.urlModel])),this.urlModel="",this.isUrlValid=!1}handleSelectionEvent(x,M){var B=this;return(0,pe.Z)(function*(){if(B.isUploading)return;B.isUploading=!0,M.close();const G=x.target;if(G.files&&G.files.length){const te=Array.from(G.files);G.value="",yield B.upload(te)}B.isUploading=!1})()}upload(x){var M=this;return(0,pe.Z)(function*(){const B=[],G=[],te=(yield M.uploaderService.uploadFromList(x)).filter(le=>!le.error);for(const le of te)(le.file.isImage?B:G).push(le.file.url);M.imagesSelect.emit(B),M.filesSelect.emit(G);const oe=x.length-(B.length+G.length);oe>0&&M.showError(oe)})()}showError(x){this.resetPopoverTimer.next(),this.popoverMessage=1===x?`${x} file \xe8 stato scartato perch\xe9 non supportato o il caricamento non \xe8 andato a buon fine!`:`${x} file sono stati scartati perch\xe9 non supportati o il caricamento non \xe8 andato a buon fine!`,this.changeDetectorRef.detectChanges(),this.popoverRef.open(),(0,dn.H)(5e3).pipe((0,hn.R)(this.resetPopoverTimer)).subscribe(()=>{this.closePopover(!0)})}closePopover(x=!1){this.popoverRef.isOpen()&&this.popoverRef.close(x)}}return(g=Z).\u0275fac=function(x){return new(x||g)(e.Y36(pn.q),e.Y36(e.sBO))},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-wysiwyg-image-upload"]],viewQuery:function(x,M){if(1&x&&e.Gf(mn,5),2&x){let B;e.iGM(B=e.CRH())&&(M.popoverRef=B.first)}},outputs:{imagesSelect:"imagesSelect",filesSelect:"filesSelect"},decls:24,vars:13,consts:[["ngbDropdown","","container","body","display","dynamic",1,"dropdown-no-caret",3,"placement","openChange"],["uploadDropown","ngbDropdown"],["type","button","ngbDropdownToggle","","triggers","manual","container","body","popoverClass","text-justify",3,"disabled","ngbPopover","placement"],["popover","ngbPopover"],["viewBox","0 0 18 18","xmlns","http://www.w3.org/2000/svg"],["height","10","width","12","x","3","y","4",1,"ql-stroke"],["cx","6","cy","7","r","1",1,"ql-fill"],["points","5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12",1,"ql-even","ql-fill"],["ngbDropdownMenu",""],[1,"d-flex","flex-column","px-2"],["for","wysiwyg-image-url",1,"small","text-muted","me-auto"],[1,"input-group"],["type","text","placeholder","URL","id","wysiwyg-image-url",1,"form-control","form-control-sm","fs-reset",3,"ngModel","ngModelChange"],["type","button",1,"input-group-text","btn","btn-sm","btn-outline-primary","text-center",3,"disabled","click"],[1,"small","text-muted","d-flex","separator","align-items-center","my-2"],[1,"px-3","pb-1"],["type","button",1,"btn","btn-sm","btn-primary","text-center","d-block",3,"disabled","click"],["type","file",1,"d-none",3,"multiple","disabled","change"],["fileInput",""]],template:function(x,M){if(1&x){const B=e.EpF();e.TgZ(0,"div",0,1),e.NdJ("openChange",function(te){return te&&M.closePopover()}),e.TgZ(2,"button",2,3),e.O4$(),e.TgZ(4,"svg",4),e._UZ(5,"rect",5)(6,"circle",6)(7,"polyline",7),e.qZA()(),e.kcU(),e.TgZ(8,"div",8)(9,"div",9)(10,"div")(11,"label",10),e._uU(12,"Inserisci da url:"),e.qZA(),e.TgZ(13,"div",11)(14,"input",12),e.NdJ("ngModelChange",function(te){return M.urlModel=te})("ngModelChange",function(){return M.checkImageUrl()}),e.qZA(),e.TgZ(15,"button",13),e.NdJ("click",function(){e.CHM(B);const te=e.MAs(1);return e.KtG(M.insertImageFromUrl(te))}),e._uU(16,"Salva"),e.qZA()()(),e.TgZ(17,"div",14)(18,"div",15),e._uU(19,"oppure"),e.qZA()(),e.TgZ(20,"button",16),e.NdJ("click",function(){e.CHM(B);const te=e.MAs(23);return e.KtG(te.click())}),e._uU(21,"Carica da locale!"),e.qZA()()()(),e.TgZ(22,"input",17,18),e.NdJ("change",function(te){e.CHM(B);const oe=e.MAs(1);return e.KtG(M.handleSelectionEvent(te,oe))}),e.qZA()}2&x&&(e.Q6J("placement",e.DdM(11,vn)),e.xp6(2),e.ekj("pending",M.isUploading),e.Q6J("disabled",M.isUploading)("ngbPopover",M.popoverMessage)("placement",e.DdM(12,yn)),e.xp6(12),e.Q6J("ngModel",M.urlModel),e.xp6(1),e.Q6J("disabled",!M.isUrlValid),e.xp6(5),e.Q6J("disabled",M.isUploading),e.xp6(2),e.Q6J("multiple",!0)("disabled",M.isUploading))},dependencies:[D.Fj,D.JJ,D.On,xe.jt,xe.iD,xe.Vi,xe.o8],styles:['.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex-grow:1;border-bottom:1px solid #dee2e6}.pending[_ngcontent-%COMP%]{opacity:.5;pointer-events:none}#wysiwyg-image-url[_ngcontent-%COMP%]{max-width:100px}@media (min-width: 300px){#wysiwyg-image-url[_ngcontent-%COMP%]{max-width:150px}}@media (min-width: 576px){#wysiwyg-image-url[_ngcontent-%COMP%]{min-width:230px;max-width:unset}}']}),Z})();function bn(g,Z){if(1&g&&(e.TgZ(0,"option"),e._uU(1),e.qZA()),2&g){const S=Z.$implicit;e.uIk("value",S.const)("selected",void 0===S.const?"selected":void 0),e.xp6(1),e.Oqu(S.title||"")}}function _n(g,Z){if(1&g&&(e.TgZ(0,"select"),e.YNc(1,bn,2,3,"option",4),e.qZA()),2&g){const S=e.oxw().$implicit;e.Tol("ql-"+S.type),e.xp6(1),e.Q6J("ngForOf",S.values)}}function On(g,Z){if(1&g&&e._UZ(0,"button"),2&g){const S=e.oxw().$implicit;e.Tol("ql-"+S.type),e.uIk("value",S.value)}}function En(g,Z){if(1&g&&(e.ynx(0),e.YNc(1,_n,2,3,"select",5),e.YNc(2,On,1,3,"ng-template",null,6,e.W1O),e.BQk()),2&g){const S=Z.$implicit,x=e.MAs(3);e.xp6(1),e.Q6J("ngIf",S.values)("ngIfElse",x)}}function Tn(g,Z){if(1&g&&(e.TgZ(0,"span",1),e.YNc(1,En,4,2,"ng-container",4),e.qZA()),2&g){const S=Z.$implicit;e.xp6(1),e.Q6J("ngForOf",S)}}let xn=(()=>{var g;class Z{constructor(){this.itemGroups=function un(){return[[{type:"bold"},{type:"italic"},{type:"underline"},{type:"strike"}],[{type:"blockquote"},{type:"code-block"}],[{type:"header",value:1},{type:"header",value:2}],[{type:"list",value:"ordered"},{type:"list",value:"bullet"}],[{type:"script",value:"sub"},{type:"script",value:"super"}],[{type:"header",values:[{const:1,title:"Titolo 1"},{const:2,title:"Titolo 2"},{const:3,title:"Titolo 3"},{const:4,title:"Titolo 4"},{const:5,title:"Titolo 5"},{const:6,title:"Titolo 6"},{const:void 0,title:"Normale"}]}],[{type:"color",values:[void 0,...Ve].map(g=>({const:g}))},{type:"background",values:[void 0,...Ve].map(g=>({const:g}))}],[{type:"align",values:[void 0,"center","right","justify"].map(g=>({const:g}))}],[{type:"clean"}]]}()}insertImages(x){for(const M of x)fn(this.quill,M)}insertLinks(x){for(const M of x)cn(this.quill,M)}}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275cmp=e.Xpm({type:g,selectors:[["app-wysiwyg-toolbar"]],inputs:{quill:"quill"},decls:4,vars:1,consts:[["class","ql-formats",4,"ngFor","ngForOf"],[1,"ql-formats"],[1,"ql-link"],[1,"d-inline-block",3,"imagesSelect","filesSelect"],[4,"ngFor","ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["btnTemplate",""]],template:function(x,M){1&x&&(e.YNc(0,Tn,2,1,"span",0),e.TgZ(1,"span",1),e._UZ(2,"button",2),e.TgZ(3,"app-wysiwyg-image-upload",3),e.NdJ("imagesSelect",function(G){return M.insertImages(G)})("filesSelect",function(G){return M.insertLinks(G)}),e.qZA()()),2&x&&e.Q6J("ngForOf",M.itemGroups)},dependencies:[y.sg,y.O5,D.YN,D.Kr,gn]}),Z})();const wn=function(g){return{height:g}};let An=(()=>{var g;class Z extends w.fS{}return(g=Z).\u0275fac=function(){let S;return function(M){return(S||(S=e.n5z(g)))(M||g)}}(),g.\u0275cmp=e.Xpm({type:g,selectors:[["formly-field-wysiwyg"]],features:[e.qOj],decls:3,vars:9,consts:[["linkPlaceholder","URL","bounds","self",1,"w-100",3,"formControl","formlyAttributes","placeholder","sanitize","debounceTime","styles","onEditorCreated"],["quill-editor-toolbar",""],[3,"quill"]],template:function(x,M){1&x&&(e.TgZ(0,"quill-editor",0),e.NdJ("onEditorCreated",function(G){return M.quill=G}),e.TgZ(1,"div",1),e._UZ(2,"app-wysiwyg-toolbar",2),e.qZA()()),2&x&&(e.Q6J("formControl",M.formControl)("formlyAttributes",M.field)("placeholder",M.field.props.placeholder||"")("sanitize",!0)("debounceTime",300)("styles",e.VKq(7,wn,M.props.height)),e.xp6(2),e.Q6J("quill",M.quill))},dependencies:[w.JD,D.JJ,Ze,D.oH,xn]}),Z})(),Cn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,w.X0.forChild({types:[{name:"wysiwyg",component:An,wrappers:["form-field"]}]}),D.u5,xe.XC,xe.dT,sn.forRoot(),D.UX]}),Z})(),Sn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,D.u5]}),Z})();var Je=b(3038),Qe=b(5063);let kn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,De.mZ,P.q,Je.G,Qe.g]}),Z})(),Nn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,w.X0.forChild(),D.u5,xe.ZS]}),Z})(),Mn=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,Sn,w.X0.forChild(),D.u5,D.UX,kn,Nn]}),Z})();var Fn=b(4295);let Ln=(()=>{var g;class Z{}return(g=Z).\u0275fac=function(x){return new(x||g)},g.\u0275mod=e.oAB({type:g}),g.\u0275inj=e.cJS({imports:[y.ez,P.Vy,P.d3,Cn,Mn,w.X0.forChild({types:[{name:"array",component:T},{name:"code-editor",component:he,wrappers:["form-field"]},{name:"forum-groups",component:_e,wrappers:["form-field"]},{name:"forum-sections",component:Bt,wrappers:["form-field"]},{name:"label",component:Vt},{name:"forum-users",component:Zt},{name:"forum-list",component:Tt}]}),D.u5,Fn.$,P.q,X,xe.ZS,Je.G,Qe.g]}),Z})()},7536:function(ke){typeof self<"u"&&self,ke.exports=function(J){var b={};function y(P){if(b[P])return b[P].exports;var C=b[P]={i:P,l:!1,exports:{}};return J[P].call(C.exports,C,C.exports,y),C.l=!0,C.exports}return y.m=J,y.c=b,y.d=function(P,C,w){y.o(P,C)||Object.defineProperty(P,C,{configurable:!1,enumerable:!0,get:w})},y.n=function(P){var C=P&&P.__esModule?function(){return P.default}:function(){return P};return y.d(C,"a",C),C},y.o=function(P,C){return Object.prototype.hasOwnProperty.call(P,C)},y.p="",y(y.s=109)}([function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=y(17),C=y(18),w=y(19),e=y(45),E=y(46),m=y(47),a=y(48),n=y(49),i=y(12),f=y(32),u=y(33),s=y(31),r=y(1);b.default={Scope:r.Scope,create:r.create,find:r.find,query:r.query,register:r.register,Container:P.default,Format:C.default,Leaf:w.default,Embed:a.default,Scroll:e.default,Block:m.default,Inline:E.default,Text:n.default,Attributor:{Attribute:i.default,Class:f.default,Style:u.default,Store:s.default}}},function(J,b,y){"use strict";var s,P=this&&this.__extends||(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,o){r.__proto__=o}||function(r,o){for(var l in o)o.hasOwnProperty(l)&&(r[l]=o[l])},function(r,o){function l(){this.constructor=r}s(r,o),r.prototype=null===o?Object.create(o):(l.prototype=o.prototype,new l)});Object.defineProperty(b,"__esModule",{value:!0});var C=function(s){function r(o){var l=this;return(l=s.call(this,o="[Parchment] "+o)||this).message=o,l.name=l.constructor.name,l}return P(r,s),r}(Error);b.ParchmentError=C;var a,w={},e={},E={},m={};function f(s,r){var o;if(void 0===r&&(r=a.ANY),"string"==typeof s)o=m[s]||w[s];else if(s instanceof Text||s.nodeType===Node.TEXT_NODE)o=m.text;else if("number"==typeof s)s&a.LEVEL&a.BLOCK?o=m.block:s&a.LEVEL&a.INLINE&&(o=m.inline);else if(s instanceof HTMLElement){var l=(s.getAttribute("class")||"").split(/\s+/);for(var t in l)if(o=e[l[t]])break;o=o||E[s.tagName]}return null==o?null:r&a.LEVEL&o.scope&&r&a.TYPE&o.scope?o:null}b.DATA_KEY="__blot",function(s){s[s.TYPE=3]="TYPE",s[s.LEVEL=12]="LEVEL",s[s.ATTRIBUTE=13]="ATTRIBUTE",s[s.BLOT=14]="BLOT",s[s.INLINE=7]="INLINE",s[s.BLOCK=11]="BLOCK",s[s.BLOCK_BLOT=10]="BLOCK_BLOT",s[s.INLINE_BLOT=6]="INLINE_BLOT",s[s.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",s[s.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",s[s.ANY=15]="ANY"}(a=b.Scope||(b.Scope={})),b.create=function n(s,r){var o=f(s);if(null==o)throw new C("Unable to create "+s+" blot");var l=o,t=s instanceof Node||s.nodeType===Node.TEXT_NODE?s:l.create(r);return new l(t,r)},b.find=function i(s,r){return void 0===r&&(r=!1),null==s?null:null!=s[b.DATA_KEY]?s[b.DATA_KEY].blot:r?i(s.parentNode,r):null},b.query=f,b.register=function u(){for(var s=[],r=0;r<arguments.length;r++)s[r]=arguments[r];if(s.length>1)return s.map(function(t){return u(t)});var o=s[0];if("string"!=typeof o.blotName&&"string"!=typeof o.attrName)throw new C("Invalid definition");if("abstract"===o.blotName)throw new C("Cannot register abstract class");return m[o.blotName||o.attrName]=o,"string"==typeof o.keyName?w[o.keyName]=o:(null!=o.className&&(e[o.className]=o),null!=o.tagName&&(o.tagName=Array.isArray(o.tagName)?o.tagName.map(function(t){return t.toUpperCase()}):o.tagName.toUpperCase(),(Array.isArray(o.tagName)?o.tagName:[o.tagName]).forEach(function(t){(null==E[t]||null==o.className)&&(E[t]=o)}))),o}},function(J,b,y){var P=y(51),C=y(11),w=y(3),e=y(20),E=String.fromCharCode(0),m=function(a){this.ops=Array.isArray(a)?a:null!=a&&Array.isArray(a.ops)?a.ops:[]};m.prototype.insert=function(a,n){var i={};return 0===a.length?this:(i.insert=a,null!=n&&"object"==typeof n&&Object.keys(n).length>0&&(i.attributes=n),this.push(i))},m.prototype.delete=function(a){return a<=0?this:this.push({delete:a})},m.prototype.retain=function(a,n){if(a<=0)return this;var i={retain:a};return null!=n&&"object"==typeof n&&Object.keys(n).length>0&&(i.attributes=n),this.push(i)},m.prototype.push=function(a){var n=this.ops.length,i=this.ops[n-1];if(a=w(!0,{},a),"object"==typeof i){if("number"==typeof a.delete&&"number"==typeof i.delete)return this.ops[n-1]={delete:i.delete+a.delete},this;if("number"==typeof i.delete&&null!=a.insert&&"object"!=typeof(i=this.ops[(n-=1)-1]))return this.ops.unshift(a),this;if(C(a.attributes,i.attributes)){if("string"==typeof a.insert&&"string"==typeof i.insert)return this.ops[n-1]={insert:i.insert+a.insert},"object"==typeof a.attributes&&(this.ops[n-1].attributes=a.attributes),this;if("number"==typeof a.retain&&"number"==typeof i.retain)return this.ops[n-1]={retain:i.retain+a.retain},"object"==typeof a.attributes&&(this.ops[n-1].attributes=a.attributes),this}}return n===this.ops.length?this.ops.push(a):this.ops.splice(n,0,a),this},m.prototype.chop=function(){var a=this.ops[this.ops.length-1];return a&&a.retain&&!a.attributes&&this.ops.pop(),this},m.prototype.filter=function(a){return this.ops.filter(a)},m.prototype.forEach=function(a){this.ops.forEach(a)},m.prototype.map=function(a){return this.ops.map(a)},m.prototype.partition=function(a){var n=[],i=[];return this.forEach(function(f){(a(f)?n:i).push(f)}),[n,i]},m.prototype.reduce=function(a,n){return this.ops.reduce(a,n)},m.prototype.changeLength=function(){return this.reduce(function(a,n){return n.insert?a+e.length(n):n.delete?a-n.delete:a},0)},m.prototype.length=function(){return this.reduce(function(a,n){return a+e.length(n)},0)},m.prototype.slice=function(a,n){a=a||0,"number"!=typeof n&&(n=1/0);for(var i=[],f=e.iterator(this.ops),u=0;u<n&&f.hasNext();){var s;u<a?s=f.next(a-u):(s=f.next(n-u),i.push(s)),u+=e.length(s)}return new m(i)},m.prototype.compose=function(a){var n=e.iterator(this.ops),i=e.iterator(a.ops),f=[],u=i.peek();if(null!=u&&"number"==typeof u.retain&&null==u.attributes){for(var s=u.retain;"insert"===n.peekType()&&n.peekLength()<=s;)s-=n.peekLength(),f.push(n.next());u.retain-s>0&&i.next(u.retain-s)}for(var r=new m(f);n.hasNext()||i.hasNext();)if("insert"===i.peekType())r.push(i.next());else if("delete"===n.peekType())r.push(n.next());else{var o=Math.min(n.peekLength(),i.peekLength()),l=n.next(o),t=i.next(o);if("number"==typeof t.retain){var c={};"number"==typeof l.retain?c.retain=o:c.insert=l.insert;var d=e.attributes.compose(l.attributes,t.attributes,"number"==typeof l.retain);if(d&&(c.attributes=d),r.push(c),!i.hasNext()&&C(r.ops[r.ops.length-1],c)){var _=new m(n.rest());return r.concat(_).chop()}}else"number"==typeof t.delete&&"number"==typeof l.retain&&r.push(t)}return r.chop()},m.prototype.concat=function(a){var n=new m(this.ops.slice());return a.ops.length>0&&(n.push(a.ops[0]),n.ops=n.ops.concat(a.ops.slice(1))),n},m.prototype.diff=function(a,n){if(this.ops===a.ops)return new m;var i=[this,a].map(function(o){return o.map(function(l){if(null!=l.insert)return"string"==typeof l.insert?l.insert:E;throw new Error("diff() called "+(o===a?"on":"with")+" non-document")}).join("")}),f=new m,u=P(i[0],i[1],n),s=e.iterator(this.ops),r=e.iterator(a.ops);return u.forEach(function(o){for(var l=o[1].length;l>0;){var t=0;switch(o[0]){case P.INSERT:t=Math.min(r.peekLength(),l),f.push(r.next(t));break;case P.DELETE:t=Math.min(l,s.peekLength()),s.next(t),f.delete(t);break;case P.EQUAL:t=Math.min(s.peekLength(),r.peekLength(),l);var c=s.next(t),d=r.next(t);C(c.insert,d.insert)?f.retain(t,e.attributes.diff(c.attributes,d.attributes)):f.push(d).delete(t)}l-=t}}),f.chop()},m.prototype.eachLine=function(a,n){n=n||"\n";for(var i=e.iterator(this.ops),f=new m,u=0;i.hasNext();){if("insert"!==i.peekType())return;var s=i.peek(),r=e.length(s)-i.peekLength(),o="string"==typeof s.insert?s.insert.indexOf(n,r)-r:-1;if(o<0)f.push(i.next());else if(o>0)f.push(i.next(o));else{if(!1===a(f,i.next(1).attributes||{},u))return;u+=1,f=new m}}f.length()>0&&a(f,{},u)},m.prototype.transform=function(a,n){if(n=!!n,"number"==typeof a)return this.transformPosition(a,n);for(var i=e.iterator(this.ops),f=e.iterator(a.ops),u=new m;i.hasNext()||f.hasNext();)if("insert"!==i.peekType()||!n&&"insert"===f.peekType())if("insert"===f.peekType())u.push(f.next());else{var s=Math.min(i.peekLength(),f.peekLength()),r=i.next(s),o=f.next(s);if(r.delete)continue;o.delete?u.push(o):u.retain(s,e.attributes.transform(r.attributes,o.attributes,n))}else u.retain(e.length(i.next()));return u.chop()},m.prototype.transformPosition=function(a,n){n=!!n;for(var i=e.iterator(this.ops),f=0;i.hasNext()&&f<=a;){var u=i.peekLength(),s=i.peekType();i.next(),"delete"!==s?("insert"===s&&(f<a||!n)&&(a+=u),f+=u):a-=Math.min(u,a-f)}return a},J.exports=m},function(J,b){"use strict";var y=Object.prototype.hasOwnProperty,P=Object.prototype.toString,C=Object.defineProperty,w=Object.getOwnPropertyDescriptor,e=function(i){return"function"==typeof Array.isArray?Array.isArray(i):"[object Array]"===P.call(i)},E=function(i){if(!i||"[object Object]"!==P.call(i))return!1;var s,f=y.call(i,"constructor"),u=i.constructor&&i.constructor.prototype&&y.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!f&&!u)return!1;for(s in i);return typeof s>"u"||y.call(i,s)},m=function(i,f){C&&"__proto__"===f.name?C(i,f.name,{enumerable:!0,configurable:!0,value:f.newValue,writable:!0}):i[f.name]=f.newValue},a=function(i,f){if("__proto__"===f){if(!y.call(i,f))return;if(w)return w(i,f).value}return i[f]};J.exports=function n(){var i,f,u,s,r,o,l=arguments[0],t=1,c=arguments.length,d=!1;for("boolean"==typeof l&&(d=l,l=arguments[1]||{},t=2),(null==l||"object"!=typeof l&&"function"!=typeof l)&&(l={});t<c;++t)if(null!=(i=arguments[t]))for(f in i)u=a(l,f),l!==(s=a(i,f))&&(d&&s&&(E(s)||(r=e(s)))?(r?(r=!1,o=u&&e(u)?u:[]):o=u&&E(u)?u:{},m(l,{name:f,newValue:n(d,o,s)})):typeof s<"u"&&m(l,{name:f,newValue:s}));return l}},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.BlockEmbed=b.bubbleFormats=void 0;var P=function(){function p(h,T){for(var N=0;N<T.length;N++){var F=T[N];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}return function(h,T,N){return T&&p(h.prototype,T),N&&p(h,N),h}}(),C=function p(h,T,N){null===h&&(h=Function.prototype);var F=Object.getOwnPropertyDescriptor(h,T);if(void 0===F){var D=Object.getPrototypeOf(h);return null===D?void 0:p(D,T,N)}if("value"in F)return F.value;var V=F.get;return void 0===V?void 0:V.call(N)},e=l(y(3)),m=l(y(2)),n=l(y(0)),f=l(y(16)),s=l(y(6)),o=l(y(7));function l(p){return p&&p.__esModule?p:{default:p}}function t(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}function c(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?p:h}function d(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}var O=function(p){function h(){return t(this,h),c(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return d(h,p),P(h,[{key:"attach",value:function(){C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"attach",this).call(this),this.attributes=new n.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return(new m.default).insert(this.value(),(0,e.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(N,F){var D=n.default.query(N,n.default.Scope.BLOCK_ATTRIBUTE);null!=D&&this.attributes.attribute(D,F)}},{key:"formatAt",value:function(N,F,D,V){this.format(D,V)}},{key:"insertAt",value:function(N,F,D){if("string"==typeof F&&F.endsWith("\n")){var V=n.default.create(k.blotName);this.parent.insertBefore(V,0===N?this:this.next),V.insertAt(0,F.slice(0,-1))}else C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,N,F,D)}}]),h}(n.default.Embed);O.scope=n.default.Scope.BLOCK_BLOT;var k=function(p){function h(T){t(this,h);var N=c(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,T));return N.cache={},N}return d(h,p),P(h,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=this.descendants(n.default.Leaf).reduce(function(N,F){return 0===F.length()?N:N.insert(F.value(),v(F))},new m.default).insert("\n",v(this))),this.cache.delta}},{key:"deleteAt",value:function(N,F){C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"deleteAt",this).call(this,N,F),this.cache={}}},{key:"formatAt",value:function(N,F,D,V){F<=0||(n.default.query(D,n.default.Scope.BLOCK)?N+F===this.length()&&this.format(D,V):C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"formatAt",this).call(this,N,Math.min(F,this.length()-N-1),D,V),this.cache={})}},{key:"insertAt",value:function(N,F,D){if(null!=D)return C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,N,F,D);if(0!==F.length){var V=F.split("\n"),$=V.shift();$.length>0&&(N<this.length()-1||null==this.children.tail?C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertAt",this).call(this,Math.min(N,this.length()-1),$):this.children.tail.insertAt(this.children.tail.length(),$),this.cache={});var j=this;V.reduce(function(I,A){return(j=j.split(I,!0)).insertAt(0,A),A.length},N+$.length)}}},{key:"insertBefore",value:function(N,F){var D=this.children.head;C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"insertBefore",this).call(this,N,F),D instanceof f.default&&D.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(N,F){C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"moveChildren",this).call(this,N,F),this.cache={}}},{key:"optimize",value:function(N){C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"optimize",this).call(this,N),this.cache={}}},{key:"path",value:function(N){return C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"path",this).call(this,N,!0)}},{key:"removeChild",value:function(N){C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"removeChild",this).call(this,N),this.cache={}}},{key:"split",value:function(N){var F=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(F&&(0===N||N>=this.length()-1)){var D=this.clone();return 0===N?(this.parent.insertBefore(D,this),this):(this.parent.insertBefore(D,this.next),D)}var V=C(h.prototype.__proto__||Object.getPrototypeOf(h.prototype),"split",this).call(this,N,F);return this.cache={},V}}]),h}(n.default.Block);function v(p){var h=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return null==p||("function"==typeof p.formats&&(h=(0,e.default)(h,p.formats())),null==p.parent||"scroll"==p.parent.blotName||p.parent.statics.scope!==p.statics.scope)?h:v(p.parent,h)}k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[s.default,n.default.Embed,o.default],b.bubbleFormats=v,b.BlockEmbed=O,b.default=k},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.overload=b.expandConfig=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},C=function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function j(I,A){var q=[],R=!0,Q=!1,H=void 0;try{for(var U,L=I[Symbol.iterator]();!(R=(U=L.next()).done)&&(q.push(U.value),!A||q.length!==A);R=!0);}catch(z){Q=!0,H=z}finally{try{!R&&L.return&&L.return()}finally{if(Q)throw H}}return q}(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function j(I,A){for(var q=0;q<A.length;q++){var R=A[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,A,q){return A&&j(I.prototype,A),q&&j(I,q),I}}();y(50);var E=v(y(2)),a=v(y(14)),i=v(y(8)),u=v(y(9)),r=v(y(0)),o=y(15),l=v(o),c=v(y(3)),_=v(y(10)),k=v(y(34));function v(j){return j&&j.__esModule?j:{default:j}}function p(j,I,A){return I in j?Object.defineProperty(j,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):j[I]=A,j}var T=(0,_.default)("quill"),N=function(){function j(I){var A=this,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function h(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")}(this,j),this.options=F(I,q),this.container=this.options.container,null==this.container)return T.error("Invalid Quill container",I);this.options.debug&&j.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new i.default,this.scroll=r.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new a.default(this.scroll),this.selection=new l.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(i.default.events.EDITOR_CHANGE,function(H){H===i.default.events.TEXT_CHANGE&&A.root.classList.toggle("ql-blank",A.editor.isBlank())}),this.emitter.on(i.default.events.SCROLL_UPDATE,function(H,L){var U=A.selection.lastRange,z=U&&0===U.length?U.index:void 0;D.call(A,function(){return A.editor.update(null,L,z)},H)});var Q=this.clipboard.convert("<div class='ql-editor' style=\"white-space: normal;\">"+R+"<p><br></p></div>");this.setContents(Q),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return w(j,null,[{key:"debug",value:function(A){!0===A&&(A="log"),_.default.level(A)}},{key:"find",value:function(A){return A.__quill||r.default.find(A)}},{key:"import",value:function(A){return null==this.imports[A]&&T.error("Cannot import "+A+". Are you sure it was registered?"),this.imports[A]}},{key:"register",value:function(A,q){var R=this,Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof A){var H=A.attrName||A.blotName;"string"==typeof H?this.register("formats/"+H,A,q):Object.keys(A).forEach(function(L){R.register(L,A[L],q)})}else null!=this.imports[A]&&!Q&&T.warn("Overwriting "+A+" with",q),this.imports[A]=q,(A.startsWith("blots/")||A.startsWith("formats/"))&&"abstract"!==q.blotName?r.default.register(q):A.startsWith("modules")&&"function"==typeof q.register&&q.register()}}]),w(j,[{key:"addContainer",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof A){var R=A;(A=document.createElement("div")).classList.add(R)}return this.container.insertBefore(A,q),A}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(A,q,R){var Q=this,H=V(A,q,R),L=C(H,4);return D.call(this,function(){return Q.editor.deleteText(A,q)},R=L[3],A=L[0],-1*(q=L[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var A=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(A),this.container.classList.toggle("ql-disabled",!A)}},{key:"focus",value:function(){var A=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=A,this.scrollIntoView()}},{key:"format",value:function(A,q){var R=this;return D.call(this,function(){var H=R.getSelection(!0),L=new E.default;if(null==H)return L;if(r.default.query(A,r.default.Scope.BLOCK))L=R.editor.formatLine(H.index,H.length,p({},A,q));else{if(0===H.length)return R.selection.format(A,q),L;L=R.editor.formatText(H.index,H.length,p({},A,q))}return R.setSelection(H,i.default.sources.SILENT),L},arguments.length>2&&void 0!==arguments[2]?arguments[2]:i.default.sources.API)}},{key:"formatLine",value:function(A,q,R,Q,H){var U,L=this,z=V(A,q,R,Q,H),Y=C(z,4);return q=Y[1],U=Y[2],D.call(this,function(){return L.editor.formatLine(A,q,U)},H=Y[3],A=Y[0],0)}},{key:"formatText",value:function(A,q,R,Q,H){var U,L=this,z=V(A,q,R,Q,H),Y=C(z,4);return q=Y[1],U=Y[2],D.call(this,function(){return L.editor.formatText(A,q,U)},H=Y[3],A=Y[0],0)}},{key:"getBounds",value:function(A){var R;R="number"==typeof A?this.selection.getBounds(A,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(A.index,A.length);var Q=this.container.getBoundingClientRect();return{bottom:R.bottom-Q.top,height:R.height,left:R.left-Q.left,right:R.right-Q.left,top:R.top-Q.top,width:R.width}}},{key:"getContents",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-A,R=V(A,q),Q=C(R,2);return this.editor.getContents(A=Q[0],q=Q[1])}},{key:"getFormat",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0);return"number"==typeof A?this.editor.getFormat(A,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.editor.getFormat(A.index,A.length)}},{key:"getIndex",value:function(A){return A.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(A){return this.scroll.leaf(A)}},{key:"getLine",value:function(A){return this.scroll.line(A)}},{key:"getLines",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof A?this.scroll.lines(A.index,A.length):this.scroll.lines(A,q)}},{key:"getModule",value:function(A){return this.theme.modules[A]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-A,R=V(A,q),Q=C(R,2);return this.editor.getText(A=Q[0],q=Q[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(A,q,R){var Q=this;return D.call(this,function(){return Q.editor.insertEmbed(A,q,R)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:j.sources.API,A)}},{key:"insertText",value:function(A,q,R,Q,H){var U,L=this,z=V(A,0,R,Q,H),Y=C(z,4);return U=Y[2],D.call(this,function(){return L.editor.insertText(A,q,U)},H=Y[3],A=Y[0],q.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(A,q,R){this.clipboard.dangerouslyPasteHTML(A,q,R)}},{key:"removeFormat",value:function(A,q,R){var Q=this,H=V(A,q,R),L=C(H,4);return q=L[1],D.call(this,function(){return Q.editor.removeFormat(A,q)},R=L[3],A=L[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(A){var q=this;return D.call(this,function(){A=new E.default(A);var Q=q.getLength(),H=q.editor.deleteText(0,Q),L=q.editor.applyDelta(A),U=L.ops[L.ops.length-1];return null!=U&&"string"==typeof U.insert&&"\n"===U.insert[U.insert.length-1]&&(q.editor.deleteText(q.getLength()-1,1),L.delete(1)),H.compose(L)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API)}},{key:"setSelection",value:function(A,q,R){if(null==A)this.selection.setRange(null,q||j.sources.API);else{var Q=V(A,q,R),H=C(Q,4);R=H[3],this.selection.setRange(new o.Range(A=H[0],q=H[1]),R),R!==i.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API,R=(new E.default).insert(A);return this.setContents(R,q)}},{key:"update",value:function(){var A=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i.default.sources.USER,q=this.scroll.update(A);return this.selection.update(A),q}},{key:"updateContents",value:function(A){var q=this,R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.default.sources.API;return D.call(this,function(){return A=new E.default(A),q.editor.applyDelta(A,R)},R,!0)}}]),j}();function F(j,I){if((I=(0,c.default)(!0,{container:j,modules:{clipboard:!0,keyboard:!0,history:!0}},I)).theme&&I.theme!==N.DEFAULTS.theme){if(I.theme=N.import("themes/"+I.theme),null==I.theme)throw new Error("Invalid theme "+I.theme+". Did you register it?")}else I.theme=k.default;var A=(0,c.default)(!0,{},I.theme.DEFAULTS);[A,I].forEach(function(Q){Q.modules=Q.modules||{},Object.keys(Q.modules).forEach(function(H){!0===Q.modules[H]&&(Q.modules[H]={})})});var R=Object.keys(A.modules).concat(Object.keys(I.modules)).reduce(function(Q,H){var L=N.import("modules/"+H);return null==L?T.error("Cannot load "+H+" module. Are you sure you registered it?"):Q[H]=L.DEFAULTS||{},Q},{});return null!=I.modules&&I.modules.toolbar&&I.modules.toolbar.constructor!==Object&&(I.modules.toolbar={container:I.modules.toolbar}),I=(0,c.default)(!0,{},N.DEFAULTS,{modules:R},A,I),["bounds","container","scrollingContainer"].forEach(function(Q){"string"==typeof I[Q]&&(I[Q]=document.querySelector(I[Q]))}),I.modules=Object.keys(I.modules).reduce(function(Q,H){return I.modules[H]&&(Q[H]=I.modules[H]),Q},{}),I}function D(j,I,A,q){if(this.options.strict&&!this.isEnabled()&&I===i.default.sources.USER)return new E.default;var R=null==A?null:this.getSelection(),Q=this.editor.delta,H=j();if(null!=R&&(!0===A&&(A=R.index),null==q?R=$(R,H,I):0!==q&&(R=$(R,A,q,I)),this.setSelection(R,i.default.sources.SILENT)),H.length()>0){var L,z,U=[i.default.events.TEXT_CHANGE,H,Q,I];(L=this.emitter).emit.apply(L,[i.default.events.EDITOR_CHANGE].concat(U)),I!==i.default.sources.SILENT&&(z=this.emitter).emit.apply(z,U)}return H}function V(j,I,A,q,R){var Q={};return"number"==typeof j.index&&"number"==typeof j.length?"number"!=typeof I?(R=q,q=A,A=I,I=j.length,j=j.index):(I=j.length,j=j.index):"number"!=typeof I&&(R=q,q=A,A=I,I=0),"object"===(typeof A>"u"?"undefined":P(A))?(Q=A,R=q):"string"==typeof A&&(null!=q?Q[A]=q:R=A),[j,I,Q,R=R||i.default.sources.API]}function $(j,I,A,q){if(null==j)return null;var R=void 0,Q=void 0;if(I instanceof E.default){var H=[j.index,j.index+j.length].map(function(Y){return I.transformPosition(Y,q!==i.default.sources.USER)}),L=C(H,2);R=L[0],Q=L[1]}else{var U=[j.index,j.index+j.length].map(function(Y){return Y<I||Y===I&&q===i.default.sources.USER?Y:A>=0?Y+A:Math.max(I,Y+A)}),z=C(U,2);R=z[0],Q=z[1]}return new o.Range(R,Q-R)}N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=i.default.events,N.sources=i.default.sources,N.version="1.3.7",N.imports={delta:E.default,parchment:r.default,"core/module":u.default,"core/theme":k.default},b.expandConfig=F,b.overload=V,b.default=N},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),C=function s(r,o,l){null===r&&(r=Function.prototype);var t=Object.getOwnPropertyDescriptor(r,o);if(void 0===t){var c=Object.getPrototypeOf(r);return null===c?void 0:s(c,o,l)}if("value"in t)return t.value;var d=t.get;return void 0===d?void 0:d.call(l)},e=a(y(7)),m=a(y(0));function a(s){return s&&s.__esModule?s:{default:s}}var u=function(s){function r(){return function n(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function i(s,r){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?s:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function f(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(s,r):s.__proto__=r)}(r,s),P(r,[{key:"formatAt",value:function(l,t,c,d){if(r.compare(this.statics.blotName,c)<0&&m.default.query(c,m.default.Scope.BLOT)){var _=this.isolate(l,t);d&&_.wrap(c,d)}else C(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"formatAt",this).call(this,l,t,c,d)}},{key:"optimize",value:function(l){if(C(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"optimize",this).call(this,l),this.parent instanceof r&&r.compare(this.statics.blotName,this.parent.statics.blotName)>0){var t=this.parent.isolate(this.offset(),this.length());this.moveChildren(t),t.wrap(this)}}}],[{key:"compare",value:function(l,t){var c=r.order.indexOf(l),d=r.order.indexOf(t);return c>=0||d>=0?c-d:l===t?0:l<t?-1:1}}]),r}(m.default.Inline);u.allowedChildren=[u,m.default.Embed,e.default],u.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],b.default=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(0)).default.Text);b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function o(l,t){for(var c=0;c<t.length;c++){var d=t[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(l,d.key,d)}}return function(l,t,c){return t&&o(l.prototype,t),c&&o(l,c),l}}(),C=function o(l,t,c){null===l&&(l=Function.prototype);var d=Object.getOwnPropertyDescriptor(l,t);if(void 0===d){var _=Object.getPrototypeOf(l);return null===_?void 0:o(_,t,c)}if("value"in d)return d.value;var O=d.get;return void 0===O?void 0:O.call(c)},e=a(y(54));function a(o){return o&&o.__esModule?o:{default:o}}var u=(0,a(y(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(o){document.addEventListener(o,function(){for(var l=arguments.length,t=Array(l),c=0;c<l;c++)t[c]=arguments[c];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(d){var _;d.__quill&&d.__quill.emitter&&(_=d.__quill.emitter).handleDOM.apply(_,t)})})});var r=function(o){function l(){!function n(o,l){if(!(o instanceof l))throw new TypeError("Cannot call a class as a function")}(this,l);var t=function i(o,l){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||"object"!=typeof l&&"function"!=typeof l?o:l}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return t.listeners={},t.on("error",u.error),t}return function f(o,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function, not "+typeof l);o.prototype=Object.create(l&&l.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(o,l):o.__proto__=l)}(l,o),P(l,[{key:"emit",value:function(){u.log.apply(u,arguments),C(l.prototype.__proto__||Object.getPrototypeOf(l.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(c){for(var d=arguments.length,_=Array(d>1?d-1:0),O=1;O<d;O++)_[O-1]=arguments[O];(this.listeners[c.type]||[]).forEach(function(k){var v=k.node,p=k.handler;(c.target===v||v.contains(c.target))&&p.apply(void 0,[c].concat(_))})}},{key:"listenDOM",value:function(c,d,_){this.listeners[c]||(this.listeners[c]=[]),this.listeners[c].push({node:d,handler:_})}}]),l}(e.default);r.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},r.sources={API:"api",SILENT:"silent",USER:"user"},b.default=r},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var C=function w(e){var E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function P(w,e){if(!(w instanceof e))throw new TypeError("Cannot call a class as a function")})(this,w),this.quill=e,this.options=E};C.DEFAULTS={},b.default=C},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=["error","warn","log","info"],C="warn";function w(E){if(P.indexOf(E)<=P.indexOf(C)){for(var m,a=arguments.length,n=Array(a>1?a-1:0),i=1;i<a;i++)n[i-1]=arguments[i];(m=console)[E].apply(m,n)}}function e(E){return P.reduce(function(m,a){return m[a]=w.bind(console,a,E),m},{})}w.level=e.level=function(E){C=E},b.default=e},function(J,b,y){var P=Array.prototype.slice,C=y(52),w=y(53),e=J.exports=function(n,i,f){return f||(f={}),n===i||(n instanceof Date&&i instanceof Date?n.getTime()===i.getTime():!n||!i||"object"!=typeof n&&"object"!=typeof i?f.strict?n===i:n==i:function a(n,i,f){var u,s;if(E(n)||E(i)||n.prototype!==i.prototype)return!1;if(w(n))return!!w(i)&&(n=P.call(n),i=P.call(i),e(n,i,f));if(m(n)){if(!m(i)||n.length!==i.length)return!1;for(u=0;u<n.length;u++)if(n[u]!==i[u])return!1;return!0}try{var r=C(n),o=C(i)}catch(l){return!1}if(r.length!=o.length)return!1;for(r.sort(),o.sort(),u=r.length-1;u>=0;u--)if(r[u]!=o[u])return!1;for(u=r.length-1;u>=0;u--)if(!e(n[s=r[u]],i[s],f))return!1;return typeof n==typeof i}(n,i,f))};function E(n){return null==n}function m(n){return!(!n||"object"!=typeof n||"number"!=typeof n.length||"function"!=typeof n.copy||"function"!=typeof n.slice||n.length>0&&"number"!=typeof n[0])}},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=y(1),C=function(){function w(e,E,m){void 0===m&&(m={}),this.attrName=e,this.keyName=E,this.scope=null!=m.scope?m.scope&P.Scope.LEVEL|P.Scope.TYPE&P.Scope.ATTRIBUTE:P.Scope.ATTRIBUTE,null!=m.whitelist&&(this.whitelist=m.whitelist)}return w.keys=function(e){return[].map.call(e.attributes,function(E){return E.name})},w.prototype.add=function(e,E){return!!this.canAdd(e,E)&&(e.setAttribute(this.keyName,E),!0)},w.prototype.canAdd=function(e,E){return null!=P.query(e,P.Scope.BLOT&(this.scope|P.Scope.TYPE))&&(null==this.whitelist||("string"==typeof E?this.whitelist.indexOf(E.replace(/["']/g,""))>-1:this.whitelist.indexOf(E)>-1))},w.prototype.remove=function(e){e.removeAttribute(this.keyName)},w.prototype.value=function(e){var E=e.getAttribute(this.keyName);return this.canAdd(e,E)&&E?E:""},w}();b.default=C},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.Code=void 0;var P=function(k,v){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return function O(k,v){var p=[],h=!0,T=!1,N=void 0;try{for(var D,F=k[Symbol.iterator]();!(h=(D=F.next()).done)&&(p.push(D.value),!v||p.length!==v);h=!0);}catch(V){T=!0,N=V}finally{try{!h&&F.return&&F.return()}finally{if(T)throw N}}return p}(k,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function(){function O(k,v){for(var p=0;p<v.length;p++){var h=v[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}return function(k,v,p){return v&&O(k.prototype,v),p&&O(k,p),k}}(),w=function O(k,v,p){null===k&&(k=Function.prototype);var h=Object.getOwnPropertyDescriptor(k,v);if(void 0===h){var T=Object.getPrototypeOf(k);return null===T?void 0:O(T,v,p)}if("value"in h)return h.value;var N=h.get;return void 0===N?void 0:N.call(p)},E=o(y(2)),a=o(y(0)),i=o(y(4)),u=o(y(6)),r=o(y(7));function o(O){return O&&O.__esModule?O:{default:O}}function l(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}function t(O,k){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||"object"!=typeof k&&"function"!=typeof k?O:k}function c(O,k){if("function"!=typeof k&&null!==k)throw new TypeError("Super expression must either be null or a function, not "+typeof k);O.prototype=Object.create(k&&k.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(O,k):O.__proto__=k)}var d=function(O){function k(){return l(this,k),t(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return c(k,O),k}(u.default);d.blotName="code",d.tagName="CODE";var _=function(O){function k(){return l(this,k),t(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return c(k,O),C(k,[{key:"delta",value:function(){var p=this,h=this.domNode.textContent;return h.endsWith("\n")&&(h=h.slice(0,-1)),h.split("\n").reduce(function(T,N){return T.insert(N).insert("\n",p.formats())},new E.default)}},{key:"format",value:function(p,h){if(p!==this.statics.blotName||!h){var T=this.descendant(r.default,this.length()-1),F=P(T,1)[0];null!=F&&F.deleteAt(F.length()-1,1),w(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"format",this).call(this,p,h)}}},{key:"formatAt",value:function(p,h,T,N){if(0!==h&&null!=a.default.query(T,a.default.Scope.BLOCK)&&(T!==this.statics.blotName||N!==this.statics.formats(this.domNode))){var F=this.newlineIndex(p);if(!(F<0||F>=p+h)){var D=this.newlineIndex(p,!0)+1,V=F-D+1,$=this.isolate(D,V),j=$.next;$.format(T,N),j instanceof k&&j.formatAt(0,p-D+h-V,T,N)}}}},{key:"insertAt",value:function(p,h,T){if(null==T){var N=this.descendant(r.default,p),F=P(N,2);F[0].insertAt(F[1],h)}}},{key:"length",value:function(){var p=this.domNode.textContent.length;return this.domNode.textContent.endsWith("\n")?p:p+1}},{key:"newlineIndex",value:function(p){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1])return this.domNode.textContent.slice(0,p).lastIndexOf("\n");var T=this.domNode.textContent.slice(p).indexOf("\n");return T>-1?p+T:-1}},{key:"optimize",value:function(p){this.domNode.textContent.endsWith("\n")||this.appendChild(a.default.create("text","\n")),w(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"optimize",this).call(this,p);var h=this.next;null!=h&&h.prev===this&&h.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===h.statics.formats(h.domNode)&&(h.optimize(p),h.moveChildren(this),h.remove())}},{key:"replace",value:function(p){w(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replace",this).call(this,p),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(h){var T=a.default.find(h);null==T?h.parentNode.removeChild(h):T instanceof a.default.Embed?T.remove():T.unwrap()})}}],[{key:"create",value:function(p){var h=w(k.__proto__||Object.getPrototypeOf(k),"create",this).call(this,p);return h.setAttribute("spellcheck",!1),h}},{key:"formats",value:function(){return!0}}]),k}(i.default);_.blotName="code-block",_.tagName="PRE",_.TAB="  ",b.Code=d,b.default=_},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(j){return typeof j}:function(j){return j&&"function"==typeof Symbol&&j.constructor===Symbol&&j!==Symbol.prototype?"symbol":typeof j},C=function(I,A){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function j(I,A){var q=[],R=!0,Q=!1,H=void 0;try{for(var U,L=I[Symbol.iterator]();!(R=(U=L.next()).done)&&(q.push(U.value),!A||q.length!==A);R=!0);}catch(z){Q=!0,H=z}finally{try{!R&&L.return&&L.return()}finally{if(Q)throw H}}return q}(I,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function j(I,A){for(var q=0;q<A.length;q++){var R=A[q];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(I,R.key,R)}}return function(I,A,q){return A&&j(I.prototype,A),q&&j(I,q),I}}(),E=h(y(2)),a=h(y(20)),i=h(y(0)),u=h(y(13)),r=h(y(24)),o=y(4),l=h(o),c=h(y(16)),_=h(y(21)),k=h(y(11)),p=h(y(3));function h(j){return j&&j.__esModule?j:{default:j}}var F=/^[ -~]*$/,D=function(){function j(I){(function N(j,I){if(!(j instanceof I))throw new TypeError("Cannot call a class as a function")})(this,j),this.scroll=I,this.delta=this.getDelta()}return w(j,[{key:"applyDelta",value:function(A){var q=this,R=!1;this.scroll.update();var Q=this.scroll.length();return this.scroll.batchStart(),(A=function $(j){return j.reduce(function(I,A){if(1===A.insert){var q=(0,_.default)(A.attributes);return delete q.image,I.insert({image:A.attributes.image},q)}if(null!=A.attributes&&(!0===A.attributes.list||!0===A.attributes.bullet)&&((A=(0,_.default)(A)).attributes.list?A.attributes.list="ordered":(A.attributes.list="bullet",delete A.attributes.bullet)),"string"==typeof A.insert){var R=A.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return I.insert(R,A.attributes)}return I.push(A)},new E.default)}(A)).reduce(function(H,L){var U=L.retain||L.delete||L.insert.length||1,z=L.attributes||{};if(null!=L.insert){if("string"==typeof L.insert){var Y=L.insert;Y.endsWith("\n")&&R&&(R=!1,Y=Y.slice(0,-1)),H>=Q&&!Y.endsWith("\n")&&(R=!0),q.scroll.insertAt(H,Y);var X=q.scroll.line(H),re=C(X,2),ae=re[0],se=re[1],de=(0,p.default)({},(0,o.bubbleFormats)(ae));if(ae instanceof l.default){var he=ae.descendant(i.default.Leaf,se),pe=C(he,1);de=(0,p.default)(de,(0,o.bubbleFormats)(pe[0]))}z=a.default.attributes.diff(de,z)||{}}else if("object"===P(L.insert)){var K=Object.keys(L.insert)[0];if(null==K)return H;q.scroll.insertAt(H,K,L.insert[K])}Q+=U}return Object.keys(z).forEach(function(W){q.scroll.formatAt(H,U,W,z[W])}),H+U},0),A.reduce(function(H,L){return"number"==typeof L.delete?(q.scroll.deleteAt(H,L.delete),H):H+(L.retain||L.insert.length||1)},0),this.scroll.batchEnd(),this.update(A)}},{key:"deleteText",value:function(A,q){return this.scroll.deleteAt(A,q),this.update((new E.default).retain(A).delete(q))}},{key:"formatLine",value:function(A,q){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.scroll.update(),Object.keys(Q).forEach(function(H){if(null==R.scroll.whitelist||R.scroll.whitelist[H]){var L=R.scroll.lines(A,Math.max(q,1)),U=q;L.forEach(function(z){var Y=z.length();if(z instanceof u.default){var X=A-z.offset(R.scroll),re=z.newlineIndex(X+U)-X+1;z.formatAt(X,re,H,Q[H])}else z.format(H,Q[H]);U-=Y})}}),this.scroll.optimize(),this.update((new E.default).retain(A).retain(q,(0,_.default)(Q)))}},{key:"formatText",value:function(A,q){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Object.keys(Q).forEach(function(H){R.scroll.formatAt(A,q,H,Q[H])}),this.update((new E.default).retain(A).retain(q,(0,_.default)(Q)))}},{key:"getContents",value:function(A,q){return this.delta.slice(A,A+q)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(A,q){return A.concat(q.delta())},new E.default)}},{key:"getFormat",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,R=[],Q=[];0===q?this.scroll.path(A).forEach(function(L){var z=C(L,1)[0];z instanceof l.default?R.push(z):z instanceof i.default.Leaf&&Q.push(z)}):(R=this.scroll.lines(A,q),Q=this.scroll.descendants(i.default.Leaf,A,q));var H=[R,Q].map(function(L){if(0===L.length)return{};for(var U=(0,o.bubbleFormats)(L.shift());Object.keys(U).length>0;){var z=L.shift();if(null==z)return U;U=V((0,o.bubbleFormats)(z),U)}return U});return p.default.apply(p.default,H)}},{key:"getText",value:function(A,q){return this.getContents(A,q).filter(function(R){return"string"==typeof R.insert}).map(function(R){return R.insert}).join("")}},{key:"insertEmbed",value:function(A,q,R){return this.scroll.insertAt(A,q,R),this.update((new E.default).retain(A).insert(function T(j,I,A){return I in j?Object.defineProperty(j,I,{value:A,enumerable:!0,configurable:!0,writable:!0}):j[I]=A,j}({},q,R)))}},{key:"insertText",value:function(A,q){var R=this,Q=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return q=q.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(A,q),Object.keys(Q).forEach(function(H){R.scroll.formatAt(A,q.length,H,Q[H])}),this.update((new E.default).retain(A).insert(q,(0,_.default)(Q)))}},{key:"isBlank",value:function(){if(0==this.scroll.children.length)return!0;if(this.scroll.children.length>1)return!1;var A=this.scroll.children.head;return!(A.statics.blotName!==l.default.blotName||A.children.length>1)&&A.children.head instanceof c.default}},{key:"removeFormat",value:function(A,q){var R=this.getText(A,q),Q=this.scroll.line(A+q),H=C(Q,2),L=H[0],U=H[1],z=0,Y=new E.default;null!=L&&(z=L instanceof u.default?L.newlineIndex(U)-U+1:L.length()-U,Y=L.delta().slice(U,U+z-1).insert("\n"));var re=this.getContents(A,q+z).diff((new E.default).insert(R).concat(Y)),ae=(new E.default).retain(A).concat(re);return this.applyDelta(ae)}},{key:"update",value:function(A){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],R=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,Q=this.delta;if(1===q.length&&"characterData"===q[0].type&&q[0].target.data.match(F)&&i.default.find(q[0].target)){var H=i.default.find(q[0].target),L=(0,o.bubbleFormats)(H),U=H.offset(this.scroll),z=q[0].oldValue.replace(r.default.CONTENTS,""),Y=(new E.default).insert(z),X=(new E.default).insert(H.value());A=(new E.default).retain(U).concat(Y.diff(X,R)).reduce(function(ae,se){return se.insert?ae.insert(se.insert,L):ae.push(se)},new E.default),this.delta=Q.compose(A)}else this.delta=this.getDelta(),(!A||!(0,k.default)(Q.compose(A),this.delta))&&(A=Q.diff(this.delta,R));return A}}]),j}();function V(j,I){return Object.keys(I).reduce(function(A,q){return null==j[q]||(I[q]===j[q]?A[q]=I[q]:Array.isArray(I[q])?I[q].indexOf(j[q])<0&&(A[q]=I[q].concat([j[q]])):A[q]=[I[q],j[q]]),A},{})}b.default=D},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.Range=void 0;var P=function(k,v){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return function O(k,v){var p=[],h=!0,T=!1,N=void 0;try{for(var D,F=k[Symbol.iterator]();!(h=(D=F.next()).done)&&(p.push(D.value),!v||p.length!==v);h=!0);}catch(V){T=!0,N=V}finally{try{!h&&F.return&&F.return()}finally{if(T)throw N}}return p}(k,v);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function(){function O(k,v){for(var p=0;p<v.length;p++){var h=v[p];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(k,h.key,h)}}return function(k,v,p){return v&&O(k.prototype,v),p&&O(k,p),k}}(),e=r(y(0)),m=r(y(21)),n=r(y(11)),f=r(y(8));function r(O){return O&&O.__esModule?O:{default:O}}function o(O){if(Array.isArray(O)){for(var k=0,v=Array(O.length);k<O.length;k++)v[k]=O[k];return v}return Array.from(O)}function l(O,k){if(!(O instanceof k))throw new TypeError("Cannot call a class as a function")}var t=(0,r(y(10)).default)("quill:selection"),c=function O(k){var v=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;l(this,O),this.index=k,this.length=v},d=function(){function O(k,v){var p=this;l(this,O),this.emitter=v,this.scroll=k,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=e.default.create("cursor",this),this.lastRange=this.savedRange=new c(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){p.mouseDown||setTimeout(p.update.bind(p,f.default.sources.USER),1)}),this.emitter.on(f.default.events.EDITOR_CHANGE,function(h,T){h===f.default.events.TEXT_CHANGE&&T.length()>0&&p.update(f.default.sources.SILENT)}),this.emitter.on(f.default.events.SCROLL_BEFORE_UPDATE,function(){if(p.hasFocus()){var h=p.getNativeRange();null!=h&&h.start.node!==p.cursor.textNode&&p.emitter.once(f.default.events.SCROLL_UPDATE,function(){try{p.setNativeRange(h.start.node,h.start.offset,h.end.node,h.end.offset)}catch(T){}})}}),this.emitter.on(f.default.events.SCROLL_OPTIMIZE,function(h,T){if(T.range){var N=T.range;p.setNativeRange(N.startNode,N.startOffset,N.endNode,N.endOffset)}}),this.update(f.default.sources.SILENT)}return C(O,[{key:"handleComposition",value:function(){var v=this;this.root.addEventListener("compositionstart",function(){v.composing=!0}),this.root.addEventListener("compositionend",function(){if(v.composing=!1,v.cursor.parent){var p=v.cursor.restore();if(!p)return;setTimeout(function(){v.setNativeRange(p.startNode,p.startOffset,p.endNode,p.endOffset)},1)}})}},{key:"handleDragging",value:function(){var v=this;this.emitter.listenDOM("mousedown",document.body,function(){v.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){v.mouseDown=!1,v.update(f.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(v,p){if(null==this.scroll.whitelist||this.scroll.whitelist[v]){this.scroll.update();var h=this.getNativeRange();if(null!=h&&h.native.collapsed&&!e.default.query(v,e.default.Scope.BLOCK)){if(h.start.node!==this.cursor.textNode){var T=e.default.find(h.start.node,!1);if(null==T)return;if(T instanceof e.default.Leaf){var N=T.split(h.start.offset);T.parent.insertBefore(this.cursor,N)}else T.insertBefore(this.cursor,h.start.node);this.cursor.attach()}this.cursor.format(v,p),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(v){var p=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,h=this.scroll.length();v=Math.min(v,h-1),p=Math.min(v+p,h-1)-v;var T=void 0,N=this.scroll.leaf(v),F=P(N,2),D=F[0],V=F[1];if(null==D)return null;var $=D.position(V,!0),j=P($,2);T=j[0],V=j[1];var I=document.createRange();if(p>0){I.setStart(T,V);var A=this.scroll.leaf(v+p),q=P(A,2);if(null==(D=q[0]))return null;var R=D.position(V=q[1],!0),Q=P(R,2);return I.setEnd(T=Q[0],V=Q[1]),I.getBoundingClientRect()}var H="left",L=void 0;return T instanceof Text?(V<T.data.length?(I.setStart(T,V),I.setEnd(T,V+1)):(I.setStart(T,V-1),I.setEnd(T,V),H="right"),L=I.getBoundingClientRect()):(L=D.domNode.getBoundingClientRect(),V>0&&(H="right")),{bottom:L.top+L.height,height:L.height,left:L[H],right:L[H],top:L.top,width:0}}},{key:"getNativeRange",value:function(){var v=document.getSelection();if(null==v||v.rangeCount<=0)return null;var p=v.getRangeAt(0);if(null==p)return null;var h=this.normalizeNative(p);return t.info("getNativeRange",h),h}},{key:"getRange",value:function(){var v=this.getNativeRange();return null==v?[null,null]:[this.normalizedToRange(v),v]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(v){var p=this,h=[[v.start.node,v.start.offset]];v.native.collapsed||h.push([v.end.node,v.end.offset]);var T=h.map(function(D){var V=P(D,2),$=V[0],j=V[1],I=e.default.find($,!0),A=I.offset(p.scroll);return 0===j?A:I instanceof e.default.Container?A+I.length():A+I.index($,j)}),N=Math.min(Math.max.apply(Math,o(T)),this.scroll.length()-1),F=Math.min.apply(Math,[N].concat(o(T)));return new c(F,N-F)}},{key:"normalizeNative",value:function(v){if(!_(this.root,v.startContainer)||!v.collapsed&&!_(this.root,v.endContainer))return null;var p={start:{node:v.startContainer,offset:v.startOffset},end:{node:v.endContainer,offset:v.endOffset},native:v};return[p.start,p.end].forEach(function(h){for(var T=h.node,N=h.offset;!(T instanceof Text)&&T.childNodes.length>0;)if(T.childNodes.length>N)T=T.childNodes[N],N=0;else{if(T.childNodes.length!==N)break;N=(T=T.lastChild)instanceof Text?T.data.length:T.childNodes.length+1}h.node=T,h.offset=N}),p}},{key:"rangeToNative",value:function(v){var p=this,h=v.collapsed?[v.index]:[v.index,v.index+v.length],T=[],N=this.scroll.length();return h.forEach(function(F,D){F=Math.min(N-1,F);var $=p.scroll.leaf(F),j=P($,2),A=j[1],q=j[0].position(A,0!==D),R=P(q,2);T.push(R[0],A=R[1])}),T.length<2&&(T=T.concat(T)),T}},{key:"scrollIntoView",value:function(v){var p=this.lastRange;if(null!=p){var h=this.getBounds(p.index,p.length);if(null!=h){var T=this.scroll.length()-1,N=this.scroll.line(Math.min(p.index,T)),D=P(N,1)[0],V=D;if(p.length>0){var $=this.scroll.line(Math.min(p.index+p.length,T));V=P($,1)[0]}if(null!=D&&null!=V){var I=v.getBoundingClientRect();h.top<I.top?v.scrollTop-=I.top-h.top:h.bottom>I.bottom&&(v.scrollTop+=h.bottom-I.bottom)}}}}},{key:"setNativeRange",value:function(v,p){var h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:v,T=arguments.length>3&&void 0!==arguments[3]?arguments[3]:p,N=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(t.info("setNativeRange",v,p,h,T),null==v||null!=this.root.parentNode&&null!=v.parentNode&&null!=h.parentNode){var F=document.getSelection();if(null!=F)if(null!=v){this.hasFocus()||this.root.focus();var D=(this.getNativeRange()||{}).native;if(null==D||N||v!==D.startContainer||p!==D.startOffset||h!==D.endContainer||T!==D.endOffset){"BR"==v.tagName&&(p=[].indexOf.call(v.parentNode.childNodes,v),v=v.parentNode),"BR"==h.tagName&&(T=[].indexOf.call(h.parentNode.childNodes,h),h=h.parentNode);var V=document.createRange();V.setStart(v,p),V.setEnd(h,T),F.removeAllRanges(),F.addRange(V)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(v){var p=arguments.length>1&&void 0!==arguments[1]&&arguments[1],h=arguments.length>2&&void 0!==arguments[2]?arguments[2]:f.default.sources.API;if("string"==typeof p&&(h=p,p=!1),t.info("setRange",v),null!=v){var T=this.rangeToNative(v);this.setNativeRange.apply(this,o(T).concat([p]))}else this.setNativeRange(null);this.update(h)}},{key:"update",value:function(){var v=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.default.sources.USER,p=this.lastRange,h=this.getRange(),T=P(h,2),F=T[1];if(this.lastRange=T[0],null!=this.lastRange&&(this.savedRange=this.lastRange),!(0,n.default)(p,this.lastRange)){var D;!this.composing&&null!=F&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var $,V=[f.default.events.SELECTION_CHANGE,(0,m.default)(this.lastRange),(0,m.default)(p),v];(D=this.emitter).emit.apply(D,[f.default.events.EDITOR_CHANGE].concat(V)),v!==f.default.sources.SILENT&&($=this.emitter).emit.apply($,V)}}}]),O}();function _(O,k){return k instanceof Text&&(k=k.parentNode),O.contains(k)}b.Range=c,b.default=d},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),C=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(){return function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,[{key:"insertInto",value:function(r,o){0===r.children.length?C(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"insertInto",this).call(this,r,o):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(0)).default.Embed);i.blotName="break",i.tagName="BR",b.default=i},function(J,b,y){"use strict";var a,P=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])},function(n,i){function f(){this.constructor=n}a(n,i),n.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(b,"__esModule",{value:!0});var C=y(44),w=y(30),e=y(1),E=function(a){function n(i){var f=a.call(this,i)||this;return f.build(),f}return P(n,a),n.prototype.appendChild=function(i){this.insertBefore(i)},n.prototype.attach=function(){a.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},n.prototype.build=function(){var i=this;this.children=new C.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var u=m(f);i.insertBefore(u,i.children.head||void 0)}catch(s){if(s instanceof e.ParchmentError)return;throw s}})},n.prototype.deleteAt=function(i,f){if(0===i&&f===this.length())return this.remove();this.children.forEachAt(i,f,function(u,s,r){u.deleteAt(s,r)})},n.prototype.descendant=function(i,f){var u=this.children.find(f),s=u[0],r=u[1];return null==i.blotName&&i(s)||null!=i.blotName&&s instanceof i?[s,r]:s instanceof n?s.descendant(i,r):[null,-1]},n.prototype.descendants=function(i,f,u){void 0===f&&(f=0),void 0===u&&(u=Number.MAX_VALUE);var s=[],r=u;return this.children.forEachAt(f,u,function(o,l,t){(null==i.blotName&&i(o)||null!=i.blotName&&o instanceof i)&&s.push(o),o instanceof n&&(s=s.concat(o.descendants(i,l,r))),r-=t}),s},n.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),a.prototype.detach.call(this)},n.prototype.formatAt=function(i,f,u,s){this.children.forEachAt(i,f,function(r,o,l){r.formatAt(o,l,u,s)})},n.prototype.insertAt=function(i,f,u){var s=this.children.find(i),r=s[0];if(r)r.insertAt(s[1],f,u);else{var l=null==u?e.create("text",f):e.create(f,u);this.appendChild(l)}},n.prototype.insertBefore=function(i,f){if(null!=this.statics.allowedChildren&&!this.statics.allowedChildren.some(function(u){return i instanceof u}))throw new e.ParchmentError("Cannot insert "+i.statics.blotName+" into "+this.statics.blotName);i.insertInto(this,f)},n.prototype.length=function(){return this.children.reduce(function(i,f){return i+f.length()},0)},n.prototype.moveChildren=function(i,f){this.children.forEach(function(u){i.insertBefore(u,f)})},n.prototype.optimize=function(i){if(a.prototype.optimize.call(this,i),0===this.children.length)if(null!=this.statics.defaultChild){var f=e.create(this.statics.defaultChild);this.appendChild(f),f.optimize(i)}else this.remove()},n.prototype.path=function(i,f){void 0===f&&(f=!1);var u=this.children.find(i,f),s=u[0],r=u[1],o=[[this,i]];return s instanceof n?o.concat(s.path(r,f)):(null!=s&&o.push([s,r]),o)},n.prototype.removeChild=function(i){this.children.remove(i)},n.prototype.replace=function(i){i instanceof n&&i.moveChildren(this),a.prototype.replace.call(this,i)},n.prototype.split=function(i,f){if(void 0===f&&(f=!1),!f){if(0===i)return this;if(i===this.length())return this.next}var u=this.clone();return this.parent.insertBefore(u,this.next),this.children.forEachAt(i,this.length(),function(s,r,o){s=s.split(r,f),u.appendChild(s)}),u},n.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},n.prototype.update=function(i,f){var u=this,s=[],r=[];i.forEach(function(o){o.target===u.domNode&&"childList"===o.type&&(s.push.apply(s,o.addedNodes),r.push.apply(r,o.removedNodes))}),r.forEach(function(o){if(!(null!=o.parentNode&&"IFRAME"!==o.tagName&&document.body.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var l=e.find(o);null!=l&&(null==l.domNode.parentNode||l.domNode.parentNode===u.domNode)&&l.detach()}}),s.filter(function(o){return o.parentNode==u.domNode}).sort(function(o,l){return o===l?0:o.compareDocumentPosition(l)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(o){var l=null;null!=o.nextSibling&&(l=e.find(o.nextSibling));var t=m(o);(t.next!=l||null==t.next)&&(null!=t.parent&&t.parent.removeChild(u),u.insertBefore(t,l||void 0))})},n}(w.default);function m(a){var n=e.find(a);if(null==n)try{n=e.create(a)}catch(i){n=e.create(e.Scope.INLINE),[].slice.call(a.childNodes).forEach(function(f){n.domNode.appendChild(f)}),a.parentNode&&a.parentNode.replaceChild(n.domNode,a),n.attach()}return n}b.default=E},function(J,b,y){"use strict";var a,P=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])},function(n,i){function f(){this.constructor=n}a(n,i),n.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(b,"__esModule",{value:!0});var C=y(12),w=y(31),e=y(17),E=y(1),m=function(a){function n(i){var f=a.call(this,i)||this;return f.attributes=new w.default(f.domNode),f}return P(n,a),n.formats=function(i){return"string"==typeof this.tagName||(Array.isArray(this.tagName)?i.tagName.toLowerCase():void 0)},n.prototype.format=function(i,f){var u=E.query(i);u instanceof C.default?this.attributes.attribute(u,f):f&&null!=u&&(i!==this.statics.blotName||this.formats()[i]!==f)&&this.replaceWith(i,f)},n.prototype.formats=function(){var i=this.attributes.values(),f=this.statics.formats(this.domNode);return null!=f&&(i[this.statics.blotName]=f),i},n.prototype.replaceWith=function(i,f){var u=a.prototype.replaceWith.call(this,i,f);return this.attributes.copy(u),u},n.prototype.update=function(i,f){var u=this;a.prototype.update.call(this,i,f),i.some(function(s){return s.target===u.domNode&&"attributes"===s.type})&&this.attributes.build()},n.prototype.wrap=function(i,f){var u=a.prototype.wrap.call(this,i,f);return u instanceof n&&u.statics.scope===this.statics.scope&&this.attributes.move(u),u},n}(e.default);b.default=m},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(b,"__esModule",{value:!0});var C=y(30),w=y(1),e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return P(m,E),m.value=function(a){return!0},m.prototype.index=function(a,n){return this.domNode===a||this.domNode.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(n,1):-1},m.prototype.position=function(a,n){var i=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return a>0&&(i+=1),[this.parent.domNode,i]},m.prototype.value=function(){var a;return(a={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,a},m.scope=w.Scope.INLINE_BLOT,m}(C.default);b.default=e},function(J,b,y){var P=y(11),C=y(3),w={attributes:{compose:function(E,m,a){"object"!=typeof E&&(E={}),"object"!=typeof m&&(m={});var n=C(!0,{},m);for(var i in a||(n=Object.keys(n).reduce(function(f,u){return null!=n[u]&&(f[u]=n[u]),f},{})),E)void 0!==E[i]&&void 0===m[i]&&(n[i]=E[i]);return Object.keys(n).length>0?n:void 0},diff:function(E,m){"object"!=typeof E&&(E={}),"object"!=typeof m&&(m={});var a=Object.keys(E).concat(Object.keys(m)).reduce(function(n,i){return P(E[i],m[i])||(n[i]=void 0===m[i]?null:m[i]),n},{});return Object.keys(a).length>0?a:void 0},transform:function(E,m,a){if("object"!=typeof E)return m;if("object"==typeof m){if(!a)return m;var n=Object.keys(m).reduce(function(i,f){return void 0===E[f]&&(i[f]=m[f]),i},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(E){return new e(E)},length:function(E){return"number"==typeof E.delete?E.delete:"number"==typeof E.retain?E.retain:"string"==typeof E.insert?E.insert.length:1}};function e(E){this.ops=E,this.index=0,this.offset=0}e.prototype.hasNext=function(){return this.peekLength()<1/0},e.prototype.next=function(E){E||(E=1/0);var m=this.ops[this.index];if(m){var a=this.offset,n=w.length(m);if(E>=n-a?(E=n-a,this.index+=1,this.offset=0):this.offset+=E,"number"==typeof m.delete)return{delete:E};var i={};return m.attributes&&(i.attributes=m.attributes),"number"==typeof m.retain?i.retain=E:i.insert="string"==typeof m.insert?m.insert.substr(a,E):m.insert,i}return{retain:1/0}},e.prototype.peek=function(){return this.ops[this.index]},e.prototype.peekLength=function(){return this.ops[this.index]?w.length(this.ops[this.index])-this.offset:1/0},e.prototype.peekType=function(){return this.ops[this.index]?"number"==typeof this.ops[this.index].delete?"delete":"number"==typeof this.ops[this.index].retain?"retain":"insert":"retain"},e.prototype.rest=function(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);var E=this.offset,m=this.index,a=this.next(),n=this.ops.slice(this.index);return this.offset=E,this.index=m,[a].concat(n)}return[]},J.exports=w},function(J,b){var y=function(){"use strict";function P(u,s){return null!=s&&u instanceof s}var C,w,e;try{C=Map}catch(u){C=function(){}}try{w=Set}catch(u){w=function(){}}try{e=Promise}catch(u){e=function(){}}function E(u,s,r,o,l){"object"==typeof s&&(r=s.depth,o=s.prototype,l=s.includeNonEnumerable,s=s.circular);var t=[],c=[],d=typeof Buffer<"u";return typeof s>"u"&&(s=!0),typeof r>"u"&&(r=1/0),function _(O,k){if(null===O)return null;if(0===k)return O;var v,p;if("object"!=typeof O)return O;if(P(O,C))v=new C;else if(P(O,w))v=new w;else if(P(O,e))v=new e(function(I,A){O.then(function(q){I(_(q,k-1))},function(q){A(_(q,k-1))})});else if(E.__isArray(O))v=[];else if(E.__isRegExp(O))v=new RegExp(O.source,f(O)),O.lastIndex&&(v.lastIndex=O.lastIndex);else if(E.__isDate(O))v=new Date(O.getTime());else{if(d&&Buffer.isBuffer(O))return v=Buffer.allocUnsafe?Buffer.allocUnsafe(O.length):new Buffer(O.length),O.copy(v),v;P(O,Error)?v=Object.create(O):typeof o>"u"?(p=Object.getPrototypeOf(O),v=Object.create(p)):(v=Object.create(o),p=o)}if(s){var h=t.indexOf(O);if(-1!=h)return c[h];t.push(O),c.push(v)}for(var T in P(O,C)&&O.forEach(function(I,A){var q=_(A,k-1),R=_(I,k-1);v.set(q,R)}),P(O,w)&&O.forEach(function(I){var A=_(I,k-1);v.add(A)}),O){var N;p&&(N=Object.getOwnPropertyDescriptor(p,T)),(!N||null!=N.set)&&(v[T]=_(O[T],k-1))}if(Object.getOwnPropertySymbols){var F=Object.getOwnPropertySymbols(O);for(T=0;T<F.length;T++){var D=F[T];(V=Object.getOwnPropertyDescriptor(O,D))&&!V.enumerable&&!l||(v[D]=_(O[D],k-1),V.enumerable||Object.defineProperty(v,D,{enumerable:!1}))}}if(l){var $=Object.getOwnPropertyNames(O);for(T=0;T<$.length;T++){var V,j=$[T];(V=Object.getOwnPropertyDescriptor(O,j))&&V.enumerable||(v[j]=_(O[j],k-1),Object.defineProperty(v,j,{enumerable:!1}))}}return v}(u,r)}function m(u){return Object.prototype.toString.call(u)}function f(u){var s="";return u.global&&(s+="g"),u.ignoreCase&&(s+="i"),u.multiline&&(s+="m"),s}return E.clonePrototype=function(s){if(null===s)return null;var r=function(){};return r.prototype=s,new r},E.__objToStr=m,E.__isDate=function a(u){return"object"==typeof u&&"[object Date]"===m(u)},E.__isArray=function n(u){return"object"==typeof u&&"[object Array]"===m(u)},E.__isRegExp=function i(u){return"object"==typeof u&&"[object RegExp]"===m(u)},E.__getRegExpFlags=f,E}();"object"==typeof J&&J.exports&&(J.exports=y)},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(p,h){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function v(p,h){var T=[],N=!0,F=!1,D=void 0;try{for(var $,V=p[Symbol.iterator]();!(N=($=V.next()).done)&&(T.push($.value),!h||T.length!==h);N=!0);}catch(j){F=!0,D=j}finally{try{!N&&V.return&&V.return()}finally{if(F)throw D}}return T}(p,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function(){function v(p,h){for(var T=0;T<h.length;T++){var N=h[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}return function(p,h,T){return h&&v(p.prototype,h),T&&v(p,T),p}}(),w=function v(p,h,T){null===p&&(p=Function.prototype);var N=Object.getOwnPropertyDescriptor(p,h);if(void 0===N){var F=Object.getPrototypeOf(p);return null===F?void 0:v(F,h,T)}if("value"in N)return N.value;var D=N.get;return void 0===D?void 0:D.call(T)},E=t(y(0)),a=t(y(8)),n=y(4),i=t(n),u=t(y(16)),r=t(y(13)),l=t(y(25));function t(v){return v&&v.__esModule?v:{default:v}}function O(v){return v instanceof i.default||v instanceof n.BlockEmbed}var k=function(v){function p(h,T){!function c(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}(this,p);var N=function d(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?v:p}(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h));return N.emitter=T.emitter,Array.isArray(T.whitelist)&&(N.whitelist=T.whitelist.reduce(function(F,D){return F[D]=!0,F},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return function _(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}(p,v),C(p,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,N){var F=this.line(T),D=P(F,2),V=D[0],$=D[1],j=this.line(T+N),A=P(j,1)[0];if(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"deleteAt",this).call(this,T,N),null!=A&&V!==A&&$>0){if(V instanceof n.BlockEmbed||A instanceof n.BlockEmbed)return void this.optimize();if(V instanceof r.default){var q=V.newlineIndex(V.length(),!0);if(q>-1&&(V=V.split(q+1))===A)return void this.optimize()}else if(A instanceof r.default){var R=A.newlineIndex(0);R>-1&&A.split(R+1)}V.moveChildren(A,A.children.head instanceof u.default?null:A.children.head),V.remove()}this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(T,N,F,D){null!=this.whitelist&&!this.whitelist[F]||(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"formatAt",this).call(this,T,N,F,D),this.optimize())}},{key:"insertAt",value:function(T,N,F){if(null==F||null==this.whitelist||this.whitelist[N]){if(T>=this.length())if(null==F||null==E.default.query(N,E.default.Scope.BLOCK)){var D=E.default.create(this.statics.defaultChild);this.appendChild(D),null==F&&N.endsWith("\n")&&(N=N.slice(0,-1)),D.insertAt(0,N,F)}else{var V=E.default.create(N,F);this.appendChild(V)}else w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertAt",this).call(this,T,N,F);this.optimize()}}},{key:"insertBefore",value:function(T,N){if(T.statics.scope===E.default.Scope.INLINE_BLOT){var F=E.default.create(this.statics.defaultChild);F.appendChild(T),T=F}w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"insertBefore",this).call(this,T,N)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(O,T)}},{key:"lines",value:function(){return function D(V,$,j){var I=[],A=j;return V.children.forEachAt($,j,function(q,R,Q){O(q)?I.push(q):q instanceof E.default.Container&&(I=I.concat(D(q,R,A))),A-=Q}),I}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var T=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],N=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!0!==this.batch&&(w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"optimize",this).call(this,T,N),T.length>0&&this.emitter.emit(a.default.events.SCROLL_OPTIMIZE,T,N))}},{key:"path",value:function(T){return w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(!0!==this.batch){var N=a.default.sources.USER;"string"==typeof T&&(N=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(a.default.events.SCROLL_BEFORE_UPDATE,N,T),w(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(a.default.events.SCROLL_UPDATE,N,T)}}}]),p}(E.default.Scroll);k.blotName="scroll",k.className="ql-editor",k.tagName="DIV",k.defaultChild="block",k.allowedChildren=[i.default,n.BlockEmbed,l.default],b.default=k},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SHORTKEY=b.default=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(L){return typeof L}:function(L){return L&&"function"==typeof Symbol&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},C=function(U,z){if(Array.isArray(U))return U;if(Symbol.iterator in Object(U))return function L(U,z){var Y=[],X=!0,re=!1,ae=void 0;try{for(var de,se=U[Symbol.iterator]();!(X=(de=se.next()).done)&&(Y.push(de.value),!z||Y.length!==z);X=!0);}catch(he){re=!0,ae=he}finally{try{!X&&se.return&&se.return()}finally{if(re)throw ae}}return Y}(U,z);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function L(U,z){for(var Y=0;Y<z.length;Y++){var X=z[Y];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(U,X.key,X)}}return function(U,z,Y){return z&&L(U.prototype,z),Y&&L(U,Y),U}}(),E=v(y(21)),a=v(y(11)),i=v(y(3)),u=v(y(2)),r=v(y(20)),l=v(y(0)),c=v(y(5)),_=v(y(10)),k=v(y(9));function v(L){return L&&L.__esModule?L:{default:L}}function p(L,U,z){return U in L?Object.defineProperty(L,U,{value:z,enumerable:!0,configurable:!0,writable:!0}):L[U]=z,L}var F=(0,_.default)("quill:keyboard"),D=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",V=function(L){function U(z,Y){!function h(L,U){if(!(L instanceof U))throw new TypeError("Cannot call a class as a function")}(this,U);var X=function T(L,U){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!U||"object"!=typeof U&&"function"!=typeof U?L:U}(this,(U.__proto__||Object.getPrototypeOf(U)).call(this,z,Y));return X.bindings={},Object.keys(X.options.bindings).forEach(function(re){"list autofill"===re&&null!=z.scroll.whitelist&&!z.scroll.whitelist.list||X.options.bindings[re]&&X.addBinding(X.options.bindings[re])}),X.addBinding({key:U.keys.ENTER,shiftKey:null},q),X.addBinding({key:U.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(X.addBinding({key:U.keys.BACKSPACE},{collapsed:!0},j),X.addBinding({key:U.keys.DELETE},{collapsed:!0},I)):(X.addBinding({key:U.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},j),X.addBinding({key:U.keys.DELETE},{collapsed:!0,suffix:/^.?$/},I)),X.addBinding({key:U.keys.BACKSPACE},{collapsed:!1},A),X.addBinding({key:U.keys.DELETE},{collapsed:!1},A),X.addBinding({key:U.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},j),X.listen(),X}return function N(L,U){if("function"!=typeof U&&null!==U)throw new TypeError("Super expression must either be null or a function, not "+typeof U);L.prototype=Object.create(U&&U.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),U&&(Object.setPrototypeOf?Object.setPrototypeOf(L,U):L.__proto__=U)}(U,L),w(U,null,[{key:"match",value:function(Y,X){return X=H(X),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(re){return!!X[re]!==Y[re]&&null!==X[re]})&&X.key===(Y.which||Y.keyCode)}}]),w(U,[{key:"addBinding",value:function(Y){var X=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},re=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},ae=H(Y);if(null==ae||null==ae.key)return F.warn("Attempted to add invalid keyboard binding",ae);"function"==typeof X&&(X={handler:X}),"function"==typeof re&&(re={handler:re}),ae=(0,i.default)(ae,X,re),this.bindings[ae.key]=this.bindings[ae.key]||[],this.bindings[ae.key].push(ae)}},{key:"listen",value:function(){var Y=this;this.quill.root.addEventListener("keydown",function(X){if(!X.defaultPrevented){var ae=(Y.bindings[X.which||X.keyCode]||[]).filter(function(ye){return U.match(X,ye)});if(0!==ae.length){var se=Y.quill.getSelection();if(null!=se&&Y.quill.hasFocus()){var de=Y.quill.getLine(se.index),he=C(de,2),pe=he[0],ve=he[1],K=Y.quill.getLeaf(se.index),W=C(K,2),ne=W[0],ie=W[1],ee=0===se.length?[ne,ie]:Y.quill.getLeaf(se.index+se.length),ue=C(ee,2),fe=ue[0],ce=ue[1],_e=ne instanceof l.default.Text?ne.value().slice(0,ie):"",Oe=fe instanceof l.default.Text?fe.value().slice(ce):"",me={collapsed:0===se.length,empty:0===se.length&&pe.length()<=1,format:Y.quill.getFormat(se),offset:ve,prefix:_e,suffix:Oe};ae.some(function(ye){if(null!=ye.collapsed&&ye.collapsed!==me.collapsed||null!=ye.empty&&ye.empty!==me.empty||null!=ye.offset&&ye.offset!==me.offset)return!1;if(Array.isArray(ye.format)){if(ye.format.every(function(Ee){return null==me.format[Ee]}))return!1}else if("object"===P(ye.format)&&!Object.keys(ye.format).every(function(Ee){return!0===ye.format[Ee]?null!=me.format[Ee]:!1===ye.format[Ee]?null==me.format[Ee]:(0,a.default)(ye.format[Ee],me.format[Ee])}))return!1;return!(null!=ye.prefix&&!ye.prefix.test(me.prefix)||null!=ye.suffix&&!ye.suffix.test(me.suffix))&&!0!==ye.handler.call(Y,se,me)})&&X.preventDefault()}}}})}}]),U}(k.default);function $(L,U){var z;return p(z={key:L,shiftKey:U,altKey:null},L===V.keys.LEFT?"prefix":"suffix",/^$/),p(z,"handler",function(re){var ae=re.index;L===V.keys.RIGHT&&(ae+=re.length+1);var se=this.quill.getLeaf(ae);return!(C(se,1)[0]instanceof l.default.Embed&&(L===V.keys.LEFT?U?this.quill.setSelection(re.index-1,re.length+1,c.default.sources.USER):this.quill.setSelection(re.index-1,c.default.sources.USER):U?this.quill.setSelection(re.index,re.length+1,c.default.sources.USER):this.quill.setSelection(re.index+re.length+1,c.default.sources.USER),1))}),z}function j(L,U){if(!(0===L.index||this.quill.getLength()<=1)){var z=this.quill.getLine(L.index),X=C(z,1)[0],re={};if(0===U.offset){var ae=this.quill.getLine(L.index-1),de=C(ae,1)[0];if(null!=de&&de.length()>1){var he=X.formats(),pe=this.quill.getFormat(L.index-1,1);re=r.default.attributes.diff(he,pe)||{}}}var ve=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(U.prefix)?2:1;this.quill.deleteText(L.index-ve,ve,c.default.sources.USER),Object.keys(re).length>0&&this.quill.formatLine(L.index-ve,ve,re,c.default.sources.USER),this.quill.focus()}}function I(L,U){var z=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(U.suffix)?2:1;if(!(L.index>=this.quill.getLength()-z)){var Y={},X=0,re=this.quill.getLine(L.index),se=C(re,1)[0];if(U.offset>=se.length()-1){var de=this.quill.getLine(L.index+1),pe=C(de,1)[0];if(pe){var ve=se.formats(),K=this.quill.getFormat(L.index,1);Y=r.default.attributes.diff(ve,K)||{},X=pe.length()}}this.quill.deleteText(L.index,z,c.default.sources.USER),Object.keys(Y).length>0&&this.quill.formatLine(L.index+X-1,z,Y,c.default.sources.USER)}}function A(L){var U=this.quill.getLines(L),z={};if(U.length>1){var Y=U[0].formats(),X=U[U.length-1].formats();z=r.default.attributes.diff(X,Y)||{}}this.quill.deleteText(L,c.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(L.index,1,z,c.default.sources.USER),this.quill.setSelection(L.index,c.default.sources.SILENT),this.quill.focus()}function q(L,U){var z=this;L.length>0&&this.quill.scroll.deleteAt(L.index,L.length);var Y=Object.keys(U.format).reduce(function(X,re){return l.default.query(re,l.default.Scope.BLOCK)&&!Array.isArray(U.format[re])&&(X[re]=U.format[re]),X},{});this.quill.insertText(L.index,"\n",Y,c.default.sources.USER),this.quill.setSelection(L.index+1,c.default.sources.SILENT),this.quill.focus(),Object.keys(U.format).forEach(function(X){null==Y[X]&&(Array.isArray(U.format[X])||"link"!==X&&z.quill.format(X,U.format[X],c.default.sources.USER))})}function R(L){return{key:V.keys.TAB,shiftKey:!L,format:{"code-block":!0},handler:function(z){var Y=l.default.query("code-block"),X=z.index,re=z.length,ae=this.quill.scroll.descendant(Y,X),se=C(ae,2),de=se[0],he=se[1];if(null!=de){var pe=this.quill.getIndex(de),ve=de.newlineIndex(he,!0)+1,K=de.newlineIndex(pe+he+re),W=de.domNode.textContent.slice(ve,K).split("\n");he=0,W.forEach(function(ne,ie){L?(de.insertAt(ve+he,Y.TAB),he+=Y.TAB.length,0===ie?X+=Y.TAB.length:re+=Y.TAB.length):ne.startsWith(Y.TAB)&&(de.deleteAt(ve+he,Y.TAB.length),he-=Y.TAB.length,0===ie?X-=Y.TAB.length:re-=Y.TAB.length),he+=ne.length+1}),this.quill.update(c.default.sources.USER),this.quill.setSelection(X,re,c.default.sources.SILENT)}}}}function Q(L){return{key:L[0].toUpperCase(),shortKey:!0,handler:function(z,Y){this.quill.format(L,!Y.format[L],c.default.sources.USER)}}}function H(L){if("string"==typeof L||"number"==typeof L)return H({key:L});if("object"===(typeof L>"u"?"undefined":P(L))&&(L=(0,E.default)(L,!1)),"string"==typeof L.key)if(null!=V.keys[L.key.toUpperCase()])L.key=V.keys[L.key.toUpperCase()];else{if(1!==L.key.length)return null;L.key=L.key.toUpperCase().charCodeAt(0)}return L.shortKey&&(L[D]=L.shortKey,delete L.shortKey),L}V.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},V.DEFAULTS={bindings:{bold:Q("bold"),italic:Q("italic"),underline:Q("underline"),indent:{key:V.keys.TAB,format:["blockquote","indent","list"],handler:function(U,z){if(z.collapsed&&0!==z.offset)return!0;this.quill.format("indent","+1",c.default.sources.USER)}},outdent:{key:V.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(U,z){if(z.collapsed&&0!==z.offset)return!0;this.quill.format("indent","-1",c.default.sources.USER)}},"outdent backspace":{key:V.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(U,z){null!=z.format.indent?this.quill.format("indent","-1",c.default.sources.USER):null!=z.format.list&&this.quill.format("list",!1,c.default.sources.USER)}},"indent code-block":R(!0),"outdent code-block":R(!1),"remove tab":{key:V.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(U){this.quill.deleteText(U.index-1,1,c.default.sources.USER)}},tab:{key:V.keys.TAB,handler:function(U){this.quill.history.cutoff();var z=(new u.default).retain(U.index).delete(U.length).insert("\t");this.quill.updateContents(z,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index+1,c.default.sources.SILENT)}},"list empty enter":{key:V.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(U,z){this.quill.format("list",!1,c.default.sources.USER),z.format.indent&&this.quill.format("indent",!1,c.default.sources.USER)}},"checklist enter":{key:V.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(U){var z=this.quill.getLine(U.index),Y=C(z,2),X=Y[0],re=Y[1],ae=(0,i.default)({},X.formats(),{list:"checked"}),se=(new u.default).retain(U.index).insert("\n",ae).retain(X.length()-re-1).retain(1,{list:"unchecked"});this.quill.updateContents(se,c.default.sources.USER),this.quill.setSelection(U.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:V.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(U,z){var Y=this.quill.getLine(U.index),X=C(Y,2),re=X[0],ae=X[1],se=(new u.default).retain(U.index).insert("\n",z.format).retain(re.length()-ae-1).retain(1,{header:null});this.quill.updateContents(se,c.default.sources.USER),this.quill.setSelection(U.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(U,z){var Y=z.prefix.length,X=this.quill.getLine(U.index),re=C(X,2),ae=re[0],se=re[1];if(se>Y)return!0;var de=void 0;switch(z.prefix.trim()){case"[]":case"[ ]":de="unchecked";break;case"[x]":de="checked";break;case"-":case"*":de="bullet";break;default:de="ordered"}this.quill.insertText(U.index," ",c.default.sources.USER),this.quill.history.cutoff();var he=(new u.default).retain(U.index-se).delete(Y+1).retain(ae.length()-2-se).retain(1,{list:de});this.quill.updateContents(he,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(U.index-Y,c.default.sources.SILENT)}},"code exit":{key:V.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(U){var z=this.quill.getLine(U.index),Y=C(z,2),X=Y[0],re=Y[1],ae=(new u.default).retain(U.index+X.length()-re-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ae,c.default.sources.USER)}},"embed left":$(V.keys.LEFT,!1),"embed left shift":$(V.keys.LEFT,!0),"embed right":$(V.keys.RIGHT,!1),"embed right shift":$(V.keys.RIGHT,!0)}},b.default=V,b.SHORTKEY=D},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(o,l){if(Array.isArray(o))return o;if(Symbol.iterator in Object(o))return function r(o,l){var t=[],c=!0,d=!1,_=void 0;try{for(var k,O=o[Symbol.iterator]();!(c=(k=O.next()).done)&&(t.push(k.value),!l||t.length!==l);c=!0);}catch(v){d=!0,_=v}finally{try{!c&&O.return&&O.return()}finally{if(d)throw _}}return t}(o,l);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function r(o,l,t){null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,l);if(void 0===c){var d=Object.getPrototypeOf(o);return null===d?void 0:r(d,l,t)}if("value"in c)return c.value;var _=c.get;return void 0===_?void 0:_.call(t)},w=function(){function r(o,l){for(var t=0;t<l.length;t++){var c=l[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,t){return l&&r(o.prototype,l),t&&r(o,t),o}}(),E=n(y(0)),a=n(y(7));function n(r){return r&&r.__esModule?r:{default:r}}var s=function(r){function o(l,t){!function i(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var c=function f(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?r:o}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return c.selection=t,c.textNode=document.createTextNode(o.CONTENTS),c.domNode.appendChild(c.textNode),c._length=0,c}return function u(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}(o,r),w(o,null,[{key:"value",value:function(){}}]),w(o,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(t,c){if(0!==this._length)return C(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,t,c);for(var d=this,_=0;null!=d&&d.statics.scope!==E.default.Scope.BLOCK_BLOT;)_+=d.offset(d.parent),d=d.parent;null!=d&&(this._length=o.CONTENTS.length,d.optimize(),d.formatAt(_,o.CONTENTS.length,t,c),this._length=0)}},{key:"index",value:function(t,c){return t===this.textNode?0:C(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,t,c)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){C(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&null!=this.parent){var t=this.textNode,c=this.selection.getNativeRange(),d=void 0,_=void 0,O=void 0;if(null!=c&&c.start.node===t&&c.end.node===t){var k=[t,c.start.offset,c.end.offset];d=k[0],_=k[1],O=k[2]}for(;null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==o.CONTENTS){var v=this.textNode.data.split(o.CONTENTS).join("");this.next instanceof a.default?(d=this.next.domNode,this.next.insertAt(0,v),this.textNode.data=o.CONTENTS):(this.textNode.data=v,this.parent.insertBefore(E.default.create(this.textNode),this),this.textNode=document.createTextNode(o.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),null!=_){var p=[_,O].map(function(T){return Math.max(0,Math.min(d.data.length,T-1))}),h=P(p,2);return{startNode:d,startOffset:_=h[0],endNode:d,endOffset:O=h[1]}}}}},{key:"update",value:function(t,c){var d=this;if(t.some(function(O){return"characterData"===O.type&&O.target===d.textNode})){var _=this.restore();_&&(c.range=_)}}},{key:"value",value:function(){return""}}]),o}(E.default.Embed);s.blotName="cursor",s.className="ql-cursor",s.tagName="span",s.CONTENTS="\ufeff",b.default=s},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var C=E(y(0)),w=y(4),e=E(w);function E(f){return f&&f.__esModule?f:{default:f}}var i=function(f){function u(){return function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),u}(C.default.Container);i.allowedChildren=[e.default,w.BlockEmbed,i],b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.ColorStyle=b.ColorClass=b.ColorAttributor=void 0;var P=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),C=function s(r,o,l){null===r&&(r=Function.prototype);var t=Object.getOwnPropertyDescriptor(r,o);if(void 0===t){var c=Object.getPrototypeOf(r);return null===c?void 0:s(c,o,l)}if("value"in t)return t.value;var d=t.get;return void 0===d?void 0:d.call(l)},e=function E(s){return s&&s.__esModule?s:{default:s}}(y(0));var i=function(s){function r(){return function m(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function a(s,r){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?s:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function n(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(s,r):s.__proto__=r)}(r,s),P(r,[{key:"value",value:function(l){var t=C(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"value",this).call(this,l);return t.startsWith("rgb(")?"#"+(t=t.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(c){return("00"+parseInt(c).toString(16)).slice(-2)}).join(""):t}}]),r}(e.default.Attributor.Style),f=new e.default.Attributor.Class("color","ql-color",{scope:e.default.Scope.INLINE}),u=new i("color","color",{scope:e.default.Scope.INLINE});b.ColorAttributor=i,b.ColorClass=f,b.ColorStyle=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.sanitize=b.default=void 0;var P=function(){function u(s,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,r,o){return r&&u(s.prototype,r),o&&u(s,o),s}}(),C=function u(s,r,o){null===s&&(s=Function.prototype);var l=Object.getOwnPropertyDescriptor(s,r);if(void 0===l){var t=Object.getPrototypeOf(s);return null===t?void 0:u(t,r,o)}if("value"in l)return l.value;var c=l.get;return void 0===c?void 0:c.call(o)};var i=function(u){function s(){return function m(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function a(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?u:s}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function n(u,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}(s,u),P(s,[{key:"format",value:function(o,l){if(o!==this.statics.blotName||!l)return C(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"format",this).call(this,o,l);l=this.constructor.sanitize(l),this.domNode.setAttribute("href",l)}}],[{key:"create",value:function(o){var l=C(s.__proto__||Object.getPrototypeOf(s),"create",this).call(this,o);return o=this.sanitize(o),l.setAttribute("href",o),l.setAttribute("rel","noopener noreferrer"),l.setAttribute("target","_blank"),l}},{key:"formats",value:function(o){return o.getAttribute("href")}},{key:"sanitize",value:function(o){return f(o,this.PROTOCOL_WHITELIST)?o:this.SANITIZED_URL}}]),s}(function E(u){return u&&u.__esModule?u:{default:u}}(y(6)).default);function f(u,s){var r=document.createElement("a");r.href=u;var o=r.href.slice(0,r.href.indexOf(":"));return s.indexOf(o)>-1}i.blotName="link",i.tagName="A",i.SANITIZED_URL="about:blank",i.PROTOCOL_WHITELIST=["http","https","mailto","tel"],b.default=i,b.sanitize=f},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(s){return typeof s}:function(s){return s&&"function"==typeof Symbol&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},C=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),e=a(y(23)),m=a(y(107));function a(s){return s&&s.__esModule?s:{default:s}}var i=0;function f(s,r){s.setAttribute(r,"true"!==s.getAttribute(r))}var u=function(){function s(r){var o=this;(function n(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")})(this,s),this.select=r,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){o.togglePicker()}),this.label.addEventListener("keydown",function(l){switch(l.keyCode){case e.default.keys.ENTER:o.togglePicker();break;case e.default.keys.ESCAPE:o.escape(),l.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return C(s,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),f(this.label,"aria-expanded"),f(this.options,"aria-hidden")}},{key:"buildItem",value:function(o){var l=this,t=document.createElement("span");return t.tabIndex="0",t.setAttribute("role","button"),t.classList.add("ql-picker-item"),o.hasAttribute("value")&&t.setAttribute("data-value",o.getAttribute("value")),o.textContent&&t.setAttribute("data-label",o.textContent),t.addEventListener("click",function(){l.selectItem(t,!0)}),t.addEventListener("keydown",function(c){switch(c.keyCode){case e.default.keys.ENTER:l.selectItem(t,!0),c.preventDefault();break;case e.default.keys.ESCAPE:l.escape(),c.preventDefault()}}),t}},{key:"buildLabel",value:function(){var o=document.createElement("span");return o.classList.add("ql-picker-label"),o.innerHTML=m.default,o.tabIndex="0",o.setAttribute("role","button"),o.setAttribute("aria-expanded","false"),this.container.appendChild(o),o}},{key:"buildOptions",value:function(){var o=this,l=document.createElement("span");l.classList.add("ql-picker-options"),l.setAttribute("aria-hidden","true"),l.tabIndex="-1",l.id="ql-picker-options-"+i,i+=1,this.label.setAttribute("aria-controls",l.id),this.options=l,[].slice.call(this.select.options).forEach(function(t){var c=o.buildItem(t);l.appendChild(c),!0===t.selected&&o.selectItem(c)}),this.container.appendChild(l)}},{key:"buildPicker",value:function(){var o=this;[].slice.call(this.select.attributes).forEach(function(l){o.container.setAttribute(l.name,l.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var o=this;this.close(),setTimeout(function(){return o.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(o){var l=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=this.container.querySelector(".ql-selected");if(o!==t&&(null!=t&&t.classList.remove("ql-selected"),null!=o&&(o.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(o.parentNode.children,o),o.hasAttribute("data-value")?this.label.setAttribute("data-value",o.getAttribute("data-value")):this.label.removeAttribute("data-value"),o.hasAttribute("data-label")?this.label.setAttribute("data-label",o.getAttribute("data-label")):this.label.removeAttribute("data-label"),l))){if("function"==typeof Event)this.select.dispatchEvent(new Event("change"));else if("object"===(typeof Event>"u"?"undefined":P(Event))){var c=document.createEvent("Event");c.initEvent("change",!0,!0),this.select.dispatchEvent(c)}this.close()}}},{key:"update",value:function(){var o=void 0;if(this.select.selectedIndex>-1){var l=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];o=this.select.options[this.select.selectedIndex],this.selectItem(l)}else this.selectItem(null);var t=null!=o&&o!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",t)}}]),s}();b.default=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var C=F(y(0)),e=F(y(5)),E=y(4),m=F(E),n=F(y(16)),f=F(y(25)),s=F(y(24)),o=F(y(35)),t=F(y(6)),d=F(y(22)),O=F(y(7)),v=F(y(55)),h=F(y(42)),N=F(y(23));function F(D){return D&&D.__esModule?D:{default:D}}e.default.register({"blots/block":m.default,"blots/block/embed":E.BlockEmbed,"blots/break":n.default,"blots/container":f.default,"blots/cursor":s.default,"blots/embed":o.default,"blots/inline":t.default,"blots/scroll":d.default,"blots/text":O.default,"modules/clipboard":v.default,"modules/history":h.default,"modules/keyboard":N.default}),C.default.register(m.default,n.default,s.default,t.default,d.default,O.default),b.default=e.default},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=y(1),C=function(){function w(e){this.domNode=e,this.domNode[P.DATA_KEY]={blot:this}}return Object.defineProperty(w.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),w.create=function(e){if(null==this.tagName)throw new P.ParchmentError("Blot definition missing tagName");var E;return Array.isArray(this.tagName)?("string"==typeof e&&(e=e.toUpperCase(),parseInt(e).toString()===e&&(e=parseInt(e))),E="number"==typeof e?document.createElement(this.tagName[e-1]):this.tagName.indexOf(e)>-1?document.createElement(e):document.createElement(this.tagName[0])):E=document.createElement(this.tagName),this.className&&E.classList.add(this.className),E},w.prototype.attach=function(){null!=this.parent&&(this.scroll=this.parent.scroll)},w.prototype.clone=function(){var e=this.domNode.cloneNode(!1);return P.create(e)},w.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),delete this.domNode[P.DATA_KEY]},w.prototype.deleteAt=function(e,E){this.isolate(e,E).remove()},w.prototype.formatAt=function(e,E,m,a){var n=this.isolate(e,E);if(null!=P.query(m,P.Scope.BLOT)&&a)n.wrap(m,a);else if(null!=P.query(m,P.Scope.ATTRIBUTE)){var i=P.create(this.statics.scope);n.wrap(i),i.format(m,a)}},w.prototype.insertAt=function(e,E,m){var a=null==m?P.create("text",E):P.create(E,m),n=this.split(e);this.parent.insertBefore(a,n)},w.prototype.insertInto=function(e,E){void 0===E&&(E=null),null!=this.parent&&this.parent.children.remove(this);var m=null;e.children.insertBefore(this,E),null!=E&&(m=E.domNode),(this.domNode.parentNode!=e.domNode||this.domNode.nextSibling!=m)&&e.domNode.insertBefore(this.domNode,m),this.parent=e,this.attach()},w.prototype.isolate=function(e,E){var m=this.split(e);return m.split(E),m},w.prototype.length=function(){return 1},w.prototype.offset=function(e){return void 0===e&&(e=this.parent),null==this.parent||this==e?0:this.parent.children.offset(this)+this.parent.offset(e)},w.prototype.optimize=function(e){null!=this.domNode[P.DATA_KEY]&&delete this.domNode[P.DATA_KEY].mutations},w.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},w.prototype.replace=function(e){null!=e.parent&&(e.parent.insertBefore(this,e.next),e.remove())},w.prototype.replaceWith=function(e,E){var m="string"==typeof e?P.create(e,E):e;return m.replace(this),m},w.prototype.split=function(e,E){return 0===e?this:this.next},w.prototype.update=function(e,E){},w.prototype.wrap=function(e,E){var m="string"==typeof e?P.create(e,E):e;return null!=this.parent&&this.parent.insertBefore(m,this.next),m.appendChild(this),m},w.blotName="abstract",w}();b.default=C},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=y(12),C=y(32),w=y(33),e=y(1),E=function(){function m(a){this.attributes={},this.domNode=a,this.build()}return m.prototype.attribute=function(a,n){n?a.add(this.domNode,n)&&(null!=a.value(this.domNode)?this.attributes[a.attrName]=a:delete this.attributes[a.attrName]):(a.remove(this.domNode),delete this.attributes[a.attrName])},m.prototype.build=function(){var a=this;this.attributes={};var n=P.default.keys(this.domNode),i=C.default.keys(this.domNode),f=w.default.keys(this.domNode);n.concat(i).concat(f).forEach(function(u){var s=e.query(u,e.Scope.ATTRIBUTE);s instanceof P.default&&(a.attributes[s.attrName]=s)})},m.prototype.copy=function(a){var n=this;Object.keys(this.attributes).forEach(function(i){var f=n.attributes[i].value(n.domNode);a.format(i,f)})},m.prototype.move=function(a){var n=this;this.copy(a),Object.keys(this.attributes).forEach(function(i){n.attributes[i].remove(n.domNode)}),this.attributes={}},m.prototype.values=function(){var a=this;return Object.keys(this.attributes).reduce(function(n,i){return n[i]=a.attributes[i].value(a.domNode),n},{})},m}();b.default=E},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});function w(E,m){return(E.getAttribute("class")||"").split(/\s+/).filter(function(n){return 0===n.indexOf(m+"-")})}Object.defineProperty(b,"__esModule",{value:!0});var e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return P(m,E),m.keys=function(a){return(a.getAttribute("class")||"").split(/\s+/).map(function(n){return n.split("-").slice(0,-1).join("-")})},m.prototype.add=function(a,n){return!!this.canAdd(a,n)&&(this.remove(a),a.classList.add(this.keyName+"-"+n),!0)},m.prototype.remove=function(a){w(a,this.keyName).forEach(function(i){a.classList.remove(i)}),0===a.classList.length&&a.removeAttribute("class")},m.prototype.value=function(a){var i=(w(a,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(a,i)?i:""},m}(y(12).default);b.default=e},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});function w(E){var m=E.split("-"),a=m.slice(1).map(function(n){return n[0].toUpperCase()+n.slice(1)}).join("");return m[0]+a}Object.defineProperty(b,"__esModule",{value:!0});var e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return P(m,E),m.keys=function(a){return(a.getAttribute("style")||"").split(";").map(function(n){return n.split(":")[0].trim()})},m.prototype.add=function(a,n){return!!this.canAdd(a,n)&&(a.style[w(this.keyName)]=n,!0)},m.prototype.remove=function(a){a.style[w(this.keyName)]="",a.getAttribute("style")||a.removeAttribute("style")},m.prototype.value=function(a){var n=a.style[w(this.keyName)];return this.canAdd(a,n)?n:""},m}(y(12).default);b.default=e},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function e(E,m){for(var a=0;a<m.length;a++){var n=m[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(E,n.key,n)}}return function(E,m,a){return m&&e(E.prototype,m),a&&e(E,a),E}}();var w=function(){function e(E,m){(function C(e,E){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.quill=E,this.options=m,this.modules={}}return P(e,[{key:"init",value:function(){var m=this;Object.keys(this.options.modules).forEach(function(a){null==m.modules[a]&&m.addModule(a)})}},{key:"addModule",value:function(m){var a=this.quill.constructor.import("modules/"+m);return this.modules[m]=new a(this.quill,this.options.modules[m]||{}),this.modules[m]}}]),e}();w.DEFAULTS={modules:{}},w.themes={default:w},b.default=w},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function r(o,l){for(var t=0;t<l.length;t++){var c=l[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,t){return l&&r(o.prototype,l),t&&r(o,t),o}}(),C=function r(o,l,t){null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,l);if(void 0===c){var d=Object.getPrototypeOf(o);return null===d?void 0:r(d,l,t)}if("value"in c)return c.value;var _=c.get;return void 0===_?void 0:_.call(t)},e=a(y(0)),m=a(y(7));function a(r){return r&&r.__esModule?r:{default:r}}var u="\ufeff",s=function(r){function o(l){!function n(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o);var t=function i(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?r:o}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,l));return t.contentNode=document.createElement("span"),t.contentNode.setAttribute("contenteditable",!1),[].slice.call(t.domNode.childNodes).forEach(function(c){t.contentNode.appendChild(c)}),t.leftGuard=document.createTextNode(u),t.rightGuard=document.createTextNode(u),t.domNode.appendChild(t.leftGuard),t.domNode.appendChild(t.contentNode),t.domNode.appendChild(t.rightGuard),t}return function f(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}(o,r),P(o,[{key:"index",value:function(t,c){return t===this.leftGuard?0:t===this.rightGuard?1:C(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"index",this).call(this,t,c)}},{key:"restore",value:function(t){var c=void 0,d=void 0,_=t.data.split(u).join("");if(t===this.leftGuard)if(this.prev instanceof m.default){var O=this.prev.length();this.prev.insertAt(O,_),c={startNode:this.prev.domNode,startOffset:O+_.length}}else d=document.createTextNode(_),this.parent.insertBefore(e.default.create(d),this),c={startNode:d,startOffset:_.length};else t===this.rightGuard&&(this.next instanceof m.default?(this.next.insertAt(0,_),c={startNode:this.next.domNode,startOffset:_.length}):(d=document.createTextNode(_),this.parent.insertBefore(e.default.create(d),this.next),c={startNode:d,startOffset:_.length}));return t.data=u,c}},{key:"update",value:function(t,c){var d=this;t.forEach(function(_){if("characterData"===_.type&&(_.target===d.leftGuard||_.target===d.rightGuard)){var O=d.restore(_.target);O&&(c.range=O)}})}}]),o}(e.default.Embed);b.default=s},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.AlignStyle=b.AlignClass=b.AlignAttribute=void 0;var C=function w(n){return n&&n.__esModule?n:{default:n}}(y(0));var e={scope:C.default.Scope.BLOCK,whitelist:["right","center","justify"]},E=new C.default.Attributor.Attribute("align","align",e),m=new C.default.Attributor.Class("align","ql-align",e),a=new C.default.Attributor.Style("align","text-align",e);b.AlignAttribute=E,b.AlignClass=m,b.AlignStyle=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.BackgroundStyle=b.BackgroundClass=void 0;var C=function e(a){return a&&a.__esModule?a:{default:a}}(y(0)),w=y(26);var E=new C.default.Attributor.Class("background","ql-bg",{scope:C.default.Scope.INLINE}),m=new w.ColorAttributor("background","background-color",{scope:C.default.Scope.INLINE});b.BackgroundClass=E,b.BackgroundStyle=m},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.DirectionStyle=b.DirectionClass=b.DirectionAttribute=void 0;var C=function w(n){return n&&n.__esModule?n:{default:n}}(y(0));var e={scope:C.default.Scope.BLOCK,whitelist:["rtl"]},E=new C.default.Attributor.Attribute("direction","dir",e),m=new C.default.Attributor.Class("direction","ql-direction",e),a=new C.default.Attributor.Style("direction","direction",e);b.DirectionAttribute=E,b.DirectionClass=m,b.DirectionStyle=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.FontClass=b.FontStyle=void 0;var P=function(){function r(o,l){for(var t=0;t<l.length;t++){var c=l[t];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,l,t){return l&&r(o.prototype,l),t&&r(o,t),o}}(),C=function r(o,l,t){null===o&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,l);if(void 0===c){var d=Object.getPrototypeOf(o);return null===d?void 0:r(d,l,t)}if("value"in c)return c.value;var _=c.get;return void 0===_?void 0:_.call(t)},e=function E(r){return r&&r.__esModule?r:{default:r}}(y(0));var i={scope:e.default.Scope.INLINE,whitelist:["serif","monospace"]},f=new e.default.Attributor.Class("font","ql-font",i),u=function(r){function o(){return function m(r,o){if(!(r instanceof o))throw new TypeError("Cannot call a class as a function")}(this,o),function a(r,o){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||"object"!=typeof o&&"function"!=typeof o?r:o}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function n(r,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function, not "+typeof o);r.prototype=Object.create(o&&o.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(r,o):r.__proto__=o)}(o,r),P(o,[{key:"value",value:function(t){return C(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"value",this).call(this,t).replace(/["']/g,"")}}]),o}(e.default.Attributor.Style),s=new u("font","font-family",i);b.FontStyle=s,b.FontClass=f},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.SizeStyle=b.SizeClass=void 0;var C=function w(m){return m&&m.__esModule?m:{default:m}}(y(0));var e=new C.default.Attributor.Class("size","ql-size",{scope:C.default.Scope.INLINE,whitelist:["small","large","huge"]}),E=new C.default.Attributor.Style("size","font-size",{scope:C.default.Scope.INLINE,whitelist:["10px","18px","32px"]});b.SizeClass=e,b.SizeStyle=E},function(J,b,y){"use strict";J.exports={align:{"":y(76),center:y(77),right:y(78),justify:y(79)},background:y(80),blockquote:y(81),bold:y(82),clean:y(83),code:y(58),"code-block":y(58),color:y(84),direction:{"":y(85),rtl:y(86)},float:{center:y(87),full:y(88),left:y(89),right:y(90)},formula:y(91),header:{1:y(92),2:y(93)},italic:y(94),image:y(95),indent:{"+1":y(96),"-1":y(97)},link:y(98),list:{ordered:y(99),bullet:y(100),check:y(101)},script:{sub:y(102),super:y(103)},strike:y(104),underline:y(105),video:y(106)}},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.getLastChangeIndex=b.default=void 0;var P=function(){function l(t,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(t,_.key,_)}}return function(t,c,d){return c&&l(t.prototype,c),d&&l(t,d),t}}(),w=n(y(0)),E=n(y(5));function n(l){return l&&l.__esModule?l:{default:l}}var s=function(l){function t(c,d){!function i(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var _=function f(l,t){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?l:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c,d));return _.lastRecorded=0,_.ignoreChange=!1,_.clear(),_.quill.on(E.default.events.EDITOR_CHANGE,function(O,k,v,p){O!==E.default.events.TEXT_CHANGE||_.ignoreChange||(_.options.userOnly&&p!==E.default.sources.USER?_.transform(k):_.record(k,v))}),_.quill.keyboard.addBinding({key:"Z",shortKey:!0},_.undo.bind(_)),_.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},_.redo.bind(_)),/Win/i.test(navigator.platform)&&_.quill.keyboard.addBinding({key:"Y",shortKey:!0},_.redo.bind(_)),_}return function u(l,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);l.prototype=Object.create(t&&t.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(l,t):l.__proto__=t)}(t,l),P(t,[{key:"change",value:function(d,_){if(0!==this.stack[d].length){var O=this.stack[d].pop();this.stack[_].push(O),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(O[d],E.default.sources.USER),this.ignoreChange=!1;var k=o(O[d]);this.quill.setSelection(k)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(d,_){if(0!==d.ops.length){this.stack.redo=[];var O=this.quill.getContents().diff(_),k=Date.now();if(this.lastRecorded+this.options.delay>k&&this.stack.undo.length>0){var v=this.stack.undo.pop();O=O.compose(v.undo),d=v.redo.compose(d)}else this.lastRecorded=k;this.stack.undo.push({redo:d,undo:O}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(d){this.stack.undo.forEach(function(_){_.undo=d.transform(_.undo,!0),_.redo=d.transform(_.redo,!0)}),this.stack.redo.forEach(function(_){_.undo=d.transform(_.undo,!0),_.redo=d.transform(_.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),t}(n(y(9)).default);function o(l){var t=l.reduce(function(d,_){return d+(_.delete||0)},0),c=l.length()-t;return function r(l){var t=l.ops[l.ops.length-1];return null!=t&&(null!=t.insert?"string"==typeof t.insert&&t.insert.endsWith("\n"):null!=t.attributes&&Object.keys(t.attributes).some(function(c){return null!=w.default.query(c,w.default.Scope.BLOCK)}))}(l)&&(c-=1),c}s.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},b.default=s,b.getLastChangeIndex=o},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.BaseTooltip=void 0;var P=function(){function q(R,Q){for(var H=0;H<Q.length;H++){var L=Q[H];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(R,L.key,L)}}return function(R,Q,H){return Q&&q(R.prototype,Q),H&&q(R,H),R}}(),C=function q(R,Q,H){null===R&&(R=Function.prototype);var L=Object.getOwnPropertyDescriptor(R,Q);if(void 0===L){var U=Object.getPrototypeOf(R);return null===U?void 0:q(U,Q,H)}if("value"in L)return L.value;var z=L.get;return void 0===z?void 0:z.call(H)},e=k(y(3)),m=k(y(2)),n=k(y(8)),f=k(y(23)),s=k(y(34)),o=k(y(59)),t=k(y(60)),d=k(y(28)),O=k(y(61));function k(q){return q&&q.__esModule?q:{default:q}}function v(q,R){if(!(q instanceof R))throw new TypeError("Cannot call a class as a function")}function p(q,R){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!R||"object"!=typeof R&&"function"!=typeof R?q:R}function h(q,R){if("function"!=typeof R&&null!==R)throw new TypeError("Super expression must either be null or a function, not "+typeof R);q.prototype=Object.create(R&&R.prototype,{constructor:{value:q,enumerable:!1,writable:!0,configurable:!0}}),R&&(Object.setPrototypeOf?Object.setPrototypeOf(q,R):q.__proto__=R)}var T=[!1,"center","right","justify"],N=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],F=[!1,"serif","monospace"],D=["1","2","3",!1],V=["small",!1,"large","huge"],$=function(q){function R(Q,H){v(this,R);var L=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,Q,H));return Q.emitter.listenDOM("click",document.body,function z(Y){if(!document.body.contains(Q.root))return document.body.removeEventListener("click",z);null!=L.tooltip&&!L.tooltip.root.contains(Y.target)&&document.activeElement!==L.tooltip.textbox&&!L.quill.hasFocus()&&L.tooltip.hide(),null!=L.pickers&&L.pickers.forEach(function(X){X.container.contains(Y.target)||X.close()})}),L}return h(R,q),P(R,[{key:"addModule",value:function(H){var L=C(R.prototype.__proto__||Object.getPrototypeOf(R.prototype),"addModule",this).call(this,H);return"toolbar"===H&&this.extendToolbar(L),L}},{key:"buildButtons",value:function(H,L){H.forEach(function(U){(U.getAttribute("class")||"").split(/\s+/).forEach(function(Y){if(Y.startsWith("ql-")&&(Y=Y.slice(3),null!=L[Y]))if("direction"===Y)U.innerHTML=L[Y][""]+L[Y].rtl;else if("string"==typeof L[Y])U.innerHTML=L[Y];else{var X=U.value||"";null!=X&&L[Y][X]&&(U.innerHTML=L[Y][X])}})})}},{key:"buildPickers",value:function(H,L){var U=this;this.pickers=H.map(function(Y){if(Y.classList.contains("ql-align"))return null==Y.querySelector("option")&&A(Y,T),new t.default(Y,L.align);if(Y.classList.contains("ql-background")||Y.classList.contains("ql-color")){var X=Y.classList.contains("ql-background")?"background":"color";return null==Y.querySelector("option")&&A(Y,N,"background"===X?"#ffffff":"#000000"),new o.default(Y,L[X])}return null==Y.querySelector("option")&&(Y.classList.contains("ql-font")?A(Y,F):Y.classList.contains("ql-header")?A(Y,D):Y.classList.contains("ql-size")&&A(Y,V)),new d.default(Y)}),this.quill.on(n.default.events.EDITOR_CHANGE,function(){U.pickers.forEach(function(X){X.update()})})}}]),R}(s.default);$.DEFAULTS=(0,e.default)(!0,{},s.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var R=this,Q=this.container.querySelector("input.ql-image[type=file]");null==Q&&((Q=document.createElement("input")).setAttribute("type","file"),Q.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Q.classList.add("ql-image"),Q.addEventListener("change",function(){if(null!=Q.files&&null!=Q.files[0]){var H=new FileReader;H.onload=function(L){var U=R.quill.getSelection(!0);R.quill.updateContents((new m.default).retain(U.index).delete(U.length).insert({image:L.target.result}),n.default.sources.USER),R.quill.setSelection(U.index+1,n.default.sources.SILENT),Q.value=""},H.readAsDataURL(Q.files[0])}}),this.container.appendChild(Q)),Q.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var j=function(q){function R(Q,H){v(this,R);var L=p(this,(R.__proto__||Object.getPrototypeOf(R)).call(this,Q,H));return L.textbox=L.root.querySelector('input[type="text"]'),L.listen(),L}return h(R,q),P(R,[{key:"listen",value:function(){var H=this;this.textbox.addEventListener("keydown",function(L){f.default.match(L,"enter")?(H.save(),L.preventDefault()):f.default.match(L,"escape")&&(H.cancel(),L.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var H=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"link",L=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),null!=L?this.textbox.value=L:H!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+H)||""),this.root.setAttribute("data-mode",H)}},{key:"restoreFocus",value:function(){var H=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=H}},{key:"save",value:function(){var H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var L=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,n.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,n.default.sources.USER)),this.quill.root.scrollTop=L;break;case"video":H=function I(q){var R=q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||q.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/);return R?(R[1]||"https")+"://www.youtube.com/embed/"+R[2]+"?showinfo=0":(R=q.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(R[1]||"https")+"://player.vimeo.com/video/"+R[2]+"/":q}(H);case"formula":if(!H)break;var U=this.quill.getSelection(!0);if(null!=U){var z=U.index+U.length;this.quill.insertEmbed(z,this.root.getAttribute("data-mode"),H,n.default.sources.USER),"formula"===this.root.getAttribute("data-mode")&&this.quill.insertText(z+1," ",n.default.sources.USER),this.quill.setSelection(z+2,n.default.sources.USER)}}this.textbox.value="",this.hide()}}]),R}(O.default);function A(q,R){var Q=arguments.length>2&&void 0!==arguments[2]&&arguments[2];R.forEach(function(H){var L=document.createElement("option");H===Q?L.setAttribute("selected","selected"):L.setAttribute("value",H),q.appendChild(L)})}b.BaseTooltip=j,b.default=$},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function C(){this.head=this.tail=null,this.length=0}return C.prototype.append=function(){for(var w=[],e=0;e<arguments.length;e++)w[e]=arguments[e];this.insertBefore(w[0],null),w.length>1&&this.append.apply(this,w.slice(1))},C.prototype.contains=function(w){for(var e,E=this.iterator();e=E();)if(e===w)return!0;return!1},C.prototype.insertBefore=function(w,e){w&&(w.next=e,null!=e?(w.prev=e.prev,null!=e.prev&&(e.prev.next=w),e.prev=w,e===this.head&&(this.head=w)):null!=this.tail?(this.tail.next=w,w.prev=this.tail,this.tail=w):(w.prev=null,this.head=this.tail=w),this.length+=1)},C.prototype.offset=function(w){for(var e=0,E=this.head;null!=E;){if(E===w)return e;e+=E.length(),E=E.next}return-1},C.prototype.remove=function(w){this.contains(w)&&(null!=w.prev&&(w.prev.next=w.next),null!=w.next&&(w.next.prev=w.prev),w===this.head&&(this.head=w.next),w===this.tail&&(this.tail=w.prev),this.length-=1)},C.prototype.iterator=function(w){return void 0===w&&(w=this.head),function(){var e=w;return null!=w&&(w=w.next),e}},C.prototype.find=function(w,e){void 0===e&&(e=!1);for(var E,m=this.iterator();E=m();){var a=E.length();if(w<a||e&&w===a&&(null==E.next||0!==E.next.length()))return[E,w];w-=a}return[null,0]},C.prototype.forEach=function(w){for(var e,E=this.iterator();e=E();)w(e)},C.prototype.forEachAt=function(w,e,E){if(!(e<=0))for(var i,m=this.find(w),f=w-m[1],u=this.iterator(m[0]);(i=u())&&f<w+e;){var s=i.length();w>f?E(i,w-f,Math.min(e,f+s-w)):E(i,0,Math.min(s,w+e-f)),f+=s}},C.prototype.map=function(w){return this.reduce(function(e,E){return e.push(w(E)),e},[])},C.prototype.reduce=function(w,e){for(var E,m=this.iterator();E=m();)e=w(e,E);return e},C}();b.default=P},function(J,b,y){"use strict";var a,P=this&&this.__extends||(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,i){n.__proto__=i}||function(n,i){for(var f in i)i.hasOwnProperty(f)&&(n[f]=i[f])},function(n,i){function f(){this.constructor=n}a(n,i),n.prototype=null===i?Object.create(i):(f.prototype=i.prototype,new f)});Object.defineProperty(b,"__esModule",{value:!0});var C=y(17),w=y(1),e={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},m=function(a){function n(i){var f=a.call(this,i)||this;return f.scroll=f,f.observer=new MutationObserver(function(u){f.update(u)}),f.observer.observe(f.domNode,e),f.attach(),f}return P(n,a),n.prototype.detach=function(){a.prototype.detach.call(this),this.observer.disconnect()},n.prototype.deleteAt=function(i,f){this.update(),0===i&&f===this.length()?this.children.forEach(function(u){u.remove()}):a.prototype.deleteAt.call(this,i,f)},n.prototype.formatAt=function(i,f,u,s){this.update(),a.prototype.formatAt.call(this,i,f,u,s)},n.prototype.insertAt=function(i,f,u){this.update(),a.prototype.insertAt.call(this,i,f,u)},n.prototype.optimize=function(i,f){var u=this;void 0===i&&(i=[]),void 0===f&&(f={}),a.prototype.optimize.call(this,f);for(var s=[].slice.call(this.observer.takeRecords());s.length>0;)i.push(s.pop());for(var r=function(c,d){void 0===d&&(d=!0),null!=c&&c!==u&&null!=c.domNode.parentNode&&(null==c.domNode[w.DATA_KEY].mutations&&(c.domNode[w.DATA_KEY].mutations=[]),d&&r(c.parent))},o=function(c){null==c.domNode[w.DATA_KEY]||null==c.domNode[w.DATA_KEY].mutations||(c instanceof C.default&&c.children.forEach(o),c.optimize(f))},l=i,t=0;l.length>0;t+=1){if(t>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(l.forEach(function(c){var d=w.find(c.target,!0);null!=d&&(d.domNode===c.target&&("childList"===c.type?(r(w.find(c.previousSibling,!1)),[].forEach.call(c.addedNodes,function(_){var O=w.find(_,!1);r(O,!1),O instanceof C.default&&O.children.forEach(function(k){r(k,!1)})})):"attributes"===c.type&&r(d.prev)),r(d))}),this.children.forEach(o),s=(l=[].slice.call(this.observer.takeRecords())).slice();s.length>0;)i.push(s.pop())}},n.prototype.update=function(i,f){var u=this;void 0===f&&(f={}),(i=i||this.observer.takeRecords()).map(function(s){var r=w.find(s.target,!0);return null==r?null:null==r.domNode[w.DATA_KEY].mutations?(r.domNode[w.DATA_KEY].mutations=[s],r):(r.domNode[w.DATA_KEY].mutations.push(s),null)}).forEach(function(s){null==s||s===u||null==s.domNode[w.DATA_KEY]||s.update(s.domNode[w.DATA_KEY].mutations||[],f)}),null!=this.domNode[w.DATA_KEY].mutations&&a.prototype.update.call(this,this.domNode[w.DATA_KEY].mutations,f),this.optimize(i,f)},n.blotName="scroll",n.defaultChild="block",n.scope=w.Scope.BLOCK_BLOT,n.tagName="DIV",n}(C.default);b.default=m},function(J,b,y){"use strict";var m,P=this&&this.__extends||(m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var i in n)n.hasOwnProperty(i)&&(a[i]=n[i])},function(a,n){function i(){this.constructor=a}m(a,n),a.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)});Object.defineProperty(b,"__esModule",{value:!0});var C=y(18),w=y(1);var E=function(m){function a(){return null!==m&&m.apply(this,arguments)||this}return P(a,m),a.formats=function(n){if(n.tagName!==a.tagName)return m.formats.call(this,n)},a.prototype.format=function(n,i){var f=this;n!==this.statics.blotName||i?m.prototype.format.call(this,n,i):(this.children.forEach(function(u){u instanceof C.default||(u=u.wrap(a.blotName,!0)),f.attributes.copy(u)}),this.unwrap())},a.prototype.formatAt=function(n,i,f,u){null!=this.formats()[f]||w.query(f,w.Scope.ATTRIBUTE)?this.isolate(n,i).format(f,u):m.prototype.formatAt.call(this,n,i,f,u)},a.prototype.optimize=function(n){m.prototype.optimize.call(this,n);var i=this.formats();if(0===Object.keys(i).length)return this.unwrap();var f=this.next;f instanceof a&&f.prev===this&&function e(m,a){if(Object.keys(m).length!==Object.keys(a).length)return!1;for(var n in m)if(m[n]!==a[n])return!1;return!0}(i,f.formats())&&(f.moveChildren(this),f.remove())},a.blotName="inline",a.scope=w.Scope.INLINE_BLOT,a.tagName="SPAN",a}(C.default);b.default=E},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(b,"__esModule",{value:!0});var C=y(18),w=y(1),e=function(E){function m(){return null!==E&&E.apply(this,arguments)||this}return P(m,E),m.formats=function(a){var n=w.query(m.blotName).tagName;if(a.tagName!==n)return E.formats.call(this,a)},m.prototype.format=function(a,n){null!=w.query(a,w.Scope.BLOCK)&&(a!==this.statics.blotName||n?E.prototype.format.call(this,a,n):this.replaceWith(m.blotName))},m.prototype.formatAt=function(a,n,i,f){null!=w.query(i,w.Scope.BLOCK)?this.format(i,f):E.prototype.formatAt.call(this,a,n,i,f)},m.prototype.insertAt=function(a,n,i){if(null==i||null!=w.query(n,w.Scope.INLINE))E.prototype.insertAt.call(this,a,n,i);else{var f=this.split(a),u=w.create(n,i);f.parent.insertBefore(u,f)}},m.prototype.update=function(a,n){navigator.userAgent.match(/Trident/)?this.build():E.prototype.update.call(this,a,n)},m.blotName="block",m.scope=w.Scope.BLOCK_BLOT,m.tagName="P",m}(C.default);b.default=e},function(J,b,y){"use strict";var e,P=this&&this.__extends||(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,m){E.__proto__=m}||function(E,m){for(var a in m)m.hasOwnProperty(a)&&(E[a]=m[a])},function(E,m){function a(){this.constructor=E}e(E,m),E.prototype=null===m?Object.create(m):(a.prototype=m.prototype,new a)});Object.defineProperty(b,"__esModule",{value:!0});var w=function(e){function E(){return null!==e&&e.apply(this,arguments)||this}return P(E,e),E.formats=function(m){},E.prototype.format=function(m,a){e.prototype.formatAt.call(this,0,this.length(),m,a)},E.prototype.formatAt=function(m,a,n,i){0===m&&a===this.length()?this.format(n,i):e.prototype.formatAt.call(this,m,a,n,i)},E.prototype.formats=function(){return this.statics.formats(this.domNode)},E}(y(19).default);b.default=w},function(J,b,y){"use strict";var E,P=this&&this.__extends||(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,a){m.__proto__=a}||function(m,a){for(var n in a)a.hasOwnProperty(n)&&(m[n]=a[n])},function(m,a){function n(){this.constructor=m}E(m,a),m.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(b,"__esModule",{value:!0});var C=y(19),w=y(1),e=function(E){function m(a){var n=E.call(this,a)||this;return n.text=n.statics.value(n.domNode),n}return P(m,E),m.create=function(a){return document.createTextNode(a)},m.value=function(a){var n=a.data;return n.normalize&&(n=n.normalize()),n},m.prototype.deleteAt=function(a,n){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+n)},m.prototype.index=function(a,n){return this.domNode===a?n:-1},m.prototype.insertAt=function(a,n,i){null==i?(this.text=this.text.slice(0,a)+n+this.text.slice(a),this.domNode.data=this.text):E.prototype.insertAt.call(this,a,n,i)},m.prototype.length=function(){return this.text.length},m.prototype.optimize=function(a){E.prototype.optimize.call(this,a),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof m&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},m.prototype.position=function(a,n){return void 0===n&&(n=!1),[this.domNode,a]},m.prototype.split=function(a,n){if(void 0===n&&(n=!1),!n){if(0===a)return this;if(a===this.length())return this.next}var i=w.create(this.domNode.splitText(a));return this.parent.insertBefore(i,this.next),this.text=this.statics.value(this.domNode),i},m.prototype.update=function(a,n){var i=this;a.some(function(f){return"characterData"===f.type&&f.target===i.domNode})&&(this.text=this.statics.value(this.domNode))},m.prototype.value=function(){return this.text},m.blotName="text",m.scope=w.Scope.INLINE_BLOT,m}(C.default);b.default=e},function(J,b,y){"use strict";var P=document.createElement("div");if(P.classList.toggle("test-class",!1),P.classList.contains("test-class")){var C=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(w,e){return arguments.length>1&&!this.contains(w)==!e?e:C.call(this,w)}}String.prototype.startsWith||(String.prototype.startsWith=function(w,e){return this.substr(e=e||0,w.length)===w}),String.prototype.endsWith||(String.prototype.endsWith=function(w,e){var E=this.toString();("number"!=typeof e||!isFinite(e)||Math.floor(e)!==e||e>E.length)&&(e=E.length);var m=E.indexOf(w,e-=w.length);return-1!==m&&m===e}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(e){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof e)throw new TypeError("predicate must be a function");for(var n,E=Object(this),m=E.length>>>0,a=arguments[1],i=0;i<m;i++)if(e.call(a,n=E[i],i,E))return n}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(J,b){var y=-1,P=1,C=0;function w(t,c,d){if(t==c)return t?[[C,t]]:[];(d<0||t.length<d)&&(d=null);var _=a(t,c),O=t.substring(0,_);_=n(t=t.substring(_),c=c.substring(_));var k=t.substring(t.length-_),v=function e(t,c){var d;if(!t)return[[P,c]];if(!c)return[[y,t]];var _=t.length>c.length?t:c,O=t.length>c.length?c:t,k=_.indexOf(O);if(-1!=k)return d=[[P,_.substring(0,k)],[C,O],[P,_.substring(k+O.length)]],t.length>c.length&&(d[0][0]=d[2][0]=y),d;if(1==O.length)return[[y,t],[P,c]];var v=function i(t,c){var d=t.length>c.length?t:c,_=t.length>c.length?c:t;if(d.length<4||2*_.length<d.length)return null;function O(V,$,j){for(var R,Q,H,L,I=V.substring(j,j+Math.floor(V.length/4)),A=-1,q="";-1!=(A=$.indexOf(I,A+1));){var U=a(V.substring(j),$.substring(A)),z=n(V.substring(0,j),$.substring(0,A));q.length<z+U&&(q=$.substring(A-z,A)+$.substring(A,A+U),R=V.substring(0,j-z),Q=V.substring(j+U),H=$.substring(0,A-z),L=$.substring(A+U))}return 2*q.length>=V.length?[R,Q,H,L,q]:null}var p,h,T,N,F,k=O(d,_,Math.ceil(d.length/4)),v=O(d,_,Math.ceil(d.length/2));return k||v?(p=v?k&&k[4].length>v[4].length?k:v:k,t.length>c.length?(h=p[0],T=p[1],N=p[2],F=p[3]):(N=p[0],F=p[1],h=p[2],T=p[3]),[h,T,N,F,p[4]]):null}(t,c);if(v){var h=v[1],N=v[3],F=v[4],D=w(v[0],v[2]),V=w(h,N);return D.concat([[C,F]],V)}return function E(t,c){for(var d=t.length,_=c.length,O=Math.ceil((d+_)/2),k=O,v=2*O,p=new Array(v),h=new Array(v),T=0;T<v;T++)p[T]=-1,h[T]=-1;p[k+1]=0,h[k+1]=0;for(var N=d-_,F=N%2!=0,D=0,V=0,$=0,j=0,I=0;I<O;I++){for(var A=-I+D;A<=I-V;A+=2){for(var q=k+A,Q=(R=A==-I||A!=I&&p[q-1]<p[q+1]?p[q+1]:p[q-1]+1)-A;R<d&&Q<_&&t.charAt(R)==c.charAt(Q);)R++,Q++;if(p[q]=R,R>d)V+=2;else if(Q>_)D+=2;else if(F&&(H=k+N-A)>=0&&H<v&&-1!=h[H]&&R>=(L=d-h[H]))return m(t,c,R,Q)}for(var U=-I+$;U<=I-j;U+=2){for(var L,H=k+U,z=(L=U==-I||U!=I&&h[H-1]<h[H+1]?h[H+1]:h[H-1]+1)-U;L<d&&z<_&&t.charAt(d-L-1)==c.charAt(_-z-1);)L++,z++;if(h[H]=L,L>d)j+=2;else if(z>_)$+=2;else if(!F){var R;if((q=k+N-U)>=0&&q<v&&-1!=p[q]&&(Q=k+(R=p[q])-q,R>=(L=d-L)))return m(t,c,R,Q)}}}return[[y,t],[P,c]]}(t,c)}(t=t.substring(0,t.length-_),c=c.substring(0,c.length-_));return O&&v.unshift([C,O]),k&&v.push([C,k]),f(v),null!=d&&(v=function r(t,c){var d=function s(t,c){if(0===c)return[C,t];for(var d=0,_=0;_<t.length;_++){var O=t[_];if(O[0]===y||O[0]===C){var k=d+O[1].length;if(c===k)return[_+1,t];if(c<k){t=t.slice();var v=c-d,p=[O[0],O[1].slice(0,v)],h=[O[0],O[1].slice(v)];return t.splice(_,1,p,h),[_+1,t]}d=k}}throw new Error("cursor_pos is out of bounds!")}(t,c),_=d[1],O=d[0],k=_[O],v=_[O+1];if(null==k)return t;if(k[0]!==C)return t;if(null!=v&&k[1]+v[1]===v[1]+k[1])return _.splice(O,2,v,k),l(_,O,2);if(null!=v&&0===v[1].indexOf(k[1])){_.splice(O,2,[v[0],k[1]],[0,k[1]]);var p=v[1].slice(k[1].length);return p.length>0&&_.splice(O+2,0,[v[0],p]),l(_,O,3)}return t}(v,d)),function o(t){for(var c=!1,d=function(v){return v.charCodeAt(0)>=56320&&v.charCodeAt(0)<=57343},_=function(v){return v.charCodeAt(v.length-1)>=55296&&v.charCodeAt(v.length-1)<=56319},O=2;O<t.length;O+=1)t[O-2][0]===C&&_(t[O-2][1])&&t[O-1][0]===y&&d(t[O-1][1])&&t[O][0]===P&&d(t[O][1])&&(c=!0,t[O-1][1]=t[O-2][1].slice(-1)+t[O-1][1],t[O][1]=t[O-2][1].slice(-1)+t[O][1],t[O-2][1]=t[O-2][1].slice(0,-1));if(!c)return t;var k=[];for(O=0;O<t.length;O+=1)t[O][1].length>0&&k.push(t[O]);return k}(v)}function m(t,c,d,_){var O=t.substring(0,d),k=c.substring(0,_),v=t.substring(d),p=c.substring(_),h=w(O,k),T=w(v,p);return h.concat(T)}function a(t,c){if(!t||!c||t.charAt(0)!=c.charAt(0))return 0;for(var d=0,_=Math.min(t.length,c.length),O=_,k=0;d<O;)t.substring(k,O)==c.substring(k,O)?k=d=O:_=O,O=Math.floor((_-d)/2+d);return O}function n(t,c){if(!t||!c||t.charAt(t.length-1)!=c.charAt(c.length-1))return 0;for(var d=0,_=Math.min(t.length,c.length),O=_,k=0;d<O;)t.substring(t.length-O,t.length-k)==c.substring(c.length-O,c.length-k)?k=d=O:_=O,O=Math.floor((_-d)/2+d);return O}function f(t){t.push([C,""]);for(var v,c=0,d=0,_=0,O="",k="";c<t.length;)switch(t[c][0]){case P:_++,k+=t[c][1],c++;break;case y:d++,O+=t[c][1],c++;break;case C:d+_>1?(0!==d&&0!==_&&(0!==(v=a(k,O))&&(c-d-_>0&&t[c-d-_-1][0]==C?t[c-d-_-1][1]+=k.substring(0,v):(t.splice(0,0,[C,k.substring(0,v)]),c++),k=k.substring(v),O=O.substring(v)),0!==(v=n(k,O))&&(t[c][1]=k.substring(k.length-v)+t[c][1],k=k.substring(0,k.length-v),O=O.substring(0,O.length-v))),0===d?t.splice(c-_,d+_,[P,k]):0===_?t.splice(c-d,d+_,[y,O]):t.splice(c-d-_,d+_,[y,O],[P,k]),c=c-d-_+(d?1:0)+(_?1:0)+1):0!==c&&t[c-1][0]==C?(t[c-1][1]+=t[c][1],t.splice(c,1)):c++,_=0,d=0,O="",k=""}""===t[t.length-1][1]&&t.pop();var p=!1;for(c=1;c<t.length-1;)t[c-1][0]==C&&t[c+1][0]==C&&(t[c][1].substring(t[c][1].length-t[c-1][1].length)==t[c-1][1]?(t[c][1]=t[c-1][1]+t[c][1].substring(0,t[c][1].length-t[c-1][1].length),t[c+1][1]=t[c-1][1]+t[c+1][1],t.splice(c-1,1),p=!0):t[c][1].substring(0,t[c+1][1].length)==t[c+1][1]&&(t[c-1][1]+=t[c+1][1],t[c][1]=t[c][1].substring(t[c+1][1].length)+t[c+1][1],t.splice(c+1,1),p=!0)),c++;p&&f(t)}var u=w;function l(t,c,d){for(var _=c+d-1;_>=0&&_>=c-1;_--)if(_+1<t.length){var O=t[_],k=t[_+1];O[0]===k[1]&&t.splice(_,2,[O[0],O[1]+k[1]])}return t}u.INSERT=P,u.DELETE=y,u.EQUAL=C,J.exports=u},function(J,b){function y(P){var C=[];for(var w in P)C.push(w);return C}(J.exports="function"==typeof Object.keys?Object.keys:y).shim=y},function(J,b){var y="[object Arguments]"==function(){return Object.prototype.toString.call(arguments)}();function P(w){return"[object Arguments]"==Object.prototype.toString.call(w)}function C(w){return w&&"object"==typeof w&&"number"==typeof w.length&&Object.prototype.hasOwnProperty.call(w,"callee")&&!Object.prototype.propertyIsEnumerable.call(w,"callee")||!1}(b=J.exports=y?P:C).supported=P,b.unsupported=C},function(J,b){"use strict";var y=Object.prototype.hasOwnProperty,P="~";function C(){}function w(E,m,a){this.fn=E,this.context=m,this.once=a||!1}function e(){this._events=new C,this._eventsCount=0}Object.create&&(C.prototype=Object.create(null),(new C).__proto__||(P=!1)),e.prototype.eventNames=function(){var a,n,m=[];if(0===this._eventsCount)return m;for(n in a=this._events)y.call(a,n)&&m.push(P?n.slice(1):n);return Object.getOwnPropertySymbols?m.concat(Object.getOwnPropertySymbols(a)):m},e.prototype.listeners=function(m,a){var i=this._events[P?P+m:m];if(a)return!!i;if(!i)return[];if(i.fn)return[i.fn];for(var f=0,u=i.length,s=new Array(u);f<u;f++)s[f]=i[f].fn;return s},e.prototype.emit=function(m,a,n,i,f,u){var s=P?P+m:m;if(!this._events[s])return!1;var l,t,r=this._events[s],o=arguments.length;if(r.fn){switch(r.once&&this.removeListener(m,r.fn,void 0,!0),o){case 1:return r.fn.call(r.context),!0;case 2:return r.fn.call(r.context,a),!0;case 3:return r.fn.call(r.context,a,n),!0;case 4:return r.fn.call(r.context,a,n,i),!0;case 5:return r.fn.call(r.context,a,n,i,f),!0;case 6:return r.fn.call(r.context,a,n,i,f,u),!0}for(t=1,l=new Array(o-1);t<o;t++)l[t-1]=arguments[t];r.fn.apply(r.context,l)}else{var d,c=r.length;for(t=0;t<c;t++)switch(r[t].once&&this.removeListener(m,r[t].fn,void 0,!0),o){case 1:r[t].fn.call(r[t].context);break;case 2:r[t].fn.call(r[t].context,a);break;case 3:r[t].fn.call(r[t].context,a,n);break;case 4:r[t].fn.call(r[t].context,a,n,i);break;default:if(!l)for(d=1,l=new Array(o-1);d<o;d++)l[d-1]=arguments[d];r[t].fn.apply(r[t].context,l)}}return!0},e.prototype.on=function(m,a,n){var i=new w(a,n||this),f=P?P+m:m;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],i]:this._events[f].push(i):(this._events[f]=i,this._eventsCount++),this},e.prototype.once=function(m,a,n){var i=new w(a,n||this,!0),f=P?P+m:m;return this._events[f]?this._events[f].fn?this._events[f]=[this._events[f],i]:this._events[f].push(i):(this._events[f]=i,this._eventsCount++),this},e.prototype.removeListener=function(m,a,n,i){var f=P?P+m:m;if(!this._events[f])return this;if(!a)return 0==--this._eventsCount?this._events=new C:delete this._events[f],this;var u=this._events[f];if(u.fn)u.fn===a&&(!i||u.once)&&(!n||u.context===n)&&(0==--this._eventsCount?this._events=new C:delete this._events[f]);else{for(var s=0,r=[],o=u.length;s<o;s++)(u[s].fn!==a||i&&!u[s].once||n&&u[s].context!==n)&&r.push(u[s]);r.length?this._events[f]=1===r.length?r[0]:r:0==--this._eventsCount?this._events=new C:delete this._events[f]}return this},e.prototype.removeAllListeners=function(m){var a;return m?this._events[a=P?P+m:m]&&(0==--this._eventsCount?this._events=new C:delete this._events[a]):(this._events=new C,this._eventsCount=0),this},e.prototype.off=e.prototype.removeListener,e.prototype.addListener=e.prototype.on,e.prototype.setMaxListeners=function(){return this},e.prefixed=P,e.EventEmitter=e,typeof J<"u"&&(J.exports=e)},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.matchText=b.matchSpacing=b.matchNewline=b.matchBlot=b.matchAttributor=b.default=void 0;var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(K){return typeof K}:function(K){return K&&"function"==typeof Symbol&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},C=function(W,ne){if(Array.isArray(W))return W;if(Symbol.iterator in Object(W))return function K(W,ne){var ie=[],ee=!0,ue=!1,fe=void 0;try{for(var _e,ce=W[Symbol.iterator]();!(ee=(_e=ce.next()).done)&&(ie.push(_e.value),!ne||ie.length!==ne);ee=!0);}catch(Oe){ue=!0,fe=Oe}finally{try{!ee&&ce.return&&ce.return()}finally{if(ue)throw fe}}return ie}(W,ne);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function K(W,ne){for(var ie=0;ie<ne.length;ie++){var ee=ne[ie];ee.enumerable=ee.enumerable||!1,ee.configurable=!0,"value"in ee&&(ee.writable=!0),Object.defineProperty(W,ee.key,ee)}}return function(W,ne,ie){return ne&&K(W.prototype,ne),ie&&K(W,ie),W}}(),E=h(y(3)),a=h(y(2)),i=h(y(0)),u=h(y(5)),r=h(y(10)),l=h(y(9)),t=y(36),c=y(37),_=h(y(13)),O=y(26),k=y(38),v=y(39),p=y(40);function h(K){return K&&K.__esModule?K:{default:K}}function T(K,W,ne){return W in K?Object.defineProperty(K,W,{value:ne,enumerable:!0,configurable:!0,writable:!0}):K[W]=ne,K}var V=(0,r.default)("quill:clipboard"),$="__ql-matcher",j=[[Node.TEXT_NODE,ve],[Node.TEXT_NODE,de],["br",function re(K,W){return H(W,"\n")||W.insert("\n"),W}],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,X],[Node.ELEMENT_NODE,he],[Node.ELEMENT_NODE,Y],[Node.ELEMENT_NODE,function pe(K,W){var ne={},ie=K.style||{};return ie.fontStyle&&"italic"===Q(K).fontStyle&&(ne.italic=!0),ie.fontWeight&&(Q(K).fontWeight.startsWith("bold")||parseInt(Q(K).fontWeight)>=700)&&(ne.bold=!0),Object.keys(ne).length>0&&(W=R(W,ne)),parseFloat(ie.textIndent||0)>0&&(W=(new a.default).insert("\t").concat(W)),W}],["li",function se(K,W){var ne=i.default.query(K);if(null==ne||"list-item"!==ne.blotName||!H(W,"\n"))return W;for(var ie=-1,ee=K.parentNode;!ee.classList.contains("ql-clipboard");)"list"===(i.default.query(ee)||{}).blotName&&(ie+=1),ee=ee.parentNode;return ie<=0?W:W.compose((new a.default).retain(W.length()-1).retain(1,{indent:ie}))}],["b",z.bind(z,"bold")],["i",z.bind(z,"italic")],["style",function ae(){return new a.default}]],I=[t.AlignAttribute,k.DirectionAttribute].reduce(function(K,W){return K[W.keyName]=W,K},{}),A=[t.AlignStyle,c.BackgroundStyle,O.ColorStyle,k.DirectionStyle,v.FontStyle,p.SizeStyle].reduce(function(K,W){return K[W.keyName]=W,K},{}),q=function(K){function W(ne,ie){!function N(K,W){if(!(K instanceof W))throw new TypeError("Cannot call a class as a function")}(this,W);var ee=function F(K,W){if(!K)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||"object"!=typeof W&&"function"!=typeof W?K:W}(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,ne,ie));return ee.quill.root.addEventListener("paste",ee.onPaste.bind(ee)),ee.container=ee.quill.addContainer("ql-clipboard"),ee.container.setAttribute("contenteditable",!0),ee.container.setAttribute("tabindex",-1),ee.matchers=[],j.concat(ee.options.matchers).forEach(function(ue){var fe=C(ue,2),_e=fe[1];!ie.matchVisual&&_e===he||ee.addMatcher(fe[0],_e)}),ee}return function D(K,W){if("function"!=typeof W&&null!==W)throw new TypeError("Super expression must either be null or a function, not "+typeof W);K.prototype=Object.create(W&&W.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(K,W):K.__proto__=W)}(W,K),w(W,[{key:"addMatcher",value:function(ie,ee){this.matchers.push([ie,ee])}},{key:"convert",value:function(ie){if("string"==typeof ie)return this.container.innerHTML=ie.replace(/\>\r?\n +\</g,"><"),this.convert();var ee=this.quill.getFormat(this.quill.selection.savedRange.index);if(ee[_.default.blotName]){var ue=this.container.innerText;return this.container.innerHTML="",(new a.default).insert(ue,T({},_.default.blotName,ee[_.default.blotName]))}var fe=this.prepareMatching(),ce=C(fe,2),me=U(this.container,ce[0],ce[1]);return H(me,"\n")&&null==me.ops[me.ops.length-1].attributes&&(me=me.compose((new a.default).retain(me.length()-1).delete(1))),V.log("convert",this.container.innerHTML,me),this.container.innerHTML="",me}},{key:"dangerouslyPasteHTML",value:function(ie,ee){var ue=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.default.sources.API;if("string"==typeof ie)this.quill.setContents(this.convert(ie),ee),this.quill.setSelection(0,u.default.sources.SILENT);else{var fe=this.convert(ee);this.quill.updateContents((new a.default).retain(ie).concat(fe),ue),this.quill.setSelection(ie+fe.length(),u.default.sources.SILENT)}}},{key:"onPaste",value:function(ie){var ee=this;if(!ie.defaultPrevented&&this.quill.isEnabled()){var ue=this.quill.getSelection(),fe=(new a.default).retain(ue.index),ce=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(u.default.sources.SILENT),setTimeout(function(){fe=fe.concat(ee.convert()).delete(ue.length),ee.quill.updateContents(fe,u.default.sources.USER),ee.quill.setSelection(fe.length()-ue.length,u.default.sources.SILENT),ee.quill.scrollingContainer.scrollTop=ce,ee.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ie=this,ee=[],ue=[];return this.matchers.forEach(function(fe){var ce=C(fe,2),_e=ce[0],Oe=ce[1];switch(_e){case Node.TEXT_NODE:ue.push(Oe);break;case Node.ELEMENT_NODE:ee.push(Oe);break;default:[].forEach.call(ie.container.querySelectorAll(_e),function(me){me[$]=me[$]||[],me[$].push(Oe)})}}),[ee,ue]}}]),W}(l.default);function R(K,W,ne){return"object"===(typeof W>"u"?"undefined":P(W))?Object.keys(W).reduce(function(ie,ee){return R(ie,ee,W[ee])},K):K.reduce(function(ie,ee){return ee.attributes&&ee.attributes[W]?ie.push(ee):ie.insert(ee.insert,(0,E.default)({},T({},W,ne),ee.attributes))},new a.default)}function Q(K){if(K.nodeType!==Node.ELEMENT_NODE)return{};var W="__ql-computed-style";return K[W]||(K[W]=window.getComputedStyle(K))}function H(K,W){for(var ne="",ie=K.ops.length-1;ie>=0&&ne.length<W.length;--ie){var ee=K.ops[ie];if("string"!=typeof ee.insert)break;ne=ee.insert+ne}return ne.slice(-1*W.length)===W}function L(K){if(0===K.childNodes.length)return!1;var W=Q(K);return["block","list-item"].indexOf(W.display)>-1}function U(K,W,ne){return K.nodeType===K.TEXT_NODE?ne.reduce(function(ie,ee){return ee(K,ie)},new a.default):K.nodeType===K.ELEMENT_NODE?[].reduce.call(K.childNodes||[],function(ie,ee){var ue=U(ee,W,ne);return ee.nodeType===K.ELEMENT_NODE&&(ue=W.reduce(function(fe,ce){return ce(ee,fe)},ue),ue=(ee[$]||[]).reduce(function(fe,ce){return ce(ee,fe)},ue)),ie.concat(ue)},new a.default):new a.default}function z(K,W,ne){return R(ne,K,!0)}function Y(K,W){var ne=i.default.Attributor.Attribute.keys(K),ie=i.default.Attributor.Class.keys(K),ee=i.default.Attributor.Style.keys(K),ue={};return ne.concat(ie).concat(ee).forEach(function(fe){var ce=i.default.query(fe,i.default.Scope.ATTRIBUTE);null!=ce&&(ue[ce.attrName]=ce.value(K),ue[ce.attrName])||(null!=(ce=I[fe])&&(ce.attrName===fe||ce.keyName===fe)&&(ue[ce.attrName]=ce.value(K)||void 0),null!=(ce=A[fe])&&(ce.attrName===fe||ce.keyName===fe)&&(ue[(ce=A[fe]).attrName]=ce.value(K)||void 0))}),Object.keys(ue).length>0&&(W=R(W,ue)),W}function X(K,W){var ne=i.default.query(K);if(null==ne)return W;if(ne.prototype instanceof i.default.Embed){var ie={},ee=ne.value(K);null!=ee&&(ie[ne.blotName]=ee,W=(new a.default).insert(ie,ne.formats(K)))}else"function"==typeof ne.formats&&(W=R(W,ne.blotName,ne.formats(K)));return W}function de(K,W){return H(W,"\n")||(L(K)||W.length()>0&&K.nextSibling&&L(K.nextSibling))&&W.insert("\n"),W}function he(K,W){if(L(K)&&null!=K.nextElementSibling&&!H(W,"\n\n")){var ne=K.offsetHeight+parseFloat(Q(K).marginTop)+parseFloat(Q(K).marginBottom);K.nextElementSibling.offsetTop>K.offsetTop+1.5*ne&&W.insert("\n")}return W}function ve(K,W){var ne=K.data;if("O:P"===K.parentNode.tagName)return W.insert(ne.trim());if(0===ne.trim().length&&K.parentNode.classList.contains("ql-clipboard"))return W;if(!Q(K.parentNode).whiteSpace.startsWith("pre")){var ie=function(ue,fe){return(fe=fe.replace(/[^\u00a0]/g,"")).length<1&&ue?" ":fe};ne=(ne=ne.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,ie.bind(ie,!0)),(null==K.previousSibling&&L(K.parentNode)||null!=K.previousSibling&&L(K.previousSibling))&&(ne=ne.replace(/^\s+/,ie.bind(ie,!1))),(null==K.nextSibling&&L(K.parentNode)||null!=K.nextSibling&&L(K.nextSibling))&&(ne=ne.replace(/\s+$/,ie.bind(ie,!1)))}return W.insert(ne)}q.DEFAULTS={matchers:[],matchVisual:!0},b.default=q,b.matchAttributor=Y,b.matchBlot=X,b.matchNewline=de,b.matchSpacing=he,b.matchText=ve},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),C=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(){return function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,[{key:"optimize",value:function(r){C(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,r),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return C(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(6)).default);i.blotName="bold",i.tagName=["STRONG","B"],b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.addControls=b.default=void 0;var P=function(h,T){if(Array.isArray(h))return h;if(Symbol.iterator in Object(h))return function p(h,T){var N=[],F=!0,D=!1,V=void 0;try{for(var j,$=h[Symbol.iterator]();!(F=(j=$.next()).done)&&(N.push(j.value),!T||N.length!==T);F=!0);}catch(I){D=!0,V=I}finally{try{!F&&$.return&&$.return()}finally{if(D)throw V}}return N}(h,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function(){function p(h,T){for(var N=0;N<T.length;N++){var F=T[N];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(h,F.key,F)}}return function(h,T,N){return T&&p(h.prototype,T),N&&p(h,N),h}}(),e=r(y(2)),m=r(y(0)),n=r(y(5)),f=r(y(10)),s=r(y(9));function r(p){return p&&p.__esModule?p:{default:p}}function t(p,h){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!h||"object"!=typeof h&&"function"!=typeof h?p:h}var d=(0,f.default)("quill:toolbar"),_=function(p){function h(T,N){!function l(p,h){if(!(p instanceof h))throw new TypeError("Cannot call a class as a function")}(this,h);var V,F=t(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,T,N));if(Array.isArray(F.options.container)){var D=document.createElement("div");k(D,F.options.container),T.container.parentNode.insertBefore(D,T.container),F.container=D}else F.container="string"==typeof F.options.container?document.querySelector(F.options.container):F.options.container;return F.container instanceof HTMLElement?(F.container.classList.add("ql-toolbar"),F.controls=[],F.handlers={},Object.keys(F.options.handlers).forEach(function($){F.addHandler($,F.options.handlers[$])}),[].forEach.call(F.container.querySelectorAll("button, select"),function($){F.attach($)}),F.quill.on(n.default.events.EDITOR_CHANGE,function($,j){$===n.default.events.SELECTION_CHANGE&&F.update(j)}),F.quill.on(n.default.events.SCROLL_OPTIMIZE,function(){var $=F.quill.selection.getRange(),j=P($,1);F.update(j[0])}),F):(V=d.error("Container required for toolbar",F.options),t(F,V))}return function c(p,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function, not "+typeof h);p.prototype=Object.create(h&&h.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),h&&(Object.setPrototypeOf?Object.setPrototypeOf(p,h):p.__proto__=h)}(h,p),C(h,[{key:"addHandler",value:function(N,F){this.handlers[N]=F}},{key:"attach",value:function(N){var F=this,D=[].find.call(N.classList,function($){return 0===$.indexOf("ql-")});if(D){if(D=D.slice(3),"BUTTON"===N.tagName&&N.setAttribute("type","button"),null==this.handlers[D]){if(null!=this.quill.scroll.whitelist&&null==this.quill.scroll.whitelist[D])return void d.warn("ignoring attaching to disabled format",D,N);if(null==m.default.query(D))return void d.warn("ignoring attaching to nonexistent format",D,N)}N.addEventListener("SELECT"===N.tagName?"change":"click",function($){var j=void 0;if("SELECT"===N.tagName){if(N.selectedIndex<0)return;var I=N.options[N.selectedIndex];j=!I.hasAttribute("selected")&&(I.value||!1)}else j=!N.classList.contains("ql-active")&&(N.value||!N.hasAttribute("value")),$.preventDefault();F.quill.focus();var A=F.quill.selection.getRange(),R=P(A,1)[0];if(null!=F.handlers[D])F.handlers[D].call(F,j);else if(m.default.query(D).prototype instanceof m.default.Embed){if(!(j=prompt("Enter "+D)))return;F.quill.updateContents((new e.default).retain(R.index).delete(R.length).insert(function o(p,h,T){return h in p?Object.defineProperty(p,h,{value:T,enumerable:!0,configurable:!0,writable:!0}):p[h]=T,p}({},D,j)),n.default.sources.USER)}else F.quill.format(D,j,n.default.sources.USER);F.update(R)}),this.controls.push([D,N])}}},{key:"update",value:function(N){var F=null==N?{}:this.quill.getFormat(N);this.controls.forEach(function(D){var V=P(D,2),$=V[0],j=V[1];if("SELECT"===j.tagName){var I=void 0;if(null==N)I=null;else if(null==F[$])I=j.querySelector("option[selected]");else if(!Array.isArray(F[$])){var A=F[$];"string"==typeof A&&(A=A.replace(/\"/g,'\\"')),I=j.querySelector('option[value="'+A+'"]')}null==I?(j.value="",j.selectedIndex=-1):I.selected=!0}else if(null==N)j.classList.remove("ql-active");else if(j.hasAttribute("value")){var q=F[$]===j.getAttribute("value")||null!=F[$]&&F[$].toString()===j.getAttribute("value")||null==F[$]&&!j.getAttribute("value");j.classList.toggle("ql-active",q)}else j.classList.toggle("ql-active",null!=F[$])})}}]),h}(s.default);function O(p,h,T){var N=document.createElement("button");N.setAttribute("type","button"),N.classList.add("ql-"+h),null!=T&&(N.value=T),p.appendChild(N)}function k(p,h){Array.isArray(h[0])||(h=[h]),h.forEach(function(T){var N=document.createElement("span");N.classList.add("ql-formats"),T.forEach(function(F){if("string"==typeof F)O(N,F);else{var D=Object.keys(F)[0],V=F[D];Array.isArray(V)?function v(p,h,T){var N=document.createElement("select");N.classList.add("ql-"+h),T.forEach(function(F){var D=document.createElement("option");!1!==F?D.setAttribute("value",F):D.setAttribute("selected","selected"),N.appendChild(D)}),p.appendChild(N)}(N,D,V):O(N,D,V)}}),p.appendChild(N)})}_.DEFAULTS={},_.DEFAULTS={container:null,handlers:{clean:function(){var h=this,T=this.quill.getSelection();if(null!=T)if(0==T.length){var N=this.quill.getFormat();Object.keys(N).forEach(function(F){null!=m.default.query(F,m.default.Scope.INLINE)&&h.quill.format(F,!1)})}else this.quill.removeFormat(T,n.default.sources.USER)},direction:function(h){var T=this.quill.getFormat().align;"rtl"===h&&null==T?this.quill.format("align","right",n.default.sources.USER):!h&&"right"===T&&this.quill.format("align",!1,n.default.sources.USER),this.quill.format("direction",h,n.default.sources.USER)},indent:function(h){var T=this.quill.getSelection(),N=this.quill.getFormat(T),F=parseInt(N.indent||0);if("+1"===h||"-1"===h){var D="+1"===h?1:-1;"rtl"===N.direction&&(D*=-1),this.quill.format("indent",F+D,n.default.sources.USER)}},link:function(h){!0===h&&(h=prompt("Enter link URL:")),this.quill.format("link",h,n.default.sources.USER)},list:function(h){var T=this.quill.getSelection(),N=this.quill.getFormat(T);this.quill.format("list","check"===h?"checked"!==N.list&&"unchecked"!==N.list&&"unchecked":h,n.default.sources.USER)}}},b.default=_,b.addControls=k},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),C=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(s,r){!function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var o=function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s));return o.label.innerHTML=r,o.container.classList.add("ql-color-picker"),[].slice.call(o.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(l){l.classList.add("ql-primary")}),o}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,[{key:"buildItem",value:function(r){var o=C(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"buildItem",this).call(this,r);return o.style.backgroundColor=r.getAttribute("value")||"",o}},{key:"selectItem",value:function(r,o){C(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"selectItem",this).call(this,r,o);var l=this.label.querySelector(".ql-color-label"),t=r&&r.getAttribute("data-value")||"";l&&("line"===l.tagName?l.style.stroke=t:l.style.fill=t)}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(28)).default);b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),C=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(s,r){!function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u);var o=function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,s));return o.container.classList.add("ql-icon-picker"),[].forEach.call(o.container.querySelectorAll(".ql-picker-item"),function(l){l.innerHTML=r[l.getAttribute("data-value")||""]}),o.defaultItem=o.container.querySelector(".ql-selected"),o.selectItem(o.defaultItem),o}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,[{key:"selectItem",value:function(r,o){C(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"selectItem",this).call(this,r,o),this.label.innerHTML=(r=r||this.defaultItem).innerHTML}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(28)).default);b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function e(E,m){for(var a=0;a<m.length;a++){var n=m[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(E,n.key,n)}}return function(E,m,a){return m&&e(E.prototype,m),a&&e(E,a),E}}();var w=function(){function e(E,m){var a=this;(function C(e,E){if(!(e instanceof E))throw new TypeError("Cannot call a class as a function")})(this,e),this.quill=E,this.boundsContainer=m||document.body,this.root=E.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return P(e,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(m){var a=m.left+m.width/2-this.root.offsetWidth/2,n=m.bottom+this.quill.root.scrollTop;this.root.style.left=a+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var i=this.boundsContainer.getBoundingClientRect(),f=this.root.getBoundingClientRect(),u=0;return f.right>i.right&&(this.root.style.left=a+(u=i.right-f.right)+"px"),f.left<i.left&&(this.root.style.left=a+(u=i.left-f.left)+"px"),f.bottom>i.bottom&&(this.root.style.top=n-(m.bottom-m.top+(f.bottom-f.top))+"px",this.root.classList.add("ql-flip")),u}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),e}();b.default=w},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(p,h){if(Array.isArray(p))return p;if(Symbol.iterator in Object(p))return function v(p,h){var T=[],N=!0,F=!1,D=void 0;try{for(var $,V=p[Symbol.iterator]();!(N=($=V.next()).done)&&(T.push($.value),!h||T.length!==h);N=!0);}catch(j){F=!0,D=j}finally{try{!N&&V.return&&V.return()}finally{if(F)throw D}}return T}(p,h);throw new TypeError("Invalid attempt to destructure non-iterable instance")},C=function v(p,h,T){null===p&&(p=Function.prototype);var N=Object.getOwnPropertyDescriptor(p,h);if(void 0===N){var F=Object.getPrototypeOf(p);return null===F?void 0:v(F,h,T)}if("value"in N)return N.value;var D=N.get;return void 0===D?void 0:D.call(T)},w=function(){function v(p,h){for(var T=0;T<h.length;T++){var N=h[T];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(p,N.key,N)}}return function(p,h,T){return h&&v(p.prototype,h),T&&v(p,T),p}}(),E=l(y(3)),a=l(y(8)),n=y(43),i=l(n),u=l(y(27)),s=y(15),o=l(y(41));function l(v){return v&&v.__esModule?v:{default:v}}function t(v,p){if(!(v instanceof p))throw new TypeError("Cannot call a class as a function")}function c(v,p){if(!v)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||"object"!=typeof p&&"function"!=typeof p?v:p}function d(v,p){if("function"!=typeof p&&null!==p)throw new TypeError("Super expression must either be null or a function, not "+typeof p);v.prototype=Object.create(p&&p.prototype,{constructor:{value:v,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(v,p):v.__proto__=p)}var _=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(v){function p(h,T){t(this,p),null!=T.modules.toolbar&&null==T.modules.toolbar.container&&(T.modules.toolbar.container=_);var N=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h,T));return N.quill.container.classList.add("ql-snow"),N}return d(p,v),w(p,[{key:"extendToolbar",value:function(T){T.container.classList.add("ql-snow"),this.buildButtons([].slice.call(T.container.querySelectorAll("button")),o.default),this.buildPickers([].slice.call(T.container.querySelectorAll("select")),o.default),this.tooltip=new k(this.quill,this.options.bounds),T.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(N,F){T.handlers.link.call(T,!F.format.link)})}}]),p}(i.default);O.DEFAULTS=(0,E.default)(!0,{},i.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(p){if(p){var h=this.quill.getSelection();if(null==h||0==h.length)return;var T=this.quill.getText(h);/^\S+@\S+\.\S+$/.test(T)&&0!==T.indexOf("mailto:")&&(T="mailto:"+T),this.quill.theme.tooltip.edit("link",T)}else this.quill.format("link",!1)}}}}});var k=function(v){function p(h,T){t(this,p);var N=c(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,h,T));return N.preview=N.root.querySelector("a.ql-preview"),N}return d(p,v),w(p,[{key:"listen",value:function(){var T=this;C(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(N){T.root.classList.contains("ql-editing")?T.save():T.edit("link",T.preview.textContent),N.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(N){if(null!=T.linkRange){var F=T.linkRange;T.restoreFocus(),T.quill.formatText(F,"link",!1,a.default.sources.USER),delete T.linkRange}N.preventDefault(),T.hide()}),this.quill.on(a.default.events.SELECTION_CHANGE,function(N,F,D){if(null!=N){if(0===N.length&&D===a.default.sources.USER){var V=T.quill.scroll.descendant(u.default,N.index),$=P(V,2),j=$[0];if(null!=j){T.linkRange=new s.Range(N.index-$[1],j.length());var A=u.default.formats(j.domNode);return T.preview.textContent=A,T.preview.setAttribute("href",A),T.show(),void T.position(T.quill.getBounds(T.linkRange))}}else delete T.linkRange;T.hide()}})}},{key:"show",value:function(){C(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),p}(n.BaseTooltip);k.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),b.default=O},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var C=ee(y(29)),w=y(36),e=y(38),E=y(64),a=ee(y(65)),i=ee(y(66)),f=y(67),u=ee(f),s=y(37),r=y(26),o=y(39),l=y(40),c=ee(y(56)),_=ee(y(68)),k=ee(y(27)),p=ee(y(69)),T=ee(y(70)),F=ee(y(71)),V=ee(y(72)),j=ee(y(73)),I=y(13),A=ee(I),R=ee(y(74)),H=ee(y(75)),U=ee(y(57)),Y=ee(y(41)),re=ee(y(28)),se=ee(y(59)),he=ee(y(60)),ve=ee(y(61)),W=ee(y(108)),ie=ee(y(62));function ee(ue){return ue&&ue.__esModule?ue:{default:ue}}C.default.register({"attributors/attribute/direction":e.DirectionAttribute,"attributors/class/align":w.AlignClass,"attributors/class/background":s.BackgroundClass,"attributors/class/color":r.ColorClass,"attributors/class/direction":e.DirectionClass,"attributors/class/font":o.FontClass,"attributors/class/size":l.SizeClass,"attributors/style/align":w.AlignStyle,"attributors/style/background":s.BackgroundStyle,"attributors/style/color":r.ColorStyle,"attributors/style/direction":e.DirectionStyle,"attributors/style/font":o.FontStyle,"attributors/style/size":l.SizeStyle},!0),C.default.register({"formats/align":w.AlignClass,"formats/direction":e.DirectionClass,"formats/indent":E.IndentClass,"formats/background":s.BackgroundStyle,"formats/color":r.ColorStyle,"formats/font":o.FontClass,"formats/size":l.SizeClass,"formats/blockquote":a.default,"formats/code-block":A.default,"formats/header":i.default,"formats/list":u.default,"formats/bold":c.default,"formats/code":I.Code,"formats/italic":_.default,"formats/link":k.default,"formats/script":p.default,"formats/strike":T.default,"formats/underline":F.default,"formats/image":V.default,"formats/video":j.default,"formats/list/item":f.ListItem,"modules/formula":R.default,"modules/syntax":H.default,"modules/toolbar":U.default,"themes/bubble":W.default,"themes/snow":ie.default,"ui/icons":Y.default,"ui/picker":re.default,"ui/icon-picker":he.default,"ui/color-picker":se.default,"ui/tooltip":ve.default},!0),b.default=C.default},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.IndentClass=void 0;var P=function(){function u(s,r){for(var o=0;o<r.length;o++){var l=r[o];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(s,l.key,l)}}return function(s,r,o){return r&&u(s.prototype,r),o&&u(s,o),s}}(),C=function u(s,r,o){null===s&&(s=Function.prototype);var l=Object.getOwnPropertyDescriptor(s,r);if(void 0===l){var t=Object.getPrototypeOf(s);return null===t?void 0:u(t,r,o)}if("value"in l)return l.value;var c=l.get;return void 0===c?void 0:c.call(o)},e=function E(u){return u&&u.__esModule?u:{default:u}}(y(0));var i=function(u){function s(){return function m(u,s){if(!(u instanceof s))throw new TypeError("Cannot call a class as a function")}(this,s),function a(u,s){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!s||"object"!=typeof s&&"function"!=typeof s?u:s}(this,(s.__proto__||Object.getPrototypeOf(s)).apply(this,arguments))}return function n(u,s){if("function"!=typeof s&&null!==s)throw new TypeError("Super expression must either be null or a function, not "+typeof s);u.prototype=Object.create(s&&s.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),s&&(Object.setPrototypeOf?Object.setPrototypeOf(u,s):u.__proto__=s)}(s,u),P(s,[{key:"add",value:function(o,l){if("+1"===l||"-1"===l){var t=this.value(o)||0;l="+1"===l?t+1:t-1}return 0===l?(this.remove(o),!0):C(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"add",this).call(this,o,l)}},{key:"canAdd",value:function(o,l){return C(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,o,l)||C(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"canAdd",this).call(this,o,parseInt(l))}},{key:"value",value:function(o){return parseInt(C(s.prototype.__proto__||Object.getPrototypeOf(s.prototype),"value",this).call(this,o))||void 0}}]),s}(e.default.Attributor.Class),f=new i("indent","ql-indent",{scope:e.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});b.IndentClass=f},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(4)).default);a.blotName="blockquote",a.tagName="blockquote",b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function i(f,u){for(var s=0;s<u.length;s++){var r=u[s];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(f,r.key,r)}}return function(f,u,s){return u&&i(f.prototype,u),s&&i(f,s),f}}();var n=function(i){function f(){return function E(i,f){if(!(i instanceof f))throw new TypeError("Cannot call a class as a function")}(this,f),function m(i,f){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||"object"!=typeof f&&"function"!=typeof f?i:f}(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function a(i,f){if("function"!=typeof f&&null!==f)throw new TypeError("Super expression must either be null or a function, not "+typeof f);i.prototype=Object.create(f&&f.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(i,f):i.__proto__=f)}(f,i),P(f,null,[{key:"formats",value:function(s){return this.tagName.indexOf(s.tagName)+1}}]),f}(function e(i){return i&&i.__esModule?i:{default:i}}(y(4)).default);n.blotName="header",n.tagName=["H1","H2","H3","H4","H5","H6"],b.default=n},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.ListItem=void 0;var P=function(){function t(c,d){for(var _=0;_<d.length;_++){var O=d[_];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(c,O.key,O)}}return function(c,d,_){return d&&t(c.prototype,d),_&&t(c,_),c}}(),C=function t(c,d,_){null===c&&(c=Function.prototype);var O=Object.getOwnPropertyDescriptor(c,d);if(void 0===O){var k=Object.getPrototypeOf(c);return null===k?void 0:t(k,d,_)}if("value"in O)return O.value;var v=O.get;return void 0===v?void 0:v.call(_)},e=i(y(0)),m=i(y(4)),n=i(y(25));function i(t){return t&&t.__esModule?t:{default:t}}function u(t,c){if(!(t instanceof c))throw new TypeError("Cannot call a class as a function")}function s(t,c){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||"object"!=typeof c&&"function"!=typeof c?t:c}function r(t,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function, not "+typeof c);t.prototype=Object.create(c&&c.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(t,c):t.__proto__=c)}var o=function(t){function c(){return u(this,c),s(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return r(c,t),P(c,[{key:"format",value:function(_,O){_!==l.blotName||O?C(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,_,O):this.replaceWith(e.default.create(this.statics.scope))}},{key:"remove",value:function(){null==this.prev&&null==this.next?this.parent.remove():C(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(_,O){return this.parent.isolate(this.offset(this.parent),this.length()),_===this.parent.statics.blotName?(this.parent.replaceWith(_,O),this):(this.parent.unwrap(),C(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replaceWith",this).call(this,_,O))}}],[{key:"formats",value:function(_){return _.tagName===this.tagName?void 0:C(c.__proto__||Object.getPrototypeOf(c),"formats",this).call(this,_)}}]),c}(m.default);o.blotName="list-item",o.tagName="LI";var l=function(t){function c(d){u(this,c);var _=s(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,d)),O=function(v){if(v.target.parentNode===d){var p=_.statics.formats(d),h=e.default.find(v.target);"checked"===p?h.format("list","unchecked"):"unchecked"===p&&h.format("list","checked")}};return d.addEventListener("touchstart",O),d.addEventListener("mousedown",O),_}return r(c,t),P(c,null,[{key:"create",value:function(_){var O="ordered"===_?"OL":"UL",k=C(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,O);return("checked"===_||"unchecked"===_)&&k.setAttribute("data-checked","checked"===_),k}},{key:"formats",value:function(_){return"OL"===_.tagName?"ordered":"UL"===_.tagName?_.hasAttribute("data-checked")?"true"===_.getAttribute("data-checked")?"checked":"unchecked":"bullet":void 0}}]),P(c,[{key:"format",value:function(_,O){this.children.length>0&&this.children.tail.format(_,O)}},{key:"formats",value:function(){return function f(t,c,d){return c in t?Object.defineProperty(t,c,{value:d,enumerable:!0,configurable:!0,writable:!0}):t[c]=d,t}({},this.statics.blotName,this.statics.formats(this.domNode))}},{key:"insertBefore",value:function(_,O){if(_ instanceof o)C(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"insertBefore",this).call(this,_,O);else{var k=null==O?this.length():O.offset(this),v=this.split(k);v.parent.insertBefore(_,v)}}},{key:"optimize",value:function(_){C(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,_);var O=this.next;null!=O&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(_){if(_.statics.blotName!==this.statics.blotName){var O=e.default.create(this.statics.defaultChild);_.moveChildren(O),this.appendChild(O)}C(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replace",this).call(this,_)}}]),c}(n.default);l.blotName="list",l.scope=e.default.Scope.BLOCK_BLOT,l.tagName=["OL","UL"],l.defaultChild="list-item",l.allowedChildren=[o],b.ListItem=o,b.default=l},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(56)).default);a.blotName="italic",a.tagName=["EM","I"],b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function f(u,s){for(var r=0;r<s.length;r++){var o=s[r];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(u,o.key,o)}}return function(u,s,r){return s&&f(u.prototype,s),r&&f(u,r),u}}(),C=function f(u,s,r){null===u&&(u=Function.prototype);var o=Object.getOwnPropertyDescriptor(u,s);if(void 0===o){var l=Object.getPrototypeOf(u);return null===l?void 0:f(l,s,r)}if("value"in o)return o.value;var t=o.get;return void 0===t?void 0:t.call(r)};var i=function(f){function u(){return function m(f,u){if(!(f instanceof u))throw new TypeError("Cannot call a class as a function")}(this,u),function a(f,u){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||"object"!=typeof u&&"function"!=typeof u?f:u}(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function n(f,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function, not "+typeof u);f.prototype=Object.create(u&&u.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(f,u):f.__proto__=u)}(u,f),P(u,null,[{key:"create",value:function(r){return"super"===r?document.createElement("sup"):"sub"===r?document.createElement("sub"):C(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,r)}},{key:"formats",value:function(r){return"SUB"===r.tagName?"sub":"SUP"===r.tagName?"super":void 0}}]),u}(function E(f){return f&&f.__esModule?f:{default:f}}(y(6)).default);i.blotName="script",i.tagName=["SUB","SUP"],b.default=i},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(6)).default);a.blotName="strike",a.tagName="S",b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var a=function(n){function i(){return function e(n,i){if(!(n instanceof i))throw new TypeError("Cannot call a class as a function")}(this,i),function E(n,i){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||"object"!=typeof i&&"function"!=typeof i?n:i}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function m(n,i){if("function"!=typeof i&&null!==i)throw new TypeError("Super expression must either be null or a function, not "+typeof i);n.prototype=Object.create(i&&i.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(n,i):n.__proto__=i)}(i,n),i}(function w(n){return n&&n.__esModule?n:{default:n}}(y(6)).default);a.blotName="underline",a.tagName="U",b.default=a},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),C=function s(r,o,l){null===r&&(r=Function.prototype);var t=Object.getOwnPropertyDescriptor(r,o);if(void 0===t){var c=Object.getPrototypeOf(r);return null===c?void 0:s(c,o,l)}if("value"in t)return t.value;var d=t.get;return void 0===d?void 0:d.call(l)},e=function m(s){return s&&s.__esModule?s:{default:s}}(y(0)),E=y(27);var f=["alt","height","width"],u=function(s){function r(){return function a(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function n(s,r){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?s:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function i(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(s,r):s.__proto__=r)}(r,s),P(r,[{key:"format",value:function(l,t){f.indexOf(l)>-1?t?this.domNode.setAttribute(l,t):this.domNode.removeAttribute(l):C(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,l,t)}}],[{key:"create",value:function(l){var t=C(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,l);return"string"==typeof l&&t.setAttribute("src",this.sanitize(l)),t}},{key:"formats",value:function(l){return f.reduce(function(t,c){return l.hasAttribute(c)&&(t[c]=l.getAttribute(c)),t},{})}},{key:"match",value:function(l){return/\.(jpe?g|gif|png)$/.test(l)||/^data:image\/.+;base64/.test(l)}},{key:"sanitize",value:function(l){return(0,E.sanitize)(l,["http","https","data"])?l:"//:0"}},{key:"value",value:function(l){return l.getAttribute("src")}}]),r}(e.default.Embed);u.blotName="image",u.tagName="IMG",b.default=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0});var P=function(){function s(r,o){for(var l=0;l<o.length;l++){var t=o[l];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,o,l){return o&&s(r.prototype,o),l&&s(r,l),r}}(),C=function s(r,o,l){null===r&&(r=Function.prototype);var t=Object.getOwnPropertyDescriptor(r,o);if(void 0===t){var c=Object.getPrototypeOf(r);return null===c?void 0:s(c,o,l)}if("value"in t)return t.value;var d=t.get;return void 0===d?void 0:d.call(l)},w=y(4),E=function m(s){return s&&s.__esModule?s:{default:s}}(y(27));var f=["height","width"],u=function(s){function r(){return function a(s,r){if(!(s instanceof r))throw new TypeError("Cannot call a class as a function")}(this,r),function n(s,r){if(!s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||"object"!=typeof r&&"function"!=typeof r?s:r}(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function i(s,r){if("function"!=typeof r&&null!==r)throw new TypeError("Super expression must either be null or a function, not "+typeof r);s.prototype=Object.create(r&&r.prototype,{constructor:{value:s,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(s,r):s.__proto__=r)}(r,s),P(r,[{key:"format",value:function(l,t){f.indexOf(l)>-1?t?this.domNode.setAttribute(l,t):this.domNode.removeAttribute(l):C(r.prototype.__proto__||Object.getPrototypeOf(r.prototype),"format",this).call(this,l,t)}}],[{key:"create",value:function(l){var t=C(r.__proto__||Object.getPrototypeOf(r),"create",this).call(this,l);return t.setAttribute("frameborder","0"),t.setAttribute("allowfullscreen",!0),t.setAttribute("src",this.sanitize(l)),t}},{key:"formats",value:function(l){return f.reduce(function(t,c){return l.hasAttribute(c)&&(t[c]=l.getAttribute(c)),t},{})}},{key:"sanitize",value:function(l){return E.default.sanitize(l)}},{key:"value",value:function(l){return l.getAttribute("src")}}]),r}(w.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",b.default=u},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.FormulaBlot=void 0;var P=function(){function l(t,c){for(var d=0;d<c.length;d++){var _=c[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(t,_.key,_)}}return function(t,c,d){return c&&l(t.prototype,c),d&&l(t,d),t}}(),C=function l(t,c,d){null===t&&(t=Function.prototype);var _=Object.getOwnPropertyDescriptor(t,c);if(void 0===_){var O=Object.getPrototypeOf(t);return null===O?void 0:l(O,c,d)}if("value"in _)return _.value;var k=_.get;return void 0===k?void 0:k.call(d)},e=i(y(35)),m=i(y(5)),n=i(y(9));function i(l){return l&&l.__esModule?l:{default:l}}function f(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}function u(l,t){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?l:t}function s(l,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);l.prototype=Object.create(t&&t.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(l,t):l.__proto__=t)}var r=function(l){function t(){return f(this,t),u(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return s(t,l),P(t,null,[{key:"create",value:function(d){var _=C(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,d);return"string"==typeof d&&(window.katex.render(d,_,{throwOnError:!1,errorColor:"#f00"}),_.setAttribute("data-value",d)),_}},{key:"value",value:function(d){return d.getAttribute("data-value")}}]),t}(e.default);r.blotName="formula",r.className="ql-formula",r.tagName="SPAN";var o=function(l){function t(){f(this,t);var c=u(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));if(null==window.katex)throw new Error("Formula module requires KaTeX.");return c}return s(t,l),P(t,null,[{key:"register",value:function(){m.default.register(r,!0)}}]),t}(n.default);b.FormulaBlot=r,b.default=o},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.CodeToken=b.CodeBlock=void 0;var P=function(){function d(_,O){for(var k=0;k<O.length;k++){var v=O[k];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(_,v.key,v)}}return function(_,O,k){return O&&d(_.prototype,O),k&&d(_,k),_}}(),C=function d(_,O,k){null===_&&(_=Function.prototype);var v=Object.getOwnPropertyDescriptor(_,O);if(void 0===v){var p=Object.getPrototypeOf(_);return null===p?void 0:d(p,O,k)}if("value"in v)return v.value;var h=v.get;return void 0===h?void 0:h.call(k)},e=u(y(0)),m=u(y(5)),n=u(y(9));function u(d){return d&&d.__esModule?d:{default:d}}function s(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function r(d,_){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||"object"!=typeof _&&"function"!=typeof _?d:_}function o(d,_){if("function"!=typeof _&&null!==_)throw new TypeError("Super expression must either be null or a function, not "+typeof _);d.prototype=Object.create(_&&_.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(d,_):d.__proto__=_)}var l=function(d){function _(){return s(this,_),r(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return o(_,d),P(_,[{key:"replaceWith",value:function(k){this.domNode.textContent=this.domNode.textContent,this.attach(),C(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"replaceWith",this).call(this,k)}},{key:"highlight",value:function(k){var v=this.domNode.textContent;this.cachedText!==v&&((v.trim().length>0||null==this.cachedText)&&(this.domNode.innerHTML=k(v),this.domNode.normalize(),this.attach()),this.cachedText=v)}}]),_}(u(y(13)).default);l.className="ql-syntax";var t=new e.default.Attributor.Class("token","hljs",{scope:e.default.Scope.INLINE}),c=function(d){function _(O,k){s(this,_);var v=r(this,(_.__proto__||Object.getPrototypeOf(_)).call(this,O,k));if("function"!=typeof v.options.highlight)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var p=null;return v.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(p),p=setTimeout(function(){v.highlight(),p=null},v.options.interval)}),v.highlight(),v}return o(_,d),P(_,null,[{key:"register",value:function(){m.default.register(t,!0),m.default.register(l,!0)}}]),P(_,[{key:"highlight",value:function(){var k=this;if(!this.quill.selection.composing){this.quill.update(m.default.sources.USER);var v=this.quill.getSelection();this.quill.scroll.descendants(l).forEach(function(p){p.highlight(k.options.highlight)}),this.quill.update(m.default.sources.SILENT),null!=v&&this.quill.setSelection(v,m.default.sources.SILENT)}}}]),_}(n.default);c.DEFAULTS={highlight:null==window.hljs?null:function(d){return window.hljs.highlightAuto(d).value},interval:1e3},b.CodeBlock=l,b.CodeToken=t,b.default=c},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(J,b){J.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(J,b){J.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(J,b){J.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(J,b){J.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(J,b){J.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(J,b,y){"use strict";Object.defineProperty(b,"__esModule",{value:!0}),b.default=b.BubbleTooltip=void 0;var P=function _(O,k,v){null===O&&(O=Function.prototype);var p=Object.getOwnPropertyDescriptor(O,k);if(void 0===p){var h=Object.getPrototypeOf(O);return null===h?void 0:_(h,k,v)}if("value"in p)return p.value;var T=p.get;return void 0===T?void 0:T.call(v)},C=function(){function _(O,k){for(var v=0;v<k.length;v++){var p=k[v];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(O,p.key,p)}}return function(O,k,v){return k&&_(O.prototype,k),v&&_(O,v),O}}(),e=s(y(3)),m=s(y(8)),a=y(43),n=s(a),i=y(15),u=s(y(41));function s(_){return _&&_.__esModule?_:{default:_}}function r(_,O){if(!(_ instanceof O))throw new TypeError("Cannot call a class as a function")}function o(_,O){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||"object"!=typeof O&&"function"!=typeof O?_:O}function l(_,O){if("function"!=typeof O&&null!==O)throw new TypeError("Super expression must either be null or a function, not "+typeof O);_.prototype=Object.create(O&&O.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(_,O):_.__proto__=O)}var t=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],c=function(_){function O(k,v){r(this,O),null!=v.modules.toolbar&&null==v.modules.toolbar.container&&(v.modules.toolbar.container=t);var p=o(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,v));return p.quill.container.classList.add("ql-bubble"),p}return l(O,_),C(O,[{key:"extendToolbar",value:function(v){this.tooltip=new d(this.quill,this.options.bounds),this.tooltip.root.appendChild(v.container),this.buildButtons([].slice.call(v.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(v.container.querySelectorAll("select")),u.default)}}]),O}(n.default);c.DEFAULTS=(0,e.default)(!0,{},n.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var d=function(_){function O(k,v){r(this,O);var p=o(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,k,v));return p.quill.on(m.default.events.EDITOR_CHANGE,function(h,T,N,F){if(h===m.default.events.SELECTION_CHANGE)if(null!=T&&T.length>0&&F===m.default.sources.USER){p.show(),p.root.style.left="0px",p.root.style.width="",p.root.style.width=p.root.offsetWidth+"px";var D=p.quill.getLines(T.index,T.length);if(1===D.length)p.position(p.quill.getBounds(T));else{var V=D[D.length-1],$=p.quill.getIndex(V),j=Math.min(V.length()-1,T.index+T.length-$),I=p.quill.getBounds(new i.Range($,j));p.position(I)}}else document.activeElement!==p.textbox&&p.quill.hasFocus()&&p.hide()}),p}return l(O,_),C(O,[{key:"listen",value:function(){var v=this;P(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){v.root.classList.remove("ql-editing")}),this.quill.on(m.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!v.root.classList.contains("ql-hidden")){var p=v.quill.getSelection();null!=p&&v.position(v.quill.getBounds(p))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(v){var p=P(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,v),h=this.root.querySelector(".ql-tooltip-arrow");if(h.style.marginLeft="",0===p)return p;h.style.marginLeft=-1*p-h.offsetWidth/2+"px"}}]),O}(a.BaseTooltip);d.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),b.BubbleTooltip=d,b.default=c},function(J,b,y){J.exports=y(63)}]).default},336:(ke,J,b)=>{"use strict";b.d(J,{c:()=>l});var y=b(9376),P=b(91),C=b(1413),w=b(5879),e=b(6223),E=b(5545),m=b(9397);const a=["key"],n=["allOf"];function f(t){return""===t||null==t}function u(t){return null!=t&&"object"==typeof t&&!Array.isArray(t)}function s(t){return Number.isInteger?Number.isInteger(t):"number"==typeof t&&Math.floor(t)===t}function r(t){return"object"==typeof t&&(t.hasOwnProperty("const")||t.enum&&1===t.enum.length)}function o(t){if(!t.fieldGroup)return(0,E._S)(t)&&void 0!==(0,E.Hl)(t)?1:0;const c=t.fieldGroup.reduce((d,_)=>o(_)+d,0);if(0===c&&(0,E._S)(t)){const d=(0,E.Hl)(t);if(null===d||void 0!==d&&(t.fieldArray&&Array.isArray(d)||!t.fieldArray&&u(d)))return 1}return c}let l=(()=>{class t{toFieldConfig(d,_){return d=(0,E.kg)(d),this._toFieldConfig(d,(0,C.Z)({schema:d},_||{}))}_toFieldConfig(d,_){var O;let{key:k}=_,v=(0,P.Z)(_,a);d=this.resolveSchema(d,v);const p=this.guessSchemaType(d);let h={type:p[0],defaultValue:d.default,props:{label:d.title,readonly:d.readOnly,description:d.description}};switch(null!=k&&(h.key=k),!v.ignoreDefault&&(d.readOnly||v.readOnly)&&(h.props.disabled=!0,v=(0,C.Z)((0,C.Z)({},v),{},{readOnly:!0})),v.resetOnHide&&(h.resetOnHide=!0),k&&v.strict&&this.addValidator(h,"type",(T,N)=>{const F=(0,E.Hl)(N);if(null!=F)switch(h.type){case"string":return"string"==typeof F;case"integer":return s(F);case"number":return"number"==typeof F;case"object":return u(F);case"array":return Array.isArray(F)}return!0}),!1===v.shareFormControl&&(h.shareFormControl=!1),v.ignoreDefault&&delete h.defaultValue,this.addValidator(h,"type",{schemaType:p,expression:({value:T})=>{if(void 0===T||null===T&&-1!==p.indexOf("null"))return!0;switch(p[0]){case"null":return null===typeof T;case"string":return"string"==typeof T;case"integer":return s(T);case"number":return"number"==typeof T;case"object":return u(T);case"array":return Array.isArray(T)}return!0}}),h.type){case"number":case"integer":h.parsers=[T=>f(T)?T:Number(T)],d.hasOwnProperty("minimum")&&(h.props.min=d.minimum),d.hasOwnProperty("maximum")&&(h.props.max=d.maximum),d.hasOwnProperty("exclusiveMinimum")&&(h.props.exclusiveMinimum=d.exclusiveMinimum,this.addValidator(h,"exclusiveMinimum",({value:T})=>f(T)||T>d.exclusiveMinimum)),d.hasOwnProperty("exclusiveMaximum")&&(h.props.exclusiveMaximum=d.exclusiveMaximum,this.addValidator(h,"exclusiveMaximum",({value:T})=>f(T)||T<d.exclusiveMaximum)),d.hasOwnProperty("multipleOf")&&(h.props.step=d.multipleOf,this.addValidator(h,"multipleOf",({value:T})=>{if(f(T)||"number"!=typeof T||0===T||d.multipleOf<=0)return!0;const N=Math.pow(10,function i(t){if(!isFinite(t))return 0;let c=1,d=0;for(;Math.round(t*c)/c!==t;)c*=10,d++;return d}(d.multipleOf));return Math.round(T*N)%Math.round(d.multipleOf*N)==0}));break;case"string":h.parsers=[T=>(-1!==p.indexOf("null")?T=f(T)?null:T:h.props.required||(T=""===T?void 0:T),T)],["minLength","maxLength","pattern"].forEach(T=>{d.hasOwnProperty(T)&&(h.props[T]=d[T])});break;case"object":{h.fieldGroup||(h.fieldGroup=[]);const{propDeps:T,schemaDeps:N}=this.resolveDependencies(d);Object.keys(d.properties||{}).forEach(F=>{const D=Array.isArray(d.required)&&-1!==d.required.indexOf(F),V=this._toFieldConfig(d.properties[F],(0,C.Z)((0,C.Z)({},v),{},{key:F,isOptional:v.isOptional||!D}));if(h.fieldGroup.push(V),(D||T[F])&&(V.expressions=(0,C.Z)((0,C.Z)({},V.expressions||{}),{},{"props.required":$=>{let j=$.parent;const I=$.fieldGroup&&null!=$.key?j.model:$.model;for(;null==j.key&&j.parent;)j=j.parent;return!!(I||j&&j.props&&j.props.required)&&(!(!Array.isArray(d.required)||-1===d.required.indexOf(F))||T[F]&&$.model&&T[F].some(q=>!f($.model[q])))}})),N[F]){const $=I=>I.hasOwnProperty("const")?I.const:I.enum[0],j=N[F].oneOf;j&&j.every(I=>I.properties&&I.properties[F]&&r(I.properties[F]))?j.forEach(I=>{const A=I.properties,{[F]:q}=A,R=(0,P.Z)(A,[F].map(y.Z));h.fieldGroup.push((0,C.Z)((0,C.Z)({},this._toFieldConfig((0,C.Z)((0,C.Z)({},I),{},{properties:R}),(0,C.Z)((0,C.Z)({},v),{},{shareFormControl:!1,resetOnHide:!0}))),{},{expressions:{hide:Q=>!Q.model||$(q)!==Q.model[F]}}))}):h.fieldGroup.push((0,C.Z)((0,C.Z)({},this._toFieldConfig(N[F],v)),{},{expressions:{hide:I=>!I.model||f(I.model[F])}}))}}),d.oneOf&&h.fieldGroup.push(this.resolveMultiSchema("oneOf",d.oneOf,(0,C.Z)((0,C.Z)({},v),{},{shareFormControl:!1}))),d.anyOf&&h.fieldGroup.push(this.resolveMultiSchema("anyOf",d.anyOf,v));break}case"array":d.hasOwnProperty("minItems")&&(h.props.minItems=d.minItems,this.addValidator(h,"minItems",(T,N)=>{const F=(0,E.Hl)(N);return f(F)||F.length>=d.minItems}),!v.isOptional&&d.minItems>0&&void 0===h.defaultValue&&(h.defaultValue=Array.from(new Array(d.minItems)))),d.hasOwnProperty("maxItems")&&(h.props.maxItems=d.maxItems,this.addValidator(h,"maxItems",(T,N)=>{const F=(0,E.Hl)(N);return f(F)||F.length<=d.maxItems})),d.hasOwnProperty("uniqueItems")&&(h.props.uniqueItems=d.uniqueItems,this.addValidator(h,"uniqueItems",(T,N)=>{const F=(0,E.Hl)(N);return!(!f(F)&&d.uniqueItems)||Array.from(new Set(F.map(V=>JSON.stringify(V,($,j)=>u(j)?Object.keys(V).sort().reduce((I,A)=>(I[A]=V[A],I),{}):j)))).length===F.length})),d.items&&!Array.isArray(d.items)&&(d.items=this.resolveSchema(d.items,v)),this.isEnum(d)||(h.fieldArray=T=>{const N=d.items;if(!Array.isArray(N)){if(!N)return{};const $=N.oneOf||N.anyOf,j=this._toFieldConfig(N,$?(0,C.Z)((0,C.Z)({},v),{},{key:`${T.fieldGroup.length}`}):v);return $&&!(0,E._S)(j)&&(j.key=null),j.props.required=!0,j}const F=T.fieldGroup?T.fieldGroup.length:0,D=N[F]?N[F]:d.additionalItems,V=D?this._toFieldConfig(D,v):{};return V.props&&(V.props.required=!0),N[F]&&(V.props.removable=!1),V})}if(d.hasOwnProperty("const")&&(h.props.const=d.const,this.addValidator(h,"const",({value:T})=>T===d.const),h.type||(h.defaultValue=d.const)),this.isEnum(d)){const T=this.toEnumOptions(d),N="array"===h.type;h.type="enum",h.props.multiple=N,h.props.options=T;const F=T.map(D=>D.value);this.addValidator(h,"enum",({value:D})=>void 0===D||(N?!!Array.isArray(D)&&D.every(V=>F.includes(V)):F.includes(D)))}return d.oneOf&&!h.type&&(delete h.key,h.fieldGroup=[this.resolveMultiSchema("oneOf",d.oneOf,(0,C.Z)((0,C.Z)({},v),{},{key:k,shareFormControl:!1}))]),d.oneOf&&!h.type&&(delete h.key,h.fieldGroup=[this.resolveMultiSchema("oneOf",d.oneOf,(0,C.Z)((0,C.Z)({},v),{},{key:k,shareFormControl:!1}))]),null!==(O=d.widget)&&void 0!==O&&O.formlyConfig&&(h=this.mergeFields(h,d.widget.formlyConfig)),h.templateOptions=h.props,v.map?v.map(h,d):h}resolveSchema(d,_){return d&&d.$ref&&(d=this.resolveDefinition(d,_)),d&&d.allOf&&(d=this.resolveAllOf(d,_)),d}resolveAllOf(d,_){let{allOf:O}=d,k=(0,P.Z)(d,n);if(!O.length)throw Error(`allOf array can not be empty ${O}.`);return O.reduce((v,p)=>(p=this.resolveSchema(p,_),v.required&&p.required&&(v.required=[...v.required,...p.required]),p.uniqueItems&&(v.uniqueItems=p.uniqueItems),["maxLength","maximum","exclusiveMaximum","maxItems","maxProperties"].forEach(h=>{!f(v[h])&&!f(p[h])&&(v[h]=v[h]<p[h]?v[h]:p[h])}),["minLength","minimum","exclusiveMinimum","minItems","minProperties"].forEach(h=>{!f(v[h])&&!f(p[h])&&(v[h]=v[h]>p[h]?v[h]:p[h])}),(0,E.Du)(v,p)),k)}resolveMultiSchema(d,_,O){return{type:"multischema",fieldGroup:[{type:"enum",defaultValue:-1,props:{multiple:"anyOf"===d,options:_.map((k,v)=>({label:k.title,value:v,disabled:k.readOnly}))},hooks:{onInit:k=>k.formControl.valueChanges.pipe((0,m.b)(()=>k.options.detectChanges(k.parent)))}},{fieldGroup:_.map((k,v)=>(0,C.Z)((0,C.Z)({},this._toFieldConfig(k,(0,C.Z)((0,C.Z)({},O),{},{resetOnHide:!0}))),{},{expressions:{hide:(p,h)=>{const T=p.parent.parent.fieldGroup[0].formControl;if(-1===T.value||h){let N=p.parent.fieldGroup.map((F,D)=>[F,D,this.isFieldValid(F,D,_,O)]).sort(([F,,D],[V,,$])=>{if(D!==$)return $?1:-1;const j=o(F),I=o(V);return j===I&&F.props.disabled===V.props.disabled?0:I>j?1:-1}).map(([,F])=>F);if("anyOf"===d){const F=N.filter(D=>o(p.parent.fieldGroup[D]));N=F.length>0?F:[N[0]||0]}N=N.length>0?N:[0],T.setValue("anyOf"===d?N:N[0])}return Array.isArray(T.value)?-1===T.value.indexOf(v):T.value!==v}}}))}]}}resolveDefinition(d,_){const[O,k]=d.$ref.split("#/");if(O)throw Error(`Remote schemas for ${d.$ref} not supported yet.`);const v=k?k.split("/").reduce((p,h)=>null!=p&&p.hasOwnProperty(h)?p[h]:null,_.schema):null;if(!v)throw Error(`Cannot find a definition for ${d.$ref}.`);return v.$ref?this.resolveDefinition(v,_):(0,C.Z)((0,C.Z)({},v),["title","description","default","widget"].reduce((p,h)=>(d.hasOwnProperty(h)&&(p[h]=d[h]),p),{}))}resolveDependencies(d){const _={},O={};return Object.keys(d.dependencies||{}).forEach(k=>{const v=d.dependencies[k];Array.isArray(v)?v.forEach(p=>{_[p]?_[p].push(k):_[p]=[k]}):O[k]=v}),{propDeps:_,schemaDeps:O}}guessSchemaType(d){const _=null==d?void 0:d.type;return!_&&null!=d&&d.properties?["object"]:Array.isArray(_)?1===_.length?_:2===_.length&&-1!==_.indexOf("null")?_.sort(O=>"null"==O?1:-1):_:_?[_]:[]}addValidator(d,_,O){d.validators=d.validators||{},d.validators[_]=O}isEnum(d){return!!d.enum||d.anyOf&&d.anyOf.every(r)||d.oneOf&&d.oneOf.every(r)||d.uniqueItems&&d.items&&!Array.isArray(d.items)&&this.isEnum(d.items)}toEnumOptions(d){if(d.enum)return d.enum.map(O=>({value:O,label:O}));const _=O=>{const k=O.hasOwnProperty("const")?O.const:O.enum[0],v={value:k,label:O.title||k};return O.readOnly&&(v.disabled=!0),v};return d.anyOf?d.anyOf.map(_):d.oneOf?d.oneOf.map(_):this.toEnumOptions(d.items)}isFieldValid(d,_,O,k){const v=O[_];v._field||Object.defineProperty(v,"_field",{enumerable:!1,writable:!0,configurable:!0});let p=v._field;const h=d.model?(0,E.kg)(d.model):d.fieldArray?[]:{};return p?(p.model=h,d.options.build(p)):p=v._field=d.options.build({form:Array.isArray(h)?new e.Oe([]):new e.cw({}),fieldGroup:[this._toFieldConfig(v,(0,C.Z)((0,C.Z)({},k),{},{resetOnHide:!0,ignoreDefault:!0,map:null,strict:!0}))],model:h,options:{}}),p.form.valid}mergeFields(d,_){for(let O in _){const k="templateOptions"===O?"props":O;u(d[k])&&u(_[O])?d[k]=this.mergeFields(d[k],_[O]):null!=_[O]&&(d[k]=_[O])}return d}}return t.\u0275fac=function(d){return new(d||t)},t.\u0275prov=w.Yz7({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()}}]);