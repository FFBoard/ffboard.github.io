(self.webpackChunkpages=self.webpackChunkpages||[]).push([[684],{6684:(xt,ht,R)=>{"use strict";R.r(ht),R.d(ht,{LoginModule:()=>y});var ot=R(5213),Q=R(5861),N=R(6223),W=R(4464),st=R(4610),e=R(9212),$=R(8366),rt=R(5290);const et=["modal"],tt=()=>({standalone:!0});function I(f,S){if(1&f){const b=e.EpF();e.TgZ(0,"form")(1,"div",4)(2,"label",5),e._uU(3,"Nome utente:"),e.qZA(),e.TgZ(4,"input",6),e.NdJ("ngModelChange",function(d){e.CHM(b);const A=e.oxw();return e.KtG(A.usernameModel=d)}),e.qZA()(),e.TgZ(5,"div",7)(6,"label",8),e._uU(7,"Password:"),e.qZA(),e.TgZ(8,"div",9)(9,"input",10),e.NdJ("ngModelChange",function(d){e.CHM(b);const A=e.oxw();return e.KtG(A.passwordModel=d)}),e.qZA(),e.TgZ(10,"span",11),e.NdJ("click",function(){e.CHM(b);const d=e.oxw();return e.KtG(d.showPassword=!d.showPassword)}),e.qZA()()()()}if(2&f){const b=e.oxw();e.xp6(4),e.Q6J("ngModel",b.usernameModel)("ngModelOptions",e.DdM(6,tt)),e.xp6(5),e.Q6J("type",b.showPassword?"text":"password")("ngModel",b.passwordModel)("ngModelOptions",e.DdM(7,tt)),e.xp6(),e.Q6J("innerText",b.showPassword?"visibility_off":"visibility")}}function z(f,S){if(1&f){const b=e.EpF();e.TgZ(0,"button",12),e.NdJ("click",function(){e.CHM(b);const d=e.oxw();return e.KtG(d.loginWithCredentials())}),e._uU(1,"Accedi"),e.qZA()}if(2&f){const b=e.oxw();e.Q6J("disabled",!b.usernameModel||!b.passwordModel)}}let q=(()=>{var f;class S{constructor(){this.showPassword=!1}ngAfterViewInit(){this.open()}open(){this.modalRef.open()}loginWithCredentials(){var h=this;return(0,Q.Z)(function*(){h.usernameModel&&h.passwordModel&&h.modalRef.close()})()}resetModels(){this.usernameModel=void 0,this.passwordModel=void 0}}return(f=S).\u0275fac=function(h){return new(h||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-login-form-modal"]],viewQuery:function(h,d){if(1&h&&e.Gf(et,5),2&h){let A;e.iGM(A=e.CRH())&&(d.modalRef=A.first)}},standalone:!0,features:[e.jDz],decls:4,vars:0,consts:[["title","Login tramite credenziali",3,"hidden"],["modal",""],["appModalBody",""],["appModalFooter",""],[1,"mb-3"],["for","ei-username",1,"form-label"],["type","text","id","ei-username","autocomplete","username",1,"form-control",3,"ngModel","ngModelOptions","ngModelChange"],[1,"mb-1"],["for","ei-password",1,"form-label"],[1,"position-relative"],["id","ei-password","autocomplete","current-password",1,"form-control",3,"type","ngModel","ngModelOptions","ngModelChange"],[1,"show-icon","material-icons-outlined","position-absolute","d-block","text-muted","cursor-pointer","user-select-none",3,"innerText","click"],[1,"btn","btn-primary",3,"disabled","click"]],template:function(h,d){1&h&&(e.TgZ(0,"app-modal",0,1),e.NdJ("hidden",function(){return d.resetModels()}),e.YNc(2,I,11,8,"ng-template",2)(3,z,2,1,"ng-template",3),e.qZA())},dependencies:[st.z,W.z,$.J,rt.j,N.u5,N._Y,N.Fj,N.JJ,N.JL,N.On,N.F],styles:[".show-icon[_ngcontent-%COMP%]{top:52%;right:.5rem;transform:translateY(-50%)}"]}),S})();var U=R(1378),J=R(4020),H=R(7755),yt=R(1410),lt=R(9018),_t=R(463),dt=R(7165),it=R(5661),at=R(2986),ut=R(4190),gt=R(9344),bt=R(7219),C=R(6814);function x(f,S){if(1&f&&(e.TgZ(0,"li",7)(1,"a",8),e._uU(2),e.ALo(3,"titlecase"),e.ALo(4,"titlecase"),e.qZA()()),2&f){const b=S.$implicit;e.xp6(),e.Gre("fv-small-caps shadow-sm text-center d-block btn btn-",b.shortDomain,""),e.Q6J("href",b.link,e.LSH),e.xp6(),e.AsE(" ",e.lcZ(3,6,b.title[0]),"",e.lcZ(4,8,b.title[1])," ")}}function _(f,S){if(1&f){const b=e.EpF();e.TgZ(0,"div",9),e.NdJ("click",function(){e.CHM(b);const d=e.oxw();return e.KtG(d.openFormModal.emit())}),e._uU(1,"Credenziali"),e.qZA()}}let w=(()=>{var f;class S{constructor(h,d){this.loginService=h,this.endpointsService=d,this.showCredentialsButton=!1,this.openQrModal=new e.vpe,this.openFormModal=new e.vpe,this.buttons=[]}ngOnInit(){this.buttons=this.loginService.domains.map(h=>({title:this.createCircuitName(h),link:this.endpointsService.get(H.jQ.LOGIN,H.G9.REDIRECT,void 0,h)+this.loginService.encodedRedirectParams,shortDomain:(0,H.yy)(h)}))}createCircuitName(h){const d=h.match(/^(forum|blog)(free|community)/i);return d?[d[1],d[2]]:["",""]}}return(f=S).\u0275fac=function(h){return new(h||f)(e.Y36(lt.r),e.Y36(H.oz))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-login-buttons"]],inputs:{showCredentialsButton:"showCredentialsButton"},outputs:{openQrModal:"openQrModal",openFormModal:"openFormModal"},decls:12,vars:1,consts:[[1,"mb-0","text-center"],[1,"list-unstyled","mb-0"],[1,"small","text-muted","d-flex","option","align-items-center","my-4"],[1,"px-3","pb-1"],[1,"d-sm-flex"],[1,"btn-other","fv-small-caps","text-center","border","btn","btn-outline-secondary","d-block","flex-grow-1",3,"click"],["class","btn-other fv-small-caps text-center border btn btn-outline-secondary d-block flex-grow-1 ms-sm-3 mt-3 mt-sm-0"],[1,"my-3"],["target","_self",3,"href"],[1,"btn-other","fv-small-caps","text-center","border","btn","btn-outline-secondary","d-block","flex-grow-1","ms-sm-3","mt-3","mt-sm-0",3,"click"],["class","my-3"]],template:function(h,d){1&h&&(e.TgZ(0,"p",0),e._uU(1,"Scegli il circuito con cui accedere!"),e.qZA(),e.TgZ(2,"ul",1),e.SjG(3,x,5,10,"li",10,e.ikw),e.qZA(),e.TgZ(5,"div",2)(6,"div",3),e._uU(7,"oppure autorizza con"),e.qZA()(),e.TgZ(8,"div",4)(9,"div",5),e.NdJ("click",function(){return d.openQrModal.emit()}),e._uU(10,"QR Code"),e.qZA(),e.YNc(11,_,2,0,"div",6),e.qZA()),2&h&&(e.xp6(3),e.wJu(d.buttons),e.xp6(8),e.um2(11,d.showCredentialsButton?11:-1))},dependencies:[C.rS],styles:['.option[_ngcontent-%COMP%]:before, .option[_ngcontent-%COMP%]:after{content:"";flex-grow:1;border-bottom:1px solid #dee2e6}.btn-other[_ngcontent-%COMP%]{flex-basis:0}']}),S})();var g=R(1698),M=R(554);let L=(()=>{var f;class S{constructor(h){this.tosService=h,this.appName=J.DJ}openTosModal(){this.tosService.toggleModal(!0)}}return(f=S).\u0275fac=function(h){return new(h||f)(e.Y36(g.F))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-login-header"]],decls:11,vars:4,consts:[[1,"mb-2","mb-lg-3","d-flex","justify-content-center"],["svgSize","xl",3,"responsive"],[1,"mt-2","mb-3","mb-lg-2","text-justify"],[1,"text-justify","d-none","d-lg-block"],[1,"text-center","small","text-muted","mt-auto"],["role","button",1,"tos-modal-btn",3,"click"]],template:function(h,d){1&h&&(e.TgZ(0,"h1",0),e._UZ(1,"app-logo",1),e.qZA(),e.TgZ(2,"p",2),e._uU(3),e.qZA(),e.TgZ(4,"p",3),e._uU(5," Dopo aver selezionato un circuito con cui effettuare il login, si viene indirizzati nell'apposita area del sito in cui \xe8 possibile usufruire delle funzioni messe a disposizione per forum, blog e utenti, tra cui EasyScript, EasyUpload e la gestione degli Admin degli Script!\n"),e.qZA(),e.TgZ(6,"div",4),e._uU(7," Proseguendo accetti i "),e.TgZ(8,"a",5),e.NdJ("click",function(){return d.openTosModal()}),e._uU(9,"Termini di Servizio"),e.qZA(),e._uU(10),e.qZA()),2&h&&(e.xp6(),e.Q6J("responsive",!1),e.xp6(2),e.AsE(" ",d.appName," \xe8 un progetto gratuito creato per raccogliere e offrire i principali servizi aggiuntivi disponibili per i siti e gli account dei circuiti Forumfree, Forumcommunity e Blogfree. Scritto principalmente in typescript, ",d.appName," sfrutta le potenzialit\xe0 offerte dal celebre pacchetto per sviluppo web Angular al fine di garantire un'esperienza di navigazione fluida, immediata e intuitiva!\n"),e.xp6(7),e.hij(" di ",d.appName,"\n"))},dependencies:[M.R],encapsulation:2}),S})();var T=R(4004),Y=R(149),m=R.n(Y);const t=["canvas"];let r=(()=>{var f;class S{ngAfterViewInit(){const h=new URL(window.location.href);new(m())({width:250,height:250,margin:5,data:"".concat(h.protocol,"//").concat(h.host,"/settings?qr-login=").concat(this.uuid),dotsOptions:{color:"#4b579a",type:"rounded"},backgroundOptions:{color:"#ffffff"}}).append(this.canvas.nativeElement)}}return(f=S).\u0275fac=function(h){return new(h||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-login-qr-canvas"]],viewQuery:function(h,d){if(1&h&&e.Gf(t,5),2&h){let A;e.iGM(A=e.CRH())&&(d.canvas=A.first)}},inputs:{uuid:"uuid"},decls:2,vars:0,consts:[[1,"text-center"],["canvas",""]],template:function(h,d){1&h&&e._UZ(0,"div",0,1)},encapsulation:2}),S})();const n=["modal"];function a(f,S){if(1&f&&(e.TgZ(0,"ol")(1,"li"),e._uU(2,"Apri l'app fotocamera integrata del telefono o tablet."),e.qZA(),e.TgZ(3,"li"),e._uU(4,"Inquadra il QR Code."),e.qZA(),e.TgZ(5,"li"),e._uU(6,"Tocca il banner che compare sul telefono o tablet."),e.qZA(),e.TgZ(7,"li"),e._uU(8,"Segui le istruzioni sullo schermo per terminare l'accesso."),e.qZA()(),e._UZ(9,"app-login-qr-canvas",3),e.TgZ(10,"p",4)(11,"small",4),e._uU(12),e.qZA()()),2&f){const b=e.oxw();e.xp6(9),e.Q6J("uuid",b.uuid),e.xp6(3),e.hij("Codice di verifica: ",b.uuid,"")}}let u=(()=>{var f;class S{constructor(h){this.graphqlService=h,this.loginQrEvent=new e.vpe,this.uuid=(0,T.Z)()}unsubscribe(){this.unsubscribeFunction&&this.unsubscribeFunction()}open(){this.graphqlService.subscribe({query:"\nsubscription securityLoginQr($listener: String!) {\n    securityLoginQr(listener: $listener) {\n        refreshToken\n        refreshTokenId\n        user {\n            host\n            id\n            nickname\n            avatar\n        }\n    }\n}",variables:{listener:this.uuid}},h=>{this.onNext(h)}).then(h=>{this.unsubscribe(),this.unsubscribeFunction=h}),this.modalComponent.open()}onModalHidden(){this.unsubscribe()}onNext(h){var d;const A=null===(d=h.data)||void 0===d?void 0:d.securityLoginQr;A&&(this.loginQrEvent.emit({refreshToken:A.refreshToken,refreshTokenId:A.refreshTokenId}),this.modalComponent.close())}ngOnDestroy(){this.unsubscribe()}}return(f=S).\u0275fac=function(h){return new(h||f)(e.Y36(H.Jk))},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-login-qr-modal"]],viewQuery:function(h,d){if(1&h&&e.Gf(n,5),2&h){let A;e.iGM(A=e.CRH())&&(d.modalComponent=A.first)}},outputs:{loginQrEvent:"loginQrEvent"},decls:3,vars:0,consts:[["title","Login tramite QR Code",3,"hidden"],["modal",""],["appModalBody",""],[3,"uuid"],[1,"text-center"]],template:function(h,d){1&h&&(e.TgZ(0,"app-modal",0,1),e.NdJ("hidden",function(){return d.onModalHidden()}),e.YNc(2,a,13,2,"ng-template",2),e.qZA())},dependencies:[W.z,$.J,r]}),S})();var l=R(1187);let v=(()=>{var f;class S{}return(f=S).\u0275fac=function(h){return new(h||f)},f.\u0275cmp=e.Xpm({type:f,selectors:[["app-login-svg"]],decls:23,vars:0,consts:[[1,"mx-auto","mw-100","position-relative"],["xmlns","http://www.w3.org/2000/svg",0,"xmlns","xlink","http://www.w3.org/1999/xlink","viewBox","0 0 949.85 463.64",1,"w-100","pc-svg"],["d","m0,418.39c0,.94,1.07,1.69,2.41,1.69h945.03c1.33,0,2.41-.75,2.41-1.69s-1.07-1.69-2.41-1.69H2.41c-1.33,0-2.41.75-2.41,1.69Z","fill","#2f2e43","stroke-width","0"],["d","m789.19,420.78H162.66V17.31c0-9.54,7.76-17.31,17.31-17.31h591.91c9.54,0,17.31,7.76,17.31,17.31v403.47Z","fill","#2f2e41","stroke-width","0"],["d","m841.34,463.64H108.95c-2.53,0-4.6-1.57-5.29-4.01-.68-2.43.27-4.86,2.43-6.17l57.09-34.83h626.22l.18.11,54.72,34.77c2.11,1.34,3.03,3.76,2.33,6.17-.7,2.4-2.77,3.96-5.27,3.96Z","fill","#dfdfdf","stroke-width","0"],["x","179.09","y","25.72","width","592.95","height","368.63","fill","#fff","stroke-width","0"],["points","794.9 441.5 159.09 441.5 190.52 416 764.9 416 794.9 441.5","fill","#2f2e41","stroke-width","0"],["points","626.31 458.64 324.83 458.64 336.26 441.5 614.88 441.5 626.31 458.64","fill","#2f2e41","stroke-width","0"],["points","838.74 152.18 824.02 157.02 824.02 135.82 837.38 135.82 838.74 152.18","fill","#f2a7aa","stroke-width","0"],["cx","825.84","cy","127.02","r","14.67","fill","#f2a7aa","stroke-width","0"],["d","m829.87,125.57c-2.46-.07-4.07-2.56-5.02-4.82-.95-2.27-1.94-4.87-4.21-5.81-1.86-.77-5.15,4.4-6.62,3.03-1.53-1.43-.04-8.81,1.59-10.13s3.85-1.58,5.95-1.68c5.11-.24,10.26.18,15.27,1.22,3.1.65,6.29,1.62,8.53,3.86,2.83,2.84,3.56,7.13,3.76,11.14.21,4.1-.03,8.4-2.02,11.98-1.99,3.59-6.17,6.24-10.17,5.32-.4-2.18,0-4.41.16-6.62.15-2.21,0-4.59-1.35-6.35s-4.23-2.45-5.8-.89","fill","#36344e","stroke-width","0"],["d","m847.92,130.65c1.47-1.08,3.22-1.97,5.03-1.75,1.95.24,3.6,1.85,4.1,3.75s-.06,4-1.27,5.55c-1.21,1.55-3,2.58-4.9,3.1-1.1.3-2.3.42-3.35-.03-1.54-.66-2.37-2.64-1.77-4.2","fill","#36344e","stroke-width","0"],["x","820.09","y","388","width","13.79","height","19.56","fill","#f2a7aa","stroke-width","0"],["d","m806.66,419.41c-1.45,0-2.74-.04-3.71-.13-3.66-.34-7.16-3.04-8.92-4.62-.79-.71-1.04-1.84-.63-2.82h0c.29-.7.88-1.22,1.61-1.43l9.68-2.77,15.67-10.58.17.31c.07.12,1.6,2.89,2.12,4.76.2.71.14,1.31-.15,1.77-.21.32-.49.5-.73.61.28.3,1.17.9,3.91,1.34,3.99.64,4.84-3.51,4.87-3.68l.03-.14.12-.08c1.9-1.23,3.07-1.78,3.48-1.66.25.08.67.2,1.81,11.49.11.35.91,2.95.37,5.43-.59,2.7-12.39,1.77-14.75,1.56-.07,0-8.9.64-14.96.64Z","fill","#36344e","stroke-width","0"],["x","865.58","y","374.8","width","13.79","height","19.56","transform","translate(-71.35 519.94) rotate(-31.95)","fill","#f2a7aa","stroke-width","0"],["d","m857.61,416.73c-1.62,0-3.11-.19-4.17-.38-1.04-.18-1.86-1.01-2.03-2.06h0c-.12-.75.1-1.5.61-2.07l6.75-7.47,7.7-17.27.31.17c.12.06,2.89,1.6,4.32,2.92.54.5.81,1.03.8,1.58,0,.38-.15.69-.29.9.4.1,1.47.14,4.03-.94,3.73-1.57,2.25-5.54,2.19-5.71l-.05-.13.06-.13c.97-2.05,1.66-3.14,2.07-3.25.25-.07.68-.18,7.61,8.79.28.24,2.33,2.02,3.19,4.42.93,2.6-9.58,8.06-11.69,9.13-.07.05-11.06,8.04-15.57,10.31-1.79.9-3.91,1.18-5.84,1.18Z","fill","#36344e","stroke-width","0"],["d","m844.04,224.38h-38.61l-3.5,35.92,15.33,132.71h19.71l-7.88-76.65,31.97,69.2,17.52-12.26-24.97-64.6s8.92-56.28,1.91-70.3c-7.01-14.02-11.48-14.02-11.48-14.02Z","fill","#36344e","stroke-width","0"],["points","863.24 226.57 801.92 226.57 820.32 147.3 847.03 147.3 863.24 226.57","fill","#4864fe","stroke-width","0"],["id","uuid-52db3307-ec3e-496d-a5d4-9d1f33ffc652-45-45-642","d","m786.69,145.73c-.98-4.82.81-9.23,4-9.84,3.19-.61,6.56,2.8,7.54,7.63.42,1.92.35,3.91-.19,5.81l3.88,20.49-10.02,1.58-2.76-20.36c-1.24-1.55-2.08-3.37-2.45-5.31h0Z","fill","#f2a7aa","stroke-width","0"],["d","m846.38,147.3h-23.56l-15.88,31.77-5.99-23.8-13.16,1.4s3.11,46.51,16.73,44.94c13.61-1.57,45.36-43.48,41.87-54.3Z","fill","#4864fe","stroke-width","0"],["id","uuid-2800d917-a06e-4fc6-b661-0f9df9cadefc-46-46-643","d","m872.7,268.11c.98,4.82-.81,9.23-4,9.84-3.19.61-6.56-2.8-7.54-7.63-.42-1.92-.35-3.91.19-5.81l-3.88-20.49,10.02-1.58,2.76,20.36c1.24,1.55,2.08,3.37,2.45,5.31,0,0,0,0,0,0Z","fill","#f2a7aa","stroke-width","0"],["d","m832.95,147.3s13.39-.57,14.08,0c3.65,2.99,25.09,110.66,25.09,110.66h-13.58s-25.6-110.66-25.6-110.66Z","fill","#4864fe","stroke-width","0"],[1,"text-primary","d-block","position-absolute"]],template:function(h,d){1&h&&(e.TgZ(0,"div",0),e.O4$(),e.TgZ(1,"svg",1),e._UZ(2,"path",2)(3,"path",3)(4,"path",4)(5,"rect",5)(6,"polygon",6)(7,"polygon",7)(8,"polygon",8)(9,"circle",9)(10,"path",10)(11,"path",11)(12,"rect",12)(13,"path",13)(14,"rect",14)(15,"path",15)(16,"path",16)(17,"polygon",17)(18,"path",18)(19,"path",19)(20,"path",20)(21,"path",21),e.qZA(),e.kcU(),e._UZ(22,"app-logo-svg",22),e.qZA())},dependencies:[l.u],styles:["app-logo-svg[_ngcontent-%COMP%]{width:36px;left:50%;transform:translate(-50%);top:24%}.pc-svg[_ngcontent-%COMP%]{height:120px}"]}),S})();const i=["loginFormModal"];function s(f,S){1&f&&e._UZ(0,"app-login-form-modal",null,10)}function o(f,S){if(1&f){const b=e.EpF();e.TgZ(0,"div",0)(1,"main",1)(2,"div",2),e._UZ(3,"app-login-header",3),e.qZA(),e.TgZ(4,"div",4),e._UZ(5,"app-login-svg",5),e.TgZ(6,"app-login-buttons",6),e.NdJ("openQrModal",function(){e.CHM(b);const d=e.MAs(9);return e.KtG(d.open())})("openFormModal",function(){e.CHM(b);const d=e.oxw();return e.KtG(d.loginFormModalRef&&d.loginFormModalRef.open())}),e.qZA()()(),e._UZ(7,"app-footer",7),e.qZA(),e.TgZ(8,"app-login-qr-modal",8,9),e.NdJ("loginQrEvent",function(d){e.CHM(b);const A=e.oxw();return e.KtG(A.loginFromQrCode(d))}),e.qZA(),e.YNc(10,s,2,0,"app-login-form-modal")}if(2&f){const b=e.oxw();e.Q6J("ngClass",b.appEmbedded?"d-none":"d-flex flex-column"),e.xp6(6),e.Q6J("showCredentialsButton",b.hasCredentialsLogin),e.xp6(),e.Q6J("subscribeToToggleTosModalSubject",!0),e.xp6(3),e.um2(10,b.hasCredentialsLogin?10:-1)}}const p=[{path:"",component:(()=>{var f;class S{constructor(h,d,A,D,B,X,F,Z,j,E){this.router=h,this.loginService=d,this.globalsService=A,this.activatedRoute=D,this.toastService=B,this.urlQueryParamsService=X,this.preferencesService=F,this.loadingBarService=Z,this.tokensStorageService=j,this.tokensService=E,this.render=!1,this.appName=J.DJ,this.appEmbedded=J.II,this.hasCredentialsLogin=!1,J.II&&this.loadingBarService.useRef("http").disable()}saveProfileTokensEvent(h){var d=this;return(0,Q.Z)(function*(){d.tokensStorageService.refreshToken={value:h.refreshToken,id:h.refreshTokenId},d.tokensStorageService.accessToken=h.accessToken,h.refreshToken||(d.loginService.loggedWithOnlyAccessToken=!0),yield d.setProfileAndNavigate(h.profile)})()}setProfileAndNavigate(h){var d=this;return(0,Q.Z)(function*(){d.globalsService.credentials=h;const A=d.loginService.redirect;d.loginService.redirect=void 0,d.loginService.loggedInCurrentSession=!0,yield d.router.navigateByUrl(A)})()}ngOnInit(){var h=this;return(0,Q.Z)(function*(){const d=h.activatedRoute.snapshot.data[dt.RT.PROFILE];yield h.logout(d&&d.success&&d.data&&!d.data.refreshToken);const A=h.urlQueryParamsService.getAndDeleteParam(dt.RT.REDIRECT_PATH),D=h.urlQueryParamsService.getAndDeleteParam(dt.RT.LOGIN_TYPE);if(A&&(h.loginService.redirect=A),h.hasCredentialsLogin="dev"===D,d)if(d.success){if(!d.data)return;if(d.data.profile)return void(yield h.saveProfileTokensEvent(d.data));const B=d.data.refreshToken,X=d.data.accessToken;let F;if(B?F=yield h.getProfileDataFromRefreshToken(B,d.data.refreshTokenId):X&&(h.tokensStorageService.accessToken=X,F=yield h.loginService.getProfileFromAccessToken(X),F||(yield h.loginService.invalidateCurrentSession())),F)return void(yield h.setProfileAndNavigate(h.loginService.createProfileFromJwtResponse(F)))}else d.domain&&h.showToast(d.domain);h.render=!0})()}getProfileDataFromRefreshToken(h,d){var A=this;return(0,Q.Z)(function*(){A.tokensStorageService.refreshToken={value:h,id:d};try{const D=yield A.tokensService.generateAccessToken();return A.tokensStorageService.accessToken=D.token,D.info}catch(D){return}})()}loginFromQrCode(h){var d=this;return(0,Q.Z)(function*(){const A=yield d.getProfileDataFromRefreshToken(h.refreshToken,h.refreshTokenId);A&&(yield d.setProfileAndNavigate(d.loginService.createProfileFromJwtResponse(A)))})()}logout(h){var d=this;return(0,Q.Z)(function*(){h||(yield d.loginService.invalidateCurrentSession(),d.globalsService.forum=void 0),d.globalsService.credentials=void 0,d.tokensStorageService.accessToken=void 0,d.loginService.loggedWithOnlyAccessToken=!1,d.preferencesService.resetItemsOnProfileChange()})()}showToast(h){const d=h.split(".")[0];this.toastService.show({content:"Non risulti loggato su ".concat(d.slice(0,1).toUpperCase()+d.slice(1),", ")+"prova ad effettuare l'accesso dal "+'<a href="https://accounts.'.concat(h,'/?act=Login" target="_blank">portale dedicato</a> e a ricaricare la pagina!'),level:U.m.ERROR})}}return(f=S).\u0275fac=function(h){return new(h||f)(e.Y36(ut.F0),e.Y36(lt.r),e.Y36(yt.d),e.Y36(ut.gz),e.Y36(it.k),e.Y36(at.J),e.Y36(_t.y),e.Y36(gt.dL),e.Y36(H.n5),e.Y36(H.H))},f.\u0275cmp=e.Xpm({type:f,selectors:[["ng-component"]],viewQuery:function(h,d){if(1&h&&e.Gf(i,5),2&h){let A;e.iGM(A=e.CRH())&&(d.loginFormModalRef=A.first)}},decls:1,vars:1,consts:[[1,"wrapper",3,"ngClass"],[1,"mx-auto","d-flex","align-items-stretch","bg-white","shadow-sm","overflow-hidden","flex-column","flex-lg-row"],[1,"bg-light","d-flex","flex-column","service","pt-4"],[1,"d-flex","flex-column","flex-grow-1"],[1,"login","d-flex","flex-column"],[1,"d-none","d-lg-block","mt-auto"],[1,"d-block","mb-auto",3,"showCredentialsButton","openQrModal","openFormModal"],[3,"subscribeToToggleTosModalSubject"],[3,"loginQrEvent"],["loginQrModal",""],["loginFormModal",""]],template:function(h,d){1&h&&e.YNc(0,o,11,4),2&h&&e.um2(0,d.render?0:-1)},dependencies:[bt.c,q,C.mk,w,L,u,v],styles:["[_nghost-%COMP%]{display:flex;min-height:100vh}.wrapper[_ngcontent-%COMP%]{flex-basis:100%;background-image:url(/assets/back-pattern.png)}main[_ngcontent-%COMP%]{max-width:992px;margin-bottom:2rem}.service[_ngcontent-%COMP%], .login[_ngcontent-%COMP%]{flex:1 1 0;padding:2rem}.service[_ngcontent-%COMP%]{border-bottom:1px solid #dee2e6;padding-bottom:1.5rem}@media (min-width: 992px){main[_ngcontent-%COMP%]{margin-top:5rem;margin-bottom:5rem;border-radius:.25rem;border:1px solid #dee2e6}.service[_ngcontent-%COMP%]{border-bottom:0;border-right:1px solid #dee2e6;padding-bottom:2rem}app-login-svg[_ngcontent-%COMP%]{margin-bottom:2rem}}"]}),S})()}];let k=(()=>{var f;class S{}return(f=S).\u0275fac=function(h){return new(h||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[ut.Bz.forChild(p),ut.Bz]}),S})();var P=R(2740);let y=(()=>{var f;class S{}return(f=S).\u0275fac=function(h){return new(h||f)},f.\u0275mod=e.oAB({type:f}),f.\u0275inj=e.cJS({imports:[ot._,q,k,P.h,st.z]}),S})()},149:xt=>{self,xt.exports=(()=>{var ht={192:(Q,N)=>{var W,st,e=function(){var $=function(C,x){var _=C,w=q[x],g=null,M=0,L=null,T=[],O={},Y=function(i,s){g=function(o){for(var c=new Array(o),p=0;p<o;p+=1){c[p]=new Array(o);for(var k=0;k<o;k+=1)c[p][k]=null}return c}(M=4*_+17),m(0,0),m(M-7,0),m(0,M-7),r(),t(),a(i,s),_>=7&&n(i),null==L&&(L=l(_,w,T)),u(L,s)},m=function(i,s){for(var o=-1;o<=7;o+=1)if(!(i+o<=-1||M<=i+o))for(var c=-1;c<=7;c+=1)s+c<=-1||M<=s+c||(g[i+o][s+c]=0<=o&&o<=6&&(0==c||6==c)||0<=c&&c<=6&&(0==o||6==o)||2<=o&&o<=4&&2<=c&&c<=4)},t=function(){for(var i=8;i<M-8;i+=1)null==g[i][6]&&(g[i][6]=i%2==0);for(var s=8;s<M-8;s+=1)null==g[6][s]&&(g[6][s]=s%2==0)},r=function(){for(var i=U.getPatternPosition(_),s=0;s<i.length;s+=1)for(var o=0;o<i.length;o+=1){var c=i[s],p=i[o];if(null==g[c][p])for(var k=-2;k<=2;k+=1)for(var P=-2;P<=2;P+=1)g[c+k][p+P]=-2==k||2==k||-2==P||2==P||0==k&&0==P}},n=function(i){for(var s=U.getBCHTypeNumber(_),o=0;o<18;o+=1){var c=!i&&1==(s>>o&1);g[Math.floor(o/3)][o%3+M-8-3]=c}for(o=0;o<18;o+=1)c=!i&&1==(s>>o&1),g[o%3+M-8-3][Math.floor(o/3)]=c},a=function(i,s){for(var c=U.getBCHTypeInfo(w<<3|s),p=0;p<15;p+=1){var k=!i&&1==(c>>p&1);p<6?g[p][8]=k:p<8?g[p+1][8]=k:g[M-15+p][8]=k}for(p=0;p<15;p+=1)k=!i&&1==(c>>p&1),p<8?g[8][M-p-1]=k:p<9?g[8][15-p-1+1]=k:g[8][15-p-1]=k;g[M-8][8]=!i},u=function(i,s){for(var o=-1,c=M-1,p=7,k=0,P=U.getMaskFunction(s),y=M-1;y>0;y-=2)for(6==y&&(y-=1);;){for(var f=0;f<2;f+=1)if(null==g[c][y-f]){var S=!1;k<i.length&&(S=1==(i[k]>>>p&1)),P(c,y-f)&&(S=!S),g[c][y-f]=S,-1==(p-=1)&&(k+=1,p=7)}if((c+=o)<0||M<=c){c-=o,o=-o;break}}},l=function(i,s,o){for(var c=yt.getRSBlocks(i,s),p=lt(),k=0;k<o.length;k+=1){var P=o[k];p.put(P.getMode(),4),p.put(P.getLength(),U.getLengthInBits(P.getMode(),i)),P.write(p)}var y=0;for(k=0;k<c.length;k+=1)y+=c[k].dataCount;if(p.getLengthInBits()>8*y)throw"code length overflow. ("+p.getLengthInBits()+">"+8*y+")";for(p.getLengthInBits()+4<=8*y&&p.put(0,4);p.getLengthInBits()%8!=0;)p.putBit(!1);for(;!(p.getLengthInBits()>=8*y||(p.put(236,8),p.getLengthInBits()>=8*y));)p.put(17,8);return function(f,S){for(var b=0,h=0,d=0,A=new Array(S.length),D=new Array(S.length),B=0;B<S.length;B+=1){var X=S[B].dataCount,F=S[B].totalCount-X;h=Math.max(h,X),d=Math.max(d,F),A[B]=new Array(X);for(var Z=0;Z<A[B].length;Z+=1)A[B][Z]=255&f.getBuffer()[Z+b];b+=X;var j=U.getErrorCorrectPolynomial(F),E=H(A[B],j.getLength()-1).mod(j);for(D[B]=new Array(j.getLength()-1),Z=0;Z<D[B].length;Z+=1){var G=Z+E.getLength()-D[B].length;D[B][Z]=G>=0?E.getAt(G):0}}var K=0;for(Z=0;Z<S.length;Z+=1)K+=S[Z].totalCount;var V=new Array(K),nt=0;for(Z=0;Z<h;Z+=1)for(B=0;B<S.length;B+=1)Z<A[B].length&&(V[nt]=A[B][Z],nt+=1);for(Z=0;Z<d;Z+=1)for(B=0;B<S.length;B+=1)Z<D[B].length&&(V[nt]=D[B][Z],nt+=1);return V}(p,c)};O.addData=function(i,s){var o=null;switch(s=s||"Byte"){case"Numeric":o=_t(i);break;case"Alphanumeric":o=dt(i);break;case"Byte":o=it(i);break;case"Kanji":o=at(i);break;default:throw"mode:"+s}T.push(o),L=null},O.isDark=function(i,s){if(i<0||M<=i||s<0||M<=s)throw i+","+s;return g[i][s]},O.getModuleCount=function(){return M},O.make=function(){if(_<1){for(var i=1;i<40;i++){for(var s=yt.getRSBlocks(i,w),o=lt(),c=0;c<T.length;c++){var p=T[c];o.put(p.getMode(),4),o.put(p.getLength(),U.getLengthInBits(p.getMode(),i)),p.write(o)}var k=0;for(c=0;c<s.length;c++)k+=s[c].dataCount;if(o.getLengthInBits()<=8*k)break}_=i}Y(!1,function(){for(var P=0,y=0,f=0;f<8;f+=1){Y(!0,f);var S=U.getLostPoint(O);(0==f||P>S)&&(P=S,y=f)}return y}())},O.createTableTag=function(i,s){i=i||2;var o="";o+='<table style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: "+(s=void 0===s?4*i:s)+"px;",o+='">',o+="<tbody>";for(var c=0;c<O.getModuleCount();c+=1){o+="<tr>";for(var p=0;p<O.getModuleCount();p+=1)o+='<td style="',o+=" border-width: 0px; border-style: none;",o+=" border-collapse: collapse;",o+=" padding: 0px; margin: 0px;",o+=" width: "+i+"px;",o+=" height: "+i+"px;",o+=" background-color: ",o+=O.isDark(c,p)?"#000000":"#ffffff",o+=";",o+='"/>';o+="</tr>"}return(o+="</tbody>")+"</table>"},O.createSvgTag=function(i,s,o,c){var p={};"object"==typeof arguments[0]&&(i=(p=arguments[0]).cellSize,s=p.margin,o=p.alt,c=p.title),i=i||2,s=void 0===s?4*i:s,(o="string"==typeof o?{text:o}:o||{}).text=o.text||null,o.id=o.text?o.id||"qrcode-description":null,(c="string"==typeof c?{text:c}:c||{}).text=c.text||null,c.id=c.text?c.id||"qrcode-title":null;var k,P,y,f,S=O.getModuleCount()*i+2*s,b="";for(f="l"+i+",0 0,"+i+" -"+i+",0 0,-"+i+"z ",b+='<svg version="1.1" xmlns="http://www.w3.org/2000/svg"',b+=p.scalable?"":' width="'+S+'px" height="'+S+'px"',b+=' viewBox="0 0 '+S+" "+S+'" ',b+=' preserveAspectRatio="xMinYMin meet"',b+=c.text||o.text?' role="img" aria-labelledby="'+v([c.id,o.id].join(" ").trim())+'"':"",b+=">",b+=c.text?'<title id="'+v(c.id)+'">'+v(c.text)+"</title>":"",b+=o.text?'<description id="'+v(o.id)+'">'+v(o.text)+"</description>":"",b+='<rect width="100%" height="100%" fill="white" cx="0" cy="0"/>',b+='<path d="',P=0;P<O.getModuleCount();P+=1)for(y=P*i+s,k=0;k<O.getModuleCount();k+=1)O.isDark(P,k)&&(b+="M"+(k*i+s)+","+y+f);return(b+='" stroke="transparent" fill="black"/>')+"</svg>"},O.createDataURL=function(i,s){i=i||2,s=void 0===s?4*i:s;var o=O.getModuleCount()*i+2*s,c=s,p=o-s;return bt(o,o,function(k,P){if(c<=k&&k<p&&c<=P&&P<p){var y=Math.floor((k-c)/i),f=Math.floor((P-c)/i);return O.isDark(f,y)?0:1}return 1})},O.createImgTag=function(i,s,o){i=i||2,s=void 0===s?4*i:s;var c=O.getModuleCount()*i+2*s,p="";return p+="<img",p+=' src="',p+=O.createDataURL(i,s),p+='"',p+=' width="',p+=c,p+='"',p+=' height="',p+=c,p+='"',o&&(p+=' alt="',p+=v(o),p+='"'),p+"/>"};var v=function(i){for(var s="",o=0;o<i.length;o+=1){var c=i.charAt(o);switch(c){case"<":s+="&lt;";break;case">":s+="&gt;";break;case"&":s+="&amp;";break;case'"':s+="&quot;";break;default:s+=c}}return s};return O.createASCII=function(i,s){if((i=i||1)<2)return function(A){A=void 0===A?2:A;var D,B,X,F,Z,j=1*O.getModuleCount()+2*A,E=A,G=j-A,K={"\u2588\u2588":"\u2588","\u2588 ":"\u2580"," \u2588":"\u2584","  ":" "},V={"\u2588\u2588":"\u2580","\u2588 ":"\u2580"," \u2588":" ","  ":" "},nt="";for(D=0;D<j;D+=2){for(X=Math.floor((D-E)/1),F=Math.floor((D+1-E)/1),B=0;B<j;B+=1)Z="\u2588",E<=B&&B<G&&E<=D&&D<G&&O.isDark(X,Math.floor((B-E)/1))&&(Z=" "),E<=B&&B<G&&E<=D+1&&D+1<G&&O.isDark(F,Math.floor((B-E)/1))?Z+=" ":Z+="\u2588",nt+=A<1&&D+1>=G?V[Z]:K[Z];nt+="\n"}return j%2&&A>0?nt.substring(0,nt.length-j-1)+Array(j+1).join("\u2580"):nt.substring(0,nt.length-1)}(s);i-=1,s=void 0===s?2*i:s;var o,c,p,k,P=O.getModuleCount()*i+2*s,y=s,f=P-s,S=Array(i+1).join("\u2588\u2588"),b=Array(i+1).join("  "),h="",d="";for(o=0;o<P;o+=1){for(p=Math.floor((o-y)/i),d="",c=0;c<P;c+=1)k=1,y<=c&&c<f&&y<=o&&o<f&&O.isDark(p,Math.floor((c-y)/i))&&(k=0),d+=k?S:b;for(p=0;p<i;p+=1)h+=d+"\n"}return h.substring(0,h.length-1)},O.renderTo2dContext=function(i,s){s=s||2;for(var o=O.getModuleCount(),c=0;c<o;c++)for(var p=0;p<o;p++)i.fillStyle=O.isDark(c,p)?"black":"white",i.fillRect(c*s,p*s,s,s)},O};$.stringToBytes=($.stringToBytesFuncs={default:function(C){for(var x=[],_=0;_<C.length;_+=1){var w=C.charCodeAt(_);x.push(255&w)}return x}}).default,$.createStringToBytes=function(C,x){var _=function(){for(var g=gt(C),M=function(){var t=g.read();if(-1==t)throw"eof";return t},L=0,T={};;){var O=g.read();if(-1==O)break;var Y=M(),m=M()<<8|M();T[String.fromCharCode(O<<8|Y)]=m,L+=1}if(L!=x)throw L+" != "+x;return T}();return function(g){for(var M=[],L=0;L<g.length;L+=1){var T=g.charCodeAt(L);if(T<128)M.push(T);else{var O=_[g.charAt(L)];"number"==typeof O?(255&O)==O?M.push(O):(M.push(O>>>8),M.push(255&O)):M.push(63)}}return M}};var rt,I,z,q={L:1,M:0,Q:3,H:2},U=(rt=[[],[6,18],[6,22],[6,26],[6,30],[6,34],[6,22,38],[6,24,42],[6,26,46],[6,28,50],[6,30,54],[6,32,58],[6,34,62],[6,26,46,66],[6,26,48,70],[6,26,50,74],[6,30,54,78],[6,30,56,82],[6,30,58,86],[6,34,62,90],[6,28,50,72,94],[6,26,50,74,98],[6,30,54,78,102],[6,28,54,80,106],[6,32,58,84,110],[6,30,58,86,114],[6,34,62,90,118],[6,26,50,74,98,122],[6,30,54,78,102,126],[6,26,52,78,104,130],[6,30,56,82,108,134],[6,34,60,86,112,138],[6,30,58,86,114,142],[6,34,62,90,118,146],[6,30,54,78,102,126,150],[6,24,50,76,102,128,154],[6,28,54,80,106,132,158],[6,32,58,84,110,136,162],[6,26,54,82,110,138,166],[6,30,58,86,114,142,170]],1335,7973,z=function(C){for(var x=0;0!=C;)x+=1,C>>>=1;return x},(I={}).getBCHTypeInfo=function(C){for(var x=C<<10;z(x)-z(1335)>=0;)x^=1335<<z(x)-z(1335);return 21522^(C<<10|x)},I.getBCHTypeNumber=function(C){for(var x=C<<12;z(x)-z(7973)>=0;)x^=7973<<z(x)-z(7973);return C<<12|x},I.getPatternPosition=function(C){return rt[C-1]},I.getMaskFunction=function(C){switch(C){case 0:return function(x,_){return(x+_)%2==0};case 1:return function(x,_){return x%2==0};case 2:return function(x,_){return _%3==0};case 3:return function(x,_){return(x+_)%3==0};case 4:return function(x,_){return(Math.floor(x/2)+Math.floor(_/3))%2==0};case 5:return function(x,_){return x*_%2+x*_%3==0};case 6:return function(x,_){return(x*_%2+x*_%3)%2==0};case 7:return function(x,_){return(x*_%3+(x+_)%2)%2==0};default:throw"bad maskPattern:"+C}},I.getErrorCorrectPolynomial=function(C){for(var x=H([1],0),_=0;_<C;_+=1)x=x.multiply(H([1,J.gexp(_)],0));return x},I.getLengthInBits=function(C,x){if(1<=x&&x<10)switch(C){case 1:return 10;case 2:return 9;case 4:case 8:return 8;default:throw"mode:"+C}else if(x<27)switch(C){case 1:return 12;case 2:return 11;case 4:return 16;case 8:return 10;default:throw"mode:"+C}else{if(!(x<41))throw"type:"+x;switch(C){case 1:return 14;case 2:return 13;case 4:return 16;case 8:return 12;default:throw"mode:"+C}}},I.getLostPoint=function(C){for(var x=C.getModuleCount(),_=0,w=0;w<x;w+=1)for(var g=0;g<x;g+=1){for(var M=0,L=C.isDark(w,g),T=-1;T<=1;T+=1)if(!(w+T<0||x<=w+T))for(var O=-1;O<=1;O+=1)g+O<0||x<=g+O||0==T&&0==O||L==C.isDark(w+T,g+O)&&(M+=1);M>5&&(_+=3+M-5)}for(w=0;w<x-1;w+=1)for(g=0;g<x-1;g+=1){var Y=0;C.isDark(w,g)&&(Y+=1),C.isDark(w+1,g)&&(Y+=1),C.isDark(w,g+1)&&(Y+=1),C.isDark(w+1,g+1)&&(Y+=1),0!=Y&&4!=Y||(_+=3)}for(w=0;w<x;w+=1)for(g=0;g<x-6;g+=1)C.isDark(w,g)&&!C.isDark(w,g+1)&&C.isDark(w,g+2)&&C.isDark(w,g+3)&&C.isDark(w,g+4)&&!C.isDark(w,g+5)&&C.isDark(w,g+6)&&(_+=40);for(g=0;g<x;g+=1)for(w=0;w<x-6;w+=1)C.isDark(w,g)&&!C.isDark(w+1,g)&&C.isDark(w+2,g)&&C.isDark(w+3,g)&&C.isDark(w+4,g)&&!C.isDark(w+5,g)&&C.isDark(w+6,g)&&(_+=40);var m=0;for(g=0;g<x;g+=1)for(w=0;w<x;w+=1)C.isDark(w,g)&&(m+=1);return _+Math.abs(100*m/x/x-50)/5*10},I),J=function(){for(var C=new Array(256),x=new Array(256),_=0;_<8;_+=1)C[_]=1<<_;for(_=8;_<256;_+=1)C[_]=C[_-4]^C[_-5]^C[_-6]^C[_-8];for(_=0;_<255;_+=1)x[C[_]]=_;return{glog:function(w){if(w<1)throw"glog("+w+")";return x[w]},gexp:function(w){for(;w<0;)w+=255;for(;w>=256;)w-=255;return C[w]}}}();function H(C,x){if(void 0===C.length)throw C.length+"/"+x;var _=function(){for(var g=0;g<C.length&&0==C[g];)g+=1;for(var M=new Array(C.length-g+x),L=0;L<C.length-g;L+=1)M[L]=C[L+g];return M}(),w={getAt:function(g){return _[g]},getLength:function(){return _.length},multiply:function(g){for(var M=new Array(w.getLength()+g.getLength()-1),L=0;L<w.getLength();L+=1)for(var T=0;T<g.getLength();T+=1)M[L+T]^=J.gexp(J.glog(w.getAt(L))+J.glog(g.getAt(T)));return H(M,0)},mod:function(g){if(w.getLength()-g.getLength()<0)return w;for(var M=J.glog(w.getAt(0))-J.glog(g.getAt(0)),L=new Array(w.getLength()),T=0;T<w.getLength();T+=1)L[T]=w.getAt(T);for(T=0;T<g.getLength();T+=1)L[T]^=J.gexp(J.glog(g.getAt(T))+M);return H(L,0).mod(g)}};return w}var yt=function(){var C=[[1,26,19],[1,26,16],[1,26,13],[1,26,9],[1,44,34],[1,44,28],[1,44,22],[1,44,16],[1,70,55],[1,70,44],[2,35,17],[2,35,13],[1,100,80],[2,50,32],[2,50,24],[4,25,9],[1,134,108],[2,67,43],[2,33,15,2,34,16],[2,33,11,2,34,12],[2,86,68],[4,43,27],[4,43,19],[4,43,15],[2,98,78],[4,49,31],[2,32,14,4,33,15],[4,39,13,1,40,14],[2,121,97],[2,60,38,2,61,39],[4,40,18,2,41,19],[4,40,14,2,41,15],[2,146,116],[3,58,36,2,59,37],[4,36,16,4,37,17],[4,36,12,4,37,13],[2,86,68,2,87,69],[4,69,43,1,70,44],[6,43,19,2,44,20],[6,43,15,2,44,16],[4,101,81],[1,80,50,4,81,51],[4,50,22,4,51,23],[3,36,12,8,37,13],[2,116,92,2,117,93],[6,58,36,2,59,37],[4,46,20,6,47,21],[7,42,14,4,43,15],[4,133,107],[8,59,37,1,60,38],[8,44,20,4,45,21],[12,33,11,4,34,12],[3,145,115,1,146,116],[4,64,40,5,65,41],[11,36,16,5,37,17],[11,36,12,5,37,13],[5,109,87,1,110,88],[5,65,41,5,66,42],[5,54,24,7,55,25],[11,36,12,7,37,13],[5,122,98,1,123,99],[7,73,45,3,74,46],[15,43,19,2,44,20],[3,45,15,13,46,16],[1,135,107,5,136,108],[10,74,46,1,75,47],[1,50,22,15,51,23],[2,42,14,17,43,15],[5,150,120,1,151,121],[9,69,43,4,70,44],[17,50,22,1,51,23],[2,42,14,19,43,15],[3,141,113,4,142,114],[3,70,44,11,71,45],[17,47,21,4,48,22],[9,39,13,16,40,14],[3,135,107,5,136,108],[3,67,41,13,68,42],[15,54,24,5,55,25],[15,43,15,10,44,16],[4,144,116,4,145,117],[17,68,42],[17,50,22,6,51,23],[19,46,16,6,47,17],[2,139,111,7,140,112],[17,74,46],[7,54,24,16,55,25],[34,37,13],[4,151,121,5,152,122],[4,75,47,14,76,48],[11,54,24,14,55,25],[16,45,15,14,46,16],[6,147,117,4,148,118],[6,73,45,14,74,46],[11,54,24,16,55,25],[30,46,16,2,47,17],[8,132,106,4,133,107],[8,75,47,13,76,48],[7,54,24,22,55,25],[22,45,15,13,46,16],[10,142,114,2,143,115],[19,74,46,4,75,47],[28,50,22,6,51,23],[33,46,16,4,47,17],[8,152,122,4,153,123],[22,73,45,3,74,46],[8,53,23,26,54,24],[12,45,15,28,46,16],[3,147,117,10,148,118],[3,73,45,23,74,46],[4,54,24,31,55,25],[11,45,15,31,46,16],[7,146,116,7,147,117],[21,73,45,7,74,46],[1,53,23,37,54,24],[19,45,15,26,46,16],[5,145,115,10,146,116],[19,75,47,10,76,48],[15,54,24,25,55,25],[23,45,15,25,46,16],[13,145,115,3,146,116],[2,74,46,29,75,47],[42,54,24,1,55,25],[23,45,15,28,46,16],[17,145,115],[10,74,46,23,75,47],[10,54,24,35,55,25],[19,45,15,35,46,16],[17,145,115,1,146,116],[14,74,46,21,75,47],[29,54,24,19,55,25],[11,45,15,46,46,16],[13,145,115,6,146,116],[14,74,46,23,75,47],[44,54,24,7,55,25],[59,46,16,1,47,17],[12,151,121,7,152,122],[12,75,47,26,76,48],[39,54,24,14,55,25],[22,45,15,41,46,16],[6,151,121,14,152,122],[6,75,47,34,76,48],[46,54,24,10,55,25],[2,45,15,64,46,16],[17,152,122,4,153,123],[29,74,46,14,75,47],[49,54,24,10,55,25],[24,45,15,46,46,16],[4,152,122,18,153,123],[13,74,46,32,75,47],[48,54,24,14,55,25],[42,45,15,32,46,16],[20,147,117,4,148,118],[40,75,47,7,76,48],[43,54,24,22,55,25],[10,45,15,67,46,16],[19,148,118,6,149,119],[18,75,47,31,76,48],[34,54,24,34,55,25],[20,45,15,61,46,16]],x=function(w,g){var M={};return M.totalCount=w,M.dataCount=g,M};return{getRSBlocks:function(w,g){var M=function(n,a){switch(a){case q.L:return C[4*(n-1)+0];case q.M:return C[4*(n-1)+1];case q.Q:return C[4*(n-1)+2];case q.H:return C[4*(n-1)+3];default:return}}(w,g);if(void 0===M)throw"bad rs block @ typeNumber:"+w+"/errorCorrectionLevel:"+g;for(var L=M.length/3,T=[],O=0;O<L;O+=1)for(var Y=M[3*O+0],m=M[3*O+1],t=M[3*O+2],r=0;r<Y;r+=1)T.push(x(m,t));return T}}}(),lt=function(){var C=[],x=0,_={getBuffer:function(){return C},getAt:function(w){var g=Math.floor(w/8);return 1==(C[g]>>>7-w%8&1)},put:function(w,g){for(var M=0;M<g;M+=1)_.putBit(1==(w>>>g-M-1&1))},getLengthInBits:function(){return x},putBit:function(w){var g=Math.floor(x/8);C.length<=g&&C.push(0),w&&(C[g]|=128>>>x%8),x+=1}};return _},_t=function(C){var x=C,_={getMode:function(){return 1},getLength:function(M){return x.length},write:function(M){for(var L=x,T=0;T+2<L.length;)M.put(w(L.substring(T,T+3)),10),T+=3;T<L.length&&(L.length-T==1?M.put(w(L.substring(T,T+1)),4):L.length-T==2&&M.put(w(L.substring(T,T+2)),7))}},w=function(M){for(var L=0,T=0;T<M.length;T+=1)L=10*L+g(M.charAt(T));return L},g=function(M){if("0"<=M&&M<="9")return M.charCodeAt(0)-48;throw"illegal char :"+M};return _},dt=function(C){var x=C,_={getMode:function(){return 2},getLength:function(g){return x.length},write:function(g){for(var M=x,L=0;L+1<M.length;)g.put(45*w(M.charAt(L))+w(M.charAt(L+1)),11),L+=2;L<M.length&&g.put(w(M.charAt(L)),6)}},w=function(g){if("0"<=g&&g<="9")return g.charCodeAt(0)-48;if("A"<=g&&g<="Z")return g.charCodeAt(0)-65+10;switch(g){case" ":return 36;case"$":return 37;case"%":return 38;case"*":return 39;case"+":return 40;case"-":return 41;case".":return 42;case"/":return 43;case":":return 44;default:throw"illegal char :"+g}};return _},it=function(C){var x=$.stringToBytes(C);return{getMode:function(){return 4},getLength:function(_){return x.length},write:function(_){for(var w=0;w<x.length;w+=1)_.put(x[w],8)}}},at=function(C){var x=$.stringToBytesFuncs.SJIS;if(!x)throw"sjis not supported.";!function(w,g){var M=x("\u53cb");if(2!=M.length||38726!=(M[0]<<8|M[1]))throw"sjis not supported."}();var _=x(C);return{getMode:function(){return 8},getLength:function(w){return~~(_.length/2)},write:function(w){for(var g=_,M=0;M+1<g.length;){var L=(255&g[M])<<8|255&g[M+1];if(33088<=L&&L<=40956)L-=33088;else{if(!(57408<=L&&L<=60351))throw"illegal char at "+(M+1)+"/"+L;L-=49472}w.put(L=192*(L>>>8&255)+(255&L),13),M+=2}if(M<g.length)throw"illegal char at "+(M+1)}}},ut=function(){var C=[],x={writeByte:function(_){C.push(255&_)},writeShort:function(_){x.writeByte(_),x.writeByte(_>>>8)},writeBytes:function(_,w,g){w=w||0,g=g||_.length;for(var M=0;M<g;M+=1)x.writeByte(_[M+w])},writeString:function(_){for(var w=0;w<_.length;w+=1)x.writeByte(_.charCodeAt(w))},toByteArray:function(){return C},toString:function(){var _="";_+="[";for(var w=0;w<C.length;w+=1)w>0&&(_+=","),_+=C[w];return _+"]"}};return x},gt=function(C){var x=C,_=0,w=0,g=0,M={read:function(){for(;g<8;){if(_>=x.length){if(0==g)return-1;throw"unexpected end of file./"+g}var T=x.charAt(_);if(_+=1,"="==T)return g=0,-1;T.match(/^\s$/)||(w=w<<6|L(T.charCodeAt(0)),g+=6)}var O=w>>>g-8&255;return g-=8,O}},L=function(T){if(65<=T&&T<=90)return T-65;if(97<=T&&T<=122)return T-97+26;if(48<=T&&T<=57)return T-48+52;if(43==T)return 62;if(47==T)return 63;throw"c:"+T};return M},bt=function(C,x,_){for(var w=function(m,t){var r=m,n=t,a=new Array(m*t),u={setPixel:function(i,s,o){a[s*r+i]=o},write:function(i){i.writeString("GIF87a"),i.writeShort(r),i.writeShort(n),i.writeByte(128),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(0),i.writeByte(255),i.writeByte(255),i.writeByte(255),i.writeString(","),i.writeShort(0),i.writeShort(0),i.writeShort(r),i.writeShort(n),i.writeByte(0);var s=l(2);i.writeByte(2);for(var o=0;s.length-o>255;)i.writeByte(255),i.writeBytes(s,o,255),o+=255;i.writeByte(s.length-o),i.writeBytes(s,o,s.length-o),i.writeByte(0),i.writeString(";")}},l=function(i){for(var s=1<<i,o=1+(1<<i),c=i+1,p=v(),k=0;k<s;k+=1)p.add(String.fromCharCode(k));p.add(String.fromCharCode(s)),p.add(String.fromCharCode(o));var P,y,f,S=ut(),b=(P=S,y=0,f=0,{write:function(D,B){if(D>>>B)throw"length over";for(;y+B>=8;)P.writeByte(255&(D<<y|f)),B-=8-y,D>>>=8-y,f=0,y=0;f|=D<<y,y+=B},flush:function(){y>0&&P.writeByte(f)}});b.write(s,c);var h=0,d=String.fromCharCode(a[h]);for(h+=1;h<a.length;){var A=String.fromCharCode(a[h]);h+=1,p.contains(d+A)?d+=A:(b.write(p.indexOf(d),c),p.size()<4095&&(p.size()==1<<c&&(c+=1),p.add(d+A)),d=A)}return b.write(p.indexOf(d),c),b.write(o,c),b.flush(),S.toByteArray()},v=function(){var i={},s=0,o={add:function(c){if(o.contains(c))throw"dup key:"+c;i[c]=s,s+=1},size:function(){return s},indexOf:function(c){return i[c]},contains:function(c){return void 0!==i[c]}};return o};return u}(C,x),g=0;g<x;g+=1)for(var M=0;M<C;M+=1)w.setPixel(M,g,_(M,g));var L=ut();w.write(L);for(var T=function(){var m=0,t=0,r=0,n="",a={},u=function(v){n+=String.fromCharCode(l(63&v))},l=function(v){if(!(v<0)){if(v<26)return 65+v;if(v<52)return v-26+97;if(v<62)return v-52+48;if(62==v)return 43;if(63==v)return 47}throw"n:"+v};return a.writeByte=function(v){for(m=m<<8|255&v,t+=8,r+=1;t>=6;)u(m>>>t-6),t-=6},a.flush=function(){if(t>0&&(u(m<<6-t),m=0,t=0),r%3!=0)for(var v=3-r%3,i=0;i<v;i+=1)n+="="},a.toString=function(){return n},a}(),O=L.toByteArray(),Y=0;Y<O.length;Y+=1)T.writeByte(O[Y]);return T.flush(),"data:image/gif;base64,"+T};return $}();e.stringToBytesFuncs["UTF-8"]=function($){return function(rt){for(var et=[],tt=0;tt<rt.length;tt++){var I=rt.charCodeAt(tt);I<128?et.push(I):I<2048?et.push(192|I>>6,128|63&I):I<55296||I>=57344?et.push(224|I>>12,128|I>>6&63,128|63&I):(tt++,I=65536+((1023&I)<<10|1023&rt.charCodeAt(tt)),et.push(240|I>>18,128|I>>12&63,128|I>>6&63,128|63&I))}return et}($)},void 0===(st="function"==typeof(W=function(){return e})?W.apply(N,[]):W)||(Q.exports=st)},676:(Q,N,W)=>{"use strict";W.d(N,{default:()=>Y});var st=function(){return(st=Object.assign||function(m){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(m[a]=t[a]);return m}).apply(this,arguments)},$=function(m){return!!m&&"object"==typeof m&&!Array.isArray(m)};function rt(m){for(var t=[],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(!t.length)return m;var n=t.shift();return void 0!==n&&$(m)&&$(n)?(m=st({},m),Object.keys(n).forEach(function(a){var u=m[a],l=n[a];m[a]=Array.isArray(u)&&Array.isArray(l)?l:$(u)&&$(l)?rt(Object.assign({},u),l):l}),rt.apply(void 0,function(){for(var m=0,t=0,r=arguments.length;t<r;t++)m+=arguments[t].length;var n=Array(m),a=0;for(t=0;t<r;t++)for(var u=arguments[t],l=0,v=u.length;l<v;l++,a++)n[a]=u[l];return n}([m],t))):m}function et(m,t){var r=document.createElement("a");r.download=t,r.href=m,document.body.appendChild(r),r.click(),document.body.removeChild(r)}function tt(m){return t=this,void 0,a=function(){return function(u,l){var v,i,s,o,c={label:0,sent:function(){if(1&s[0])throw s[1];return s[1]},trys:[],ops:[]};return o={next:p(0),throw:p(1),return:p(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function p(k){return function(P){return function(y){if(v)throw new TypeError("Generator is already executing.");for(;c;)try{if(v=1,i&&(s=2&y[0]?i.return:y[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,y[1])).done)return s;switch(i=0,s&&(y=[2&y[0],s.value]),y[0]){case 0:case 1:s=y;break;case 4:return c.label++,{value:y[1],done:!1};case 5:c.label++,i=y[1],y=[0];continue;case 7:y=c.ops.pop(),c.trys.pop();continue;default:if(!((s=(s=c.trys).length>0&&s[s.length-1])||6!==y[0]&&2!==y[0])){c=0;continue}if(3===y[0]&&(!s||y[1]>s[0]&&y[1]<s[3])){c.label=y[1];break}if(6===y[0]&&c.label<s[1]){c.label=s[1],s=y;break}if(s&&c.label<s[2]){c.label=s[2],c.ops.push(y);break}s[2]&&c.ops.pop(),c.trys.pop();continue}y=l.call(u,c)}catch(f){y=[6,f],i=0}finally{v=s=0}if(5&y[0])throw y[1];return{value:y[0]?y[1]:void 0,done:!0}}([k,P])}}}(this,function(u){return[2,new Promise(function(l){var v=new XMLHttpRequest;v.onload=function(){var i=new FileReader;i.onloadend=function(){l(i.result)},i.readAsDataURL(v.response)},v.open("GET",m),v.responseType="blob",v.send()})]})},new((n=void 0)||(n=Promise))(function(u,l){function v(o){try{s(a.next(o))}catch(c){l(c)}}function i(o){try{s(a.throw(o))}catch(c){l(c)}}function s(o){var c;o.done?u(o.value):(c=o.value,c instanceof n?c:new n(function(p){p(c)})).then(v,i)}s((a=a.apply(t,[])).next())});var t,n,a}const I={L:.07,M:.15,Q:.25,H:.3};var z=function(){return(z=Object.assign||function(m){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(m[a]=t[a]);return m}).apply(this,arguments)};const q=function(){function m(t){var n=t.type;this._svg=t.svg,this._type=n}return m.prototype.draw=function(t,r,n,a){var u;switch(this._type){case"dots":u=this._drawDot;break;case"classy":u=this._drawClassy;break;case"classy-rounded":u=this._drawClassyRounded;break;case"rounded":u=this._drawRounded;break;case"extra-rounded":u=this._drawExtraRounded;break;default:u=this._drawSquare}u.call(this,{x:t,y:r,size:n,getNeighbor:a})},m.prototype._rotateFigure=function(t){var r,u=t.size,l=t.rotation,v=void 0===l?0:l,i=t.x+u/2,s=t.y+u/2;(0,t.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*v/Math.PI+","+i+","+s+")")},m.prototype._basicDot=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(z(z({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),r._element.setAttribute("cx",String(a+n/2)),r._element.setAttribute("cy",String(u+n/2)),r._element.setAttribute("r",String(n/2))}}))},m.prototype._basicSquare=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(z(z({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),r._element.setAttribute("x",String(a)),r._element.setAttribute("y",String(u)),r._element.setAttribute("width",String(n)),r._element.setAttribute("height",String(n))}}))},m.prototype._basicSideRounded=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(z(z({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n/2+"a "+n/2+" "+n/2+", 0, 0, 0, 0 "+-n)}}))},m.prototype._basicCornerRounded=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(z(z({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"v "+-n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+-n/2+" "+-n/2)}}))},m.prototype._basicCornerExtraRounded=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(z(z({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"a "+n+" "+n+", 0, 0, 0, "+-n+" "+-n)}}))},m.prototype._basicCornersRounded=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(z(z({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("d","M "+a+" "+u+"v "+n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+n/2+" "+n/2+"h "+n/2+"v "+-n/2+"a "+n/2+" "+n/2+", 0, 0, 0, "+-n/2+" "+-n/2)}}))},m.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:0})},m.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:0})},m.prototype._drawRounded=function(t){var r=t.x,n=t.y,a=t.size,u=t.getNeighbor,l=u?+u(-1,0):0,v=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0,o=l+v+i+s;if(0!==o)if(o>2||l&&v||i&&s)this._basicSquare({x:r,y:n,size:a,rotation:0});else{if(2===o){var c=0;return l&&i?c=Math.PI/2:i&&v?c=Math.PI:v&&s&&(c=-Math.PI/2),void this._basicCornerRounded({x:r,y:n,size:a,rotation:c})}if(1===o)return c=0,i?c=Math.PI/2:v?c=Math.PI:s&&(c=-Math.PI/2),void this._basicSideRounded({x:r,y:n,size:a,rotation:c})}else this._basicDot({x:r,y:n,size:a,rotation:0})},m.prototype._drawExtraRounded=function(t){var r=t.x,n=t.y,a=t.size,u=t.getNeighbor,l=u?+u(-1,0):0,v=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0,o=l+v+i+s;if(0!==o)if(o>2||l&&v||i&&s)this._basicSquare({x:r,y:n,size:a,rotation:0});else{if(2===o){var c=0;return l&&i?c=Math.PI/2:i&&v?c=Math.PI:v&&s&&(c=-Math.PI/2),void this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:c})}if(1===o)return c=0,i?c=Math.PI/2:v?c=Math.PI:s&&(c=-Math.PI/2),void this._basicSideRounded({x:r,y:n,size:a,rotation:c})}else this._basicDot({x:r,y:n,size:a,rotation:0})},m.prototype._drawClassy=function(t){var r=t.x,n=t.y,a=t.size,u=t.getNeighbor,l=u?+u(-1,0):0,v=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0;l+v+i+s!==0?l||i?v||s?this._basicSquare({x:r,y:n,size:a,rotation:0}):this._basicCornerRounded({x:r,y:n,size:a,rotation:Math.PI/2}):this._basicCornerRounded({x:r,y:n,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:n,size:a,rotation:Math.PI/2})},m.prototype._drawClassyRounded=function(t){var r=t.x,n=t.y,a=t.size,u=t.getNeighbor,l=u?+u(-1,0):0,v=u?+u(1,0):0,i=u?+u(0,-1):0,s=u?+u(0,1):0;l+v+i+s!==0?l||i?v||s?this._basicSquare({x:r,y:n,size:a,rotation:0}):this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:Math.PI/2}):this._basicCornerExtraRounded({x:r,y:n,size:a,rotation:-Math.PI/2}):this._basicCornersRounded({x:r,y:n,size:a,rotation:Math.PI/2})},m}();var U=function(){return(U=Object.assign||function(m){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(m[a]=t[a]);return m}).apply(this,arguments)};const J=function(){function m(t){var n=t.type;this._svg=t.svg,this._type=n}return m.prototype.draw=function(t,r,n,a){var u;switch(this._type){case"square":u=this._drawSquare;break;case"extra-rounded":u=this._drawExtraRounded;break;default:u=this._drawDot}u.call(this,{x:t,y:r,size:n,rotation:a})},m.prototype._rotateFigure=function(t){var r,u=t.size,l=t.rotation,v=void 0===l?0:l,i=t.x+u/2,s=t.y+u/2;(0,t.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*v/Math.PI+","+i+","+s+")")},m.prototype._basicDot=function(t){var r=this,n=t.size,a=t.x,u=t.y,l=n/7;this._rotateFigure(U(U({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+(a+n/2)+" "+u+"a "+n/2+" "+n/2+" 0 1 0 0.1 0zm 0 "+l+"a "+(n/2-l)+" "+(n/2-l)+" 0 1 1 -0.1 0Z")}}))},m.prototype._basicSquare=function(t){var r=this,n=t.size,a=t.x,u=t.y,l=n/7;this._rotateFigure(U(U({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+a+" "+u+"v "+n+"h "+n+"v "+-n+"zM "+(a+l)+" "+(u+l)+"h "+(n-2*l)+"v "+(n-2*l)+"h "+(2*l-n)+"z")}}))},m.prototype._basicExtraRounded=function(t){var r=this,a=t.x,u=t.y,l=t.size/7;this._rotateFigure(U(U({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","path"),r._element.setAttribute("clip-rule","evenodd"),r._element.setAttribute("d","M "+a+" "+(u+2.5*l)+"v "+2*l+"a "+2.5*l+" "+2.5*l+", 0, 0, 0, "+2.5*l+" "+2.5*l+"h "+2*l+"a "+2.5*l+" "+2.5*l+", 0, 0, 0, "+2.5*l+" "+2.5*-l+"v "+-2*l+"a "+2.5*l+" "+2.5*l+", 0, 0, 0, "+2.5*-l+" "+2.5*-l+"h "+-2*l+"a "+2.5*l+" "+2.5*l+", 0, 0, 0, "+2.5*-l+" "+2.5*l+"M "+(a+2.5*l)+" "+(u+l)+"h "+2*l+"a "+1.5*l+" "+1.5*l+", 0, 0, 1, "+1.5*l+" "+1.5*l+"v "+2*l+"a "+1.5*l+" "+1.5*l+", 0, 0, 1, "+1.5*-l+" "+1.5*l+"h "+-2*l+"a "+1.5*l+" "+1.5*l+", 0, 0, 1, "+1.5*-l+" "+1.5*-l+"v "+-2*l+"a "+1.5*l+" "+1.5*l+", 0, 0, 1, "+1.5*l+" "+1.5*-l)}}))},m.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},m.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},m.prototype._drawExtraRounded=function(t){this._basicExtraRounded({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},m}();var H=function(){return(H=Object.assign||function(m){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(m[a]=t[a]);return m}).apply(this,arguments)};const yt=function(){function m(t){var n=t.type;this._svg=t.svg,this._type=n}return m.prototype.draw=function(t,r,n,a){("square"===this._type?this._drawSquare:this._drawDot).call(this,{x:t,y:r,size:n,rotation:a})},m.prototype._rotateFigure=function(t){var r,u=t.size,l=t.rotation,v=void 0===l?0:l,i=t.x+u/2,s=t.y+u/2;(0,t.draw)(),null===(r=this._element)||void 0===r||r.setAttribute("transform","rotate("+180*v/Math.PI+","+i+","+s+")")},m.prototype._basicDot=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(H(H({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","circle"),r._element.setAttribute("cx",String(a+n/2)),r._element.setAttribute("cy",String(u+n/2)),r._element.setAttribute("r",String(n/2))}}))},m.prototype._basicSquare=function(t){var r=this,n=t.size,a=t.x,u=t.y;this._rotateFigure(H(H({},t),{draw:function(){r._element=document.createElementNS("http://www.w3.org/2000/svg","rect"),r._element.setAttribute("x",String(a)),r._element.setAttribute("y",String(u)),r._element.setAttribute("width",String(n)),r._element.setAttribute("height",String(n))}}))},m.prototype._drawDot=function(t){this._basicDot({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},m.prototype._drawSquare=function(t){this._basicSquare({x:t.x,y:t.y,size:t.size,rotation:t.rotation})},m}(),lt="circle";var _t=function(m,t,r,n){return new(r||(r=Promise))(function(a,u){function l(s){try{i(n.next(s))}catch(o){u(o)}}function v(s){try{i(n.throw(s))}catch(o){u(o)}}function i(s){var o;s.done?a(s.value):(o=s.value,o instanceof r?o:new r(function(c){c(o)})).then(l,v)}i((n=n.apply(m,t||[])).next())})},dt=function(m,t){var r,n,a,u,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function v(i){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(m,l)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([i,s])}}},it=[[1,1,1,1,1,1,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,0,0,0,0,0,1],[1,1,1,1,1,1,1]],at=[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,1,1,1,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]];const ut=function(){function m(t){this._element=document.createElementNS("http://www.w3.org/2000/svg","svg"),this._element.setAttribute("width",String(t.width)),this._element.setAttribute("height",String(t.height)),this._defs=document.createElementNS("http://www.w3.org/2000/svg","defs"),this._element.appendChild(this._defs),this._options=t}return Object.defineProperty(m.prototype,"width",{get:function(){return this._options.width},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"height",{get:function(){return this._options.height},enumerable:!1,configurable:!0}),m.prototype.getElement=function(){return this._element},m.prototype.drawQR=function(t){return _t(this,void 0,void 0,function(){var r,n,a,u,l,v,c,p=this;return dt(this,function(k){switch(k.label){case 0:return r=t.getModuleCount(),n=Math.min(this._options.width,this._options.height)-2*this._options.margin,a=this._options.shape===lt?n/Math.sqrt(2):n,u=Math.floor(a/r),l={hideXDots:0,hideYDots:0,width:0,height:0},this._qr=t,this._options.image?[4,this.loadImage()]:[3,2];case 1:if(k.sent(),!this._image)return[2];v=this._options,c=Math.floor(v.imageOptions.imageSize*I[v.qrOptions.errorCorrectionLevel]*r*r),l=function(P){var y=P.originalHeight,f=P.originalWidth,S=P.maxHiddenDots,b=P.maxHiddenAxisDots,h=P.dotSize,d={x:0,y:0},A={x:0,y:0};if(y<=0||f<=0||S<=0||h<=0)return{height:0,width:0,hideYDots:0,hideXDots:0};var D=y/f;return d.x=Math.floor(Math.sqrt(S/D)),d.x<=0&&(d.x=1),b&&b<d.x&&(d.x=b),d.x%2==0&&d.x--,A.x=d.x*h,d.y=1+2*Math.ceil((d.x*D-1)/2),A.y=Math.round(A.x*D),(d.y*d.x>S||b&&b<d.y)&&(b&&b<d.y?(d.y=b,d.y%2==0&&d.x--):d.y-=2,A.y=d.y*h,d.x=1+2*Math.ceil((d.y/D-1)/2),A.x=Math.round(A.y/D)),{height:A.y,width:A.x,hideYDots:d.y,hideXDots:d.x}}({originalWidth:this._image.width,originalHeight:this._image.height,maxHiddenDots:c,maxHiddenAxisDots:r-14,dotSize:u}),k.label=2;case 2:return this.drawBackground(),this.drawDots(function(P,y){var f,S,b,h,d,A;return!(p._options.imageOptions.hideBackgroundDots&&P>=(r-l.hideXDots)/2&&P<(r+l.hideXDots)/2&&y>=(r-l.hideYDots)/2&&y<(r+l.hideYDots)/2||null!==(f=it[P])&&void 0!==f&&f[y]||null!==(S=it[P-r+7])&&void 0!==S&&S[y]||null!==(b=it[P])&&void 0!==b&&b[y-r+7]||null!==(h=at[P])&&void 0!==h&&h[y]||null!==(d=at[P-r+7])&&void 0!==d&&d[y]||null!==(A=at[P])&&void 0!==A&&A[y-r+7])}),this.drawCorners(),this._options.image?[4,this.drawImage({width:l.width,height:l.height,count:r,dotSize:u})]:[3,4];case 3:k.sent(),k.label=4;case 4:return[2]}})})},m.prototype.drawBackground=function(){var t,r,n,u=this._options;if(this._element){var l=null===(t=u.backgroundOptions)||void 0===t?void 0:t.gradient,v=null===(r=u.backgroundOptions)||void 0===r?void 0:r.color;if((l||v)&&this._createColor({options:l,color:v,additionalRotation:0,x:0,y:0,height:u.height,width:u.width,name:"background-color"}),null===(n=u.backgroundOptions)||void 0===n?void 0:n.round){var i=Math.min(u.width,u.height),s=document.createElementNS("http://www.w3.org/2000/svg","rect");this._backgroundClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._backgroundClipPath.setAttribute("id","clip-path-background-color"),this._defs.appendChild(this._backgroundClipPath),s.setAttribute("x",String((u.width-i)/2)),s.setAttribute("y",String((u.height-i)/2)),s.setAttribute("width",String(i)),s.setAttribute("height",String(i)),s.setAttribute("rx",String(i/2*u.backgroundOptions.round)),this._backgroundClipPath.appendChild(s)}}},m.prototype.drawDots=function(t){var r,n,a=this;if(!this._qr)throw"QR code is not defined";var u=this._options,l=this._qr.getModuleCount();if(l>u.width||l>u.height)throw"The canvas is too small.";var v=Math.min(u.width,u.height)-2*u.margin,i=u.shape===lt?v/Math.sqrt(2):v,s=Math.floor(i/l),o=Math.floor((u.width-l*s)/2),c=Math.floor((u.height-l*s)/2),p=new q({svg:this._element,type:u.dotsOptions.type});this._dotsClipPath=document.createElementNS("http://www.w3.org/2000/svg","clipPath"),this._dotsClipPath.setAttribute("id","clip-path-dot-color"),this._defs.appendChild(this._dotsClipPath),this._createColor({options:null===(r=u.dotsOptions)||void 0===r?void 0:r.gradient,color:u.dotsOptions.color,additionalRotation:0,x:0,y:0,height:u.height,width:u.width,name:"dot-color"});for(var k=function(F){for(var Z=function(E){return t&&!t(F,E)?"continue":null!==(n=P._qr)&&void 0!==n&&n.isDark(F,E)?(p.draw(o+F*s,c+E*s,s,function(G,K){return!(F+G<0||E+K<0||F+G>=l||E+K>=l)&&!(t&&!t(F+G,E+K))&&!!a._qr&&a._qr.isDark(F+G,E+K)}),void(p._element&&P._dotsClipPath&&P._dotsClipPath.appendChild(p._element))):"continue"},j=0;j<l;j++)Z(j)},P=this,y=0;y<l;y++)k(y);if(u.shape===lt){var f=Math.floor((v/s-l)/2),S=l+2*f,b=o-f*s,h=c-f*s,d=[],A=Math.floor(S/2);for(y=0;y<S;y++){d[y]=[];for(var D=0;D<S;D++)d[y][D]=y>=f-1&&y<=S-f&&D>=f-1&&D<=S-f||Math.sqrt((y-A)*(y-A)+(D-A)*(D-A))>A?0:this._qr.isDark(D-2*f<0?D:D>=l?D-2*f:D-f,y-2*f<0?y:y>=l?y-2*f:y-f)?1:0}var B=function(F){for(var Z=function(E){if(!d[F][E])return"continue";p.draw(b+F*s,h+E*s,s,function(G,K){var V;return!(null===(V=d[F+G])||void 0===V||!V[E+K])}),p._element&&X._dotsClipPath&&X._dotsClipPath.appendChild(p._element)},j=0;j<S;j++)Z(j)},X=this;for(y=0;y<S;y++)B(y)}},m.prototype.drawCorners=function(){var t=this;if(!this._qr)throw"QR code is not defined";var n=this._options;if(!this._element)throw"Element code is not defined";var a=this._qr.getModuleCount(),u=Math.min(n.width,n.height)-2*n.margin,l=n.shape===lt?u/Math.sqrt(2):u,v=Math.floor(l/a),i=7*v,s=3*v,o=Math.floor((n.width-a*v)/2),c=Math.floor((n.height-a*v)/2);[[0,0,0],[1,0,Math.PI/2],[0,1,-Math.PI/2]].forEach(function(p){var k,P,y,f,S,b,h,d,A,D,B,X,F=p[0],Z=p[1],j=p[2],E=o+F*v*(a-7),G=c+Z*v*(a-7),K=t._dotsClipPath,V=t._dotsClipPath;if((!(null===(k=n.cornersSquareOptions)||void 0===k)&&k.gradient||!(null===(P=n.cornersSquareOptions)||void 0===P)&&P.color)&&((K=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-square-color-"+F+"-"+Z),t._defs.appendChild(K),t._cornersSquareClipPath=t._cornersDotClipPath=V=K,t._createColor({options:null===(y=n.cornersSquareOptions)||void 0===y?void 0:y.gradient,color:null===(f=n.cornersSquareOptions)||void 0===f?void 0:f.color,additionalRotation:j,x:E,y:G,height:i,width:i,name:"corners-square-color-"+F+"-"+Z})),null===(S=n.cornersSquareOptions)||void 0===S?void 0:S.type){var nt=new J({svg:t._element,type:n.cornersSquareOptions.type});nt.draw(E,G,i,j),nt._element&&K&&K.appendChild(nt._element)}else for(var pt=new q({svg:t._element,type:n.dotsOptions.type}),kt=function(ct){for(var Mt=function(vt){if(null===(b=it[ct])||void 0===b||!b[vt])return"continue";pt.draw(E+ct*v,G+vt*v,v,function(St,At){var wt;return!(null===(wt=it[ct+St])||void 0===wt||!wt[vt+At])}),pt._element&&K&&K.appendChild(pt._element)},mt=0;mt<it[ct].length;mt++)Mt(mt)},ft=0;ft<it.length;ft++)kt(ft);if((!(null===(h=n.cornersDotOptions)||void 0===h)&&h.gradient||!(null===(d=n.cornersDotOptions)||void 0===d)&&d.color)&&((V=document.createElementNS("http://www.w3.org/2000/svg","clipPath")).setAttribute("id","clip-path-corners-dot-color-"+F+"-"+Z),t._defs.appendChild(V),t._cornersDotClipPath=V,t._createColor({options:null===(A=n.cornersDotOptions)||void 0===A?void 0:A.gradient,color:null===(D=n.cornersDotOptions)||void 0===D?void 0:D.color,additionalRotation:j,x:E+2*v,y:G+2*v,height:s,width:s,name:"corners-dot-color-"+F+"-"+Z})),null===(B=n.cornersDotOptions)||void 0===B?void 0:B.type){var Ct=new yt({svg:t._element,type:n.cornersDotOptions.type});Ct.draw(E+2*v,G+2*v,s,j),Ct._element&&V&&V.appendChild(Ct._element)}else{pt=new q({svg:t._element,type:n.dotsOptions.type});var Tt=function(ct){for(var Mt=function(vt){if(null===(X=at[ct])||void 0===X||!X[vt])return"continue";pt.draw(E+ct*v,G+vt*v,v,function(St,At){var wt;return!(null===(wt=at[ct+St])||void 0===wt||!wt[vt+At])}),pt._element&&V&&V.appendChild(pt._element)},mt=0;mt<at[ct].length;mt++)Mt(mt)};for(ft=0;ft<at.length;ft++)Tt(ft)}})},m.prototype.loadImage=function(){var t=this;return new Promise(function(r,n){var a=t._options,u=new Image;if(!a.image)return n("Image is not defined");"string"==typeof a.imageOptions.crossOrigin&&(u.crossOrigin=a.imageOptions.crossOrigin),t._image=u,u.onload=function(){r()},u.src=a.image})},m.prototype.drawImage=function(t){var r=t.width,n=t.height,a=t.count,u=t.dotSize;return _t(this,void 0,void 0,function(){var l,v,i,s,o,c,p,k,P;return dt(this,function(y){switch(y.label){case 0:return l=this._options,v=Math.floor((l.width-a*u)/2),i=Math.floor((l.height-a*u)/2),s=v+l.imageOptions.margin+(a*u-r)/2,o=i+l.imageOptions.margin+(a*u-n)/2,c=r-2*l.imageOptions.margin,p=n-2*l.imageOptions.margin,(k=document.createElementNS("http://www.w3.org/2000/svg","image")).setAttribute("x",String(s)),k.setAttribute("y",String(o)),k.setAttribute("width",c+"px"),k.setAttribute("height",p+"px"),[4,tt(l.image||"")];case 1:return P=y.sent(),k.setAttribute("href",P||""),this._element.appendChild(k),[2]}})})},m.prototype._createColor=function(t){var r=t.options,n=t.color,a=t.additionalRotation,u=t.x,l=t.y,v=t.height,i=t.width,s=t.name,o=i>v?i:v,c=document.createElementNS("http://www.w3.org/2000/svg","rect");if(c.setAttribute("x",String(u)),c.setAttribute("y",String(l)),c.setAttribute("height",String(v)),c.setAttribute("width",String(i)),c.setAttribute("clip-path","url('#clip-path-"+s+"')"),r){var p;if("radial"===r.type)(p=document.createElementNS("http://www.w3.org/2000/svg","radialGradient")).setAttribute("id",s),p.setAttribute("gradientUnits","userSpaceOnUse"),p.setAttribute("fx",String(u+i/2)),p.setAttribute("fy",String(l+v/2)),p.setAttribute("cx",String(u+i/2)),p.setAttribute("cy",String(l+v/2)),p.setAttribute("r",String(o/2));else{var k=((r.rotation||0)+a)%(2*Math.PI),P=(k+2*Math.PI)%(2*Math.PI),y=u+i/2,f=l+v/2,S=u+i/2,b=l+v/2;P>=0&&P<=.25*Math.PI||P>1.75*Math.PI&&P<=2*Math.PI?(y-=i/2,f-=v/2*Math.tan(k),S+=i/2,b+=v/2*Math.tan(k)):P>.25*Math.PI&&P<=.75*Math.PI?(f-=v/2,y-=i/2/Math.tan(k),b+=v/2,S+=i/2/Math.tan(k)):P>.75*Math.PI&&P<=1.25*Math.PI?(y+=i/2,f+=v/2*Math.tan(k),S-=i/2,b-=v/2*Math.tan(k)):P>1.25*Math.PI&&P<=1.75*Math.PI&&(f+=v/2,y+=i/2/Math.tan(k),b-=v/2,S-=i/2/Math.tan(k)),(p=document.createElementNS("http://www.w3.org/2000/svg","linearGradient")).setAttribute("id",s),p.setAttribute("gradientUnits","userSpaceOnUse"),p.setAttribute("x1",String(Math.round(y))),p.setAttribute("y1",String(Math.round(f))),p.setAttribute("x2",String(Math.round(S))),p.setAttribute("y2",String(Math.round(b)))}r.colorStops.forEach(function(h){var d=h.offset,A=h.color,D=document.createElementNS("http://www.w3.org/2000/svg","stop");D.setAttribute("offset",100*d+"%"),D.setAttribute("stop-color",A),p.appendChild(D)}),c.setAttribute("fill","url('#"+s+"')"),this._defs.appendChild(p)}else n&&c.setAttribute("fill",n);this._element.appendChild(c)},m}(),gt="canvas";for(var bt={},C=0;C<=40;C++)bt[C]=C;const x={type:gt,shape:"square",width:300,height:300,data:"",margin:0,qrOptions:{typeNumber:bt[0],mode:void 0,errorCorrectionLevel:"Q"},imageOptions:{hideBackgroundDots:!0,imageSize:.4,crossOrigin:void 0,margin:0},dotsOptions:{type:"square",color:"#000"},backgroundOptions:{round:0,color:"#fff"}};var _=function(){return(_=Object.assign||function(m){for(var t,r=1,n=arguments.length;r<n;r++)for(var a in t=arguments[r])Object.prototype.hasOwnProperty.call(t,a)&&(m[a]=t[a]);return m}).apply(this,arguments)};function w(m){var t=_({},m);if(!t.colorStops||!t.colorStops.length)throw"Field 'colorStops' is required in gradient";return t.rotation=t.rotation?Number(t.rotation):0,t.colorStops=t.colorStops.map(function(r){return _(_({},r),{offset:Number(r.offset)})}),t}function g(m){var t=_({},m);return t.width=Number(t.width),t.height=Number(t.height),t.margin=Number(t.margin),t.imageOptions=_(_({},t.imageOptions),{hideBackgroundDots:!!t.imageOptions.hideBackgroundDots,imageSize:Number(t.imageOptions.imageSize),margin:Number(t.imageOptions.margin)}),t.margin>Math.min(t.width,t.height)&&(t.margin=Math.min(t.width,t.height)),t.dotsOptions=_({},t.dotsOptions),t.dotsOptions.gradient&&(t.dotsOptions.gradient=w(t.dotsOptions.gradient)),t.cornersSquareOptions&&(t.cornersSquareOptions=_({},t.cornersSquareOptions),t.cornersSquareOptions.gradient&&(t.cornersSquareOptions.gradient=w(t.cornersSquareOptions.gradient))),t.cornersDotOptions&&(t.cornersDotOptions=_({},t.cornersDotOptions),t.cornersDotOptions.gradient&&(t.cornersDotOptions.gradient=w(t.cornersDotOptions.gradient))),t.backgroundOptions&&(t.backgroundOptions=_({},t.backgroundOptions),t.backgroundOptions.gradient&&(t.backgroundOptions.gradient=w(t.backgroundOptions.gradient))),t}var M=W(192),L=W.n(M),T=function(m,t,r,n){return new(r||(r=Promise))(function(a,u){function l(s){try{i(n.next(s))}catch(o){u(o)}}function v(s){try{i(n.throw(s))}catch(o){u(o)}}function i(s){var o;s.done?a(s.value):(o=s.value,o instanceof r?o:new r(function(c){c(o)})).then(l,v)}i((n=n.apply(m,t||[])).next())})},O=function(m,t){var r,n,a,u,l={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return u={next:v(0),throw:v(1),return:v(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function v(i){return function(s){return function(o){if(r)throw new TypeError("Generator is already executing.");for(;l;)try{if(r=1,n&&(a=2&o[0]?n.return:o[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,o[1])).done)return a;switch(n=0,a&&(o=[2&o[0],a.value]),o[0]){case 0:case 1:a=o;break;case 4:return l.label++,{value:o[1],done:!1};case 5:l.label++,n=o[1],o=[0];continue;case 7:o=l.ops.pop(),l.trys.pop();continue;default:if(!((a=(a=l.trys).length>0&&a[a.length-1])||6!==o[0]&&2!==o[0])){l=0;continue}if(3===o[0]&&(!a||o[1]>a[0]&&o[1]<a[3])){l.label=o[1];break}if(6===o[0]&&l.label<a[1]){l.label=a[1],a=o;break}if(a&&l.label<a[2]){l.label=a[2],l.ops.push(o);break}a[2]&&l.ops.pop(),l.trys.pop();continue}o=t.call(m,l)}catch(c){o=[6,c],n=0}finally{r=a=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([i,s])}}};const Y=function(){function m(t){this._options=t?g(rt(x,t)):x,this.update()}return m._clearContainer=function(t){t&&(t.innerHTML="")},m.prototype._setupSvg=function(){var t=this;if(this._qr){var r=new ut(this._options);this._svg=r.getElement(),this._svgDrawingPromise=r.drawQR(this._qr).then(function(){var n;t._svg&&(null===(n=t._extension)||void 0===n||n.call(t,r.getElement(),t._options))})}},m.prototype._setupCanvas=function(){var t,r=this;this._qr&&(this._canvas=document.createElement("canvas"),this._canvas.width=this._options.width,this._canvas.height=this._options.height,this._setupSvg(),this._canvasDrawingPromise=null===(t=this._svgDrawingPromise)||void 0===t?void 0:t.then(function(){if(r._svg){var n=r._svg,a=(new XMLSerializer).serializeToString(n),u="data:image/svg+xml;base64,"+btoa(a),l=new Image;return new Promise(function(v){l.onload=function(){var i,s;null===(s=null===(i=r._canvas)||void 0===i?void 0:i.getContext("2d"))||void 0===s||s.drawImage(l,0,0),v()},l.src=u})}}))},m.prototype._getElement=function(t){return void 0===t&&(t="png"),T(this,void 0,void 0,function(){return O(this,function(r){switch(r.label){case 0:if(!this._qr)throw"QR code is empty";return"svg"!==t.toLowerCase()?[3,2]:(this._svg&&this._svgDrawingPromise||this._setupSvg(),[4,this._svgDrawingPromise]);case 1:return r.sent(),[2,this._svg];case 2:return this._canvas&&this._canvasDrawingPromise||this._setupCanvas(),[4,this._canvasDrawingPromise];case 3:return r.sent(),[2,this._canvas]}})})},m.prototype.update=function(t){m._clearContainer(this._container),this._options=t?g(rt(this._options,t)):this._options,this._options.data&&(this._qr=L()(this._options.qrOptions.typeNumber,this._options.qrOptions.errorCorrectionLevel),this._qr.addData(this._options.data,this._options.qrOptions.mode||function(r){switch(!0){case/^[0-9]*$/.test(r):return"Numeric";case/^[0-9A-Z $%*+\-./:]*$/.test(r):return"Alphanumeric";default:return"Byte"}}(this._options.data)),this._qr.make(),this._options.type===gt?this._setupCanvas():this._setupSvg(),this.append(this._container))},m.prototype.append=function(t){if(t){if("function"!=typeof t.appendChild)throw"Container should be a single DOM node";this._options.type===gt?this._canvas&&t.appendChild(this._canvas):this._svg&&t.appendChild(this._svg),this._container=t}},m.prototype.applyExtension=function(t){if(!t)throw"Extension function should be defined.";this._extension=t,this.update()},m.prototype.deleteExtension=function(){this._extension=void 0,this.update()},m.prototype.getRawData=function(t){return void 0===t&&(t="png"),T(this,void 0,void 0,function(){var r,n,a;return O(this,function(u){switch(u.label){case 0:if(!this._qr)throw"QR code is empty";return[4,this._getElement(t)];case 1:return(r=u.sent())?"svg"===t.toLowerCase()?(n=new XMLSerializer,a=n.serializeToString(r),[2,new Blob(['<?xml version="1.0" standalone="no"?>\r\n'+a],{type:"image/svg+xml"})]):[2,new Promise(function(l){return r.toBlob(l,"image/"+t,1)})]:[2,null]}})})},m.prototype.download=function(t){return T(this,void 0,void 0,function(){var r,n,a,u,l;return O(this,function(v){switch(v.label){case 0:if(!this._qr)throw"QR code is empty";return r="png",n="qr","string"==typeof t?(r=t,console.warn("Extension is deprecated as argument for 'download' method, please pass object { name: '...', extension: '...' } as argument")):"object"==typeof t&&null!==t&&(t.name&&(n=t.name),t.extension&&(r=t.extension)),[4,this._getElement(r)];case 1:return(a=v.sent())?("svg"===r.toLowerCase()?(u=new XMLSerializer,l='<?xml version="1.0" standalone="no"?>\r\n'+(l=u.serializeToString(a)),et("data:image/svg+xml;charset=utf-8,"+encodeURIComponent(l),n+".svg")):et(a.toDataURL("image/"+r),n+"."+r),[2]):[2]}})})},m}()}},R={};function ot(Q){if(R[Q])return R[Q].exports;var N=R[Q]={exports:{}};return ht[Q](N,N.exports,ot),N.exports}return ot.n=Q=>{var N=Q&&Q.__esModule?()=>Q.default:()=>Q;return ot.d(N,{a:N}),N},ot.d=(Q,N)=>{for(var W in N)ot.o(N,W)&&!ot.o(Q,W)&&Object.defineProperty(Q,W,{enumerable:!0,get:N[W]})},ot.o=(Q,N)=>Object.prototype.hasOwnProperty.call(Q,N),ot(676)})().default},4004:(xt,ht,R)=>{"use strict";R.d(ht,{Z:()=>I});const Q={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let N;const W=new Uint8Array(16);function st(){if(!N&&(N=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!N))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return N(W)}const e=[];for(let z=0;z<256;++z)e.push((z+256).toString(16).slice(1));const I=function tt(z,q,U){if(Q.randomUUID&&!q&&!z)return Q.randomUUID();const J=(z=z||{}).random||(z.rng||st)();if(J[6]=15&J[6]|64,J[8]=63&J[8]|128,q){U=U||0;for(let H=0;H<16;++H)q[U+H]=J[H];return q}return function $(z,q=0){return e[z[q+0]]+e[z[q+1]]+e[z[q+2]]+e[z[q+3]]+"-"+e[z[q+4]]+e[z[q+5]]+"-"+e[z[q+6]]+e[z[q+7]]+"-"+e[z[q+8]]+e[z[q+9]]+"-"+e[z[q+10]]+e[z[q+11]]+e[z[q+12]]+e[z[q+13]]+e[z[q+14]]+e[z[q+15]]}(J)}}}]);